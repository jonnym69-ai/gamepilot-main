var nj=Object.defineProperty;var sj=(e,t,n)=>t in e?nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var We=(e,t,n)=>(sj(e,typeof t!="symbol"?t+"":t,n),n),rc=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var _=(e,t,n)=>(rc(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},J=(e,t,n,s)=>(rc(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var La=(e,t,n,s)=>({set _(i){J(e,t,i,n)},get _(){return _(e,t,s)}}),st=(e,t,n)=>(rc(e,t,"access private method"),n);function rj(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D0={exports:{}},yl={},F0={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),ij=Symbol.for("react.portal"),aj=Symbol.for("react.fragment"),oj=Symbol.for("react.strict_mode"),lj=Symbol.for("react.profiler"),cj=Symbol.for("react.provider"),dj=Symbol.for("react.context"),uj=Symbol.for("react.forward_ref"),mj=Symbol.for("react.suspense"),hj=Symbol.for("react.memo"),pj=Symbol.for("react.lazy"),Kh=Symbol.iterator;function fj(e){return e===null||typeof e!="object"?null:(e=Kh&&e[Kh]||e["@@iterator"],typeof e=="function"?e:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,$0={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=$0,this.updater=n||G0}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=Xr.prototype;function Uu(e,t,n){this.props=e,this.context=t,this.refs=$0,this.updater=n||G0}var Vu=Uu.prototype=new B0;Vu.constructor=Uu;z0(Vu,Xr.prototype);Vu.isPureReactComponent=!0;var qh=Array.isArray,U0=Object.prototype.hasOwnProperty,Hu={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function H0(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)U0.call(t,s)&&!V0.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:ga,type:e,key:a,ref:o,props:i,_owner:Hu.current}}function gj(e,t){return{$$typeof:ga,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ga}function yj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qh=/\/+/g;function ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yj(""+e.key):t.toString(36)}function lo(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ga:case ij:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+ic(o,0):s,qh(i)?(n="",e!=null&&(n=e.replace(Qh,"$&/")+"/"),lo(i,t,n,"",function(d){return d})):i!=null&&(Wu(i)&&(i=gj(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",qh(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+ic(a,l);o+=lo(a,t,n,c,i)}else if(c=fj(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+ic(a,l++),o+=lo(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oa(e,t,n){if(e==null)return e;var s=[],i=0;return lo(e,s,"","",function(a){return t.call(n,a,i++)}),s}function xj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},co={transition:null},vj={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:co,ReactCurrentOwner:Hu};function W0(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Oa,forEach:function(e,t,n){Oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Xr;Z.Fragment=aj;Z.Profiler=lj;Z.PureComponent=Uu;Z.StrictMode=oj;Z.Suspense=mj;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vj;Z.act=W0;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=z0({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)U0.call(t,c)&&!V0.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:ga,type:e.type,key:i,ref:a,props:s,_owner:o}};Z.createContext=function(e){return e={$$typeof:dj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cj,_context:e},e.Consumer=e};Z.createElement=H0;Z.createFactory=function(e){var t=H0.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:uj,render:e}};Z.isValidElement=Wu;Z.lazy=function(e){return{$$typeof:pj,_payload:{_status:-1,_result:e},_init:xj}};Z.memo=function(e,t){return{$$typeof:hj,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=co.transition;co.transition={};try{e()}finally{co.transition=t}};Z.unstable_act=W0;Z.useCallback=function(e,t){return yt.current.useCallback(e,t)};Z.useContext=function(e){return yt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return yt.current.useEffect(e,t)};Z.useId=function(){return yt.current.useId()};Z.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return yt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};Z.useRef=function(e){return yt.current.useRef(e)};Z.useState=function(e){return yt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return yt.current.useTransition()};Z.version="18.3.1";F0.exports=Z;var b=F0.exports;const ae=O0(b),bj=rj({__proto__:null,default:ae},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wj=b,jj=Symbol.for("react.element"),Nj=Symbol.for("react.fragment"),Sj=Object.prototype.hasOwnProperty,kj=wj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cj={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Sj.call(t,s)&&!Cj.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:jj,type:e,key:a,ref:o,props:i,_owner:kj.current}}yl.Fragment=Nj;yl.jsx=Y0;yl.jsxs=Y0;D0.exports=yl;var r=D0.exports,ad={},K0={exports:{}},At={},q0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var L=A.length;A.push(F);e:for(;0<L;){var G=L-1>>>1,I=A[G];if(0<i(I,F))A[G]=F,A[L]=I,L=G;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var F=A[0],L=A.pop();if(L!==F){A[0]=L;e:for(var G=0,I=A.length,V=I>>>1;G<V;){var se=2*(G+1)-1,oe=A[se],me=se+1,pe=A[me];if(0>i(oe,L))me<I&&0>i(pe,oe)?(A[G]=pe,A[me]=L,G=me):(A[G]=oe,A[se]=L,G=se);else if(me<I&&0>i(pe,L))A[G]=pe,A[me]=L,G=me;else break e}}return F}function i(A,F){var L=A.sortIndex-F.sortIndex;return L!==0?L:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var F=n(d);F!==null;){if(F.callback===null)s(d);else if(F.startTime<=A)s(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function j(A){if(g=!1,w(A),!p)if(n(c)!==null)p=!0,N(S);else{var F=n(d);F!==null&&Y(j,F.startTime-A)}}function S(A,F){p=!1,g&&(g=!1,x(k),k=-1),f=!0;var L=h;try{for(w(F),m=n(c);m!==null&&(!(m.expirationTime>F)||A&&!R());){var G=m.callback;if(typeof G=="function"){m.callback=null,h=m.priorityLevel;var I=G(m.expirationTime<=F);F=e.unstable_now(),typeof I=="function"?m.callback=I:m===n(c)&&s(c),w(F)}else s(c);m=n(c)}if(m!==null)var V=!0;else{var se=n(d);se!==null&&Y(j,se.startTime-F),V=!1}return V}finally{m=null,h=L,f=!1}}var T=!1,C=null,k=-1,E=5,P=-1;function R(){return!(e.unstable_now()-P<E)}function $(){if(C!==null){var A=e.unstable_now();P=A;var F=!0;try{F=C(!0,A)}finally{F?U():(T=!1,C=null)}}else T=!1}var U;if(typeof v=="function")U=function(){v($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=$,U=function(){ee.postMessage(null)}}else U=function(){y($,0)};function N(A){C=A,T||(T=!0,U())}function Y(A,F){k=y(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,N(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var L=h;h=F;try{return A()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=h;h=A;try{return F()}finally{h=L}},e.unstable_scheduleCallback=function(A,F,L){var G=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,A){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=L+I,A={id:u++,callback:F,priorityLevel:A,startTime:L,expirationTime:I,sortIndex:-1},L>G?(A.sortIndex=L,t(d,A),n(c)===null&&A===n(d)&&(g?(x(k),k=-1):g=!0,Y(j,L-G))):(A.sortIndex=I,t(c,A),p||f||(p=!0,N(S))),A},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(A){var F=h;return function(){var L=h;h=F;try{return A.apply(this,arguments)}finally{h=L}}}})(Q0);q0.exports=Q0;var Ej=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=b,Mt=Ej;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Gi={};function tr(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Gi[e]=t,e=0;e<t.length;e++)X0.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,Tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xh={},Jh={};function Mj(e){return od.call(Jh,e)?!0:od.call(Xh,e)?!1:Tj.test(e)?Jh[e]=!0:(Xh[e]=!0,!1)}function Aj(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _j(e,t,n,s){if(t===null||typeof t>"u"||Aj(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yu,Ku);tt[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yu,Ku);tt[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yu,Ku);tt[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,n,s){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_j(t,n,i,s)&&(n=null),s||i===null?Mj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Dn=Pj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),lr=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),Xu=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),ey=Symbol.for("react.offscreen"),Zh=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=Zh&&e[Zh]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,ac;function vi(e){if(ac===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ac=t&&t[1]||""}return`
`+ac+e}var oc=!1;function lc(e,t){if(!e||oc)return"";oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{oc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vi(e):""}function Ij(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=lc(e.type,!1),e;case 11:return e=lc(e.type.render,!1),e;case 1:return e=lc(e.type,!0),e;default:return""}}function ud(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case lr:return"Portal";case ld:return"Profiler";case Qu:return"StrictMode";case cd:return"Suspense";case dd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z0:return(e.displayName||"Context")+".Consumer";case J0:return(e._context.displayName||"Context")+".Provider";case Xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:ud(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return ud(e(t))}catch{}}return null}function Rj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ud(t);case 8:return t===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ty(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lj(e){var t=ty(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fa(e){e._valueTracker||(e._valueTracker=Lj(e))}function ny(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ty(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function md(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ep(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sy(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function hd(e,t){sy(e,t);var n=fs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pd(e,t.type,n):t.hasOwnProperty("defaultValue")&&pd(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pd(e,t,n){(t!=="number"||Ro(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bi=Array.isArray;function kr(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function np(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(bi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function ry(e,t){var n=fs(t.value),s=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function sp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ga,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ga=Ga||document.createElement("div"),Ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oj=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){Oj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function oy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function ly(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=oy(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var Dj=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(e,t){if(t){if(Dj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function xd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bd=null,Cr=null,Er=null;function rp(e){if(e=va(e)){if(typeof bd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=jl(t),bd(e.stateNode,e.type,t))}}function cy(e){Cr?Er?Er.push(e):Er=[e]:Cr=e}function dy(){if(Cr){var e=Cr,t=Er;if(Er=Cr=null,rp(e),t)for(e=0;e<t.length;e++)rp(t[e])}}function uy(e,t){return e(t)}function my(){}var cc=!1;function hy(e,t,n){if(cc)return e(t,n);cc=!0;try{return uy(e,t,n)}finally{cc=!1,(Cr!==null||Er!==null)&&(my(),dy())}}function $i(e,t){var n=e.stateNode;if(n===null)return null;var s=jl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var wd=!1;if(An)try{var li={};Object.defineProperty(li,"passive",{get:function(){wd=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{wd=!1}function Fj(e,t,n,s,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Ci=!1,Lo=null,Oo=!1,jd=null,Gj={onError:function(e){Ci=!0,Lo=e}};function zj(e,t,n,s,i,a,o,l,c){Ci=!1,Lo=null,Fj.apply(Gj,arguments)}function $j(e,t,n,s,i,a,o,l,c){if(zj.apply(this,arguments),Ci){if(Ci){var d=Lo;Ci=!1,Lo=null}else throw Error(D(198));Oo||(Oo=!0,jd=d)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ip(e){if(nr(e)!==e)throw Error(D(188))}function Bj(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ip(i),e;if(a===s)return ip(i),t;a=a.sibling}throw Error(D(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function fy(e){return e=Bj(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gy(e);if(t!==null)return t;e=e.sibling}return null}var yy=Mt.unstable_scheduleCallback,ap=Mt.unstable_cancelCallback,Uj=Mt.unstable_shouldYield,Vj=Mt.unstable_requestPaint,Le=Mt.unstable_now,Hj=Mt.unstable_getCurrentPriorityLevel,em=Mt.unstable_ImmediatePriority,xy=Mt.unstable_UserBlockingPriority,Do=Mt.unstable_NormalPriority,Wj=Mt.unstable_LowPriority,vy=Mt.unstable_IdlePriority,xl=null,gn=null;function Yj(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Qj,Kj=Math.log,qj=Math.LN2;function Qj(e){return e>>>=0,e===0?32:31-(Kj(e)/qj|0)|0}var za=64,$a=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=wi(l):(a&=o,a!==0&&(s=wi(a)))}else o=n&~i,o!==0?s=wi(o):a!==0&&(s=wi(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-nn(t),i=1<<n,s|=e[n],t&=~i;return s}function Xj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jj(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-nn(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=Xj(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Nd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=za;return za<<=1,!(za&4194240)&&(za=64),e}function dc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ya(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function Zj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-nn(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function tm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-nn(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var ue=0;function wy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jy,nm,Ny,Sy,ky,Sd=!1,Ba=[],as=null,os=null,ls=null,Bi=new Map,Ui=new Map,Kn=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function op(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(t.pointerId)}}function ci(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=va(t),t!==null&&nm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function t1(e,t,n,s,i){switch(t){case"focusin":return as=ci(as,e,t,n,s,i),!0;case"dragenter":return os=ci(os,e,t,n,s,i),!0;case"mouseover":return ls=ci(ls,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Bi.set(a,ci(Bi.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Ui.set(a,ci(Ui.get(a)||null,e,t,n,s,i)),!0}return!1}function Cy(e){var t=Ms(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=py(n),t!==null){e.blockedOn=t,ky(e.priority,function(){Ny(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);vd=s,n.target.dispatchEvent(s),vd=null}else return t=va(n),t!==null&&nm(t),e.blockedOn=n,!1;t.shift()}return!0}function lp(e,t,n){uo(e)&&n.delete(t)}function n1(){Sd=!1,as!==null&&uo(as)&&(as=null),os!==null&&uo(os)&&(os=null),ls!==null&&uo(ls)&&(ls=null),Bi.forEach(lp),Ui.forEach(lp)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Sd||(Sd=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,n1)))}function Vi(e){function t(i){return di(i,e)}if(0<Ba.length){di(Ba[0],e);for(var n=1;n<Ba.length;n++){var s=Ba[n];s.blockedOn===e&&(s.blockedOn=null)}}for(as!==null&&di(as,e),os!==null&&di(os,e),ls!==null&&di(ls,e),Bi.forEach(t),Ui.forEach(t),n=0;n<Kn.length;n++)s=Kn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&Kn.shift()}var Pr=Dn.ReactCurrentBatchConfig,Go=!0;function s1(e,t,n,s){var i=ue,a=Pr.transition;Pr.transition=null;try{ue=1,sm(e,t,n,s)}finally{ue=i,Pr.transition=a}}function r1(e,t,n,s){var i=ue,a=Pr.transition;Pr.transition=null;try{ue=4,sm(e,t,n,s)}finally{ue=i,Pr.transition=a}}function sm(e,t,n,s){if(Go){var i=kd(e,t,n,s);if(i===null)bc(e,t,s,zo,n),op(e,s);else if(t1(i,e,t,n,s))s.stopPropagation();else if(op(e,s),t&4&&-1<e1.indexOf(e)){for(;i!==null;){var a=va(i);if(a!==null&&jy(a),a=kd(e,t,n,s),a===null&&bc(e,t,s,zo,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else bc(e,t,s,null,n)}}var zo=null;function kd(e,t,n,s){if(zo=null,e=Zu(s),e=Ms(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=py(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function Ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hj()){case em:return 1;case xy:return 4;case Do:case Wj:return 16;case vy:return 536870912;default:return 16}default:return 16}}var ns=null,rm=null,mo=null;function Py(){if(mo)return mo;var e,t=rm,n=t.length,s,i="value"in ns?ns.value:ns.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return mo=i.slice(e,1<s?1-s:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function cp(){return!1}function _t(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ua:cp,this.isPropagationStopped=cp,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=_t(Jr),xa=Me({},Jr,{view:0,detail:0}),i1=_t(xa),uc,mc,ui,vl=Me({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(uc=e.screenX-ui.screenX,mc=e.screenY-ui.screenY):mc=uc=0,ui=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),dp=_t(vl),a1=Me({},vl,{dataTransfer:0}),o1=_t(a1),l1=Me({},xa,{relatedTarget:0}),hc=_t(l1),c1=Me({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=_t(c1),u1=Me({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=_t(u1),h1=Me({},Jr,{data:0}),up=_t(h1),p1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function am(){return y1}var x1=Me({},xa,{key:function(e){if(e.key){var t=p1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v1=_t(x1),b1=Me({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=_t(b1),w1=Me({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),j1=_t(w1),N1=Me({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S1=_t(N1),k1=Me({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C1=_t(k1),E1=[9,13,27,32],om=An&&"CompositionEvent"in window,Ei=null;An&&"documentMode"in document&&(Ei=document.documentMode);var P1=An&&"TextEvent"in window&&!Ei,Ty=An&&(!om||Ei&&8<Ei&&11>=Ei),hp=String.fromCharCode(32),pp=!1;function My(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function T1(e,t){switch(e){case"compositionend":return Ay(t);case"keypress":return t.which!==32?null:(pp=!0,hp);case"textInput":return e=t.data,e===hp&&pp?null:e;default:return null}}function M1(e,t){if(dr)return e==="compositionend"||!om&&My(e,t)?(e=Py(),mo=rm=ns=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ty&&t.locale!=="ko"?null:t.data;default:return null}}var A1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A1[e.type]:t==="textarea"}function _y(e,t,n,s){cy(s),t=$o(t,"onChange"),0<t.length&&(n=new im("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Pi=null,Hi=null;function _1(e){Uy(e,0)}function bl(e){var t=hr(e);if(ny(t))return e}function I1(e,t){if(e==="change")return t}var Iy=!1;if(An){var pc;if(An){var fc="oninput"in document;if(!fc){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),fc=typeof gp.oninput=="function"}pc=fc}else pc=!1;Iy=pc&&(!document.documentMode||9<document.documentMode)}function yp(){Pi&&(Pi.detachEvent("onpropertychange",Ry),Hi=Pi=null)}function Ry(e){if(e.propertyName==="value"&&bl(Hi)){var t=[];_y(t,Hi,e,Zu(e)),hy(_1,t)}}function R1(e,t,n){e==="focusin"?(yp(),Pi=t,Hi=n,Pi.attachEvent("onpropertychange",Ry)):e==="focusout"&&yp()}function L1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Hi)}function O1(e,t){if(e==="click")return bl(t)}function D1(e,t){if(e==="input"||e==="change")return bl(t)}function F1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:F1;function Wi(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!od.call(t,i)||!an(e[i],t[i]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var n=xp(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function Ly(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ly(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oy(){for(var e=window,t=Ro();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ro(e.document)}return t}function lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function G1(e){var t=Oy(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ly(n.ownerDocument.documentElement,n)){if(s!==null&&lm(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=vp(n,a);var o=vp(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z1=An&&"documentMode"in document&&11>=document.documentMode,ur=null,Cd=null,Ti=null,Ed=!1;function bp(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||ur==null||ur!==Ro(s)||(s=ur,"selectionStart"in s&&lm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ti&&Wi(Ti,s)||(Ti=s,s=$o(Cd,"onSelect"),0<s.length&&(t=new im("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ur)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},gc={},Dy={};An&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function wl(e){if(gc[e])return gc[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dy)return gc[e]=t[n];return e}var Fy=wl("animationend"),Gy=wl("animationiteration"),zy=wl("animationstart"),$y=wl("transitionend"),By=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){By.set(e,t),tr(t,[e])}for(var yc=0;yc<wp.length;yc++){var xc=wp[yc],$1=xc.toLowerCase(),B1=xc[0].toUpperCase()+xc.slice(1);vs($1,"on"+B1)}vs(Fy,"onAnimationEnd");vs(Gy,"onAnimationIteration");vs(zy,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs($y,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function jp(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,$j(s,t,void 0,e),e.currentTarget=null}function Uy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;jp(i,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;jp(i,l,d),a=c}}}if(Oo)throw e=jd,Oo=!1,jd=null,e}function xe(e,t){var n=t[_d];n===void 0&&(n=t[_d]=new Set);var s=e+"__bubble";n.has(s)||(Vy(t,e,2,!1),n.add(s))}function vc(e,t,n){var s=0;t&&(s|=4),Vy(n,e,s,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Yi(e){if(!e[Ha]){e[Ha]=!0,X0.forEach(function(n){n!=="selectionchange"&&(U1.has(n)||vc(n,!1,e),vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ha]||(t[Ha]=!0,vc("selectionchange",!1,t))}}function Vy(e,t,n,s){switch(Ey(t)){case 1:var i=s1;break;case 4:i=r1;break;default:i=sm}n=i.bind(null,t,n,e),i=void 0,!wd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bc(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ms(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}hy(function(){var d=a,u=Zu(n),m=[];e:{var h=By.get(e);if(h!==void 0){var f=im,p=e;switch(e){case"keypress":if(ho(n)===0)break e;case"keydown":case"keyup":f=v1;break;case"focusin":p="focus",f=hc;break;case"focusout":p="blur",f=hc;break;case"beforeblur":case"afterblur":f=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=j1;break;case Fy:case Gy:case zy:f=d1;break;case $y:f=S1;break;case"scroll":f=i1;break;case"wheel":f=C1;break;case"copy":case"cut":case"paste":f=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mp}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=$i(v,x),j!=null&&g.push(Ki(v,j,w)))),y)break;v=v.return}0<g.length&&(h=new f(h,p,null,n,u),m.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==vd&&(p=n.relatedTarget||n.fromElement)&&(Ms(p)||p[_n]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=d,p=p?Ms(p):null,p!==null&&(y=nr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(g=dp,j="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=mp,j="onPointerLeave",x="onPointerEnter",v="pointer"),y=f==null?h:hr(f),w=p==null?h:hr(p),h=new g(j,v+"leave",f,n,u),h.target=y,h.relatedTarget=w,j=null,Ms(u)===d&&(g=new g(x,v+"enter",p,n,u),g.target=w,g.relatedTarget=y,j=g),y=j,f&&p)t:{for(g=f,x=p,v=0,w=g;w;w=ir(w))v++;for(w=0,j=x;j;j=ir(j))w++;for(;0<v-w;)g=ir(g),v--;for(;0<w-v;)x=ir(x),w--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=ir(g),x=ir(x)}g=null}else g=null;f!==null&&Np(m,h,f,g,!1),p!==null&&y!==null&&Np(m,y,p,g,!0)}}e:{if(h=d?hr(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=I1;else if(fp(h))if(Iy)S=D1;else{S=L1;var T=R1}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=O1);if(S&&(S=S(e,d))){_y(m,S,n,u);break e}T&&T(e,h,d),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&pd(h,"number",h.value)}switch(T=d?hr(d):window,e){case"focusin":(fp(T)||T.contentEditable==="true")&&(ur=T,Cd=d,Ti=null);break;case"focusout":Ti=Cd=ur=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,bp(m,n,u);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":bp(m,n,u)}var C;if(om)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else dr?My(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ty&&n.locale!=="ko"&&(dr||k!=="onCompositionStart"?k==="onCompositionEnd"&&dr&&(C=Py()):(ns=u,rm="value"in ns?ns.value:ns.textContent,dr=!0)),T=$o(d,k),0<T.length&&(k=new up(k,e,null,n,u),m.push({event:k,listeners:T}),C?k.data=C:(C=Ay(n),C!==null&&(k.data=C)))),(C=P1?T1(e,n):M1(e,n))&&(d=$o(d,"onBeforeInput"),0<d.length&&(u=new up("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=C))}Uy(m,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $o(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$i(e,n),a!=null&&s.unshift(Ki(e,a,i)),a=$i(e,t),a!=null&&s.push(Ki(e,a,i))),e=e.return}return s}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Np(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=$i(n,a),c!=null&&o.unshift(Ki(n,c,l))):i||(c=$i(n,a),c!=null&&o.push(Ki(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var V1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(H1,"")}function Wa(e,t,n){if(t=Sp(t),Sp(e)!==t&&n)throw Error(D(425))}function Bo(){}var Pd=null,Td=null;function Md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ad=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(K1)}:Ad;function K1(e){setTimeout(function(){throw e})}function wc(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Vi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Vi(t)}function cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),fn="__reactFiber$"+Zr,qi="__reactProps$"+Zr,_n="__reactContainer$"+Zr,_d="__reactEvents$"+Zr,q1="__reactListeners$"+Zr,Q1="__reactHandles$"+Zr;function Ms(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_n]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cp(e);e!==null;){if(n=e[fn])return n;e=Cp(e)}return t}e=n,n=e.parentNode}return null}function va(e){return e=e[fn]||e[_n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function jl(e){return e[qi]||null}var Id=[],pr=-1;function bs(e){return{current:e}}function ve(e){0>pr||(e.current=Id[pr],Id[pr]=null,pr--)}function ge(e,t){pr++,Id[pr]=e.current,e.current=t}var gs={},dt=bs(gs),Nt=bs(!1),Ws=gs;function Br(e,t){var n=e.type.contextTypes;if(!n)return gs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function St(e){return e=e.childContextTypes,e!=null}function Uo(){ve(Nt),ve(dt)}function Ep(e,t,n){if(dt.current!==gs)throw Error(D(168));ge(dt,t),ge(Nt,n)}function Hy(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(D(108,Rj(e)||"Unknown",i));return Me({},n,s)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Ws=dt.current,ge(dt,e),ge(Nt,Nt.current),!0}function Pp(e,t,n){var s=e.stateNode;if(!s)throw Error(D(169));n?(e=Hy(e,t,Ws),s.__reactInternalMemoizedMergedChildContext=e,ve(Nt),ve(dt),ge(dt,e)):ve(Nt),ge(Nt,n)}var Sn=null,Nl=!1,jc=!1;function Wy(e){Sn===null?Sn=[e]:Sn.push(e)}function X1(e){Nl=!0,Wy(e)}function ws(){if(!jc&&Sn!==null){jc=!0;var e=0,t=ue;try{var n=Sn;for(ue=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Sn=null,Nl=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),yy(em,ws),i}finally{ue=t,jc=!1}}return null}var fr=[],gr=0,Ho=null,Wo=0,Ot=[],Dt=0,Ys=null,En=1,Pn="";function Es(e,t){fr[gr++]=Wo,fr[gr++]=Ho,Ho=e,Wo=t}function Yy(e,t,n){Ot[Dt++]=En,Ot[Dt++]=Pn,Ot[Dt++]=Ys,Ys=e;var s=En;e=Pn;var i=32-nn(s)-1;s&=~(1<<i),n+=1;var a=32-nn(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,En=1<<32-nn(t)+i|n<<i|s,Pn=a+e}else En=1<<a|n<<i|s,Pn=e}function cm(e){e.return!==null&&(Es(e,1),Yy(e,1,0))}function dm(e){for(;e===Ho;)Ho=fr[--gr],fr[gr]=null,Wo=fr[--gr],fr[gr]=null;for(;e===Ys;)Ys=Ot[--Dt],Ot[Dt]=null,Pn=Ot[--Dt],Ot[Dt]=null,En=Ot[--Dt],Ot[Dt]=null}var Tt=null,Pt=null,Ne=!1,tn=null;function Ky(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ys!==null?{id:En,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Pt=null,!0):!1;default:return!1}}function Rd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ld(e){if(Ne){var t=Pt;if(t){var n=t;if(!Tp(e,t)){if(Rd(e))throw Error(D(418));t=cs(n.nextSibling);var s=Tt;t&&Tp(e,t)?Ky(s,n):(e.flags=e.flags&-4097|2,Ne=!1,Tt=e)}}else{if(Rd(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ne=!1,Tt=e}}}function Mp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Ya(e){if(e!==Tt)return!1;if(!Ne)return Mp(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Md(e.type,e.memoizedProps)),t&&(t=Pt)){if(Rd(e))throw qy(),Error(D(418));for(;t;)Ky(e,t),t=cs(t.nextSibling)}if(Mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Tt?cs(e.stateNode.nextSibling):null;return!0}function qy(){for(var e=Pt;e;)e=cs(e.nextSibling)}function Ur(){Pt=Tt=null,Ne=!1}function um(e){tn===null?tn=[e]:tn.push(e)}var J1=Dn.ReactCurrentBatchConfig;function mi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ap(e){var t=e._init;return t(e._payload)}function Qy(e){function t(x,v){if(e){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=hs(x,v),x.index=0,x.sibling=null,x}function a(x,v,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,w,j){return v===null||v.tag!==6?(v=Tc(w,x.mode,j),v.return=x,v):(v=i(v,w),v.return=x,v)}function c(x,v,w,j){var S=w.type;return S===cr?u(x,v,w.props.children,j,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wn&&Ap(S)===v.type)?(j=i(v,w.props),j.ref=mi(x,v,w),j.return=x,j):(j=bo(w.type,w.key,w.props,null,x.mode,j),j.ref=mi(x,v,w),j.return=x,j)}function d(x,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Mc(w,x.mode,j),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function u(x,v,w,j,S){return v===null||v.tag!==7?(v=Us(w,x.mode,j,S),v.return=x,v):(v=i(v,w),v.return=x,v)}function m(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Tc(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Da:return w=bo(v.type,v.key,v.props,null,x.mode,w),w.ref=mi(x,null,v),w.return=x,w;case lr:return v=Mc(v,x.mode,w),v.return=x,v;case Wn:var j=v._init;return m(x,j(v._payload),w)}if(bi(v)||oi(v))return v=Us(v,x.mode,w,null),v.return=x,v;Ka(x,v)}return null}function h(x,v,w,j){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:return w.key===S?c(x,v,w,j):null;case lr:return w.key===S?d(x,v,w,j):null;case Wn:return S=w._init,h(x,v,S(w._payload),j)}if(bi(w)||oi(w))return S!==null?null:u(x,v,w,j,null);Ka(x,w)}return null}function f(x,v,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(v,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Da:return x=x.get(j.key===null?w:j.key)||null,c(v,x,j,S);case lr:return x=x.get(j.key===null?w:j.key)||null,d(v,x,j,S);case Wn:var T=j._init;return f(x,v,w,T(j._payload),S)}if(bi(j)||oi(j))return x=x.get(w)||null,u(v,x,j,S,null);Ka(v,j)}return null}function p(x,v,w,j){for(var S=null,T=null,C=v,k=v=0,E=null;C!==null&&k<w.length;k++){C.index>k?(E=C,C=null):E=C.sibling;var P=h(x,C,w[k],j);if(P===null){C===null&&(C=E);break}e&&C&&P.alternate===null&&t(x,C),v=a(P,v,k),T===null?S=P:T.sibling=P,T=P,C=E}if(k===w.length)return n(x,C),Ne&&Es(x,k),S;if(C===null){for(;k<w.length;k++)C=m(x,w[k],j),C!==null&&(v=a(C,v,k),T===null?S=C:T.sibling=C,T=C);return Ne&&Es(x,k),S}for(C=s(x,C);k<w.length;k++)E=f(C,x,k,w[k],j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?k:E.key),v=a(E,v,k),T===null?S=E:T.sibling=E,T=E);return e&&C.forEach(function(R){return t(x,R)}),Ne&&Es(x,k),S}function g(x,v,w,j){var S=oi(w);if(typeof S!="function")throw Error(D(150));if(w=S.call(w),w==null)throw Error(D(151));for(var T=S=null,C=v,k=v=0,E=null,P=w.next();C!==null&&!P.done;k++,P=w.next()){C.index>k?(E=C,C=null):E=C.sibling;var R=h(x,C,P.value,j);if(R===null){C===null&&(C=E);break}e&&C&&R.alternate===null&&t(x,C),v=a(R,v,k),T===null?S=R:T.sibling=R,T=R,C=E}if(P.done)return n(x,C),Ne&&Es(x,k),S;if(C===null){for(;!P.done;k++,P=w.next())P=m(x,P.value,j),P!==null&&(v=a(P,v,k),T===null?S=P:T.sibling=P,T=P);return Ne&&Es(x,k),S}for(C=s(x,C);!P.done;k++,P=w.next())P=f(C,x,k,P.value,j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),v=a(P,v,k),T===null?S=P:T.sibling=P,T=P);return e&&C.forEach(function($){return t(x,$)}),Ne&&Es(x,k),S}function y(x,v,w,j){if(typeof w=="object"&&w!==null&&w.type===cr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:e:{for(var S=w.key,T=v;T!==null;){if(T.key===S){if(S=w.type,S===cr){if(T.tag===7){n(x,T.sibling),v=i(T,w.props.children),v.return=x,x=v;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wn&&Ap(S)===T.type){n(x,T.sibling),v=i(T,w.props),v.ref=mi(x,T,w),v.return=x,x=v;break e}n(x,T);break}else t(x,T);T=T.sibling}w.type===cr?(v=Us(w.props.children,x.mode,j,w.key),v.return=x,x=v):(j=bo(w.type,w.key,w.props,null,x.mode,j),j.ref=mi(x,v,w),j.return=x,x=j)}return o(x);case lr:e:{for(T=w.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=i(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Mc(w,x.mode,j),v.return=x,x=v}return o(x);case Wn:return T=w._init,y(x,v,T(w._payload),j)}if(bi(w))return p(x,v,w,j);if(oi(w))return g(x,v,w,j);Ka(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,w),v.return=x,x=v):(n(x,v),v=Tc(w,x.mode,j),v.return=x,x=v),o(x)):n(x,v)}return y}var Vr=Qy(!0),Xy=Qy(!1),Yo=bs(null),Ko=null,yr=null,mm=null;function hm(){mm=yr=Ko=null}function pm(e){var t=Yo.current;ve(Yo),e._currentValue=t}function Od(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Ko=e,mm=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(mm!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Ko===null)throw Error(D(308));yr=e,Ko.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var As=null;function fm(e){As===null?As=[e]:As.push(e)}function Jy(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,fm(t)):(n.next=i.next,i.next=n),t.interleaved=n,In(e,s)}function In(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yn=!1;function gm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ie&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,In(e,n)}return i=s.interleaved,i===null?(t.next=t,fm(s)):(t.next=i.next,i.next=t),s.interleaved=t,In(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,tm(e,n)}}function _p(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,s){var i=e.updateQueue;Yn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,u=d=c=null,l=a;do{var h=l.lane,f=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){m=p.call(f,m,h);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,m,h):p,h==null)break e;m=Me({},m,h);break e;case 2:Yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qs|=o,e.lanes=o,e.memoizedState=m}}function Ip(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(D(191,i));i.call(s)}}}var ba={},yn=bs(ba),Qi=bs(ba),Xi=bs(ba);function _s(e){if(e===ba)throw Error(D(174));return e}function ym(e,t){switch(ge(Xi,t),ge(Qi,e),ge(yn,ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gd(t,e)}ve(yn),ge(yn,t)}function Hr(){ve(yn),ve(Qi),ve(Xi)}function ex(e){_s(Xi.current);var t=_s(yn.current),n=gd(t,e.type);t!==n&&(ge(Qi,e),ge(yn,n))}function xm(e){Qi.current===e&&(ve(yn),ve(Qi))}var Ce=bs(0);function Qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nc=[];function vm(){for(var e=0;e<Nc.length;e++)Nc[e]._workInProgressVersionPrimary=null;Nc.length=0}var fo=Dn.ReactCurrentDispatcher,Sc=Dn.ReactCurrentBatchConfig,Ks=0,Te=null,Ve=null,qe=null,Xo=!1,Mi=!1,Ji=0,Z1=0;function rt(){throw Error(D(321))}function bm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function wm(e,t,n,s,i,a){if(Ks=a,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?sN:rN,e=n(s,i),Mi){a=0;do{if(Mi=!1,Ji=0,25<=a)throw Error(D(301));a+=1,qe=Ve=null,t.updateQueue=null,fo.current=iN,e=n(s,i)}while(Mi)}if(fo.current=Jo,t=Ve!==null&&Ve.next!==null,Ks=0,qe=Ve=Te=null,Xo=!1,t)throw Error(D(300));return e}function jm(){var e=Ji!==0;return Ji=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Te.memoizedState=qe=e:qe=qe.next=e,qe}function Ut(){if(Ve===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=qe===null?Te.memoizedState:qe.next;if(t!==null)qe=t,Ve=e;else{if(e===null)throw Error(D(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?Te.memoizedState=qe=e:qe=qe.next=e}return qe}function Zi(e,t){return typeof t=="function"?t(e):t}function kc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=Ve,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ks&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,Te.lanes|=u,qs|=u}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,an(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Te.lanes|=a,qs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cc(e){var t=Ut(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);an(a,t.memoizedState)||(jt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function tx(){}function nx(e,t){var n=Te,s=Ut(),i=t(),a=!an(s.memoizedState,i);if(a&&(s.memoizedState=i,jt=!0),s=s.queue,Nm(ix.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ea(9,rx.bind(null,n,s,i,t),void 0,null),Qe===null)throw Error(D(349));Ks&30||sx(n,t,i)}return i}function sx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rx(e,t,n,s){t.value=n,t.getSnapshot=s,ax(t)&&ox(e)}function ix(e,t,n){return n(function(){ax(t)&&ox(e)})}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function ox(e){var t=In(e,1);t!==null&&sn(t,e,1,-1)}function Rp(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},t.queue=e,e=e.dispatch=nN.bind(null,Te,e),[t.memoizedState,e]}function ea(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function lx(){return Ut().memoizedState}function go(e,t,n,s){var i=un();Te.flags|=e,i.memoizedState=ea(1|t,n,void 0,s===void 0?null:s)}function Sl(e,t,n,s){var i=Ut();s=s===void 0?null:s;var a=void 0;if(Ve!==null){var o=Ve.memoizedState;if(a=o.destroy,s!==null&&bm(s,o.deps)){i.memoizedState=ea(t,n,a,s);return}}Te.flags|=e,i.memoizedState=ea(1|t,n,a,s)}function Lp(e,t){return go(8390656,8,e,t)}function Nm(e,t){return Sl(2048,8,e,t)}function cx(e,t){return Sl(4,2,e,t)}function dx(e,t){return Sl(4,4,e,t)}function ux(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mx(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4,4,ux.bind(null,t,e),n)}function Sm(){}function hx(e,t){var n=Ut();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bm(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function px(e,t){var n=Ut();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bm(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function fx(e,t,n){return Ks&21?(an(n,t)||(n=by(),Te.lanes|=n,qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function eN(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var s=Sc.transition;Sc.transition={};try{e(!1),t()}finally{ue=n,Sc.transition=s}}function gx(){return Ut().memoizedState}function tN(e,t,n){var s=ms(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},yx(e))xx(t,n);else if(n=Jy(e,t,n,s),n!==null){var i=gt();sn(n,e,s,i),vx(n,t,s)}}function nN(e,t,n){var s=ms(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(e))xx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,an(l,o)){var c=t.interleaved;c===null?(i.next=i,fm(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Jy(e,t,i,s),n!==null&&(i=gt(),sn(n,e,s,i),vx(n,t,s))}}function yx(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function xx(e,t){Mi=Xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,tm(e,n)}}var Jo={readContext:Bt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},sN={readContext:Bt,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Lp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,go(4194308,4,ux.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=un();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=tN.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:Rp,useDebugValue:Sm,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=Rp(!1),t=e[0];return e=eN.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Te,i=un();if(Ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Qe===null)throw Error(D(349));Ks&30||sx(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Lp(ix.bind(null,s,a,e),[e]),s.flags|=2048,ea(9,rx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=un(),t=Qe.identifierPrefix;if(Ne){var n=Pn,s=En;n=(s&~(1<<32-nn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Z1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rN={readContext:Bt,useCallback:hx,useContext:Bt,useEffect:Nm,useImperativeHandle:mx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:px,useReducer:kc,useRef:lx,useState:function(){return kc(Zi)},useDebugValue:Sm,useDeferredValue:function(e){var t=Ut();return fx(t,Ve.memoizedState,e)},useTransition:function(){var e=kc(Zi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1},iN={readContext:Bt,useCallback:hx,useContext:Bt,useEffect:Nm,useImperativeHandle:mx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:px,useReducer:Cc,useRef:lx,useState:function(){return Cc(Zi)},useDebugValue:Sm,useDeferredValue:function(e){var t=Ut();return Ve===null?t.memoizedState=e:fx(t,Ve.memoizedState,e)},useTransition:function(){var e=Cc(Zi)[0],t=Ut().memoizedState;return[e,t]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=gt(),i=ms(e),a=Tn(s,i);a.payload=t,n!=null&&(a.callback=n),t=ds(e,a,i),t!==null&&(sn(t,e,i,s),po(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=gt(),i=ms(e),a=Tn(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ds(e,a,i),t!==null&&(sn(t,e,i,s),po(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),s=ms(e),i=Tn(n,s);i.tag=2,t!=null&&(i.callback=t),t=ds(e,i,s),t!==null&&(sn(t,e,s,n),po(t,e,s))}};function Op(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,s)||!Wi(i,a):!0}function bx(e,t,n){var s=!1,i=gs,a=t.contextType;return typeof a=="object"&&a!==null?a=Bt(a):(i=St(t)?Ws:dt.current,s=t.contextTypes,a=(s=s!=null)?Br(e,i):gs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Dp(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&kl.enqueueReplaceState(t,t.state,null)}function Fd(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gm(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bt(a):(a=St(t)?Ws:dt.current,i.context=Br(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Dd(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kl.enqueueReplaceState(i,i.state,null),qo(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",s=t;do n+=Ij(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ec(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aN=typeof WeakMap=="function"?WeakMap:Map;function wx(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){el||(el=!0,qd=s),Gd(e,t)},n}function jx(e,t,n){n=Tn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){Gd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Gd(e,t),typeof s!="function"&&(us===null?us=new Set([this]):us.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fp(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new aN;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=bN.bind(null,e,t,n),t.then(e,e))}function Gp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zp(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,ds(n,t,1))),n.lanes|=1),e)}var oN=Dn.ReactCurrentOwner,jt=!1;function ut(e,t,n,s){t.child=e===null?Xy(t,null,n,s):Vr(t,e.child,n,s)}function $p(e,t,n,s,i){n=n.render;var a=t.ref;return Tr(t,i),s=wm(e,t,n,s,a,i),n=jm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Ne&&n&&cm(t),t.flags|=1,ut(e,t,s,i),t.child)}function Bp(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!_m(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Nx(e,t,a,s,i)):(e=bo(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,s)&&e.ref===t.ref)return Rn(e,t,i)}return t.flags|=1,e=hs(a,s),e.ref=t.ref,e.return=t,t.child=e}function Nx(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Wi(a,s)&&e.ref===t.ref)if(jt=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,Rn(e,t,i)}return zd(e,t,n,s,i)}function Sx(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(vr,Et),Et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(vr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ge(vr,Et),Et|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ge(vr,Et),Et|=s;return ut(e,t,i,n),t.child}function kx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zd(e,t,n,s,i){var a=St(n)?Ws:dt.current;return a=Br(t,a),Tr(t,i),n=wm(e,t,n,s,a,i),s=jm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Ne&&s&&cm(t),t.flags|=1,ut(e,t,n,i),t.child)}function Up(e,t,n,s,i){if(St(n)){var a=!0;Vo(t)}else a=!1;if(Tr(t,i),t.stateNode===null)yo(e,t),bx(t,n,s),Fd(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=St(n)?Ws:dt.current,d=Br(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Dp(t,o,s,d),Yn=!1;var h=t.memoizedState;o.state=h,qo(t,s,o,i),c=t.memoizedState,l!==s||h!==c||Nt.current||Yn?(typeof u=="function"&&(Dd(t,n,u,s),c=t.memoizedState),(l=Yn||Op(t,n,l,s,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Zy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Qt(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=St(n)?Ws:dt.current,c=Br(t,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&Dp(t,o,s,c),Yn=!1,h=t.memoizedState,o.state=h,qo(t,s,o,i);var p=t.memoizedState;l!==m||h!==p||Nt.current||Yn?(typeof f=="function"&&(Dd(t,n,f,s),p=t.memoizedState),(d=Yn||Op(t,n,d,s,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return $d(e,t,n,s,a,i)}function $d(e,t,n,s,i,a){kx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Pp(t,n,!1),Rn(e,t,a);s=t.stateNode,oN.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Vr(t,e.child,null,a),t.child=Vr(t,null,l,a)):ut(e,t,l,a),t.memoizedState=s.state,i&&Pp(t,n,!0),t.child}function Cx(e){var t=e.stateNode;t.pendingContext?Ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ep(e,t.context,!1),ym(e,t.containerInfo)}function Vp(e,t,n,s,i){return Ur(),um(i),t.flags|=256,ut(e,t,n,s),t.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ex(e,t,n){var s=t.pendingProps,i=Ce.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(Ce,i&1),e===null)return Ld(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Pl(o,s,0,null),e=Us(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ud(n),t.memoizedState=Bd,e):km(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return lN(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=hs(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=hs(l,a):(a=Us(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Bd,s}return a=e.child,e=a.sibling,s=hs(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function km(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qa(e,t,n,s){return s!==null&&um(s),Vr(t,e.child,null,n),e=km(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lN(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Ec(Error(D(422))),qa(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Pl({mode:"visible",children:s.children},i,0,null),a=Us(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Vr(t,e.child,null,o),t.child.memoizedState=Ud(o),t.memoizedState=Bd,a);if(!(t.mode&1))return qa(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(D(419)),s=Ec(a,s,void 0),qa(e,t,o,s)}if(l=(o&e.childLanes)!==0,jt||l){if(s=Qe,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,In(e,i),sn(s,e,i,-1))}return Am(),s=Ec(Error(D(421))),qa(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Pt=cs(i.nextSibling),Tt=t,Ne=!0,tn=null,e!==null&&(Ot[Dt++]=En,Ot[Dt++]=Pn,Ot[Dt++]=Ys,En=e.id,Pn=e.overflow,Ys=t),t=km(t,s.children),t.flags|=4096,t)}function Hp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Od(e.return,t,n)}function Pc(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Px(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(ut(e,t,s.children,n),s=Ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,n,t);else if(e.tag===19)Hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ge(Ce,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pc(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pc(t,!0,n,null,a);break;case"together":Pc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cN(e,t,n){switch(t.tag){case 3:Cx(t),Ur();break;case 5:ex(t);break;case 1:St(t.type)&&Vo(t);break;case 4:ym(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ge(Yo,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ge(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Ex(e,t,n):(ge(Ce,Ce.current&1),e=Rn(e,t,n),e!==null?e.sibling:null);ge(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Px(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,Sx(e,t,n)}return Rn(e,t,n)}var Tx,Vd,Mx,Ax;Tx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vd=function(){};Mx=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,_s(yn.current);var a=null;switch(n){case"input":i=md(e,i),s=md(e,s),a=[];break;case"select":i=Me({},i,{value:void 0}),s=Me({},s,{value:void 0}),a=[];break;case"textarea":i=fd(e,i),s=fd(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bo)}yd(n,s);var o;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&xe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Ax=function(e,t,n,s){n!==s&&(t.flags|=4)};function hi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function dN(e,t,n){var s=t.pendingProps;switch(dm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return St(t.type)&&Uo(),it(t),null;case 3:return s=t.stateNode,Hr(),ve(Nt),ve(dt),vm(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Jd(tn),tn=null))),Vd(e,t),it(t),null;case 5:xm(t);var i=_s(Xi.current);if(n=t.type,e!==null&&t.stateNode!=null)Mx(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(D(166));return it(t),null}if(e=_s(yn.current),Ya(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[fn]=t,s[qi]=a,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",s),xe("close",s);break;case"iframe":case"object":case"embed":xe("load",s);break;case"video":case"audio":for(i=0;i<ji.length;i++)xe(ji[i],s);break;case"source":xe("error",s);break;case"img":case"image":case"link":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"input":ep(s,a),xe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},xe("invalid",s);break;case"textarea":np(s,a),xe("invalid",s)}yd(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Wa(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Wa(s.textContent,l,e),i=["children",""+l]):Gi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xe("scroll",s)}switch(n){case"input":Fa(s),tp(s,a,!0);break;case"textarea":Fa(s),sp(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Bo)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[fn]=t,e[qi]=s,Tx(e,t,!1,!1),t.stateNode=e;e:{switch(o=xd(n,s),n){case"dialog":xe("cancel",e),xe("close",e),i=s;break;case"iframe":case"object":case"embed":xe("load",e),i=s;break;case"video":case"audio":for(i=0;i<ji.length;i++)xe(ji[i],e);i=s;break;case"source":xe("error",e),i=s;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=s;break;case"details":xe("toggle",e),i=s;break;case"input":ep(e,s),i=md(e,s),xe("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=Me({},s,{value:void 0}),xe("invalid",e);break;case"textarea":np(e,s),i=fd(e,s),xe("invalid",e);break;default:i=s}yd(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ly(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ay(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zi(e,c):typeof c=="number"&&zi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Gi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&xe("scroll",e):c!=null&&qu(e,a,c,o))}switch(n){case"input":Fa(e),tp(e,s,!1);break;case"textarea":Fa(e),sp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+fs(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?kr(e,!!s.multiple,a,!1):s.defaultValue!=null&&kr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Ax(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(D(166));if(n=_s(Xi.current),_s(yn.current),Ya(t)){if(s=t.stateNode,n=t.memoizedProps,s[fn]=t,(a=s.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Wa(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wa(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return it(t),null;case 13:if(ve(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Pt!==null&&t.mode&1&&!(t.flags&128))qy(),Ur(),t.flags|=98560,a=!1;else if(a=Ya(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[fn]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),a=!1}else tn!==null&&(Jd(tn),tn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?He===0&&(He=3):Am())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Hr(),Vd(e,t),e===null&&Yi(t.stateNode.containerInfo),it(t),null;case 10:return pm(t.type._context),it(t),null;case 17:return St(t.type)&&Uo(),it(t),null;case 19:if(ve(Ce),a=t.memoizedState,a===null)return it(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)hi(a,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qo(e),o!==null){for(t.flags|=128,hi(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&Le()>Yr&&(t.flags|=128,s=!0,hi(a,!1),t.lanes=4194304)}else{if(!s)if(e=Qo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ne)return it(t),null}else 2*Le()-a.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,s=!0,hi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Le(),t.sibling=null,n=Ce.current,ge(Ce,s?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Mm(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Et&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function uN(e,t){switch(dm(t),t.tag){case 1:return St(t.type)&&Uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),ve(Nt),ve(dt),vm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xm(t),null;case 13:if(ve(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(Ce),null;case 4:return Hr(),null;case 10:return pm(t.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Qa=!1,ot=!1,mN=typeof WeakSet=="function"?WeakSet:Set,H=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ie(e,t,s)}else n.current=null}function Hd(e,t,n){try{n()}catch(s){Ie(e,t,s)}}var Wp=!1;function hN(e,t){if(Pd=Go,e=Oy(),lm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++d===i&&(l=o),h===a&&++u===s&&(c=o),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Td={focusedElem:e,selectionRange:n},Go=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Qt(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ie(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return p=Wp,Wp=!1,p}function Ai(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hd(t,n,a)}i=i.next}while(i!==s)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _x(e){var t=e.alternate;t!==null&&(e.alternate=null,_x(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[qi],delete t[_d],delete t[q1],delete t[Q1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function Yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bo));else if(s!==4&&(e=e.child,e!==null))for(Yd(e,t,n),e=e.sibling;e!==null;)Yd(e,t,n),e=e.sibling}function Kd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Kd(e,t,n),e=e.sibling;e!==null;)Kd(e,t,n),e=e.sibling}var Je=null,en=!1;function Un(e,t,n){for(n=n.child;n!==null;)Rx(e,t,n),n=n.sibling}function Rx(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:ot||xr(n,t);case 6:var s=Je,i=en;Je=null,Un(e,t,n),Je=s,en=i,Je!==null&&(en?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(en?(e=Je,n=n.stateNode,e.nodeType===8?wc(e.parentNode,n):e.nodeType===1&&wc(e,n),Vi(e)):wc(Je,n.stateNode));break;case 4:s=Je,i=en,Je=n.stateNode.containerInfo,en=!0,Un(e,t,n),Je=s,en=i;break;case 0:case 11:case 14:case 15:if(!ot&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Hd(n,t,o),i=i.next}while(i!==s)}Un(e,t,n);break;case 1:if(!ot&&(xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Ie(n,t,l)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(ot=(s=ot)||n.memoizedState!==null,Un(e,t,n),ot=s):Un(e,t,n);break;default:Un(e,t,n)}}function Kp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mN),t.forEach(function(s){var i=jN.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,en=!1;break e;case 3:Je=l.stateNode.containerInfo,en=!0;break e;case 4:Je=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(Je===null)throw Error(D(160));Rx(a,o,i),Je=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ie(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lx(t,e),t=t.sibling}function Lx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),cn(e),s&4){try{Ai(3,e,e.return),Cl(3,e)}catch(g){Ie(e,e.return,g)}try{Ai(5,e,e.return)}catch(g){Ie(e,e.return,g)}}break;case 1:Vt(t,e),cn(e),s&512&&n!==null&&xr(n,n.return);break;case 5:if(Vt(t,e),cn(e),s&512&&n!==null&&xr(n,n.return),e.flags&32){var i=e.stateNode;try{zi(i,"")}catch(g){Ie(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sy(i,a),xd(l,o);var d=xd(l,a);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?ly(i,m):u==="dangerouslySetInnerHTML"?ay(i,m):u==="children"?zi(i,m):qu(i,u,m,d)}switch(l){case"input":hd(i,a);break;case"textarea":ry(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?kr(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?kr(i,!!a.multiple,a.defaultValue,!0):kr(i,!!a.multiple,a.multiple?[]:"",!1))}i[qi]=a}catch(g){Ie(e,e.return,g)}}break;case 6:if(Vt(t,e),cn(e),s&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ie(e,e.return,g)}}break;case 3:if(Vt(t,e),cn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(g){Ie(e,e.return,g)}break;case 4:Vt(t,e),cn(e);break;case 13:Vt(t,e),cn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Pm=Le())),s&4&&Kp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(d=ot)||u,Vt(t,e),ot=d):Vt(t,e),cn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(H=e,u=e.child;u!==null;){for(m=H=u;H!==null;){switch(h=H,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ai(4,h,h.return);break;case 1:xr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ie(s,n,g)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){Qp(m);continue}}f!==null?(f.return=h,H=f):Qp(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oy("display",o))}catch(g){Ie(e,e.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Ie(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vt(t,e),cn(e),s&4&&Kp(e);break;case 21:break;default:Vt(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ix(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(zi(i,""),s.flags&=-33);var a=Yp(e);Kd(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Yp(e);Yd(e,l,o);break;default:throw Error(D(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pN(e,t,n){H=e,Ox(e)}function Ox(e,t,n){for(var s=(e.mode&1)!==0;H!==null;){var i=H,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Qa;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ot;l=Qa;var d=ot;if(Qa=o,(ot=c)&&!d)for(H=i;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Xp(i):c!==null?(c.return=o,H=c):Xp(i);for(;a!==null;)H=a,Ox(a),a=a.sibling;H=i,Qa=l,ot=d}qp(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,H=a):qp(e)}}function qp(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Cl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ip(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ip(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Vi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ot||t.flags&512&&Wd(t)}catch(h){Ie(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Qp(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Xp(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cl(4,t)}catch(c){Ie(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){Ie(t,i,c)}}var a=t.return;try{Wd(t)}catch(c){Ie(t,a,c)}break;case 5:var o=t.return;try{Wd(t)}catch(c){Ie(t,o,c)}}}catch(c){Ie(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var fN=Math.ceil,Zo=Dn.ReactCurrentDispatcher,Cm=Dn.ReactCurrentOwner,zt=Dn.ReactCurrentBatchConfig,ie=0,Qe=null,ze=null,et=0,Et=0,vr=bs(0),He=0,ta=null,qs=0,El=0,Em=0,_i=null,wt=null,Pm=0,Yr=1/0,Nn=null,el=!1,qd=null,us=null,Xa=!1,ss=null,tl=0,Ii=0,Qd=null,xo=-1,vo=0;function gt(){return ie&6?Le():xo!==-1?xo:xo=Le()}function ms(e){return e.mode&1?ie&2&&et!==0?et&-et:J1.transition!==null?(vo===0&&(vo=by()),vo):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Ey(e.type)),e):1}function sn(e,t,n,s){if(50<Ii)throw Ii=0,Qd=null,Error(D(185));ya(e,n,s),(!(ie&2)||e!==Qe)&&(e===Qe&&(!(ie&2)&&(El|=n),He===4&&qn(e,et)),kt(e,s),n===1&&ie===0&&!(t.mode&1)&&(Yr=Le()+500,Nl&&ws()))}function kt(e,t){var n=e.callbackNode;Jj(e,t);var s=Fo(e,e===Qe?et:0);if(s===0)n!==null&&ap(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ap(n),t===1)e.tag===0?X1(Jp.bind(null,e)):Wy(Jp.bind(null,e)),Y1(function(){!(ie&6)&&ws()}),n=null;else{switch(wy(s)){case 1:n=em;break;case 4:n=xy;break;case 16:n=Do;break;case 536870912:n=vy;break;default:n=Do}n=Vx(n,Dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dx(e,t){if(xo=-1,vo=0,ie&6)throw Error(D(327));var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var s=Fo(e,e===Qe?et:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=nl(e,s);else{t=s;var i=ie;ie|=2;var a=Gx();(Qe!==e||et!==t)&&(Nn=null,Yr=Le()+500,Bs(e,t));do try{xN();break}catch(l){Fx(e,l)}while(1);hm(),Zo.current=a,ie=i,ze!==null?t=0:(Qe=null,et=0,t=He)}if(t!==0){if(t===2&&(i=Nd(e),i!==0&&(s=i,t=Xd(e,i))),t===1)throw n=ta,Bs(e,0),qn(e,s),kt(e,Le()),n;if(t===6)qn(e,s);else{if(i=e.current.alternate,!(s&30)&&!gN(i)&&(t=nl(e,s),t===2&&(a=Nd(e),a!==0&&(s=a,t=Xd(e,a))),t===1))throw n=ta,Bs(e,0),qn(e,s),kt(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(D(345));case 2:Ps(e,wt,Nn);break;case 3:if(qn(e,s),(s&130023424)===s&&(t=Pm+500-Le(),10<t)){if(Fo(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ad(Ps.bind(null,e,wt,Nn),t);break}Ps(e,wt,Nn);break;case 4:if(qn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-nn(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=Le()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*fN(s/1960))-s,10<s){e.timeoutHandle=Ad(Ps.bind(null,e,wt,Nn),s);break}Ps(e,wt,Nn);break;case 5:Ps(e,wt,Nn);break;default:throw Error(D(329))}}}return kt(e,Le()),e.callbackNode===n?Dx.bind(null,e):null}function Xd(e,t){var n=_i;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=nl(e,t),e!==2&&(t=wt,wt=n,t!==null&&Jd(t)),e}function Jd(e){wt===null?wt=e:wt.push.apply(wt,e)}function gN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!an(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Em,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),s=1<<n;e[n]=-1,t&=~s}}function Jp(e){if(ie&6)throw Error(D(327));Mr();var t=Fo(e,0);if(!(t&1))return kt(e,Le()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var s=Nd(e);s!==0&&(t=s,n=Xd(e,s))}if(n===1)throw n=ta,Bs(e,0),qn(e,t),kt(e,Le()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,wt,Nn),kt(e,Le()),null}function Tm(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Yr=Le()+500,Nl&&ws())}}function Qs(e){ss!==null&&ss.tag===0&&!(ie&6)&&Mr();var t=ie;ie|=1;var n=zt.transition,s=ue;try{if(zt.transition=null,ue=1,e)return e()}finally{ue=s,zt.transition=n,ie=t,!(ie&6)&&ws()}}function Mm(){Et=vr.current,ve(vr)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,W1(n)),ze!==null)for(n=ze.return;n!==null;){var s=n;switch(dm(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Uo();break;case 3:Hr(),ve(Nt),ve(dt),vm();break;case 5:xm(s);break;case 4:Hr();break;case 13:ve(Ce);break;case 19:ve(Ce);break;case 10:pm(s.type._context);break;case 22:case 23:Mm()}n=n.return}if(Qe=e,ze=e=hs(e.current,null),et=Et=t,He=0,ta=null,Em=El=qs=0,wt=_i=null,As!==null){for(t=0;t<As.length;t++)if(n=As[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}As=null}return e}function Fx(e,t){do{var n=ze;try{if(hm(),fo.current=Jo,Xo){for(var s=Te.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Xo=!1}if(Ks=0,qe=Ve=Te=null,Mi=!1,Ji=0,Cm.current=null,n===null||n.return===null){He=1,ta=t,ze=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Gp(o);if(f!==null){f.flags&=-257,zp(f,o,l,a,t),f.mode&1&&Fp(a,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){Fp(a,d,t),Am();break e}c=Error(D(426))}}else if(Ne&&l.mode&1){var y=Gp(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),zp(y,o,l,a,t),um(Wr(c,l));break e}}a=c=Wr(c,l),He!==4&&(He=2),_i===null?_i=[a]:_i.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=wx(a,c,t);_p(a,x);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(us===null||!us.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=jx(a,l,t);_p(a,j);break e}}a=a.return}while(a!==null)}$x(n)}catch(S){t=S,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(1)}function Gx(){var e=Zo.current;return Zo.current=Jo,e===null?Jo:e}function Am(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(qs&268435455)&&!(El&268435455)||qn(Qe,et)}function nl(e,t){var n=ie;ie|=2;var s=Gx();(Qe!==e||et!==t)&&(Nn=null,Bs(e,t));do try{yN();break}catch(i){Fx(e,i)}while(1);if(hm(),ie=n,Zo.current=s,ze!==null)throw Error(D(261));return Qe=null,et=0,He}function yN(){for(;ze!==null;)zx(ze)}function xN(){for(;ze!==null&&!Uj();)zx(ze)}function zx(e){var t=Ux(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?$x(e):ze=t,Cm.current=null}function $x(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uN(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,ze=null;return}}else if(n=dN(n,t,Et),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);He===0&&(He=5)}function Ps(e,t,n){var s=ue,i=zt.transition;try{zt.transition=null,ue=1,vN(e,t,n,s)}finally{zt.transition=i,ue=s}return null}function vN(e,t,n,s){do Mr();while(ss!==null);if(ie&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Zj(e,a),e===Qe&&(ze=Qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,Vx(Do,function(){return Mr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=zt.transition,zt.transition=null;var o=ue;ue=1;var l=ie;ie|=4,Cm.current=null,hN(e,n),Lx(n,e),G1(Td),Go=!!Pd,Td=Pd=null,e.current=n,pN(n),Vj(),ie=l,ue=o,zt.transition=a}else e.current=n;if(Xa&&(Xa=!1,ss=e,tl=i),a=e.pendingLanes,a===0&&(us=null),Yj(n.stateNode),kt(e,Le()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(el)throw el=!1,e=qd,qd=null,e;return tl&1&&e.tag!==0&&Mr(),a=e.pendingLanes,a&1?e===Qd?Ii++:(Ii=0,Qd=e):Ii=0,ws(),null}function Mr(){if(ss!==null){var e=wy(tl),t=zt.transition,n=ue;try{if(zt.transition=null,ue=16>e?16:e,ss===null)var s=!1;else{if(e=ss,ss=null,tl=0,ie&6)throw Error(D(331));var i=ie;for(ie|=4,H=e.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(H=d;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:Ai(8,u,a)}var m=u.child;if(m!==null)m.return=u,H=m;else for(;H!==null;){u=H;var h=u.sibling,f=u.return;if(_x(u),u===d){H=null;break}if(h!==null){h.return=f,H=h;break}H=f}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ai(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}var v=e.current;for(H=v;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=v;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cl(9,l)}}catch(S){Ie(l,l.return,S)}if(l===o){H=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,H=j;break e}H=l.return}}if(ie=i,ws(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(xl,e)}catch{}s=!0}return s}finally{ue=n,zt.transition=t}}return!1}function Zp(e,t,n){t=Wr(n,t),t=wx(e,t,1),e=ds(e,t,1),t=gt(),e!==null&&(ya(e,1,t),kt(e,t))}function Ie(e,t,n){if(e.tag===3)Zp(e,e,n);else for(;t!==null;){if(t.tag===3){Zp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(us===null||!us.has(s))){e=Wr(n,e),e=jx(t,e,1),t=ds(t,e,1),e=gt(),t!==null&&(ya(t,1,e),kt(t,e));break}}t=t.return}}function bN(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(et&n)===n&&(He===4||He===3&&(et&130023424)===et&&500>Le()-Pm?Bs(e,0):Em|=n),kt(e,t)}function Bx(e,t){t===0&&(e.mode&1?(t=$a,$a<<=1,!($a&130023424)&&($a=4194304)):t=1);var n=gt();e=In(e,t),e!==null&&(ya(e,t,n),kt(e,n))}function wN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bx(e,n)}function jN(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(t),Bx(e,n)}var Ux;Ux=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,cN(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Ne&&t.flags&1048576&&Yy(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;yo(e,t),e=t.pendingProps;var i=Br(t,dt.current);Tr(t,n),i=wm(null,t,s,e,i,n);var a=jm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(s)?(a=!0,Vo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gm(t),i.updater=kl,t.stateNode=i,i._reactInternals=t,Fd(t,s,e,n),t=$d(null,t,s,!0,a,n)):(t.tag=0,Ne&&a&&cm(t),ut(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(yo(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=SN(s),e=Qt(s,e),i){case 0:t=zd(null,t,s,e,n);break e;case 1:t=Up(null,t,s,e,n);break e;case 11:t=$p(null,t,s,e,n);break e;case 14:t=Bp(null,t,s,Qt(s.type,e),n);break e}throw Error(D(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Qt(s,i),zd(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Qt(s,i),Up(e,t,s,i,n);case 3:e:{if(Cx(t),e===null)throw Error(D(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Zy(e,t),qo(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Wr(Error(D(423)),t),t=Vp(e,t,s,n,i);break e}else if(s!==i){i=Wr(Error(D(424)),t),t=Vp(e,t,s,n,i);break e}else for(Pt=cs(t.stateNode.containerInfo.firstChild),Tt=t,Ne=!0,tn=null,n=Xy(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),s===i){t=Rn(e,t,n);break e}ut(e,t,s,n)}t=t.child}return t;case 5:return ex(t),e===null&&Ld(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Md(s,i)?o=null:a!==null&&Md(s,a)&&(t.flags|=32),kx(e,t),ut(e,t,o,n),t.child;case 6:return e===null&&Ld(t),null;case 13:return Ex(e,t,n);case 4:return ym(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vr(t,null,s,n):ut(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Qt(s,i),$p(e,t,s,i,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ge(Yo,s._currentValue),s._currentValue=o,a!==null)if(an(a.value,o)){if(a.children===i.children&&!Nt.current){t=Rn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Tn(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Od(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(D(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Od(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Tr(t,n),i=Bt(i),s=s(i),t.flags|=1,ut(e,t,s,n),t.child;case 14:return s=t.type,i=Qt(s,t.pendingProps),i=Qt(s.type,i),Bp(e,t,s,i,n);case 15:return Nx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Qt(s,i),yo(e,t),t.tag=1,St(s)?(e=!0,Vo(t)):e=!1,Tr(t,n),bx(t,s,i),Fd(t,s,i,n),$d(null,t,s,!0,e,n);case 19:return Px(e,t,n);case 22:return Sx(e,t,n)}throw Error(D(156,t.tag))};function Vx(e,t){return yy(e,t)}function NN(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,s){return new NN(e,t,n,s)}function _m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SN(e){if(typeof e=="function")return _m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xu)return 11;if(e===Ju)return 14}return 2}function hs(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bo(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")_m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cr:return Us(n.children,i,a,t);case Qu:o=8,i|=8;break;case ld:return e=Ft(12,n,t,i|2),e.elementType=ld,e.lanes=a,e;case cd:return e=Ft(13,n,t,i),e.elementType=cd,e.lanes=a,e;case dd:return e=Ft(19,n,t,i),e.elementType=dd,e.lanes=a,e;case ey:return Pl(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J0:o=10;break e;case Z0:o=9;break e;case Xu:o=11;break e;case Ju:o=14;break e;case Wn:o=16,s=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ft(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Us(e,t,n,s){return e=Ft(7,e,s,t),e.lanes=n,e}function Pl(e,t,n,s){return e=Ft(22,e,s,t),e.elementType=ey,e.lanes=n,e.stateNode={isHidden:!1},e}function Tc(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function Mc(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kN(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Im(e,t,n,s,i,a,o,l,c){return e=new kN(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ft(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gm(a),e}function CN(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Hx(e){if(!e)return gs;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(St(n))return Hy(e,n,t)}return t}function Wx(e,t,n,s,i,a,o,l,c){return e=Im(n,s,!0,e,i,a,o,l,c),e.context=Hx(null),n=e.current,s=gt(),i=ms(n),a=Tn(s,i),a.callback=t??null,ds(n,a,i),e.current.lanes=i,ya(e,i,s),kt(e,s),e}function Tl(e,t,n,s){var i=t.current,a=gt(),o=ms(i);return n=Hx(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ds(i,t,o),e!==null&&(sn(e,i,o,a),po(e,i,o)),o}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rm(e,t){ef(e,t),(e=e.alternate)&&ef(e,t)}function EN(){return null}var Yx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lm(e){this._internalRoot=e}Ml.prototype.render=Lm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Tl(e,t,null,null)};Ml.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){Tl(null,e,null,null)}),t[_n]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&Cy(e)}};function Om(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tf(){}function PN(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=sl(o);a.call(d)}}var o=Wx(t,s,e,0,null,!1,!1,"",tf);return e._reactRootContainer=o,e[_n]=o.current,Yi(e.nodeType===8?e.parentNode:e),Qs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=sl(c);l.call(d)}}var c=Im(e,0,!1,null,null,!1,!1,"",tf);return e._reactRootContainer=c,e[_n]=c.current,Yi(e.nodeType===8?e.parentNode:e),Qs(function(){Tl(t,c,n,s)}),c}function _l(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=sl(o);l.call(c)}}Tl(t,o,e,i)}else o=PN(n,t,e,i,s);return sl(o)}jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wi(t.pendingLanes);n!==0&&(tm(t,n|1),kt(t,Le()),!(ie&6)&&(Yr=Le()+500,ws()))}break;case 13:Qs(function(){var s=In(e,1);if(s!==null){var i=gt();sn(s,e,1,i)}}),Rm(e,1)}};nm=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var n=gt();sn(t,e,134217728,n)}Rm(e,134217728)}};Ny=function(e){if(e.tag===13){var t=ms(e),n=In(e,t);if(n!==null){var s=gt();sn(n,e,t,s)}Rm(e,t)}};Sy=function(){return ue};ky=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};bd=function(e,t,n){switch(t){case"input":if(hd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=jl(s);if(!i)throw Error(D(90));ny(s),hd(s,i)}}}break;case"textarea":ry(e,n);break;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}};uy=Tm;my=Qs;var TN={usingClientEntryPoint:!1,Events:[va,hr,jl,cy,dy,Tm]},pi={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MN={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fy(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{xl=Ja.inject(MN),gn=Ja}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TN;At.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(t))throw Error(D(200));return CN(e,t,null,n)};At.createRoot=function(e,t){if(!Om(e))throw Error(D(299));var n=!1,s="",i=Yx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Im(e,1,!1,null,null,n,!1,s,i),e[_n]=t.current,Yi(e.nodeType===8?e.parentNode:e),new Lm(t)};At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=fy(t),e=e===null?null:e.stateNode,e};At.flushSync=function(e){return Qs(e)};At.hydrate=function(e,t,n){if(!Al(t))throw Error(D(200));return _l(null,e,t,!0,n)};At.hydrateRoot=function(e,t,n){if(!Om(e))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=Yx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wx(t,null,e,1,n??null,i,!1,a,o),e[_n]=t.current,Yi(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ml(t)};At.render=function(e,t,n){if(!Al(t))throw Error(D(200));return _l(null,e,t,!1,n)};At.unmountComponentAtNode=function(e){if(!Al(e))throw Error(D(40));return e._reactRootContainer?(Qs(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[_n]=null})}),!0):!1};At.unstable_batchedUpdates=Tm;At.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Al(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return _l(e,t,n,!1,s)};At.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(e){console.error(e)}}Kx(),K0.exports=At;var wa=K0.exports,nf=wa;ad.createRoot=nf.createRoot,ad.hydrateRoot=nf.hydrateRoot;const AN="modulepreload",_N=function(e){return"/"+e},sf={},qx=function(t,n,s){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=_N(a),a in sf)return;sf[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const m=i[u];if(m.href===a&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":AN,o||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),o)return new Promise((u,m)=>{d.addEventListener("load",u),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},na.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const rf="popstate";function IN(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return Zd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:rl(i)}return LN(t,n,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RN(){return Math.random().toString(36).substr(2,8)}function af(e,t){return{usr:e.state,key:e.key,idx:t}}function Zd(e,t,n,s){return n===void 0&&(n=null),na({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ei(t):t,{state:n,key:t&&t.key||s||RN()})}function rl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function LN(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=rs.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(na({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=rs.Pop;let y=u(),x=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:x})}function h(y,x){l=rs.Push;let v=Zd(g.location,y,x);n&&n(v,y),d=u()+1;let w=af(v,d),j=g.createHref(v);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function f(y,x){l=rs.Replace;let v=Zd(g.location,y,x);n&&n(v,y),d=u();let w=af(v,d),j=g.createHref(v);o.replaceState(w,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function p(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:rl(y);return v=v.replace(/ $/,"%20"),Oe(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rf,m),c=y,()=>{i.removeEventListener(rf,m),c=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(y){return o.go(y)}};return g}var of;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(of||(of={}));function ON(e,t,n){return n===void 0&&(n="/"),DN(e,t,n,!1)}function DN(e,t,n,s){let i=typeof t=="string"?ei(t):t,a=Fm(i.pathname||"/",n);if(a==null)return null;let o=Qx(e);FN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=qN(a);l=YN(o[c],d,s)}return l}function Qx(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=ps([s,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(Oe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Qx(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:HN(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Xx(a.path))i(a,o,c)}),t}function Xx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=Xx(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function FN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:WN(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const GN=/^:[\w-]+$/,zN=3,$N=2,BN=1,UN=10,VN=-2,lf=e=>e==="*";function HN(e,t){let n=e.split("/"),s=n.length;return n.some(lf)&&(s+=VN),t&&(s+=$N),n.filter(i=>!lf(i)).reduce((i,a)=>i+(GN.test(a)?zN:a===""?BN:UN),s)}function WN(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function YN(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",m=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ps([a,m.pathname]),pathnameBase:eS(ps([a,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(a=ps([a,m.pathnameBase]))}return o}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=KN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,u,m)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=l[m]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[m];return f&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function KN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Dm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function qN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XN=e=>QN.test(e);function JN(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?ei(e):e,a;if(n)if(XN(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Dm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=df(n.substring(1),"/"):a=df(n,t)}else a=t;return{pathname:a,search:tS(s),hash:nS(i)}}function df(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ac(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gm(e,t){let n=ZN(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function zm(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ei(e):(i=na({},e),Oe(!i.pathname||!i.pathname.includes("?"),Ac("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Ac("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Ac("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;i.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=JN(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ps=e=>e.join("/").replace(/\/\/+/g,"/"),eS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jx=["post","put","patch","delete"];new Set(Jx);const rS=["get",...Jx];new Set(rS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sa.apply(this,arguments)}const $m=b.createContext(null),iS=b.createContext(null),js=b.createContext(null),Il=b.createContext(null),Fn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=b.createContext(null);function aS(e,t){let{relative:n}=t===void 0?{}:t;ti()||Oe(!1);let{basename:s,navigator:i}=b.useContext(js),{hash:a,pathname:o,search:l}=tv(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:ps([s,o])),i.createHref({pathname:c,search:l,hash:a})}function ti(){return b.useContext(Il)!=null}function Ns(){return ti()||Oe(!1),b.useContext(Il).location}function ev(e){b.useContext(js).static||b.useLayoutEffect(e)}function on(){let{isDataRoute:e}=b.useContext(Fn);return e?bS():oS()}function oS(){ti()||Oe(!1);let e=b.useContext($m),{basename:t,future:n,navigator:s}=b.useContext(js),{matches:i}=b.useContext(Fn),{pathname:a}=Ns(),o=JSON.stringify(Gm(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return ev(()=>{l.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=zm(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ps([t,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[t,s,o,a,e])}function lS(){let{matches:e}=b.useContext(Fn),t=e[e.length-1];return t?t.params:{}}function tv(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=b.useContext(js),{matches:i}=b.useContext(Fn),{pathname:a}=Ns(),o=JSON.stringify(Gm(i,s.v7_relativeSplatPath));return b.useMemo(()=>zm(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function cS(e,t){return dS(e,t)}function dS(e,t,n,s){ti()||Oe(!1);let{navigator:i}=b.useContext(js),{matches:a}=b.useContext(Fn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ns(),u;if(t){var m;let y=typeof t=="string"?ei(t):t;c==="/"||(m=y.pathname)!=null&&m.startsWith(c)||Oe(!1),u=y}else u=d;let h=u.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=ON(e,{pathname:f}),g=fS(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ps([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ps([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&g?b.createElement(Il.Provider,{value:{location:sa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:rs.Pop}},g):g}function uS(){let e=vS(),t=sS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,a)}const mS=b.createElement(uS,null);class hS extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Fn.Provider,{value:this.props.routeContext},b.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pS(e){let{routeContext:t,match:n,children:s}=e,i=b.useContext($m);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Fn.Provider,{value:t},s)}function fS(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Oe(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:f}=n,p=m.route.loader&&h[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let f,p=!1,g=null,y=null;n&&(f=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||mS,c&&(d<0&&h===0?(wS("route-fallback",!1),p=!0,y=null):d===h&&(p=!0,y=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),v=()=>{let w;return f?w=g:p?w=y:m.route.Component?w=b.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=u,b.createElement(pS,{match:m,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?b.createElement(hS,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var nv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nv||{}),il=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(il||{});function gS(e){let t=b.useContext($m);return t||Oe(!1),t}function yS(e){let t=b.useContext(iS);return t||Oe(!1),t}function xS(e){let t=b.useContext(Fn);return t||Oe(!1),t}function sv(e){let t=xS(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function vS(){var e;let t=b.useContext(Zx),n=yS(il.UseRouteError),s=sv(il.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function bS(){let{router:e}=gS(nv.UseNavigateStable),t=sv(il.UseNavigateStable),n=b.useRef(!1);return ev(()=>{n.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,sa({fromRouteId:t},a)))},[e,t])}const uf={};function wS(e,t,n){!t&&!uf[e]&&(uf[e]=!0)}function jS(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function rv(e){let{to:t,replace:n,state:s,relative:i}=e;ti()||Oe(!1);let{future:a,static:o}=b.useContext(js),{matches:l}=b.useContext(Fn),{pathname:c}=Ns(),d=on(),u=zm(t,Gm(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:i}),[d,m,i,n,s]),null}function Xe(e){Oe(!1)}function NS(e){let{basename:t="/",children:n=null,location:s,navigationType:i=rs.Pop,navigator:a,static:o=!1,future:l}=e;ti()&&Oe(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:a,static:o,future:sa({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=ei(s));let{pathname:u="/",search:m="",hash:h="",state:f=null,key:p="default"}=s,g=b.useMemo(()=>{let y=Fm(u,c);return y==null?null:{location:{pathname:y,search:m,hash:h,state:f,key:p},navigationType:i}},[c,u,m,h,f,p,i]);return g==null?null:b.createElement(js.Provider,{value:d},b.createElement(Il.Provider,{children:n,value:g}))}function SS(e){let{children:t,location:n}=e;return cS(eu(t),n)}new Promise(()=>{});function eu(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(s,i)=>{if(!b.isValidElement(s))return;let a=[...t,i];if(s.type===b.Fragment){n.push.apply(n,eu(s.props.children,a));return}s.type!==Xe&&Oe(!1),!s.props.index||!s.props.children||Oe(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=eu(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tu.apply(this,arguments)}function kS(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ES(e,t){return e.button===0&&(!t||t==="_self")&&!CS(e)}function nu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function PS(e,t){let n=nu(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const TS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MS="6";try{window.__reactRouterVersion=MS}catch{}const AS="startTransition",mf=bj[AS];function _S(e){let{basename:t,children:n,future:s,window:i}=e,a=b.useRef();a.current==null&&(a.current=IN({window:i,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=b.useCallback(m=>{d&&mf?mf(()=>c(m)):c(m)},[c,d]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>jS(s),[s]),b.createElement(NS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=b.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=kS(t,TS),{basename:f}=b.useContext(js),p,g=!1;if(typeof d=="string"&&RS.test(d)&&(p=d,IS))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),S=Fm(j.pathname,f);j.origin===w.origin&&S!=null?d=S+j.search+j.hash:g=!0}catch{}let y=aS(d,{relative:i}),x=LS(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:m});function v(w){s&&s(w),w.defaultPrevented||x(w)}return b.createElement("a",tu({},h,{href:p||y,onClick:g||a?s:v,ref:n,target:c}))});var hf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hf||(hf={}));var pf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function LS(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=on(),d=Ns(),u=tv(e,{relative:o});return b.useCallback(m=>{if(ES(m,n)){m.preventDefault();let h=s!==void 0?s:rl(d)===rl(u);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,s,i,n,e,a,o,l])}function OS(e){let t=b.useRef(nu(e)),n=b.useRef(!1),s=Ns(),i=b.useMemo(()=>PS(s.search,n.current?null:t.current),[s.search]),a=on(),o=b.useCallback((l,c)=>{const d=nu(typeof l=="function"?l(i):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,o]}var Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},DS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Qn,Bu,k0,FS=(k0=class{constructor(){ne(this,Qn,DS);ne(this,Bu,!1)}setTimeoutProvider(e){J(this,Qn,e)}setTimeout(e,t){return _(this,Qn).setTimeout(e,t)}clearTimeout(e){_(this,Qn).clearTimeout(e)}setInterval(e,t){return _(this,Qn).setInterval(e,t)}clearInterval(e){_(this,Qn).clearInterval(e)}},Qn=new WeakMap,Bu=new WeakMap,k0),su=new FS;function GS(e){setTimeout(e,0)}var Ll=typeof window>"u"||"Deno"in globalThis;function Xt(){}function zS(e,t){return typeof e=="function"?e(t):e}function $S(e){return typeof e=="number"&&e>=0&&e!==1/0}function BS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ru(e,t){return typeof e=="function"?e(t):e}function US(e,t){return typeof e=="function"?e(t):e}function ff(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Bm(o,t.options))return!1}else if(!ia(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function gf(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ra(t.options.mutationKey)!==ra(a))return!1}else if(!ia(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Bm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ra)(e)}function ra(e){return JSON.stringify(e,(t,n)=>iu(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ia(e[n],t[n])):!1}var VS=Object.prototype.hasOwnProperty;function iv(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=yf(e)&&yf(t);if(!s&&!(iu(e)&&iu(t)))return t;const a=(s?e:Object.keys(e)).length,o=s?t:Object.keys(t),l=o.length,c=s?new Array(l):{};let d=0;for(let u=0;u<l;u++){const m=s?u:o[u],h=e[m],f=t[m];if(h===f){c[m]=h,(s?u<a:VS.call(e,m))&&d++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){c[m]=f;continue}const p=iv(h,f,n+1);c[m]=p,p===h&&d++}return a===l&&d===a?e:c}function yf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function iu(e){if(!xf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xf(e){return Object.prototype.toString.call(e)==="[object Object]"}function HS(e){return new Promise(t=>{su.setTimeout(t,e)})}function WS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?iv(e,t):t}function YS(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function KS(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Um=Symbol();function av(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Um?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qS(e,t,n){let s=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Os,Xn,Ir,C0,QS=(C0=class extends Rl{constructor(){super();ne(this,Os,void 0);ne(this,Xn,void 0);ne(this,Ir,void 0);J(this,Ir,t=>{if(!Ll&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,Xn)||this.setEventListener(_(this,Ir))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Xn))==null||t.call(this),J(this,Xn,void 0))}setEventListener(t){var n;J(this,Ir,t),(n=_(this,Xn))==null||n.call(this),J(this,Xn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){_(this,Os)!==t&&(J(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,Os)=="boolean"?_(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,Xn=new WeakMap,Ir=new WeakMap,C0),ov=new QS;function XS(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var JS=GS;function ZS(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=JS;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var mt=ZS(),Rr,Jn,Lr,E0,e2=(E0=class extends Rl{constructor(){super();ne(this,Rr,!0);ne(this,Jn,void 0);ne(this,Lr,void 0);J(this,Lr,t=>{if(!Ll&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,Jn)||this.setEventListener(_(this,Lr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Jn))==null||t.call(this),J(this,Jn,void 0))}setEventListener(t){var n;J(this,Lr,t),(n=_(this,Jn))==null||n.call(this),J(this,Jn,t(this.setOnline.bind(this)))}setOnline(t){_(this,Rr)!==t&&(J(this,Rr,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return _(this,Rr)}},Rr=new WeakMap,Jn=new WeakMap,Lr=new WeakMap,E0),al=new e2;function t2(e){return Math.min(1e3*2**e,3e4)}function lv(e){return(e??"online")==="online"?al.isOnline():!0}var au=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cv(e){let t=!1,n=0,s;const i=XS(),a=()=>i.status!=="pending",o=g=>{var y;if(!a()){const x=new au(g);h(x),(y=e.onCancel)==null||y.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>ov.isFocused()&&(e.networkMode==="always"||al.isOnline())&&e.canRun(),u=()=>lv(e.networkMode)&&e.canRun(),m=g=>{a()||(s==null||s(),i.resolve(g))},h=g=>{a()||(s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=x=>{(a()||d())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,a()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(a())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(m).catch(x=>{var T;if(a())return;const v=e.retry??(Ll?0:3),w=e.retryDelay??t2,j=typeof w=="function"?w(n,x):w,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(t||!S){h(x);return}n++,(T=e.onFail)==null||T.call(e,n,x),HS(j).then(()=>d()?void 0:f()).then(()=>{t?h(x):p()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),i)}}var Ds,P0,dv=(P0=class{constructor(){ne(this,Ds,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$S(this.gcTime)&&J(this,Ds,su.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ll?1/0:5*60*1e3))}clearGcTimeout(){_(this,Ds)&&(su.clearTimeout(_(this,Ds)),J(this,Ds,void 0))}},Ds=new WeakMap,P0),Fs,Or,Rt,Gs,Ke,ha,zs,Jt,jn,T0,n2=(T0=class extends dv{constructor(t){super();ne(this,Jt);ne(this,Fs,void 0);ne(this,Or,void 0);ne(this,Rt,void 0);ne(this,Gs,void 0);ne(this,Ke,void 0);ne(this,ha,void 0);ne(this,zs,void 0);J(this,zs,!1),J(this,ha,t.defaultOptions),this.setOptions(t.options),this.observers=[],J(this,Gs,t.client),J(this,Rt,_(this,Gs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,J(this,Fs,bf(this.options)),this.state=t.state??_(this,Fs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Ke))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,ha),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=bf(this.options);n.data!==void 0&&(this.setState(vf(n.data,n.dataUpdatedAt)),J(this,Fs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Rt).remove(this)}setData(t,n){const s=WS(this.state.data,t,this.options);return st(this,Jt,jn).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){st(this,Jt,jn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=_(this,Ke))==null?void 0:s.promise;return(i=_(this,Ke))==null||i.cancel(t),n?n.then(Xt).catch(Xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Fs))}isActive(){return this.observers.some(t=>US(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Um||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ru(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!BS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Ke))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Ke))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,Rt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,Ke)&&(_(this,zs)?_(this,Ke).cancel({revert:!0}):_(this,Ke).cancelRetry()),this.scheduleGc()),_(this,Rt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Jt,jn).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,u,m,h,f,p,g,y,x,v,w;if(this.state.fetchStatus!=="idle"&&((c=_(this,Ke))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Ke))return _(this,Ke).continueRetry(),_(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const s=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(J(this,zs,!0),s.signal)})},a=()=>{const j=av(this.options,n),T=(()=>{const C={client:_(this,Gs),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return J(this,zs,!1),this.options.persister?this.options.persister(j,T,this):j(T)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,Gs),state:this.state,fetchFn:a};return i(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),J(this,Or,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&st(this,Jt,jn).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),J(this,Ke,cv({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof au&&j.revert&&this.setState({..._(this,Or),fetchStatus:"idle"}),s.abort()},onFail:(j,S)=>{st(this,Jt,jn).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{st(this,Jt,jn).call(this,{type:"pause"})},onContinue:()=>{st(this,Jt,jn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await _(this,Ke).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(h=_(this,Rt).config).onSuccess)==null||f.call(h,j,this),(g=(p=_(this,Rt).config).onSettled)==null||g.call(p,j,this.state.error,this),j}catch(j){if(j instanceof au){if(j.silent)return _(this,Ke).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw st(this,Jt,jn).call(this,{type:"error",error:j}),(x=(y=_(this,Rt).config).onError)==null||x.call(y,j,this),(w=(v=_(this,Rt).config).onSettled)==null||w.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Fs=new WeakMap,Or=new WeakMap,Rt=new WeakMap,Gs=new WeakMap,Ke=new WeakMap,ha=new WeakMap,zs=new WeakMap,Jt=new WeakSet,jn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...s2(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,...vf(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return J(this,Or,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,Rt).notify({query:this,type:"updated",action:t})})},T0);function s2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function bf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function wf(e){return{onFetch:(t,n)=>{var u,m,h,f,p;const s=t.options,i=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=w=>{qS(w,()=>t.signal,()=>g=!0)},x=av(t.options,t.fetchOptions),v=async(w,j,S)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return y(R),R})(),k=await x(C),{maxPages:E}=t.options,P=S?KS:YS;return{pages:P(w.pages,k,E),pageParams:P(w.pageParams,j,E)}};if(i&&a.length){const w=i==="backward",j=w?r2:jf,S={pages:a,pageParams:o},T=j(s,S);l=await v(S,T,w)}else{const w=e??a.length;do{const j=c===0?o[0]??s.initialPageParam:jf(s,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function jf(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function r2(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var pa,mn,at,$s,hn,Vn,M0,i2=(M0=class extends dv{constructor(t){super();ne(this,hn);ne(this,pa,void 0);ne(this,mn,void 0);ne(this,at,void 0);ne(this,$s,void 0);J(this,pa,t.client),this.mutationId=t.mutationId,J(this,at,t.mutationCache),J(this,mn,[]),this.state=t.state||a2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,mn).includes(t)||(_(this,mn).push(t),this.clearGcTimeout(),_(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){J(this,mn,_(this,mn).filter(n=>n!==t)),this.scheduleGc(),_(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,mn).length||(this.state.status==="pending"?this.scheduleGc():_(this,at).remove(this))}continue(){var t;return((t=_(this,$s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,m,h,f,p,g,y,x,v,w,j,S,T,C;const n=()=>{st(this,hn,Vn).call(this,{type:"continue"})},s={client:_(this,pa),meta:this.options.meta,mutationKey:this.options.mutationKey};J(this,$s,cv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{st(this,hn,Vn).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{st(this,hn,Vn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,at).canRun(this)}));const i=this.state.status==="pending",a=!_(this,$s).canStart();try{if(i)n();else{st(this,hn,Vn).call(this,{type:"pending",variables:t,isPaused:a}),_(this,at).config.onMutate&&await _(this,at).config.onMutate(t,this,s);const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,s));E!==this.state.context&&st(this,hn,Vn).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const k=await _(this,$s).start();return await((d=(c=_(this,at).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this,s)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,k,t,this.state.context,s)),await((f=(h=_(this,at).config).onSettled)==null?void 0:f.call(h,k,null,this.state.variables,this.state.context,this,s)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,k,null,t,this.state.context,s)),st(this,hn,Vn).call(this,{type:"success",data:k}),k}catch(k){try{await((x=(y=_(this,at).config).onError)==null?void 0:x.call(y,k,t,this.state.context,this,s))}catch(E){Promise.reject(E)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,s))}catch(E){Promise.reject(E)}try{await((S=(j=_(this,at).config).onSettled)==null?void 0:S.call(j,void 0,k,this.state.variables,this.state.context,this,s))}catch(E){Promise.reject(E)}try{await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,k,t,this.state.context,s))}catch(E){Promise.reject(E)}throw st(this,hn,Vn).call(this,{type:"error",error:k}),k}finally{_(this,at).runNext(this)}}},pa=new WeakMap,mn=new WeakMap,at=new WeakMap,$s=new WeakMap,hn=new WeakSet,Vn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{_(this,mn).forEach(s=>{s.onMutationUpdate(t)}),_(this,at).notify({mutation:this,type:"updated",action:t})})},M0);function a2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn,Zt,fa,A0,o2=(A0=class extends Rl{constructor(t={}){super();ne(this,Cn,void 0);ne(this,Zt,void 0);ne(this,fa,void 0);this.config=t,J(this,Cn,new Set),J(this,Zt,new Map),J(this,fa,0)}build(t,n,s){const i=new i2({client:t,mutationCache:this,mutationId:++La(this,fa)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){_(this,Cn).add(t);const n=Za(t);if(typeof n=="string"){const s=_(this,Zt).get(n);s?s.push(t):_(this,Zt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Cn).delete(t)){const n=Za(t);if(typeof n=="string"){const s=_(this,Zt).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&_(this,Zt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Za(t);if(typeof n=="string"){const s=_(this,Zt).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Za(t);if(typeof n=="string"){const i=(s=_(this,Zt).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mt.batch(()=>{_(this,Cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Cn).clear(),_(this,Zt).clear()})}getAll(){return Array.from(_(this,Cn))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>gf(n,s))}findAll(t={}){return this.getAll().filter(n=>gf(t,n))}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xt))))}},Cn=new WeakMap,Zt=new WeakMap,fa=new WeakMap,A0);function Za(e){var t;return(t=e.options.scope)==null?void 0:t.id}var pn,_0,l2=(_0=class extends Rl{constructor(t={}){super();ne(this,pn,void 0);this.config=t,J(this,pn,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??Bm(i,n);let o=this.get(a);return o||(o=new n2({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,pn).has(t.queryHash)||(_(this,pn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,pn).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,pn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,pn).get(t)}getAll(){return[..._(this,pn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>ff(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>ff(t,s)):n}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pn=new WeakMap,_0),_e,Zn,es,Dr,Fr,ts,Gr,zr,I0,c2=(I0=class{constructor(e={}){ne(this,_e,void 0);ne(this,Zn,void 0);ne(this,es,void 0);ne(this,Dr,void 0);ne(this,Fr,void 0);ne(this,ts,void 0);ne(this,Gr,void 0);ne(this,zr,void 0);J(this,_e,e.queryCache||new l2),J(this,Zn,e.mutationCache||new o2),J(this,es,e.defaultOptions||{}),J(this,Dr,new Map),J(this,Fr,new Map),J(this,ts,0)}mount(){La(this,ts)._++,_(this,ts)===1&&(J(this,Gr,ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,_e).onFocus())})),J(this,zr,al.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,_e).onOnline())})))}unmount(){var e,t;La(this,ts)._--,_(this,ts)===0&&((e=_(this,Gr))==null||e.call(this),J(this,Gr,void 0),(t=_(this,zr))==null||t.call(this),J(this,zr,void 0))}isFetching(e){return _(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,_e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,_e).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ru(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return _(this,_e).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=_(this,_e).get(s.queryHash),a=i==null?void 0:i.state.data,o=zS(t,a);if(o!==void 0)return _(this,_e).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return mt.batch(()=>_(this,_e).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,_e).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,_e);mt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,_e);return mt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=mt.batch(()=>_(this,_e).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Xt).catch(Xt)}invalidateQueries(e,t={}){return mt.batch(()=>(_(this,_e).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=mt.batch(()=>_(this,_e).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Xt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,_e).build(this,t);return n.isStaleByTime(ru(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xt).catch(Xt)}fetchInfiniteQuery(e){return e.behavior=wf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xt).catch(Xt)}ensureInfiniteQueryData(e){return e.behavior=wf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return al.isOnline()?_(this,Zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,_e)}getMutationCache(){return _(this,Zn)}getDefaultOptions(){return _(this,es)}setDefaultOptions(e){J(this,es,e)}setQueryDefaults(e,t){_(this,Dr).set(ra(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,Dr).values()],n={};return t.forEach(s=>{ia(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){_(this,Fr).set(ra(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,Fr).values()],n={};return t.forEach(s=>{ia(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Um&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,_e).clear(),_(this,Zn).clear()}},_e=new WeakMap,Zn=new WeakMap,es=new WeakMap,Dr=new WeakMap,Fr=new WeakMap,ts=new WeakMap,Gr=new WeakMap,zr=new WeakMap,I0),d2=b.createContext(void 0),u2=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(d2.Provider,{value:e,children:t}));const Nf=e=>{let t;const n=new Set,s=(u,m)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(p=>p(t,f))}},i=()=>t,c={setState:s,getState:i,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},d=t=e(s,i,c);return c},m2=e=>e?Nf(e):Nf;var uv={exports:{}},mv={},hv={exports:{}},pv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=b;function h2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p2=typeof Object.is=="function"?Object.is:h2,f2=Kr.useState,g2=Kr.useEffect,y2=Kr.useLayoutEffect,x2=Kr.useDebugValue;function v2(e,t){var n=t(),s=f2({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return y2(function(){i.value=n,i.getSnapshot=t,_c(i)&&a({inst:i})},[e,n,t]),g2(function(){return _c(i)&&a({inst:i}),e(function(){_c(i)&&a({inst:i})})},[e]),x2(n),n}function _c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!p2(e,n)}catch{return!0}}function b2(e,t){return t()}var w2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b2:v2;pv.useSyncExternalStore=Kr.useSyncExternalStore!==void 0?Kr.useSyncExternalStore:w2;hv.exports=pv;var j2=hv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=b,N2=j2;function S2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k2=typeof Object.is=="function"?Object.is:S2,C2=N2.useSyncExternalStore,E2=Ol.useRef,P2=Ol.useEffect,T2=Ol.useMemo,M2=Ol.useDebugValue;mv.useSyncExternalStoreWithSelector=function(e,t,n,s,i){var a=E2(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=T2(function(){function c(f){if(!d){if(d=!0,u=f,f=s(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return m=p}return m=f}if(p=m,k2(u,f))return p;var g=s(f);return i!==void 0&&i(p,g)?(u=f,p):(u=f,m=g)}var d=!1,u,m,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,s,i]);var l=C2(e,a[0],a[1]);return P2(function(){o.hasValue=!0,o.value=l},[l]),M2(l),l};uv.exports=mv;var A2=uv.exports;const _2=O0(A2),{useDebugValue:I2}=ae,{useSyncExternalStoreWithSelector:R2}=_2;const L2=e=>e;function O2(e,t=L2,n){const s=R2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return I2(s),s}const Sf=e=>{const t=typeof e=="function"?m2(e):e,n=(s,i)=>O2(t,s,i);return Object.assign(n,t),n},Dl=e=>e?Sf(e):Sf,Lt=[{id:"action",name:"Action",description:"Fast-paced games emphasizing physical challenges",icon:"",color:"from-red-500 to-orange-600",tags:["fast-paced","intense","reflexes","combat"]},{id:"adventure",name:"Adventure",description:"Games focused on exploration and storytelling",icon:"",color:"from-green-500 to-emerald-600",tags:["exploration","story","discovery","puzzle"]},{id:"rpg",name:"RPG",description:"Role-playing games with character progression",icon:"",color:"from-purple-500 to-pink-600",tags:["character-development","story-rich","strategy","fantasy"]},{id:"strategy",name:"Strategy",description:"Games requiring tactical thinking and planning",icon:"",color:"from-blue-500 to-indigo-600",tags:["tactical","planning","resource-management","thinking"]},{id:"simulation",name:"Simulation",description:"Games that simulate real-world activities",icon:"",color:"from-yellow-500 to-amber-600",tags:["realistic","management","building","lifelike"]},{id:"sports",name:"Sports",description:"Games based on athletic competitions",icon:"",color:"from-cyan-500 to-teal-600",tags:["competitive","athletic","team-based","physical"]},{id:"racing",name:"Racing",description:"Games focused on speed and vehicle control",icon:"",color:"from-pink-500 to-rose-600",tags:["speed","vehicles","competition","precision"]},{id:"puzzle",name:"Puzzle",description:"Games that challenge problem-solving skills",icon:"",color:"from-indigo-500 to-purple-600",tags:["brain-teaser","logic","problem-solving","clever"]},{id:"platformer",name:"Platformer",description:"Games involving jumping and navigating platforms",icon:"",color:"from-orange-500 to-red-600",tags:["jumping","precision","navigation","skill-based"]},{id:"fps",name:"FPS",description:"First-person shooter games with perspective-based combat",icon:"",color:"from-red-600 to-pink-700",tags:["shooting","first-person","combat","reflexes"]},{id:"moba",name:"MOBA",description:"Multiplayer online battle arena games",icon:"",color:"from-purple-600 to-indigo-700",tags:["team-based","competitive","strategic","multiplayer"]},{id:"roguelike",name:"Roguelike",description:"Games with procedurally generated levels and permadeath",icon:"",color:"from-gray-600 to-gray-800",tags:["procedural","challenging","randomized","permadeath"]},{id:"horror",name:"Horror",description:"Games designed to scare and unsettle players",icon:"",color:"from-gray-700 to-gray-900",tags:["scary","atmospheric","suspense","dark"]},{id:"indie",name:"Indie",description:"Games developed by independent creators",icon:"",color:"from-lime-500 to-green-600",tags:["unique","creative","independent","experimental"]},{id:"casual",name:"Casual",description:"Easy-to-play games for relaxation",icon:"",color:"from-pink-400 to-purple-500",tags:["relaxing","simple","accessible","time-filler"]},{id:"multiplayer",name:"Multiplayer",description:"Games designed for multiple players",icon:"",color:"from-teal-500 to-cyan-600",tags:["social","teamwork","competitive","community"]}],Ee=[{id:"chill",name:"Chill",description:"Relaxed and laid-back gaming sessions",emoji:"",icon:"",color:"from-blue-400 to-cyan-500",associatedGenres:["casual","simulation","puzzle"],intensity:2},{id:"competitive",name:"Competitive",description:"Intense gaming with focus on winning",emoji:"",icon:"",color:"from-red-500 to-orange-600",associatedGenres:["action","sports","multiplayer"],intensity:8},{id:"story",name:"Story",description:"Immersive narrative experiences",emoji:"",icon:"",color:"from-purple-500 to-pink-600",associatedGenres:["rpg","adventure"],intensity:5},{id:"creative",name:"Creative",description:"Building and expressing creativity",emoji:"",icon:"",color:"from-green-500 to-emerald-600",associatedGenres:["simulation","casual","puzzle"],intensity:6},{id:"social",name:"Social",description:"Playing and connecting with others",emoji:"",icon:"",color:"from-teal-500 to-cyan-600",associatedGenres:["multiplayer","sports","casual"],intensity:5},{id:"focused",name:"Focused",description:"Deep concentration and strategic thinking",emoji:"",icon:"",color:"from-indigo-500 to-purple-600",associatedGenres:["strategy","puzzle","rpg"],intensity:7},{id:"energetic",name:"Energetic",description:"High-energy, exciting gameplay",emoji:"",icon:"",color:"from-yellow-500 to-orange-600",associatedGenres:["action","racing","platformer"],intensity:9},{id:"exploratory",name:"Exploratory",description:"Discovering new worlds and secrets",emoji:"",icon:"",color:"from-green-500 to-teal-600",associatedGenres:["adventure","rpg","simulation"],intensity:5}],D2=[{id:"cozy",name:"Cozy",category:"gameplay",description:"Comforting and relaxing gameplay",color:"text-amber-400"},{id:"sweaty",name:"Sweaty",category:"gameplay",description:"Intense and challenging gameplay",color:"text-red-400"},{id:"story-heavy",name:"Story-Heavy",category:"gameplay",description:"Rich narrative focus",color:"text-purple-400"},{id:"sandbox",name:"Sandbox",category:"gameplay",description:"Open-ended creative freedom",color:"text-green-400"},{id:"roguelike",name:"Roguelike",category:"gameplay",description:"Procedural generation with permadeath",color:"text-orange-400"},{id:"turn-based",name:"Turn-Based",category:"gameplay",description:"Strategic, non-real-time gameplay",color:"text-blue-400"},{id:"real-time",name:"Real-Time",category:"gameplay",description:"Continuous action gameplay",color:"text-red-500"},{id:"pixel-perfect",name:"Pixel-Perfect",category:"gameplay",description:"Precise platforming or controls",color:"text-pink-400"},{id:"atmospheric",name:"Atmospheric",category:"atmosphere",description:"Immersive and mood-setting",color:"text-indigo-400"},{id:"relaxing",name:"Relaxing",category:"atmosphere",description:"Calming and stress-free",color:"text-cyan-400"},{id:"intense",name:"Intense",category:"atmosphere",description:"High-stakes and exciting",color:"text-red-600"},{id:"mysterious",name:"Mysterious",category:"atmosphere",description:"Intriguing and enigmatic",color:"text-purple-600"},{id:"wholesome",name:"Wholesome",category:"atmosphere",description:"Heartwarming and positive",color:"text-pink-300"},{id:"dark",name:"Dark",category:"atmosphere",description:"Mature and serious themes",color:"text-gray-600"},{id:"easy",name:"Easy",category:"difficulty",description:"Accessible and forgiving",color:"text-green-500"},{id:"challenging",name:"Challenging",category:"difficulty",description:"Tests player skills",color:"text-orange-500"},{id:"brutal",name:"Brutal",category:"difficulty",description:"Extremely difficult",color:"text-red-700"},{id:"single-player",name:"Single-Player",category:"social",description:"Solo gaming experience",color:"text-blue-500"},{id:"co-op",name:"Co-op",category:"social",description:"Cooperative multiplayer",color:"text-teal-500"},{id:"pvp",name:"PvP",category:"social",description:"Player versus player",color:"text-red-500"},{id:"community-driven",name:"Community-Driven",category:"social",description:"Relies on player community",color:"text-purple-500"},{id:"fantasy",name:"Fantasy",category:"theme",description:"Magic and mythical settings",color:"text-purple-400"},{id:"sci-fi",name:"Sci-Fi",category:"theme",description:"Science fiction settings",color:"text-cyan-400"},{id:"modern",name:"Modern",category:"theme",description:"Contemporary settings",color:"text-gray-400"},{id:"historical",name:"Historical",category:"theme",description:"Historical periods",color:"text-amber-600"},{id:"post-apocalyptic",name:"Post-Apocalyptic",category:"theme",description:"End-of-world scenarios",color:"text-gray-700"},{id:"backlog",name:"Backlog",category:"gameplay",description:"Games to play later",color:"text-yellow-400"}],F2={Action:"action",Adventure:"adventure",RPG:"rpg",Strategy:"strategy",Simulation:"simulation",Sports:"sports",Racing:"racing",Indie:"indie",Casual:"casual","Massively Multiplayer":"multiplayer",Family:"family","Board Games":"board-games",Educational:"educational","Free to Play":"free-to-play","Early Access":"early-access","Animation & Modeling":"animation","Design & Illustration":"design",Accounting:"accounting","Audio Production":"audio-production","Video Production":"video-production",Utilities:"utilities","Web Publishing":"web-publishing","Game Development":"game-development",Movie:"movie",Documentary:"documentary",Software:"software",Tutorial:"tutorial"},G2={action:["competitive","energetic","focused"],adventure:["exploratory","story","creative"],rpg:["story","focused","creative"],strategy:["focused","competitive"],simulation:["creative","chill"],sports:["competitive","energetic","social"],racing:["energetic","competitive"],puzzle:["focused","creative"],platformer:["energetic","focused"],fps:["competitive","energetic","focused"],moba:["competitive","social","focused"],roguelike:["focused","competitive","creative"],horror:["focused","chill"],indie:["creative","chill"],casual:["chill","creative","social"],multiplayer:["social","competitive"]},z2={competitive:["competitive"],pvp:["competitive"],multiplayer:["competitive","social"],"team-based":["competitive","social"],esports:["competitive"],fps:["competitive","energetic"],shooter:["competitive","energetic"],"battle royale":["competitive"],fighting:["competitive"],rts:["competitive","focused"],"fast-paced":["energetic"],action:["energetic","competitive"],intense:["energetic","competitive"],arcade:["energetic"],racing:["energetic"],sports:["energetic","competitive"],creative:["creative"],building:["creative"],sandbox:["creative"],crafting:["creative"],moddable:["creative"],"level editor":["creative"],"design & illustration":["creative"],"game development":["creative"],"story rich":["story"],narrative:["story"],rpg:["story","creative"],adventure:["story","exploratory"],atmospheric:["story","chill"],exploration:["exploratory"],"open world":["exploratory","creative"],strategy:["focused"],tactical:["focused"],puzzle:["focused"],"turn-based":["focused"],simulation:["focused","creative"],management:["focused"],casual:["chill"],relaxing:["chill"],"family friendly":["chill","social"],educational:["chill","creative"],"hidden object":["chill"],"match 3":["chill"],"co-op":["social"],cooperative:["social"],"local co-op":["social"],mmorpg:["social"],"online co-op":["social"],"local multiplayer":["social"]},$2={"Single-player":["focused","chill"],"Multi-player":["social","competitive"],"Co-op":["social"],MMO:["social","competitive"],"In-App Purchases":["competitive"],"Captions available":["chill"],"Commentary available":["creative"],"Steam Workshop":["creative"],"Steam Cloud":["chill"],Stats:["competitive"],Achievements:["competitive"],"Steam Leaderboards":["competitive"],"Trading Cards":["social"],"Partial Controller Support":["casual"],"Full controller support":["chill"],"VR Support":["energetic","creative"]},B2=e=>F2[e]||"unknown",U2=(e,t,n,s)=>{const i=[];e.forEach(d=>{const u=G2[d]||[];i.push(...u)}),t&&t.forEach(d=>{const u=z2[d.toLowerCase()]||[];i.push(...u)}),n&&n.forEach(d=>{const u=$2[d]||[];i.push(...u)}),s&&(s>100?i.push("focused"):s<10&&i.push("chill"));const a=[...new Set(i)],o=["chill","competitive","creative","energetic","story","social","focused","exploratory"],l=a.filter(d=>o.includes(d));return l.length>0?l.slice(0,3):["chill"]},V2=(e,t)=>{var u,m,h,f,p,g,y;const n=((u=t==null?void 0:t.genres)==null?void 0:u.map(x=>x.description))||[],s=n.map(B2).filter(x=>x!=="unknown"),i=s.length>0?s:H2(e.name),a=((m=t==null?void 0:t.tags)==null?void 0:m.map(x=>x.description))||[],o=((h=t==null?void 0:t.categories)==null?void 0:h.map(x=>x.description))||[],l=e.playtime_forever,c=U2(i,a,o,l),d=[...i,...c,...a.slice(0,5),"steam-imported"];return{appId:e.appid,title:e.name,description:(t==null?void 0:t.short_description)||(t==null?void 0:t.about_the_game)||void 0,coverImage:`https://cdn.akamai.steamstatic.com/steam/apps/${e.appid}/library_600x900.jpg`,genres:i.map(x=>Lt.find(w=>w.id===x)||{id:x,name:x.charAt(0).toUpperCase()+x.slice(1),description:`${x} games`,icon:"",color:"from-gray-500 to-gray-600",tags:[x]}),platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:c,moods:c,playStatus:"backlog",hoursPlayed:Math.floor(e.playtime_forever/60),addedAt:new Date().toISOString(),isFavorite:!1,tags:d,releaseYear:(f=t==null?void 0:t.release_date)!=null&&f.date?new Date(t.release_date.date).getFullYear():new Date().getFullYear(),steamData:{appid:e.appid,steamGenres:n,steamTags:a,steamCategories:o,categories:((p=t==null?void 0:t.categories)==null?void 0:p.map(x=>x.description))||[],developers:(t==null?void 0:t.developers)||[],publishers:(t==null?void 0:t.publishers)||[],releaseDate:(g=t==null?void 0:t.release_date)==null?void 0:g.date,screenshots:(t==null?void 0:t.screenshots)||[],movies:(t==null?void 0:t.movies)||[],recommendations:(t==null?void 0:t.recommendations)||0,price_overview:(t==null?void 0:t.price_overview)||{},platforms:(t==null?void 0:t.platforms)||[],metacritic:(t==null?void 0:t.metacritic)||{},reviews:(t==null?void 0:t.reviews)||{},dlcs:(t==null?void 0:t.dlcs)||[],metacriticScore:(y=t==null?void 0:t.metacritic)==null?void 0:y.score,isFree:(t==null?void 0:t.is_free)||!1,supportedLanguages:(t==null?void 0:t.supported_languages)||[]}}},H2=e=>{const t=e.toLowerCase();return t.includes("racing")||t.includes("drive")||t.includes("speed")?["racing"]:t.includes("football")||t.includes("soccer")||t.includes("basketball")?["sports"]:t.includes("puzzle")||t.includes("match")?["puzzle"]:t.includes("strategy")||t.includes("tactics")?["strategy"]:["indie"]},wo="https://gamepilot-main.up.railway.app",Vm=e=>{const t=e.startsWith("/")?e.slice(1):e;return`${wo.endsWith("/")?wo.slice(0,-1):wo}/${t}`},kf={baseURL:wo,credentials:"include",headers:{"Content-Type":"application/json"}},je=async(e,t={})=>{const n=Vm(e),s={...kf,...t,headers:{...kf.headers,...t.headers}};return fetch(n,s)};class fi extends Error{constructor(t,n,s){super(n),this.type=t,this.details=s,this.name="SteamImportError"}}class jo{static async retryWithBackoff(t,n=3,s=1e3){for(let i=1;i<=n;i++)try{return await t()}catch(a){if(i===n)throw a;const o=s*Math.pow(2,i-1),l=Math.random()*.1*o,c=o+l;console.warn(`Steam API attempt ${i} failed, retrying in ${Math.round(c)}ms:`,a),await new Promise(d=>setTimeout(d,c))}throw new Error("Max retries exceeded")}static async fetchOwnedGames(t,n){return this.retryWithBackoff(async()=>{try{const s=`${this.BACKUP_API_BASE}/games?steamId=${encodeURIComponent(t)}&apiKey=${encodeURIComponent(n)}`;console.log(" Using backend Steam proxy:",s);const i=await fetch(s,{signal:AbortSignal.timeout(15e3)});if(!i.ok)throw i.status===400?new fi("INVALID_STEAM_ID","Invalid Steam ID","Please check your Steam ID"):i.status===500?new fi("STEAM_API_ERROR","Steam API error","Steam API is temporarily unavailable"):new Error(`Backend proxy error: ${i.status}`);const a=await i.json();if(console.log(" Backend proxy returned:",a),!a.games||!Array.isArray(a.games))throw new fi("INVALID_RESPONSE","Invalid response from backend","Please try again");return a.games.filter(o=>o.name&&o.appid)}catch(s){throw s instanceof fi?s:(console.error(" Steam proxy error:",s),new fi("NETWORK_ERROR","Failed to connect to Steam API","Please check your internet connection and try again"))}},3,1e3)}static async fetchGameDetails(t){return this.retryWithBackoff(async()=>{try{const n=`${this.STEAM_STORE_BASE}?appids=${t}&format=json`,a=(await(await fetch(n,{signal:AbortSignal.timeout(8e3)})).json())[t];return a&&a.success&&a.data?a.data:null}catch(n){return console.warn(`Failed to fetch details for app ${t}:`,n),null}},2,500)}static normalizeSteamGame(t,n){var d,u,m,h,f,p;const s=new Date,i=Math.floor(t.playtime_forever/60),a=t.rtime_last_played?new Date(t.rtime_last_played*1e3):void 0;let o="unplayed";i>0&&(i<2?o="playing":i<20?o="completed":o="playing");const l=((d=n==null?void 0:n.genres)==null?void 0:d.map(g=>({id:g.id.toLowerCase(),name:g.description,color:"#8b5cf6",subgenres:[]})))||[],c=n!=null&&n.platforms?[...n.platforms.windows?[{id:"pc",name:"PC",code:"pc",isConnected:!1}]:[],...n.platforms.mac?[{id:"mac",name:"Mac",code:"mac",isConnected:!1}]:[],...n.platforms.linux?[{id:"linux",name:"Linux",code:"linux",isConnected:!1}]:[]]:[{id:"pc",name:"PC",code:"pc",isConnected:!1}];return{title:t.name,description:(n==null?void 0:n.short_description)||(n==null?void 0:n.about_the_game)||"",backgroundImages:n!=null&&n.header_image?[n.header_image]:[],coverImage:`https://cdn.akamai.steamstatic.com/steam/apps/${t.appid}/header.jpg`,releaseDate:(u=n==null?void 0:n.release_date)!=null&&u.date?new Date(n.release_date.date):s,developer:((m=n==null?void 0:n.developers)==null?void 0:m[0])||"",publisher:((h=n==null?void 0:n.publishers)==null?void 0:h[0])||"",genres:l,subgenres:[],platforms:c,emotionalTags:[],userRating:0,globalRating:((f=n==null?void 0:n.metacritic)==null?void 0:f.score)||0,playStatus:o,hoursPlayed:i,lastPlayed:a,addedAt:s,notes:"",isFavorite:!1,tags:this.extractTagsFromDetails(n),releaseYear:(p=n==null?void 0:n.release_date)!=null&&p.date?new Date(n.release_date.date).getFullYear():s.getFullYear(),achievements:n!=null&&n.achievements?{unlocked:0,total:n.achievements.total}:void 0,totalPlaytime:i,appId:t.appid}}static extractTagsFromDetails(t){if(!t)return[];const n=[];return t.categories&&t.categories.forEach(s=>{const i=s.description.toLowerCase();(i.includes("multiplayer")||i.includes("co-op"))&&n.push("multiplayer"),i.includes("single-player")&&n.push("single-player"),i.includes("steam")&&n.push("steam"),i.includes("achievement")&&n.push("achievements"),i.includes("trading cards")&&n.push("trading")}),t.genres&&t.genres.forEach(s=>{const i=s.description.toLowerCase();i.includes("action")&&n.push("action"),i.includes("adventure")&&n.push("adventure"),i.includes("rpg")&&n.push("rpg"),i.includes("strategy")&&n.push("strategy"),i.includes("simulation")&&n.push("simulation"),i.includes("sports")&&n.push("sports"),i.includes("racing")&&n.push("racing")}),t.is_free&&n.push("free-to-play"),[...new Set(n)]}static async importSteamLibrary(t,n){try{const s=await je(`api/steam/library/${encodeURIComponent(t)}`);if(!s.ok)throw new Error(`Backend API error: ${s.status}`);const i=await s.json();return i.games&&Array.isArray(i.games)?i.games.map(a=>{const o=a.appid||a.appId||a.steamAppId,l=a.imgLogoUrl||a.imgHeaderUrl||a.coverImage||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/header.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/library_600x900.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/capsule_184x69.jpg`,c=a.categories||[];let d=c.map(f=>f.description).filter(Boolean);if(c.some(f=>f.description.toLowerCase().includes("multiplayer"))&&d.push("Multiplayer"),c.some(f=>f.description.toLowerCase().includes("single-player"))&&d.push("Single Player"),c.some(f=>f.description.toLowerCase().includes("co-op"))&&d.push("Co-op"),d.length===0){const f=a.name.toLowerCase();(f.includes("zombie")||f.includes("dead")||f.includes("resident evil"))&&d.push("Horror","Survival"),(f.includes("rpg")||f.includes("witcher")||f.includes("elder scrolls"))&&d.push("RPG"),(f.includes("shooter")||f.includes("counter-strike")||f.includes("call of duty"))&&d.push("Shooter"),(f.includes("strategy")||f.includes("command")||f.includes("company of heroes"))&&d.push("Strategy"),(f.includes("racing")||f.includes("rocket league"))&&d.push("Racing"),(f.includes("sports")||f.includes("football")||f.includes("wwe"))&&d.push("Sports"),(f.includes("adventure")||f.includes("tomb")||f.includes("assassin"))&&d.push("Adventure"),(f.includes("puzzle")||f.includes("portal"))&&d.push("Puzzle"),(f.includes("simulation")||f.includes("simulator"))&&d.push("Simulation"),d.length===0&&d.push("Action")}const u=c.slice(0,3).map(f=>({id:f.id.toLowerCase(),name:f.description,color:"#8b5cf6",subgenres:[]})),m=Math.floor((a.playtimeForever||0)/60);let h="unplayed";return m>0&&(m<2?h="playing":m<20?h="completed":h="playing"),{title:a.name,description:a.shortDescription||"",backgroundImages:a.backgroundImages||[],coverImage:l,releaseDate:a.releaseDate?new Date(a.releaseDate):new Date,developer:a.developer||"",publisher:a.publisher||"",genres:u,subgenres:[],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:[],userRating:void 0,globalRating:a.metacriticScore?a.metacriticScore:void 0,playStatus:h,hoursPlayed:m,lastPlayed:a.lastPlayed?new Date(a.lastPlayed):void 0,addedAt:new Date,notes:"",isFavorite:!1,tags:d,releaseYear:a.releaseYear?a.releaseYear:new Date().getFullYear(),achievements:a.achievements?{unlocked:a.achievements.unlocked||0,total:a.achievements.total||0}:void 0,totalPlaytime:m,averageRating:void 0,completionPercentage:void 0,appId:o}}):[]}catch(s){return console.error("Failed to import Steam library via backend:",s),[]}}}We(jo,"STEAM_API_BASE","https://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/"),We(jo,"STEAM_STORE_BASE","https://store.steampowered.com/api/appdetails/"),We(jo,"BACKUP_API_BASE","/api/steam");b.createContext(void 0);const kn={success:(e,t,n)=>{console.warn("Toast context not available:",{type:"success",title:e,message:t,duration:n})},error:(e,t,n)=>{console.warn("Toast context not available:",{type:"error",title:e,message:t,duration:n})},warning:(e,t,n)=>{console.warn("Toast context not available:",{type:"warning",title:e,message:t,duration:n})},info:(e,t,n)=>{console.warn("Toast context not available:",{type:"info",title:e,message:t,duration:n})}};class W2{constructor(){}getAuthHeaders(){const t=localStorage.getItem("auth_token");return{...t&&{Authorization:`Bearer ${t}`}}}async launchGame(t,n){var s;try{const i=await je("api/launcher/launch",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({gameId:t,platformCode:n})}),a=await i.json();if(!i.ok)throw new Error(a.error||`HTTP ${i.status}: ${i.statusText}`);if((s=a.data)!=null&&s.launchUrl)try{window.location.href=a.data.launchUrl,setTimeout(()=>{var l;document.visibilityState==="visible"&&kn.warning("Launch Failed",((l=a.data)==null?void 0:l.launchMethod)==="steam"?"Steam may not be installed or running. Please check Steam is available.":"Failed to launch game. Please check the game executable path.")},3e3)}catch(o){return console.error("Failed to launch game:",o),kn.error("Launch Failed","Could not execute launch command"),{...a,success:!1}}return kn.success(a.message||"Game launched successfully"),a}catch(i){console.error("Launch service error:",i);const a=i instanceof Error?i.message:"Unknown error occurred";return kn.error("Launch Failed",a),{success:!1,error:a}}}async endSession(t,n){var s,i;try{const a=await je("api/launcher/session/end",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({sessionId:t,gameId:n})}),o=await a.json();if(!a.ok)throw new Error(o.error||`HTTP ${a.status}: ${a.statusText}`);const l=((s=o.data)==null?void 0:s.durationMinutes)||0,c=((i=o.data)==null?void 0:i.durationHours)||0;let d="Session ended successfully";return l>0&&(c>=1?d=`Session ended: ${c}h ${l%60}m played`:d=`Session ended: ${l} minutes played`),kn.success(d),o}catch(a){console.error("End session error:",a);const o=a instanceof Error?a.message:"Unknown error occurred";return kn.error("Session Error",o),{success:!1,error:o}}}async getActiveSessions(){try{const t=await je("api/launcher/session/active",{method:"GET",headers:this.getAuthHeaders()}),n=await t.json();if(!t.ok)throw new Error(n.error||`HTTP ${t.status}: ${t.statusText}`);return n}catch(t){return console.error("Get active sessions error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async getSessionHistory(t,n=50){try{const s=new URLSearchParams({limit:n.toString()});t&&s.append("gameId",t);const i=await je(`api/launcher/session/history?${s}`,{method:"GET",headers:this.getAuthHeaders()}),a=await i.json();if(!i.ok)throw new Error(a.error||`HTTP ${i.status}: ${i.statusText}`);return a}catch(s){return console.error("Get session history error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async checkSteamAvailability(){try{const t="steam://",n=window.open(t,"_blank","width=1,height=1");return n?(n.close(),!0):!1}catch{return!1}}getLaunchInfo(t){var s;return((s=t.platforms)==null?void 0:s.find(i=>i.code==="steam"))&&t.appId?{canLaunch:!0,method:"steam",url:`steam://rungameid/${t.appId}`}:t.executablePath?{canLaunch:!0,method:"local",url:`file://${t.executablePath}`}:{canLaunch:!0,method:"manual"}}}const br=new W2;class Y2{constructor(){}getAuthHeaders(){const t=localStorage.getItem("auth_token");return{...t&&{Authorization:`Bearer ${t}`}}}async launchGameWithPersonaTracking(t,n){try{await this.logSessionStart(t,n);const s=await br.launchGame(t);return s.success&&this.updatePersonaMetrics(t,"session_start").catch(console.error),s}catch(s){throw console.error("Persona launch error:",s),s}}async endSessionWithPersonaTracking(t,n){var s,i;try{const a=await br.endSession(t,n);return a.success&&n&&await this.updatePersonaMetrics(n,"session_end",{duration:(s=a.data)==null?void 0:s.duration,durationMinutes:(i=a.data)==null?void 0:i.durationMinutes}),a}catch(a){throw console.error("Persona session end error:",a),a}}async logSessionStart(t,n){try{const s={gameId:t,gameMetadata:{title:n.title,genres:n.genres,tags:n.tags,platforms:n.platforms,emotionalTags:n.emotionalTags},context:{timeOfDay:new Date().getHours(),dayOfWeek:new Date().getDay(),previousSessions:await this.getRecentSessionCount(),currentMood:await this.getCurrentMood()}};await je("api/persona/session/start",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(s)})}catch(s){console.error("Failed to log session start:",s)}}async updatePersonaMetrics(t,n,s){try{const i={gameId:t,eventType:n,sessionData:s,timestamp:new Date().toISOString()};await je("api/persona/metrics/update",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(i)})}catch(i){console.error("Failed to update persona metrics:",i)}}async getCurrentMood(){const t=new Date().getHours();return t<12?"energetic":t<17?"focused":t<21?"social":"relaxed"}async getRecentSessionCount(){var t;try{return((t=(await br.getActiveSessions()).data)==null?void 0:t.count)||0}catch{return 0}}async getPersonaMetrics(){try{const t=await je("api/persona/metrics",{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return(await t.json()).data||this.getDefaultMetrics()}catch(t){return console.error("Failed to get persona metrics:",t),this.getDefaultMetrics()}}async getPersonaRecommendations(t=10){try{const n=await je(`api/persona/recommendations?limit=${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return(await n.json()).data||[]}catch(n){return console.error("Failed to get persona recommendations:",n),[]}}async getMoodBasedSuggestions(t,n=5){try{const s=await je(`api/persona/mood-suggestions?mood=${t}&limit=${n}`,{method:"GET",headers:this.getAuthHeaders()});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return(await s.json()).data||[]}catch(s){return console.error("Failed to get mood suggestions:",s),[]}}async getPlayPatternAnalysis(){try{const t=await je("api/persona/pattern-analysis",{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return(await t.json()).data||{patterns:[],recommendations:[],insights:[]}}catch(t){return console.error("Failed to get play pattern analysis:",t),{patterns:[],recommendations:[],insights:[]}}}getDefaultMetrics(){return{totalPlaytime:0,sessionCount:0,averageSessionLength:0,favoriteGenres:[],moodAffinity:[],playstyleIndicators:{competitive:0,exploratory:0,social:0,achievement:0},recentActivity:{lastPlayed:null,streakDays:0,weeklyGoal:10,weeklyProgress:0}}}async getSessionHistory(t=50){var n;try{return((n=(await br.getSessionHistory(void 0,t)).data)==null?void 0:n.sessions)||[]}catch(s){return console.error("Failed to get session history:",s),[]}}calculateEngagementScore(t){if(t.length===0)return 0;const n=new Date,s=t.filter(a=>{const o=new Date(a.startedAt);return(n.getTime()-o.getTime())/(1e3*60*60*24)<=30});let i=0;return s.forEach(a=>{const o=(n.getTime()-new Date(a.startedAt).getTime())/864e5,l=Math.max(0,1-o/30),c=Math.min((a.duration||0)/3600,2);i+=l*c}),Math.min(i*10,100)}async initializeNewUser(t){try{console.log(" Initializing persona for new user:",t);const n=await je("api/persona/initialize",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({userId:t})});if(!n.ok)throw new Error(`Failed to initialize persona: ${n.statusText}`);const s=await n.json();console.log(" Persona initialized successfully:",s),localStorage.setItem("persona_data",JSON.stringify(s.data))}catch(n){console.error(" Failed to initialize persona:",n),this.setFallbackPersona(t)}}async load(t){try{console.log(" Loading persona for user:",t);const n=await je(`api/persona/load/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to load persona: ${n.statusText}`);const s=await n.json();console.log(" Persona loaded successfully:",s),localStorage.setItem("persona_data",JSON.stringify(s.data))}catch(n){console.error(" Failed to load persona:",n),this.setFallbackPersona(t)}}async reset(){try{console.log(" Resetting persona state"),localStorage.removeItem("persona_data");try{await je("api/persona/reset",{method:"POST",headers:this.getAuthHeaders()})}catch(t){console.warn("Backend persona reset failed, but local state cleared:",t)}console.log(" Persona state reset successfully")}catch(t){console.error(" Failed to reset persona:",t),localStorage.removeItem("persona_data")}}setFallbackPersona(t){const n={userId:t,traits:{competitive:.5,exploratory:.5,social:.5,achievement:.5},mood:"neutral",narrativeContext:{playstyle:"balanced",preferences:[],history:[]},createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()};localStorage.setItem("persona_data",JSON.stringify(n)),console.log(" Fallback persona set for user:",t)}getCurrentPersona(){try{const t=localStorage.getItem("persona_data");return t?JSON.parse(t):null}catch(t){return console.error(" Failed to get current persona:",t),null}}isPersonaInitialized(){return!!this.getCurrentPersona()}}const bt=new Y2;class K2{constructor(){}getAuthHeaders(){return{Accept:"application/json"}}async makeRequest(t,n={}){const s=await je(t,{...n,headers:{...this.getAuthHeaders(),...n.headers}});if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.error||`HTTP ${s.status}: ${s.statusText}`)}return s.json()}async getUserGames(){try{return await this.makeRequest("api/games/user")}catch(t){return console.error("GameApiService: getUserGames error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async upsertGames(t){try{return await this.makeRequest("api/launcher/upsert-games",{method:"POST",body:JSON.stringify(t)})}catch(n){return console.error("GameApiService: upsertGames error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async launchGame(t,n){try{return await this.makeRequest("api/launcher/launch",{method:"POST",body:JSON.stringify({gameId:t,platformCode:n})})}catch(s){return console.error("GameApiService: launchGame error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async endSession(t){try{return await this.makeRequest("api/launcher/end-session",{method:"POST",body:JSON.stringify({sessionId:t})})}catch(n){return console.error("GameApiService: endSession error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}}const fv=new K2,gv="gamepilot_library",eo=e=>{try{localStorage.setItem(gv,JSON.stringify(e)),console.log(" Library saved to localStorage as backup")}catch(t){console.warn("Failed to save library to localStorage:",t)}},Cf=()=>{try{const e=localStorage.getItem(gv);if(e){const t=JSON.parse(e);return console.log(" Library loaded from localStorage backup:",t.length),t}}catch(e){console.warn("Failed to load library from localStorage:",e)}return null},q2=async(e,t)=>{const{setIsLoading:n}=be.getState(),{setGames:s}=be.getState().actions;let i=[];try{n(!0),console.log(" useLibraryStore: Calling SteamService.fetchOwnedGames with:",{steamId:e,apiKey:t});const a=await jo.fetchOwnedGames(e,t);console.log(" useLibraryStore: SteamService returned:",a),console.log(" useLibraryStore: Number of games from Steam API:",a.length);const o=a.map(c=>{var u;const d=V2(c);return console.log(" Steam Import - Game:",d.title),console.log(" Steam Import - Assigned moods:",d.moods),console.log(" Steam Import - Genres:",(u=d.genres)==null?void 0:u.map(m=>typeof m=="string"?m:m.name)),{...d,id:void 0}});console.log(" useLibraryStore: Upserting games to database:",o.length);const l=await fv.upsertGames(o);if(l.success&&l.data)i=l.data.games.map(c=>({...c,appId:c.appId||c.appId})),console.log(" useLibraryStore: Successfully upserted games:",i.length),console.log(" useLibraryStore: First database game example:",i[0]);else throw new Error(l.error||"Failed to upsert games to database");return{success:i.length>0,gameCount:i.length,games:i}}catch(a){throw console.error(" useLibraryStore: Steam import failed:",a),a instanceof Error?(console.error(" useLibraryStore: Error message:",a.message),console.error(" useLibraryStore: Error stack:",a.stack)):typeof a=="object"&&a!==null?console.error(" useLibraryStore: Error object details:",JSON.stringify(a,null,2)):console.error(" useLibraryStore: Error type:",typeof a,"value:",a),new Error(a instanceof Error?a.message:typeof a=="string"?a:"Steam import failed: Unknown error")}finally{n(!1),i.length>0&&(console.log(" useLibraryStore: Setting games in store:",i.length),s(i))}},be=Dl()((e,t)=>({games:[],currentSession:null,isLoading:!1,hasLoaded:!1,filters:{genre:null,platform:null,status:null,search:""},intelligence:{selectedMood:"",selectedSessionLength:"",selectedGenres:[],selectedSorting:"",preferredGenres:[],preferredMoods:[],preferredSessionStyle:null},setIsLoading:n=>e({isLoading:n}),setHasLoaded:n=>e({hasLoaded:n}),setGames:n=>e({games:n,hasLoaded:!0}),actions:{addGame:n=>{e(s=>{const i=s.games.find(l=>l.id===n.id),a=s.games.find(l=>l.appId===n.appId);if(i||a)return s;const o=[...s.games,n];return eo(o),{games:o}})},removeGame:n=>{e(s=>{const i=s.games.filter(a=>a.id!==n);return eo(i),{games:i}})},updateGame:(n,s)=>{e(i=>{const a=i.games.map(o=>o.id===n?{...o,...s}:o);return eo(a),{games:a}})},bulkUpdateStatus:(n,s)=>{e(i=>({games:i.games.map(a=>n.includes(a.id)?{...a,playStatus:s}:a)}))},bulkExport:()=>{const n=JSON.stringify(t().games,null,2),s=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download="game-library.json",a.click(),URL.revokeObjectURL(i)},bulkImport:n=>{const s=n.map(i=>({...i,id:crypto.randomUUID(),addedAt:new Date}));e(i=>({games:[...i.games,...s]}))},importSteamLibrary:q2,bulkAddToCategory:(n,s)=>{e(i=>({games:i.games.map(a=>n.includes(a.id)?{...a,tags:Array.from(new Set([...a.tags||[],s]))}:a)}))},deduplicateGames:()=>{e(n=>({games:n.games.filter((i,a,o)=>a===o.findIndex(l=>l.title.toLowerCase()===i.title.toLowerCase()))}))},bulkDelete:n=>{e(s=>({games:s.games.filter(i=>!n.includes(i.id))}))},launchGame:async n=>{console.log(" Frontend Store - launchGame called with gameId:",n);let s=t().games.find(o=>o.id===n);if(!s&&(console.log(" Frontend Store - Game not found by ID, trying appId lookup"),s=t().games.find(o=>{var l;return((l=o.appId)==null?void 0:l.toString())===n}),!s)){console.error(" Frontend Store - Game not found at all!");return}const a=s.platforms.find(o=>o.code==="steam")?"steam":void 0;console.log(" Frontend Store - About to call personaEngineService.launchGameWithPersonaTracking"),console.log(" Frontend Store - Game data:",s.title,s.appId);try{const o=await bt.launchGameWithPersonaTracking(n,s);console.log(" Frontend Store - Persona engine result:",o),o.success&&o.data&&e({currentSession:{gameId:s.id,startedAt:Date.now()}})}catch(o){console.error(" Frontend Store - Persona engine failed:",o);try{console.log(" Frontend Store - Trying fallback launcher service");const l=await br.launchGame(n,a);console.log(" Frontend Store - Launcher service result:",l),l.success&&l.data&&e({currentSession:{gameId:s.id,startedAt:Date.now()}})}catch(l){console.error(" Frontend Store - Fallback launch also failed:",l)}}},endCurrentSession:async()=>{const n=t();if(n.currentSession)try{await bt.endSessionWithPersonaTracking(void 0,n.currentSession.gameId);const s=Date.now()-n.currentSession.startedAt,i=Math.floor(s/6e4);e(a=>({games:a.games.map(o=>{var l;return o.id===((l=a.currentSession)==null?void 0:l.gameId)?{...o,hoursPlayed:(o.hoursPlayed||0)+i/60,lastPlayed:new Date}:o}),currentSession:null}))}catch(s){console.error("Failed to end session with persona tracking:",s);try{await br.endSession(void 0,n.currentSession.gameId);const i=Date.now()-n.currentSession.startedAt,a=Math.floor(i/6e4);e(o=>({games:o.games.map(l=>{var c;return l.id===((c=o.currentSession)==null?void 0:c.gameId)?{...l,hoursPlayed:(l.hoursPlayed||0)+a/60,lastPlayed:new Date}:l}),currentSession:null}))}catch(i){console.error("Fallback session end also failed:",i),e({currentSession:null})}}},setFilter:(n,s)=>{e(i=>({filters:{...i.filters,[n]:s}}))},clearFilters:()=>{e({filters:{genre:null,platform:null,status:null,search:""}})},setGames:n=>{const s=n.map(i=>({...i,tags:i.tags||[]}));e({games:s,hasLoaded:!0}),eo(s)},updateGameStatus:(n,s)=>{e(i=>({games:i.games.map(a=>a.id===n?{...a,playStatus:s}:a)}))},updateGamePlaytime:(n,s)=>{e(i=>({games:i.games.map(a=>a.id===n?{...a,hoursPlayed:s}:a)}))},setHasLoaded:n=>e({hasLoaded:n}),loadGames:async()=>{if(t().hasLoaded){console.log(" Library already loaded, skipping...");return}try{t().setIsLoading(!0),console.log(" Store: Calling getUserGames API...");const n=await fv.getUserGames();if(console.log(" Store: API response:",n),n.success&&n.data)t().actions.setGames(n.data.games),console.log(" Loaded user games from database:",n.data.games.length);else{console.error("Failed to load user games:",n.error);const s=Cf();s&&s.length>0?(t().actions.setGames(s),console.log(" Loaded games from localStorage fallback:",s.length)):t().actions.setGames([])}t().setHasLoaded(!0)}catch(n){console.error("Failed to load games:",n);const s=Cf();s&&s.length>0?(t().actions.setGames(s),console.log(" Loaded games from localStorage fallback after error:",s.length)):t().actions.setGames([]),t().setHasLoaded(!0)}finally{t().setIsLoading(!1)}}},setIntelligenceState:n=>{e(s=>({intelligence:{...s.intelligence,...n}}))}})),ou=new Map,to=e=>{const t=ou.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},Q2=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=ou.get(n.name);if(s)return{type:"tracked",store:e,...s};const i={connection:t.connect(n),stores:{}};return ou.set(n.name,i),{type:"tracked",store:e,...i}},X2=(e,t={})=>(n,s,i)=>{const{enabled:a,anonymousActionType:o,store:l,...c}=t;let d;try{d=(a??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(n,s,i);const{connection:u,...m}=Q2(l,d,c);let h=!0;i.setState=(g,y,x)=>{const v=n(g,y);if(!h)return v;const w=x===void 0?{type:o||"anonymous"}:typeof x=="string"?{type:x}:x;return l===void 0?(u==null||u.send(w,s()),v):(u==null||u.send({...w,type:`${l}/${w.type}`},{...to(c.name),[l]:i.getState()}),v)};const f=(...g)=>{const y=h;h=!1,n(...g),h=y},p=e(i.setState,s,i);if(m.type==="untracked"?u==null||u.init(p):(m.stores[m.store]=i,u==null||u.init(Object.fromEntries(Object.entries(m.stores).map(([g,y])=>[g,g===m.store?p:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const y=i.dispatch;i.dispatch=(...x)=>{y(...x)}}return u.subscribe(g=>{var y;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ic(g.payload,x=>{if(x.type==="__setState"){if(l===void 0){f(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=x.state[l];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&f(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(x)});case"DISPATCH":switch(g.payload.type){case"RESET":return f(p),l===void 0?u==null?void 0:u.init(i.getState()):u==null?void 0:u.init(to(c.name));case"COMMIT":if(l===void 0){u==null||u.init(i.getState());return}return u==null?void 0:u.init(to(c.name));case"ROLLBACK":return Ic(g.state,x=>{if(l===void 0){f(x),u==null||u.init(i.getState());return}f(x[l]),u==null||u.init(to(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ic(g.state,x=>{if(l===void 0){f(x);return}JSON.stringify(i.getState())!==JSON.stringify(x[l])&&f(x[l])});case"IMPORT_STATE":{const{nextLiftedState:x}=g.payload,v=(y=x.computedStates.slice(-1)[0])==null?void 0:y.state;if(!v)return;f(l===void 0?v:v[l]),u==null||u.send(null,x);return}case"PAUSE_RECORDING":return h=!h}return}}),p},yv=X2,Ic=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)};function J2(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,t==null?void 0:t.replacer)),removeItem:i=>n.removeItem(i)}}const aa=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return aa(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return aa(s)(n)}}}},Z2=(e,t)=>(n,s,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},o=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},s,i);const u=aa(a.serialize),m=()=>{const y=a.partialize({...s()});let x;const v=u({state:y,version:a.version}).then(w=>d.setItem(a.name,w)).catch(w=>{x=w});if(x)throw x;return v},h=i.setState;i.setState=(y,x)=>{h(y,x),m()};const f=e((...y)=>{n(...y),m()},s,i);let p;const g=()=>{var y;if(!d)return;o=!1,l.forEach(v=>v(s()));const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,s()))||void 0;return aa(d.getItem.bind(d))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var w;return p=a.merge(v,(w=s())!=null?w:f),n(p,!0),m()}).then(()=>{x==null||x(p,void 0),o=!0,c.forEach(v=>v(p))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(d=y.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},g(),p||f},ek=(e,t)=>(n,s,i)=>{let a={storage:J2(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...t},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},s,i);const u=()=>{const g=a.partialize({...s()});return d.setItem(a.name,{state:g,version:a.version})},m=i.setState;i.setState=(g,y)=>{m(g,y),u()};const h=e((...g)=>{n(...g),u()},s,i);i.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!d)return;o=!1,l.forEach(v=>{var w;return v((w=s())!=null?w:h)});const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(g=s())!=null?g:h))||void 0;return aa(d.getItem.bind(d))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[j,S]=v;if(f=a.merge(S,(w=s())!=null?w:h),n(f,!0),j)return u()}).then(()=>{x==null||x(f,void 0),f=s(),o=!0,c.forEach(v=>v(f))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(d=g.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},a.skipHydration||p(),f||h},tk=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?Z2(e,t):ek(e,t),Hm=tk,nk=Dl()(yv(Hm((e,t)=>({games:[],libraryLoading:!1,libraryError:null,integrations:{steam:{connected:!1},discord:{connected:!1},youtube:{connected:!1}},integrationLoading:!1,userPreferences:{theme:"dark",animations:!0,reducedMotion:!1,language:"en",notifications:{achievements:!0,friendActivity:!0,gameRecommendations:!0}},setGames:n=>e({games:n}),addGame:n=>e(s=>({games:[...s.games,n]})),updateGame:(n,s)=>e(i=>({games:i.games.map(a=>a.id===n?{...a,...s}:a)})),removeGame:n=>e(s=>({games:s.games.filter(i=>i.id!==n)})),setIntegrationStatus:(n,s)=>e(i=>({integrations:{...i.integrations,[n]:{...i.integrations[n],...s}}})),setSteamId:n=>e({currentSteamId:n}),updateUserPreferences:n=>e(s=>({userPreferences:{...s.userPreferences,...n}})),getGamesByStatus:n=>{const{games:s}=t();return s.filter(i=>i.playStatus===n)},getTotalPlaytime:()=>{const{games:n}=t();return n.reduce((s,i)=>s+(i.hoursPlayed||0),0)},getRecentlyPlayed:(n=5)=>{const{games:s}=t();return s.filter(i=>i.lastPlayed).sort((i,a)=>{var o,l;return(((o=a.lastPlayed)==null?void 0:o.getTime())||0)-(((l=i.lastPlayed)==null?void 0:l.getTime())||0)}).slice(0,n)}}),{name:"gamepilot-store",partialize:e=>({games:e.games,userPreferences:e.userPreferences,integrations:e.integrations,currentSteamId:e.currentSteamId})}),{name:"GamePilotStore"})),xv=Dl()(Hm((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,persona:null,login:async(n,s)=>{var a,o,l,c,d,u,m,h,f,p,g;if(!t().isLoading&&!(!n||!s))try{e({isLoading:!0,error:null}),console.log(" Sending login request:",{username:n,passwordLength:s.length});const y=await je("api/auth/login",{method:"POST",body:JSON.stringify({username:n,password:s})});console.log(" Login response status:",y.status);const x=await y.json();if(console.log(" Login response data:",x),y.ok&&x.success){const v={id:x.user.id,username:x.user.username,email:x.user.email,displayName:x.user.displayName||x.user.username,avatar:x.user.avatar||"",bio:x.user.bio||"",location:x.user.location||"",website:x.user.website||"",birthday:x.user.birthday||"",discordTag:x.user.discordTag||"",steamProfile:x.user.steamProfile||"",timezone:x.user.timezone||"UTC",createdAt:new Date(x.user.createdAt),updatedAt:new Date,lastActive:new Date(x.user.lastActive),gamingProfile:{primaryPlatforms:((a=x.user.gamingProfile)==null?void 0:a.primaryPlatforms)||[],genreAffinities:{},playstyleArchetypes:[],moodProfile:{currentMood:((l=(o=x.user.gamingProfile)==null?void 0:o.moodProfile)==null?void 0:l.currentMood)||"neutral",moodHistory:[],moodTriggers:[],moodPreferences:{}},totalPlaytime:((c=x.user.gamingProfile)==null?void 0:c.totalPlaytime)||0,gamesPlayed:((d=x.user.gamingProfile)==null?void 0:d.gamesPlayed)||0,gamesCompleted:((u=x.user.gamingProfile)==null?void 0:u.gamesCompleted)||0,achievementsCount:((m=x.user.gamingProfile)==null?void 0:m.achievementsCount)||0,averageRating:((h=x.user.gamingProfile)==null?void 0:h.averageRating)||0,currentStreak:((f=x.user.gamingProfile)==null?void 0:f.currentStreak)||0,longestStreak:((p=x.user.gamingProfile)==null?void 0:p.longestStreak)||0,favoriteGames:((g=x.user.gamingProfile)==null?void 0:g.favoriteGames)||[]},integrations:x.user.integrations||[],privacy:{profileVisibility:"public",sharePlaytime:!0,shareAchievements:!0,shareGameLibrary:!0,allowFriendRequests:!0,showOnlineStatus:!0},preferences:{theme:"dark",language:"en",notifications:{email:!0,push:!0,achievements:!0,recommendations:!0,friendActivity:!0,platformUpdates:!0},display:{compactMode:!1,showGameCovers:!0,animateTransitions:!0,showRatings:!0}},social:{friends:[],blockedUsers:[],favoriteGenres:[],customTags:[]}};if(e({user:v,isAuthenticated:!0,isLoading:!1,error:null}),v.id){await bt.load(v.id);const w=bt.getCurrentPersona();e({persona:w})}e({isLoading:!1,error:null})}else throw new Error(x.message||"Invalid username or password")}catch(y){console.error(" Login error:",y);const x=y instanceof Error?y.message:"Login failed";return e({error:x,isLoading:!1}),Promise.resolve()}},register:async(n,s,i,a)=>{var l;if(!t().isLoading)try{e({isLoading:!0,error:null});const c=await je("api/auth/register",{method:"POST",body:JSON.stringify({username:n,email:s,password:i,displayName:a||n})}),d=await c.json();if(c.ok&&d.success){if(await t().fetchCurrentUser(),(l=t().user)!=null&&l.id){await bt.initializeNewUser(t().user.id);const u=bt.getCurrentPersona();e({persona:u})}e({isLoading:!1,error:null})}else throw new Error(d.message||"Registration failed")}catch(c){console.error(" Registration error:",c);const d=c instanceof Error?c.message:"Registration failed";return e({error:d,isLoading:!1}),Promise.resolve()}},loginWithSteam:()=>{window.location.href="/api/auth/steam"},logout:async()=>{try{e({isLoading:!0,error:null});const n=await je("api/auth/logout",{method:"GET"});if(n.ok)await bt.reset(),e({user:null,isAuthenticated:!1,isLoading:!1,error:null,persona:null});else throw new Error(`Logout failed: ${n.status} ${n.statusText}`)}catch(n){console.error(" Logout error:",n),e({error:n instanceof Error?n.message:"Logout failed",isLoading:!1})}},fetchCurrentUser:async()=>{var n,s,i,a,o;try{e({isLoading:!0,error:null}),console.log(" Fetching current user...");const l=await je("api/auth/me",{method:"GET"});console.log(" Fetch user response status:",l.status);const c=await l.json();if(console.log(" Fetch user response data:",c),l.ok)if(c.success&&c.data){const d={id:c.data.id,username:c.data.username,email:c.data.email,displayName:c.data.displayName||c.data.username,avatar:c.data.avatar||"",bio:c.data.bio||"",location:c.data.location||"",timezone:c.data.timezone||"UTC",createdAt:new Date(c.data.createdAt),updatedAt:new Date,lastActive:new Date(c.data.lastActive),gamingProfile:{primaryPlatforms:((n=c.data.gamingProfile)==null?void 0:n.primaryPlatforms)||[],genreAffinities:{},playstyleArchetypes:[],moodProfile:{currentMood:((s=c.data.gamingProfile)==null?void 0:s.currentMood)||"neutral",moodHistory:[],moodTriggers:[],moodPreferences:{}},totalPlaytime:((i=c.data.gamingProfile)==null?void 0:i.totalPlaytime)||0,gamesPlayed:((a=c.data.gamingProfile)==null?void 0:a.gamesPlayed)||0,gamesCompleted:0,achievementsCount:((o=c.data.gamingProfile)==null?void 0:o.achievementsCount)||0,averageRating:0,currentStreak:0,longestStreak:0,favoriteGames:[]},integrations:c.data.integrations||[],privacy:{profileVisibility:"public",sharePlaytime:!0,shareAchievements:!0,shareGameLibrary:!0,allowFriendRequests:!0,showOnlineStatus:!0},preferences:{theme:"dark",language:"en",notifications:{email:!0,push:!0,achievements:!0,recommendations:!0,friendActivity:!0,platformUpdates:!0},display:{compactMode:!1,showGameCovers:!0,animateTransitions:!0,showRatings:!0}},social:{friends:[],blockedUsers:[],favoriteGenres:[],customTags:[]}};e({user:d,isAuthenticated:!0,isLoading:!1,error:null})}else e({user:null,isAuthenticated:!1,isLoading:!1,error:null});else if(l.status===401)e({user:null,isAuthenticated:!1,isLoading:!1,error:null});else throw new Error(`Failed to fetch current user: ${l.status} ${l.statusText}`)}catch(l){console.error(" Fetch current user error:",l),e({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},clearError:()=>{e({error:null})},setUser:n=>{e({user:n})},setAuthenticated:n=>{e({isAuthenticated:n})},initializeAuth:()=>{t().fetchCurrentUser()},updateProfile:async n=>{const s=t().user;if(s)try{e({isLoading:!0});const i=await je("api/auth/profile",{method:"PUT",body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to update profile");const a=await i.json();a.success&&e({user:{...s,...n,...a.data}})}catch(i){console.error(" Update profile error:",i),e({error:i instanceof Error?i.message:"Update failed"})}finally{e({isLoading:!1})}},updatePreferences:async n=>{const s=t().user;if(s)try{e({isLoading:!0});const i=await je("api/auth/preferences",{method:"PUT",body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to update preferences");(await i.json()).success&&e({user:{...s,preferences:{...s.preferences,...n}}})}catch(i){console.error(" Update preferences error:",i)}finally{e({isLoading:!1})}},updatePrivacy:async n=>{const s=t().user;if(s)try{e({isLoading:!0});const i=await je("api/auth/privacy",{method:"PUT",body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to update privacy");(await i.json()).success&&e({user:{...s,privacy:{...s.privacy,...n}}})}catch(i){console.error(" Update privacy error:",i)}finally{e({isLoading:!1})}},getPersona:()=>bt.getCurrentPersona(),refreshPersona:async()=>{var n;try{if((n=t().user)!=null&&n.id){await bt.load(t().user.id);const s=bt.getCurrentPersona();e({persona:s})}}catch(s){console.error(" Failed to refresh persona:",s)}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),Ss=()=>{const e=xv();return{user:e.user,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,error:e.error,login:e.login,register:e.register,loginWithSteam:e.loginWithSteam,logout:e.logout,fetchCurrentUser:e.fetchCurrentUser,clearError:e.clearError,setUser:e.setUser,setAuthenticated:e.setAuthenticated,initializeAuth:e.initializeAuth,updateProfile:e.updateProfile}},Wm=b.createContext({});function Ym(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const vv=typeof window<"u",bv=vv?b.useLayoutEffect:b.useEffect,Fl=b.createContext(null);function Km(e,t){e.indexOf(t)===-1&&e.push(t)}function qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bn=(e,t,n)=>n>t?t:n<e?e:n;function Ef(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let ja=()=>{},Xs=()=>{};var R0;typeof process<"u"&&((R0=process.env)==null?void 0:R0.NODE_ENV)!=="production"&&(ja=(e,t,n)=>{!e&&typeof console<"u"&&console.warn(Ef(t,n))},Xs=(e,t,n)=>{if(!e)throw new Error(Ef(t,n))});const Ln={},wv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jv(e){return typeof e=="object"&&e!==null}const Nv=e=>/^0[^.\s]+$/u.test(e);function Qm(e){let t;return()=>(t===void 0&&(t=e()),t)}const $t=e=>e,sk=(e,t)=>n=>t(e(n)),Na=(...e)=>e.reduce(sk),oa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Xm{constructor(){this.subscriptions=[]}add(t){return Km(this.subscriptions,t),()=>qm(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xn=e=>e*1e3,Gt=e=>e/1e3;function Sv(e,t){return t?e*(1e3/t):0}const kv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rk=1e-7,ik=12;function ak(e,t,n,s,i){let a,o,l=0;do o=t+(n-t)/2,a=kv(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>rk&&++l<ik);return o}function Sa(e,t,n,s){if(e===t&&n===s)return $t;const i=a=>ak(a,0,1,e,n);return a=>a===0||a===1?a:kv(i(a),t,s)}const Cv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ev=e=>t=>1-e(1-t),Pv=Sa(.33,1.53,.69,.99),Jm=Ev(Pv),Tv=Cv(Jm),Mv=e=>(e*=2)<1?.5*Jm(e):.5*(2-Math.pow(2,-10*(e-1))),Zm=e=>1-Math.sin(Math.acos(e)),Av=Ev(Zm),_v=Cv(Zm),ok=Sa(.42,0,1,1),lk=Sa(0,0,.58,1),Iv=Sa(.42,0,.58,1),ck=e=>Array.isArray(e)&&typeof e[0]!="number",Rv=e=>Array.isArray(e)&&typeof e[0]=="number",Pf={linear:$t,easeIn:ok,easeInOut:Iv,easeOut:lk,circIn:Zm,circInOut:_v,circOut:Av,backIn:Jm,backInOut:Tv,backOut:Pv,anticipate:Mv},dk=e=>typeof e=="string",Tf=e=>{if(Rv(e)){Xs(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,s,i]=e;return Sa(t,n,s,i)}else if(dk(e))return Xs(Pf[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),Pf[e];return e},no=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mf={value:null,addProjectionMetrics:null};function uk(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(u.schedule(m),e()),c++,m(l)}const u={schedule:(m,h=!1,f=!1)=>{const g=f&&i?n:s;return h&&o.add(m),g.has(m)||g.add(m),m},cancel:m=>{s.delete(m),o.delete(m)},process:m=>{if(l=m,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),t&&Mf.value&&Mf.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(m))}};return u}const mk=40;function Lv(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=no.reduce((w,j)=>(w[j]=uk(a,t?j:void 0),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:h,render:f,postRender:p}=o,g=()=>{const w=Ln.useManualTiming?i.timestamp:performance.now();n=!1,Ln.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(w-i.timestamp,mk),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),m.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(g))},y=()=>{n=!0,s=!0,i.isProcessing||e(g)};return{schedule:no.reduce((w,j)=>{const S=o[j];return w[j]=(T,C=!1,k=!1)=>(n||y(),S.schedule(T,C,k)),w},{}),cancel:w=>{for(let j=0;j<no.length;j++)o[no[j]].cancel(w)},state:i,steps:o}}const{schedule:ye,cancel:ys,state:Ze,steps:Rc}=Lv(typeof requestAnimationFrame<"u"?requestAnimationFrame:$t,!0);let No;function hk(){No=void 0}const ht={now:()=>(No===void 0&&ht.set(Ze.isProcessing||Ln.useManualTiming?Ze.timestamp:performance.now()),No),set:e=>{No=e,queueMicrotask(hk)}},Ov=e=>t=>typeof t=="string"&&t.startsWith(e),Dv=Ov("--"),pk=Ov("var(--"),eh=e=>pk(e)?fk.test(e.split("/*")[0].trim()):!1,fk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Af(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ni={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},la={...ni,transform:e=>bn(0,1,e)},so={...ni,default:1},Ri=e=>Math.round(e*1e5)/1e5,th=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gk(e){return e==null}const yk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nh=(e,t)=>n=>!!(typeof n=="string"&&yk.test(n)&&n.startsWith(e)||t&&!gk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fv=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(th);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xk=e=>bn(0,255,e),Lc={...ni,transform:e=>Math.round(xk(e))},Is={test:nh("rgb","red"),parse:Fv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Lc.transform(e)+", "+Lc.transform(t)+", "+Lc.transform(n)+", "+Ri(la.transform(s))+")"};function vk(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const lu={test:nh("#"),parse:vk,transform:Is.transform},ka=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hn=ka("deg"),vn=ka("%"),W=ka("px"),bk=ka("vh"),wk=ka("vw"),_f=(()=>({...vn,parse:e=>vn.parse(e)/100,transform:e=>vn.transform(e*100)}))(),wr={test:nh("hsl","hue"),parse:Fv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+vn.transform(Ri(t))+", "+vn.transform(Ri(n))+", "+Ri(la.transform(s))+")"},Fe={test:e=>Is.test(e)||lu.test(e)||wr.test(e),parse:e=>Is.test(e)?Is.parse(e):wr.test(e)?wr.parse(e):lu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Is.transform(e):wr.transform(e),getAnimatableNone:e=>{const t=Fe.parse(e);return t.alpha=0,Fe.transform(t)}},jk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nk(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(th))==null?void 0:t.length)||0)+(((n=e.match(jk))==null?void 0:n.length)||0)>0}const Gv="number",zv="color",Sk="var",kk="var(",If="${}",Ck=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ca(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Ck,c=>(Fe.test(c)?(s.color.push(a),i.push(zv),n.push(Fe.parse(c))):c.startsWith(kk)?(s.var.push(a),i.push(Sk),n.push(c)):(s.number.push(a),i.push(Gv),n.push(parseFloat(c))),++a,If)).split(If);return{values:n,split:l,indexes:s,types:i}}function $v(e){return ca(e).values}function Bv(e){const{split:t,types:n}=ca(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===Gv?a+=Ri(i[o]):l===zv?a+=Fe.transform(i[o]):a+=i[o]}return a}}const Ek=e=>typeof e=="number"?0:Fe.test(e)?Fe.getAnimatableNone(e):e;function Pk(e){const t=$v(e);return Bv(e)(t.map(Ek))}const xs={test:Nk,parse:$v,createTransformer:Bv,getAnimatableNone:Pk};function Oc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Tk({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Oc(c,l,e+1/3),a=Oc(c,l,e),o=Oc(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ol(e,t){return n=>n>0?t:e}const Pe=(e,t,n)=>e+(t-e)*n,Dc=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Mk=[lu,Is,wr],Ak=e=>Mk.find(t=>t.test(e));function Rf(e){const t=Ak(e);if(ja(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===wr&&(n=Tk(n)),n}const Lf=(e,t)=>{const n=Rf(e),s=Rf(t);if(!n||!s)return ol(e,t);const i={...n};return a=>(i.red=Dc(n.red,s.red,a),i.green=Dc(n.green,s.green,a),i.blue=Dc(n.blue,s.blue,a),i.alpha=Pe(n.alpha,s.alpha,a),Is.transform(i))},cu=new Set(["none","hidden"]);function _k(e,t){return cu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ik(e,t){return n=>Pe(e,t,n)}function sh(e){return typeof e=="number"?Ik:typeof e=="string"?eh(e)?ol:Fe.test(e)?Lf:Ok:Array.isArray(e)?Uv:typeof e=="object"?Fe.test(e)?Lf:Rk:ol}function Uv(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>sh(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function Rk(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=sh(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function Lk(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=e.values[o]??0;n[i]=l,s[a]++}return n}const Ok=(e,t)=>{const n=xs.createTransformer(t),s=ca(e),i=ca(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?cu.has(e)&&!i.values.length||cu.has(t)&&!s.values.length?_k(e,t):Na(Uv(Lk(s,i),i.values),n):(ja(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ol(e,t))};function Vv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Pe(e,t,n):sh(e)(e,t)}const Dk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ye.update(t,n),stop:()=>ys(t),now:()=>Ze.isProcessing?Ze.timestamp:ht.now()}},Hv=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ll=2e4;function rh(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ll;)t+=n,s=e.next(t);return t>=ll?1/0:t}function Fk(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(rh(s),ll);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:Gt(i)}}const Gk=5;function Wv(e,t,n){const s=Math.max(t-Gk,0);return Sv(n-e(s),t-s)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fc=.001;function zk({duration:e=ke.duration,bounce:t=ke.bounce,velocity:n=ke.velocity,mass:s=ke.mass}){let i,a;ja(e<=xn(ke.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=bn(ke.minDamping,ke.maxDamping,o),e=bn(ke.minDuration,ke.maxDuration,Gt(e)),o<1?(i=d=>{const u=d*o,m=u*e,h=u-n,f=du(d,o),p=Math.exp(-m);return Fc-h/f*p},a=d=>{const m=d*o*e,h=m*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-m),g=du(Math.pow(d,2),o);return(-i(d)+Fc>0?-1:1)*((h-f)*p)/g}):(i=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-Fc+u*m},a=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=Bk(i,a,l);if(e=xn(e),isNaN(c))return{stiffness:ke.stiffness,damping:ke.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const $k=12;function Bk(e,t,n){let s=n;for(let i=1;i<$k;i++)s=s-e(s)/t(s);return s}function du(e,t){return e*Math.sqrt(1-t*t)}const Uk=["duration","bounce"],Vk=["stiffness","damping","mass"];function Of(e,t){return t.some(n=>e[n]!==void 0)}function Hk(e){let t={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...e};if(!Of(e,Vk)&&Of(e,Uk))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*bn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ke.mass,stiffness:i,damping:a}}else{const n=zk(e);t={...t,...n,mass:ke.mass},t.isResolvedFromDuration=!0}return t}function cl(e=ke.visualDuration,t=ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:f}=Hk({...n,velocity:-Gt(n.velocity||0)}),p=h||0,g=d/(2*Math.sqrt(c*u)),y=o-a,x=Gt(Math.sqrt(c/u)),v=Math.abs(y)<5;s||(s=v?ke.restSpeed.granular:ke.restSpeed.default),i||(i=v?ke.restDelta.granular:ke.restDelta.default);let w;if(g<1){const S=du(x,g);w=T=>{const C=Math.exp(-g*x*T);return o-C*((p+g*x*y)/S*Math.sin(S*T)+y*Math.cos(S*T))}}else if(g===1)w=S=>o-Math.exp(-x*S)*(y+(p+x*y)*S);else{const S=x*Math.sqrt(g*g-1);w=T=>{const C=Math.exp(-g*x*T),k=Math.min(S*T,300);return o-C*((p+g*x*y)*Math.sinh(k)+S*y*Math.cosh(k))/S}}const j={calculatedDuration:f&&m||null,next:S=>{const T=w(S);if(f)l.done=S>=m;else{let C=S===0?p:0;g<1&&(C=S===0?xn(p):Wv(w,S,T));const k=Math.abs(C)<=s,E=Math.abs(o-T)<=i;l.done=k&&E}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(rh(j),ll),T=Hv(C=>j.next(S*C).value,S,30);return S+"ms "+T},toTransition:()=>{}};return j}cl.applyToOptions=e=>{const t=Fk(e,100,cl);return e.ease=t.ease,e.duration=xn(t.duration),e.type="keyframes",e};function uu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},f=k=>l!==void 0&&k<l||c!==void 0&&k>c,p=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=n*t;const y=m+g,x=o===void 0?y:o(y);x!==y&&(g=x-m);const v=k=>-g*Math.exp(-k/s),w=k=>x+v(k),j=k=>{const E=v(k),P=w(k);h.done=Math.abs(E)<=d,h.value=h.done?x:P};let S,T;const C=k=>{f(h.value)&&(S=k,T=cl({keyframes:[h.value,p(h.value)],velocity:Wv(w,k,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:k=>{let E=!1;return!T&&S===void 0&&(E=!0,j(k),C(k)),S!==void 0&&k>=S?T.next(k-S):(!E&&j(k),h)}}}function Wk(e,t,n){const s=[],i=n||Ln.mix||Vv,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||$t:t;l=Na(c,l)}s.push(l)}return s}function Yk(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(Xs(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Wk(t,s,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=oa(e[m],e[m+1],u);return l[m](h)};return n?u=>d(bn(e[0],e[a-1],u)):d}function Kk(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=oa(0,t,s);e.push(Pe(n,1,i))}}function qk(e){const t=[0];return Kk(t,e.length-1),t}function Qk(e,t){return e.map(n=>n*t)}function Xk(e,t){return e.map(()=>t||Iv).splice(0,e.length-1)}function Li({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=ck(s)?s.map(Tf):Tf(s),a={done:!1,value:t[0]},o=Qk(n&&n.length===t.length?n:qk(t),e),l=Yk(o,t,{ease:Array.isArray(i)?i:Xk(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Jk=e=>e!==null;function ih(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(Jk),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const Zk={decay:uu,inertia:uu,tween:Li,keyframes:Li,spring:cl};function Yv(e){typeof e.type=="string"&&(e.type=Zk[e.type])}class ah{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const eC=e=>e/100;class oh extends ah{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ht.now()&&this.tick(ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Yv(t);const{type:n=Li,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Li;c!==Li&&typeof l[0]!="number"&&(this.mixKeyframes=Na(eC,Vv(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=rh(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:h,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,j=s;if(m){const k=Math.min(this.currentTime,i)/l;let E=Math.floor(k),P=k%1;!P&&k>=1&&(P=1),P===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(h==="reverse"?(P=1-P,f&&(P-=f/l)):h==="mirror"&&(j=o)),w=bn(0,1,P)*l}const S=v?{done:!1,value:u[0]}:j.next(w);a&&(S.value=a(S.value));let{done:T}=S;!v&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&p!==uu&&(S.value=ih(u,this.options,y,this.speed)),g&&g(S.value),C&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Gt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gt(t)}get time(){return Gt(this.currentTime)}set time(t){var n;t=xn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ht.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gt(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Dk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function tC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rs=e=>e*180/Math.PI,mu=e=>{const t=Rs(Math.atan2(e[1],e[0]));return hu(t)},nC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mu,rotateZ:mu,skewX:e=>Rs(Math.atan(e[1])),skewY:e=>Rs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hu=e=>(e=e%360,e<0&&(e+=360),e),Df=mu,Ff=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Gf=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ff,scaleY:Gf,scale:e=>(Ff(e)+Gf(e))/2,rotateX:e=>hu(Rs(Math.atan2(e[6],e[5]))),rotateY:e=>hu(Rs(Math.atan2(-e[2],e[0]))),rotateZ:Df,rotate:Df,skewX:e=>Rs(Math.atan(e[4])),skewY:e=>Rs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pu(e){return e.includes("scale")?1:0}function fu(e,t){if(!e||e==="none")return pu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=sC,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=nC,i=l}if(!i)return pu(t);const a=s[t],o=i[1].split(",").map(iC);return typeof a=="function"?a(o):o[a]}const rC=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return fu(n,t)};function iC(e){return parseFloat(e.trim())}const si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=(()=>new Set(si))(),zf=e=>e===ni||e===W,aC=new Set(["x","y","z"]),oC=si.filter(e=>!aC.has(e));function lC(e){const t=[];return oC.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const is={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>fu(t,"x"),y:(e,{transform:t})=>fu(t,"y")};is.translateX=is.x;is.translateY=is.y;const Vs=new Set;let gu=!1,yu=!1,xu=!1;function Kv(){if(yu){const e=Array.from(Vs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=lC(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yu=!1,gu=!1,Vs.forEach(e=>e.complete(xu)),Vs.clear()}function qv(){Vs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yu=!0)})}function cC(){xu=!0,qv(),Kv(),xu=!1}class lh{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vs.add(this),gu||(gu=!0,ye.read(qv),ye.resolveKeyframes(Kv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}tC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vs.delete(this)}cancel(){this.state==="scheduled"&&(Vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dC=e=>e.startsWith("--");function uC(e,t,n){dC(t)?e.style.setProperty(t,n):e.style[t]=n}const mC=Qm(()=>window.ScrollTimeline!==void 0),hC={};function pC(e,t){const n=Qm(e);return()=>hC[t]??n()}const Qv=pC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ni=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,$f={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ni([0,.65,.55,1]),circOut:Ni([.55,0,1,.45]),backIn:Ni([.31,.01,.66,-.59]),backOut:Ni([.33,1.53,.69,.99])};function Xv(e,t){if(e)return typeof e=="function"?Qv()?Hv(e,t):"ease-out":Rv(e)?Ni(e):Array.isArray(e)?e.map(n=>Xv(n,t)||$f.easeOut):$f[e]}function fC(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const m=Xv(l,i);Array.isArray(m)&&(u.easing=m);const h={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(u,h)}function Jv(e){return typeof e=="function"&&"applyToOptions"in e}function gC({type:e,...t}){return Jv(e)&&Qv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yC extends ah{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Xs(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const d=gC(t);this.animation=fC(n,s,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=ih(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):uC(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Gt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gt(t)}get time(){return Gt(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=xn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&mC()?(this.animation.timeline=t,$t):n(this)}}const Zv={anticipate:Mv,backInOut:Tv,circInOut:_v};function xC(e){return e in Zv}function vC(e){typeof e.ease=="string"&&xC(e.ease)&&(e.ease=Zv[e.ease])}const Gc=10;class bC extends yC{constructor(t){vC(t),Yv(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new oh({...o,autoplay:!1}),c=Math.max(Gc,ht.now()-this.startTime),d=bn(0,Gc,c-Gc);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const Bf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xs.test(e)||e==="0")&&!e.startsWith("url("));function wC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function jC(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Bf(i,t),l=Bf(a,t);return ja(o===l,`You are trying to animate ${t} from "${i}" to "${a}". "${o?a:i}" is not an animatable value.`,"value-not-animatable"),!o||!l?!1:wC(e)||(n==="spring"||Jv(n))&&s}function vu(e){e.duration=0,e.type="keyframes"}const NC=new Set(["opacity","clipPath","filter","transform"]),SC=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kC(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return SC()&&n&&NC.has(n)&&(n!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const CC=40;class EC extends ah{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){var p;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=ht.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...m},f=(u==null?void 0:u.KeyframeResolver)||lh;this.keyframeResolver=new f(l,(g,y,x)=>this.onKeyframesResolved(g,y,h,!x),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,s,i){var y,x;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=ht.now(),jC(t,a,o,l)||((Ln.instantAnimations||!c)&&(u==null||u(ih(t,s,n))),t[0]=t[t.length-1],vu(s),s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>CC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},f=!d&&kC(h),p=(x=(y=h.motionValue)==null?void 0:y.owner)==null?void 0:x.current,g=f?new bC({...h,element:p}):new oh(h);g.finished.then(()=>{this.notifyFinished()}).catch($t),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),cC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function eb(e,t,n,s=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:l-a*s}const PC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TC(e){const t=PC.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}const MC=4;function tb(e,t,n=1){Xs(n<=MC,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[s,i]=TC(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return wv(o)?parseFloat(o):o}return eh(i)?tb(i,t,n+1):i}const AC={type:"spring",stiffness:500,damping:25,restSpeed:10},_C=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IC={type:"keyframes",duration:.8},RC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LC=(e,{keyframes:t})=>t.length>2?IC:ri.has(e)?e.startsWith("scale")?_C(t[1]):AC:RC,OC=e=>e!==null;function DC(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(OC),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}function ch(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function FC({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const dh=(e,t,n,s={},i,a)=>o=>{const l=ch(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-xn(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};FC(l)||Object.assign(u,LC(e,u)),u.duration&&(u.duration=xn(u.duration)),u.repeatDelay&&(u.repeatDelay=xn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(vu(u),u.delay===0&&(m=!0)),(Ln.instantAnimations||Ln.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(m=!0,vu(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const h=DC(u.keyframes,l);if(h!==void 0){ye.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new oh(u):new EC(u)};function Uf(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function uh(e,t,n,s){if(typeof t=="function"){const[i,a]=Uf(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Uf(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ar(e,t,n){const s=e.getProps();return uh(s,t,n!==void 0?n:s.custom,e)}const nb=new Set(["width","height","top","left","right","bottom",...si]),Vf=30,GC=e=>!isNaN(parseFloat(e));class zC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=ht.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ht.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xm);const s=this.events[t].add(n);return t==="change"?()=>{s(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vf);return Sv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qr(e,t){return new zC(e,t)}const bu=e=>Array.isArray(e);function $C(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qr(n))}function BC(e){return bu(e)?e[e.length-1]||0:e}function UC(e,t){const n=Ar(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=BC(a[o]);$C(e,o,l)}}const ct=e=>!!(e&&e.getVelocity);function VC(e){return!!(ct(e)&&e.add)}function wu(e,t){const n=e.getValue("willChange");if(VC(n))return n.add(t);if(!n&&Ln.WillChange){const s=new Ln.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function mh(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const HC="framerAppearId",sb="data-"+mh(HC);function rb(e){return e.props[sb]}function WC({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ib(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;const c=a==null?void 0:a.reduceMotion;s&&(a=s);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const m in l){const h=e.getValue(m,e.latestValues[m]??null),f=l[m];if(f===void 0||u&&WC(u,m))continue;const p={delay:n,...ch(a||{},m)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=rb(e);if(w){const j=window.MotionHandoffAnimation(w,m,ye);j!==null&&(p.startTime=j,y=!0)}}wu(e,m);const x=c??e.shouldReduceMotion;h.start(dh(m,h,f,x&&nb.has(m)?{type:!1}:p,e,y));const v=h.animation;v&&d.push(v)}return o&&Promise.all(d).then(()=>{ye.update(()=>{o&&UC(e,o)})}),d}function ju(e,t,n={}){var c;const s=Ar(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(ib(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return YC(e,t,d,u,m,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function YC(e,t,n=0,s=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(ju(c,t,{...o,delay:n+(typeof s=="function"?0:s)+eb(e.variantChildren,c,s,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function KC(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>ju(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=ju(e,t,n);else{const i=typeof t=="function"?Ar(e,t,n.custom):t;s=Promise.all(ib(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const qC={test:e=>e==="auto",parse:e=>e},ab=e=>t=>t.test(e),ob=[ni,W,vn,Hn,wk,bk,qC],Hf=e=>ob.find(ab(e));function QC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Nv(e):!0}const XC=new Set(["brightness","contrast","saturate","opacity"]);function JC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(th)||[];if(!s)return e;const i=n.replace(s,"");let a=XC.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const ZC=/\b([a-z-]*)\(.*?\)/gu,Nu={...xs,getAnimatableNone:e=>{const t=e.match(ZC);return t?t.map(JC).join(" "):e}},Wf={...ni,transform:Math.round},eE={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:so,scaleX:so,scaleY:so,scaleZ:so,skew:Hn,skewX:Hn,skewY:Hn,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:la,originX:_f,originY:_f,originZ:W},hh={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,inset:W,insetBlock:W,insetBlockStart:W,insetBlockEnd:W,insetInline:W,insetInlineStart:W,insetInlineEnd:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,paddingBlock:W,paddingBlockStart:W,paddingBlockEnd:W,paddingInline:W,paddingInlineStart:W,paddingInlineEnd:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,marginBlock:W,marginBlockStart:W,marginBlockEnd:W,marginInline:W,marginInlineStart:W,marginInlineEnd:W,fontSize:W,backgroundPositionX:W,backgroundPositionY:W,...eE,zIndex:Wf,fillOpacity:la,strokeOpacity:la,numOctaves:Wf},tE={...hh,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Nu,WebkitFilter:Nu},lb=e=>tE[e];function cb(e,t){let n=lb(e);return n!==Nu&&(n=xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nE=new Set(["auto","none","0"]);function sE(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!nE.has(a)&&ca(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=cb(n,i)}class rE extends lh{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let m=t[u];if(typeof m=="string"&&(m=m.trim(),eh(m))){const h=tb(m,n.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!nb.has(s)||t.length!==2)return;const[i,a]=t,o=Hf(i),l=Hf(a),c=Af(i),d=Af(a);if(c!==d&&is[s]){this.needsMeasurement=!0;return}if(o!==l)if(zf(o)&&zf(l))for(let u=0;u<t.length;u++){const m=t[u];typeof m=="string"&&(t[u]=parseFloat(m))}else is[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||QC(t[i]))&&s.push(i);s.length&&sE(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=is[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=is[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function iE(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const db=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Su(e){return jv(e)&&"offsetHeight"in e}const{schedule:ph,cancel:q_}=Lv(queueMicrotask,!1),qt={x:!1,y:!1};function ub(){return qt.x||qt.y}function aE(e){return e==="x"||e==="y"?qt[e]?null:(qt[e]=!0,()=>{qt[e]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}function mb(e,t){const n=iE(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Yf(e){return!(e.pointerType==="touch"||ub())}function oE(e,t,n={}){const[s,i,a]=mb(e,n),o=l=>{if(!Yf(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{Yf(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const hb=(e,t)=>t?e===t?!0:hb(e,t.parentElement):!1,fh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cE(e){return lE.has(e.tagName)||e.isContentEditable===!0}const dE=new Set(["INPUT","SELECT","TEXTAREA"]);function uE(e){return dE.has(e.tagName)||e.isContentEditable===!0}const So=new WeakSet;function Kf(e){return t=>{t.key==="Enter"&&e(t)}}function zc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mE=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Kf(()=>{if(So.has(n))return;zc(n,"down");const i=Kf(()=>{zc(n,"up")}),a=()=>zc(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function qf(e){return fh(e)&&!ub()}function hE(e,t,n={}){const[s,i,a]=mb(e,n),o=l=>{const c=l.currentTarget;if(!qf(l))return;So.add(c);const d=t(c,l),u=(f,p)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),So.has(c)&&So.delete(c),qf(f)&&typeof d=="function"&&d(f,{success:p})},m=f=>{u(f,c===window||c===document||n.useGlobalTarget||hb(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",h,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),Su(l)&&(l.addEventListener("focus",d=>mE(d,i)),!cE(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function pb(e){return jv(e)&&"ownerSVGElement"in e}function pE(e){return pb(e)&&e.tagName==="svg"}const fE=[...ob,Fe,xs],gE=e=>fE.find(ab(e)),Qf=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:Qf(),y:Qf()}),Xf=()=>({min:0,max:0}),Ue=()=>({x:Xf(),y:Xf()}),ku={current:null},fb={current:!1},yE=typeof window<"u";function xE(){if(fb.current=!0,!!yE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ku.current=e.matches;e.addEventListener("change",t),t()}else ku.current=!1}const vE=new WeakMap;function Gl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function da(e){return typeof e=="string"||Array.isArray(e)}const gh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yh=["initial",...gh];function zl(e){return Gl(e.animate)||yh.some(t=>da(e[t]))}function gb(e){return!!(zl(e)||e.variants)}function bE(e,t,n){for(const s in t){const i=t[s],a=n[s];if(ct(i))e.addValue(s,i);else if(ct(a))e.addValue(s,qr(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,qr(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Jf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dl={};function yb(e){dl=e}function wE(){return dl}class jE{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=lh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ht.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ye.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=zl(n),this.isVariantNode=gb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];d[f]!==void 0&&ct(p)&&p.set(d[f])}}mount(t){var n;this.current=t,vE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(fb.current||xE(),this.shouldReduceMotion=ku.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ri.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ye.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dl){const n=dl[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Jf.length;s++){const i=Jf[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=bE(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=qr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(wv(s)||Nv(s))?s=parseFloat(s):!gE(s)&&xs.test(n)&&(s=cb(t,n)),this.setBaseTarget(t,ct(s)?s.get():s)),ct(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=uh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ct(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ph.render(this.render)}}class xb extends jE{constructor(){super(...arguments),this.KeyframeResolver=rE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ct(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}function vb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function NE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function $c(e){return e===void 0||e===1}function Cu({scale:e,scaleX:t,scaleY:n}){return!$c(e)||!$c(t)||!$c(n)}function Ts(e){return Cu(e)||bb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bb(e){return Zf(e.x)||Zf(e.y)}function Zf(e){return e&&e!=="0%"}function ul(e,t,n){const s=e-n,i=t*s;return n+i}function eg(e,t,n,s,i){return i!==void 0&&(e=ul(e,i,s)),ul(e,n,s)+t}function Eu(e,t=0,n=1,s,i){e.min=eg(e.min,t,n,s,i),e.max=eg(e.max,t,n,s,i)}function wb(e,{x:t,y:n}){Eu(e.x,t.translate,t.scale,t.originPoint),Eu(e.y,n.translate,n.scale,n.originPoint)}const tg=.999999999999,ng=1.0000000000001;function kE(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wb(e,o)),s&&Ts(a.latestValues)&&Sr(e,a.latestValues))}t.x<ng&&t.x>tg&&(t.x=1),t.y<ng&&t.y>tg&&(t.y=1)}function Nr(e,t){e.min=e.min+t,e.max=e.max+t}function sg(e,t,n,s,i=.5){const a=Pe(e.min,e.max,i);Eu(e,t,n,a,s)}function Sr(e,t){sg(e.x,t.x,t.scaleX,t.scale,t.originX),sg(e.y,t.y,t.scaleY,t.scale,t.originY)}function jb(e,t){return vb(SE(e.getBoundingClientRect(),t))}function CE(e,t,n){const s=jb(e,n),{scroll:i}=t;return i&&(Nr(s.x,i.offset.x),Nr(s.y,i.offset.y)),s}const EE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PE=si.length;function TE(e,t,n){let s="",i=!0;for(let a=0;a<PE;a++){const o=si[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);c=o.startsWith("scale")?d===1:d===0}if(!c||n){const d=db(l,hh[o]);if(!c){i=!1;const u=EE[o]||o;s+=`${u}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function xh(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ri.has(c)){o=!0;continue}else if(Dv(c)){i[c]=d;continue}else{const u=db(d,hh[c]);c.startsWith("origin")?(l=!0,a[c]=u):s[c]=u}}if(t.transform||(o||n?s.transform=TE(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${d} ${u}`}}function Nb(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function rg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const gi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(W.test(e))e=parseFloat(e);else return e;const n=rg(e,t.target.x),s=rg(e,t.target.y);return`${n}% ${s}%`}},ME={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=xs.parse(e);if(i.length>5)return s;const a=xs.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Pe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},Pu={borderRadius:{...gi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gi,borderTopRightRadius:gi,borderBottomLeftRadius:gi,borderBottomRightRadius:gi,boxShadow:ME};function Sb(e,{layout:t,layoutId:n}){return ri.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pu[e]||e==="opacity")}function vh(e,t,n){var o;const s=e.style,i=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(ct(s[l])||i&&ct(i[l])||Sb(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function AE(e){return window.getComputedStyle(e)}class _E extends xb{constructor(){super(...arguments),this.type="html",this.renderInstance=Nb}readValueFromInstance(t,n){var s;if(ri.has(n))return(s=this.projection)!=null&&s.isProjecting?pu(n):rC(t,n);{const i=AE(t),a=(Dv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jb(t,n)}build(t,n,s){xh(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return vh(t,n,s)}}const IE={offset:"stroke-dashoffset",array:"stroke-dasharray"},RE={offset:"strokeDashoffset",array:"strokeDasharray"};function LE(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?IE:RE;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const OE=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kb(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(xh(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h}=e;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox);for(const f of OE)m[f]!==void 0&&(h[f]=m[f],delete m[f]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&LE(m,i,a,o,!1)}const Cb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Eb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DE(e,t,n,s){Nb(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Cb.has(i)?i:mh(i),t.attrs[i])}function Pb(e,t,n){const s=vh(e,t,n);for(const i in e)if(ct(e[i])||ct(t[i])){const a=si.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}class FE extends xb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ri.has(n)){const s=lb(n);return s&&s.default||0}return n=Cb.has(n)?n:mh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Pb(t,n,s)}build(t,n,s){kb(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){DE(t,n,s,i)}mount(t){this.isSVGTag=Eb(t.tagName),super.mount(t)}}const GE=yh.length;function Tb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Tb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<GE;n++){const s=yh[n],i=e.props[s];(da(i)||i===!1)&&(t[s]=i)}return t}function Mb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const zE=[...gh].reverse(),$E=gh.length;function BE(e){return t=>Promise.all(t.map(({animation:n,options:s})=>KC(e,n,s)))}function UE(e){let t=BE(e),n=ig(),s=!0;const i=c=>(d,u)=>{var h;const m=Ar(e,u,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:p,...g}=m;d={...d,...g,...p}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=Tb(e.parent)||{},m=[],h=new Set;let f={},p=1/0;for(let y=0;y<$E;y++){const x=zE[y],v=n[x],w=d[x]!==void 0?d[x]:u[x],j=da(w),S=x===c?v.isActive:null;S===!1&&(p=y);let T=w===u[x]&&w!==d[x]&&j;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...f},!v.isActive&&S===null||!w&&!v.prevProp||Gl(w)||typeof w=="boolean")continue;const C=VE(v.prevProp,w);let k=C||x===c&&v.isActive&&!T&&j||y>p&&j,E=!1;const P=Array.isArray(w)?w:[w];let R=P.reduce(i(x),{});S===!1&&(R={});const{prevResolvedValues:$={}}=v,U={...$,...R},q=Y=>{k=!0,h.has(Y)&&(E=!0,h.delete(Y)),v.needsAnimating[Y]=!0;const A=e.getValue(Y);A&&(A.liveStyle=!1)};for(const Y in U){const A=R[Y],F=$[Y];if(f.hasOwnProperty(Y))continue;let L=!1;bu(A)&&bu(F)?L=!Mb(A,F):L=A!==F,L?A!=null?q(Y):h.add(Y):A!==void 0&&h.has(Y)?q(Y):v.protectedKeys[Y]=!0}v.prevProp=w,v.prevResolvedValues=R,v.isActive&&(f={...f,...R}),s&&e.blockInitialAnimation&&(k=!1);const ee=T&&C;k&&(!ee||E)&&m.push(...P.map(Y=>{const A={type:x};if(typeof Y=="string"&&s&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,L=Ar(F,Y);if(F.enteringChildren&&L){const{delayChildren:G}=L.transition||{};A.delay=eb(F.enteringChildren,e,G)}}return{animation:Y,options:A}}))}if(h.size){const y={};if(typeof d.initial!="boolean"){const x=Ar(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const v=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),y[x]=v??null}),m.push({animation:y})}let g=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(m):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ig()}}}function VE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Mb(t,e):!1}function Cs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ig(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}function ag(e,t){e.min=t.min,e.max=t.max}function Ht(e,t){ag(e.x,t.x),ag(e.y,t.y)}function og(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Ab=1e-4,HE=1-Ab,WE=1+Ab,_b=.01,YE=0-_b,KE=0+_b;function pt(e){return e.max-e.min}function qE(e,t,n){return Math.abs(e-t)<=n}function lg(e,t,n,s=.5){e.origin=s,e.originPoint=Pe(t.min,t.max,e.origin),e.scale=pt(n)/pt(t),e.translate=Pe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=HE&&e.scale<=WE||isNaN(e.scale))&&(e.scale=1),(e.translate>=YE&&e.translate<=KE||isNaN(e.translate))&&(e.translate=0)}function Oi(e,t,n,s){lg(e.x,t.x,n.x,s?s.originX:void 0),lg(e.y,t.y,n.y,s?s.originY:void 0)}function cg(e,t,n){e.min=n.min+t.min,e.max=e.min+pt(t)}function QE(e,t,n){cg(e.x,t.x,n.x),cg(e.y,t.y,n.y)}function dg(e,t,n){e.min=t.min-n.min,e.max=e.min+pt(t)}function ml(e,t,n){dg(e.x,t.x,n.x),dg(e.y,t.y,n.y)}function ug(e,t,n,s,i){return e-=t,e=ul(e,1/n,s),i!==void 0&&(e=ul(e,1/i,s)),e}function XE(e,t=0,n=1,s=.5,i,a=e,o=e){if(vn.test(t)&&(t=parseFloat(t),t=Pe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Pe(a.min,a.max,s);e===a&&(l-=t),e.min=ug(e.min,t,n,l,i),e.max=ug(e.max,t,n,l,i)}function mg(e,t,[n,s,i],a,o){XE(e,t[n],t[s],t[i],t.scale,a,o)}const JE=["x","scaleX","originX"],ZE=["y","scaleY","originY"];function hg(e,t,n,s){mg(e.x,t,JE,n?n.x:void 0,s?s.x:void 0),mg(e.y,t,ZE,n?n.y:void 0,s?s.y:void 0)}function pg(e){return e.translate===0&&e.scale===1}function Ib(e){return pg(e.x)&&pg(e.y)}function fg(e,t){return e.min===t.min&&e.max===t.max}function e5(e,t){return fg(e.x,t.x)&&fg(e.y,t.y)}function gg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rb(e,t){return gg(e.x,t.x)&&gg(e.y,t.y)}function yg(e){return pt(e.x)/pt(e.y)}function xg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function It(e){return[e("x"),e("y")]}function t5(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:f,skewY:p}=n;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),m&&(s+=`rotateX(${m}deg) `),h&&(s+=`rotateY(${h}deg) `),f&&(s+=`skewX(${f}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Lb=["TopLeft","TopRight","BottomLeft","BottomRight"],n5=Lb.length,vg=e=>typeof e=="string"?parseFloat(e):e,bg=e=>typeof e=="number"||W.test(e);function s5(e,t,n,s,i,a){i?(e.opacity=Pe(0,n.opacity??1,r5(s)),e.opacityExit=Pe(t.opacity??1,0,i5(s))):a&&(e.opacity=Pe(t.opacity??1,n.opacity??1,s));for(let o=0;o<n5;o++){const l=`border${Lb[o]}Radius`;let c=wg(t,l),d=wg(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||bg(c)===bg(d)?(e[l]=Math.max(Pe(vg(c),vg(d),s),0),(vn.test(d)||vn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Pe(t.rotate||0,n.rotate||0,s))}function wg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const r5=Ob(0,.5,Av),i5=Ob(.5,.95,$t);function Ob(e,t,n){return s=>s<e?0:s>t?1:n(oa(e,t,s))}function a5(e,t,n){const s=ct(e)?e:qr(e);return s.start(dh("",s,t,n)),s.animation}function ua(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const o5=(e,t)=>e.depth-t.depth;class l5{constructor(){this.children=[],this.isDirty=!1}add(t){Km(this.children,t),this.isDirty=!0}remove(t){qm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o5),this.isDirty=!1,this.children.forEach(t)}}function c5(e,t){const n=ht.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(ys(s),e(a-t))};return ye.setup(s,!0),()=>ys(s)}function ko(e){return ct(e)?e.get():e}class d5{constructor(){this.members=[]}add(t){Km(this.members,t),t.scheduleRender()}remove(t){if(qm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,a=t.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Co={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bc=["","X","Y","Z"],u5=1e3;let m5=0;function Uc(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Db(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=rb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Db(s)}function Fb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=m5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f5),this.nodes.forEach(v5),this.nodes.forEach(b5),this.nodes.forEach(g5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new l5)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xm),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=pb(o)&&!pE(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,m=0;const h=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{m=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==m&&(m=f,this.root.updateBlockedByResize=!0,u&&u(),u=c5(h,250),Co.hasAnimatedSinceResize&&(Co.hasAnimatedSinceResize=!1,this.nodes.forEach(Sg)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||k5,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!Rb(this.targetLayout,f),v=!m&&h;if(this.options.layoutRoot||this.resumeFrom||v||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...ch(p,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,v)}else m||Sg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(w5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ng);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(x5),this.nodes.forEach(h5),this.nodes.forEach(p5)):this.nodes.forEach(Ng),this.clearAllSnapshots();const l=ht.now();Ze.delta=bn(0,1e3/60,l-Ze.timestamp),Ze.timestamp=l,Ze.isProcessing=!0,Rc.update.process(Ze),Rc.preRender.process(Ze),Rc.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ph.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y5),this.sharedNodes.forEach(j5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pt(this.snapshot.measuredBox.x)&&!pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ib(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ts(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),C5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ue();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(E5))){const{scroll:u}=this.root;u&&(Nr(l.x,u.offset.x),Nr(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Ue();if(Ht(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Ht(l,o),Nr(l.x,m.offset.x),Nr(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Ue();Ht(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Sr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ts(u.latestValues)&&Sr(c,u.latestValues)}return Ts(this.latestValues)&&Sr(c,this.latestValues),c}removeTransform(o){const l=Ue();Ht(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ts(d.latestValues))continue;Cu(d.latestValues)&&d.updateSnapshot();const u=Ue(),m=d.measurePageBox();Ht(u,m),hg(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ts(this.latestValues)&&hg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!this.layout||!(u||m))return;this.resolvedRelativeTargetAt=Ze.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ht(this.target,this.layout.layoutBox),wb(this.target,this.targetDelta)):Ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Cu(this.parent.latestValues)||bb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ml(this.relativeTargetOrigin,l,c),Ht(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ht(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;kE(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ue());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(og(this.prevProjectionDelta.x,this.projectionDelta.x),og(this.prevProjectionDelta.y,this.projectionDelta.y)),Oi(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!xg(this.projectionDelta.x,this.prevProjectionDelta.x)||!xg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ue(),f=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(S5));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;kg(m.x,o.x,S),kg(m.y,o.y,S),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N5(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&e5(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ue()),Ht(w,this.relativeTarget)),g&&(this.animationValues=u,s5(u,d,this.latestValues,S,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Co.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qr(0)),this.currentAnimation=a5(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Gb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ue();const m=pt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=pt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ht(l,c),Sr(l,u),Oi(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new d5),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Uc("z",o,d,this.animationValues);for(let u=0;u<Bc.length;u++)Uc(`rotate${Bc[u]}`,o,d,this.animationValues),Uc(`skew${Bc[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ko(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ko(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=t5(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),o.transform=m;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Pu){if(u[p]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=Pu[p],v=m==="none"?u[p]:g(u[p],d);if(y){const w=y.length;for(let j=0;j<w;j++)o[y[j]]=v}else x?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=d===this?ko(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(jg),this.root.sharedNodes.clear()}}}function h5(e){e.updateLayout()}function p5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?It(m=>{const h=o?t.measuredBox[m]:t.layoutBox[m],f=pt(h);h.min=s[m].min,h.max=h.min+f}):Gb(a,t.layoutBox,s)&&It(m=>{const h=o?t.measuredBox[m]:t.layoutBox[m],f=pt(s[m]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+f)});const l=jr();Oi(l,s,t.layoutBox);const c=jr();o?Oi(c,e.applyTransform(i,!0),t.measuredBox):Oi(c,s,t.layoutBox);const d=!Ib(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const p=Ue();ml(p,t.layoutBox,h.layoutBox);const g=Ue();ml(g,s,f.layoutBox),Rb(p,g)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function f5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y5(e){e.clearSnapshot()}function jg(e){e.clearMeasurements()}function Ng(e){e.isLayoutDirty=!1}function x5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function v5(e){e.resolveTargetDelta()}function b5(e){e.calcProjection()}function w5(e){e.resetSkewAndRotation()}function j5(e){e.removeLeadSnapshot()}function kg(e,t,n){e.translate=Pe(t.translate,0,n),e.scale=Pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cg(e,t,n,s){e.min=Pe(t.min,n.min,s),e.max=Pe(t.max,n.max,s)}function N5(e,t,n,s){Cg(e.x,t.x,n.x,s),Cg(e.y,t.y,n.y,s)}function S5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k5={duration:.45,ease:[.4,0,.1,1]},Eg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Pg=Eg("applewebkit/")&&!Eg("chrome/")?Math.round:$t;function Tg(e){e.min=Pg(e.min),e.max=Pg(e.max)}function C5(e){Tg(e.x),Tg(e.y)}function Gb(e,t,n){return e==="position"||e==="preserve-aspect"&&!qE(yg(t),yg(n),.2)}function E5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const P5=Fb({attachResizeListener:(e,t)=>ua(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Vc={current:void 0},zb=Fb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vc.current){const e=new P5({});e.mount(window),e.setOptions({layoutScroll:!0}),Vc.current=e}return Vc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bh=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Mg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function T5(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Mg(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Mg(e[i],null)}}}}function M5(...e){return b.useCallback(T5(...e),e)}class A5 extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Su(s)&&s.offsetWidth||0,a=Su(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function _5({children:e,isPresent:t,anchorX:n,anchorY:s,root:i}){var m;const a=b.useId(),o=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=b.useContext(bh),d=((m=e.props)==null?void 0:m.ref)??(e==null?void 0:e.ref),u=M5(o,d);return b.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:g,right:y,bottom:x}=l.current;if(t||!o.current||!h||!f)return;const v=n==="left"?`left: ${g}`:`right: ${y}`,w=s==="bottom"?`bottom: ${x}`:`top: ${p}`;o.current.dataset.motionPopId=a;const j=document.createElement("style");c&&(j.nonce=c);const S=i??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${v}px !important;
            ${w}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),r.jsx(A5,{isPresent:t,childRef:o,sizeRef:l,children:b.cloneElement(e,{ref:u})})}const I5=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:c,root:d})=>{const u=Ym(R5),m=b.useId();let h=!0,f=b.useMemo(()=>(h=!1,{id:m,initial:t,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;s&&s()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,s]);return a&&h&&(f={...f}),b.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(_5,{isPresent:n,anchorX:l,anchorY:c,root:d,children:e})),r.jsx(Fl.Provider,{value:f,children:e})};function R5(){return new Map}function $b(e=!0){const t=b.useContext(Fl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=b.useId();b.useEffect(()=>{if(e)return i(a)},[e]);const o=b.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const ro=e=>e.key||"";function Ag(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const L5=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[u,m]=$b(o),h=b.useMemo(()=>Ag(e),[e]),f=o&&!u?[]:h.map(ro),p=b.useRef(!0),g=b.useRef(h),y=Ym(()=>new Map),x=b.useRef(new Set),[v,w]=b.useState(h),[j,S]=b.useState(h);bv(()=>{p.current=!1,g.current=h;for(let k=0;k<j.length;k++){const E=ro(j[k]);f.includes(E)?(y.delete(E),x.current.delete(E)):y.get(E)!==!0&&y.set(E,!1)}},[j,f.length,f.join("-")]);const T=[];if(h!==v){let k=[...h];for(let E=0;E<j.length;E++){const P=j[E],R=ro(P);f.includes(R)||(k.splice(E,0,P),T.push(P))}return a==="wait"&&T.length&&(k=T),S(Ag(k)),w(h),null}const{forceRender:C}=b.useContext(Wm);return r.jsx(r.Fragment,{children:j.map(k=>{const E=ro(k),P=o&&!u?!1:h===j||f.includes(E),R=()=>{if(x.current.has(E))return;if(x.current.add(E),y.has(E))y.set(E,!0);else return;let $=!0;y.forEach(U=>{U||($=!1)}),$&&(C==null||C(),S(g.current),o&&(m==null||m()),s&&s())};return r.jsx(I5,{isPresent:P,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:P?void 0:R,anchorX:l,anchorY:c,children:k},E)})})},Bb=b.createContext({strict:!1}),_g={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ig=!1;function O5(){if(Ig)return;const e={};for(const t in _g)e[t]={isEnabled:n=>_g[t].some(s=>!!n[s])};yb(e),Ig=!0}function Ub(){return O5(),wE()}function D5(e){const t=Ub();for(const n in e)t[n]={...t[n],...e[n]};yb(t)}const F5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||F5.has(e)}let Vb=e=>!hl(e);function G5(e){typeof e=="function"&&(Vb=t=>t.startsWith("on")?!hl(t):e(t))}try{G5(require("@emotion/is-prop-valid").default)}catch{}function z5(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Vb(i)||n===!0&&hl(i)||!t&&!hl(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const $l=b.createContext({});function $5(e,t){if(zl(e)){const{initial:n,animate:s}=e;return{initial:n===!1||da(n)?n:void 0,animate:da(s)?s:void 0}}return e.inherit!==!1?t:{}}function B5(e){const{initial:t,animate:n}=$5(e,b.useContext($l));return b.useMemo(()=>({initial:t,animate:n}),[Rg(t),Rg(n)])}function Rg(e){return Array.isArray(e)?e.join(" "):e}const wh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hb(e,t,n){for(const s in t)!ct(t[s])&&!Sb(s,n)&&(e[s]=t[s])}function U5({transformTemplate:e},t){return b.useMemo(()=>{const n=wh();return xh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function V5(e,t){const n=e.style||{},s={};return Hb(s,n,e),Object.assign(s,U5(e,t)),s}function H5(e,t){const n={},s=V5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Wb=()=>({...wh(),attrs:{}});function W5(e,t,n,s){const i=b.useMemo(()=>{const a=Wb();return kb(a,t,Eb(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Hb(a,e.style,e),i.style={...a,...i.style}}return i}const Y5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jh(e){return typeof e!="string"||e.includes("-")?!1:!!(Y5.indexOf(e)>-1||/[A-Z]/u.test(e))}function K5(e,t,n,{latestValues:s},i,a=!1,o){const c=(o??jh(e)?W5:H5)(t,s,i,e),d=z5(t,typeof e=="string",a),u=e!==b.Fragment?{...d,...c,ref:n}:{},{children:m}=t,h=b.useMemo(()=>ct(m)?m.get():m,[m]);return b.createElement(e,{...u,children:h})}function q5({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Q5(n,s,i,e),renderState:t()}}function Q5(e,t,n,s){const i={},a=s(e,{});for(const h in a)i[h]=ko(a[h]);let{initial:o,animate:l}=e;const c=zl(e),d=gb(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Gl(m)){const h=Array.isArray(m)?m:[m];for(let f=0;f<h.length;f++){const p=uh(e,h[f]);if(p){const{transitionEnd:g,transition:y,...x}=p;for(const v in x){let w=x[v];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[v]=w)}for(const v in g)i[v]=g[v]}}}return i}const Yb=e=>(t,n)=>{const s=b.useContext($l),i=b.useContext(Fl),a=()=>q5(e,t,s,i);return n?a():Ym(a)},X5=Yb({scrapeMotionValuesFromProps:vh,createRenderState:wh}),J5=Yb({scrapeMotionValuesFromProps:Pb,createRenderState:Wb}),Z5=Symbol.for("motionComponentSymbol");function eP(e,t,n){const s=b.useRef(n);b.useInsertionEffect(()=>{s.current=n});const i=b.useRef(null);return b.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const Kb=b.createContext({});function Si(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tP(e,t,n,s,i,a){var w,j;const{visualElement:o}=b.useContext($l),l=b.useContext(Bb),c=b.useContext(Fl),d=b.useContext(bh),u=d.reducedMotion,m=d.skipAnimations,h=b.useRef(null),f=b.useRef(!1);s=s||l.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,skipAnimations:m,isSVG:a}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const p=h.current,g=b.useContext(Kb);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&nP(h.current,n,i,g);const y=b.useRef(!1);b.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const x=n[sb],v=b.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return bv(()=>{f.current=!0,p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,x)}),v.current=!1),p.enteringChildren=void 0)}),p}function nP(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:qb(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Si(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function qb(e){if(e)return e.options.allowProjection!==!1?e.projection:qb(e.parent)}function Hc(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&D5(s);const a=n?n==="svg":jh(e),o=a?J5:X5;function l(d,u){let m;const h={...b.useContext(bh),...d,layoutId:sP(d)},{isStatic:f}=h,p=B5(d),g=o(d,f);if(!f&&vv){rP();const y=iP(h);m=y.MeasureLayout,p.visualElement=tP(e,g,h,i,y.ProjectionNode,a)}return r.jsxs($l.Provider,{value:p,children:[m&&p.visualElement?r.jsx(m,{visualElement:p.visualElement,...h}):null,K5(e,d,eP(g,p.visualElement,u),g,f,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[Z5]=e,c}function sP({layoutId:e}){const t=b.useContext(Wm).id;return t&&e!==void 0?t+"-"+e:e}function rP(e,t){b.useContext(Bb).strict}function iP(e){const t=Ub(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function aP(e,t){if(typeof Proxy>"u")return Hc;const n=new Map,s=(a,o)=>Hc(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,Hc(o,void 0,e,t)),n.get(o))})}const oP=(e,t)=>t.isSVG??jh(e)?new FE(t):new _E(t,{allowProjection:e!==b.Fragment});class lP extends ks{constructor(t){super(t),t.animationState||(t.animationState=UE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cP=0;class dP extends ks{constructor(){super(...arguments),this.id=cP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uP={animation:{Feature:lP},exit:{Feature:dP}};function Ca(e){return{point:{x:e.pageX,y:e.pageY}}}const mP=e=>t=>fh(t)&&e(t,Ca(t));function Di(e,t,n,s){return ua(e,t,mP(n),s)}const Qb=({current:e})=>e?e.ownerDocument.defaultView:null,Lg=(e,t)=>Math.abs(e-t);function hP(e,t){const n=Lg(e.x,t.x),s=Lg(e.y,t.y);return Math.sqrt(n**2+s**2)}const Og=new Set(["auto","scroll"]);class Xb{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Yc(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=hP(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=f,{timestamp:x}=Ze;this.history.push({...y,timestamp:x});const{onStart:v,onMove:w}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Wc(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yc(f.type==="pointercancel"?this.lastMoveEventInfo:Wc(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),y&&y(f,v)},!fh(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=Ca(t),d=Wc(c,this.transformPagePoint),{point:u}=d,{timestamp:m}=Ze;this.history=[{...u,timestamp:m}];const{onSessionStart:h}=n;h&&h(t,Yc(d,this.history)),this.removeListeners=Na(Di(this.contextWindow,"pointermove",this.handlePointerMove),Di(this.contextWindow,"pointerup",this.handlePointerUp),Di(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Og.has(s.overflowX)||Og.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),ye.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ys(this.updatePoint)}}function Wc(e,t){return t?{point:t(e.point)}:e}function Dg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yc({point:e},t){return{point:e,delta:Dg(e,Jb(t)),offset:Dg(e,pP(t)),velocity:fP(t,.1)}}function pP(e){return e[0]}function Jb(e){return e[e.length-1]}function fP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Jb(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>xn(t)));)n--;if(!s)return{x:0,y:0};const a=Gt(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Pe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Pe(n,e,s.max):Math.min(e,n)),e}function Fg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yP(e,{top:t,left:n,bottom:s,right:i}){return{x:Fg(e.x,n,i),y:Fg(e.y,t,s)}}function Gg(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function xP(e,t){return{x:Gg(e.x,t.x),y:Gg(e.y,t.y)}}function vP(e,t){let n=.5;const s=pt(e),i=pt(t);return i>s?n=oa(t.min,t.max-s,e.min):s>i&&(n=oa(e.min,e.max-i,t.min)),bn(0,1,n)}function bP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tu=.35;function wP(e=Tu){return e===!1?e=0:e===!0&&(e=Tu),{x:zg(e,"left","right"),y:zg(e,"top","bottom")}}function zg(e,t,n){return{min:$g(e,t),max:$g(e,n)}}function $g(e,t){return typeof e=="number"?e:e[t]||0}const jP=new WeakMap;class NP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{n?(this.stopAnimation(),this.snapToCursor(Ca(m).point)):this.pauseAnimation()},o=(m,h)=>{this.stopAnimation();const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aE(f),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(x=>{let v=this.getAxisMotionValue(x).get()||0;if(vn.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[x];j&&(v=pt(j)*(parseFloat(v)/100))}}this.originPoint[x]=v}),g&&ye.update(()=>g(m,h),!1,!0),wu(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=SP(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&ye.update(()=>y(m,h),!1,!0)},c=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h,this.stop(m,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>It(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Xb(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:Qb(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ye.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!io(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=gP(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Si(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=yP(s.layoutBox,t):this.constraints=!1,this.elastic=wP(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&It(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Si(t))return!1;const s=t.current;Xs(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=CE(s,i.root,this.visualElement.getTransformPagePoint());let o=xP(i.layout.layoutBox,a);if(n){const l=n(NE(o));this.hasMutatedConstraints=!!l,l&&(o=vb(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=It(u=>{if(!io(u,n,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return wu(this.visualElement,t),s.start(dh(t,s,0,n,this.visualElement,!1))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){It(n=>{const{drag:s}=this.getProps();if(!io(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n],c=a.get()||0;a.set(t[n]-Pe(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Si(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};It(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=vP({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),It(o=>{if(!io(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Pe(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;jP.set(this.visualElement,this);const t=this.visualElement.current,n=Di(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps(),m=c.target,h=m!==t&&uE(m);d&&u&&!h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Si(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ye.read(s);const o=ua(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(It(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Tu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function io(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kP extends ks{constructor(t){super(t),this.removeGroupControls=$t,this.removeListeners=$t,this.controls=new NP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$t}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Kc=e=>(t,n)=>{e&&ye.update(()=>e(t,n),!1,!0)};class CP extends ks{constructor(){super(...arguments),this.removePointerDownListener=$t}onPointerDown(t){this.session=new Xb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Kc(t),onStart:Kc(n),onMove:Kc(s),onEnd:(a,o)=>{delete this.session,i&&ye.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Di(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let qc=!1;class EP extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),qc&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),qc=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ye.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ph.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;qc=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zb(e){const[t,n]=$b(),s=b.useContext(Wm);return r.jsx(EP,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(Kb),isPresent:t,safeToRemove:n})}const PP={pan:{Feature:CP},drag:{Feature:kP,ProjectionNode:zb,MeasureLayout:Zb}};function Bg(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ye.postRender(()=>a(t,Ca(t)))}class TP extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=oE(t,(n,s)=>(Bg(this.node,s,"Start"),i=>Bg(this.node,i,"End"))))}unmount(){}}class MP extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Na(ua(this.node.current,"focus",()=>this.onFocus()),ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ug(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ye.postRender(()=>a(t,Ca(t)))}class AP extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=hE(t,(n,s)=>(Ug(this.node,s,"Start"),(i,{success:a})=>Ug(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mu=new WeakMap,Qc=new WeakMap,_P=e=>{const t=Mu.get(e.target);t&&t(e)},IP=e=>{e.forEach(_P)};function RP({root:e,...t}){const n=e||document;Qc.has(n)||Qc.set(n,{});const s=Qc.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(IP,{root:e,...t})),s[i]}function LP(e,t,n){const s=RP(t);return Mu.set(e,n),s.observe(e),()=>{Mu.delete(e),s.unobserve(e)}}const OP={some:0,all:1};class DP extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:OP[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return LP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(FP(t,n))&&this.startObserver()}unmount(){}}function FP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const GP={inView:{Feature:DP},tap:{Feature:AP},focus:{Feature:MP},hover:{Feature:TP}},zP={layout:{ProjectionNode:zb,MeasureLayout:Zb}},$P={...uP,...GP,...PP,...zP},B=aP($P,oP);class Nh extends b.Component{constructor(n){super(n);We(this,"logErrorToService",(n,s)=>{const i={errorId:this.state.errorId,error:n.message,stack:n.stack,componentStack:s.componentStack,errorBoundary:!0,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getUserId(),sessionId:this.getSessionId()};console.log("Error details:",i)});We(this,"getUserId",()=>{try{const n=localStorage.getItem("user");return n?JSON.parse(n).id:"anonymous"}catch{return"anonymous"}});We(this,"getSessionId",()=>{let n=sessionStorage.getItem("error_session_id");return n||(n=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("error_session_id",n)),n});We(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorId:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){const s=`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:n,errorId:s}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s),this.props.onError&&this.props.onError(n,s),this.logErrorToService(n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-300 mb-6",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred while loading this page."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:this.handleRetry,className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Try Again"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors",children:" Reload Page"}),r.jsx(Ge,{to:"/",className:"block w-full px-6 py-3 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-colors text-center",children:" Go Home"})]}),!1]})})}):this.props.children}}const Ye=({children:e})=>r.jsx(Nh,{fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Page Load Error"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"This page couldn't be loaded properly. Please try refreshing or go back to the home page."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Refresh Page"}),r.jsx(Ge,{to:"/",className:"block w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors text-center",children:" Go Home"})]})]})})}),children:e}),Xc={personaWeight:.4,moodWeight:.3,sessionLengthWeight:.2,timeOfDayWeight:.1,playPatternWeight:.15,autoTaggingAggressiveness:.5},Sh=()=>{try{const e=localStorage.getItem("tuning_settings");return e?{...Xc,...JSON.parse(e)}:Xc}catch(e){return console.warn("Failed to load tuning settings, using defaults:",e),Xc}},Hs=()=>{const e=new Date().getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<22?"evening":"late-night"},BP=(e=0)=>e<.5?"short":e<=2?"medium":"long",UP=(e=[],t=[])=>{const s=Sh().autoTaggingAggressiveness,i=new Set;return e.forEach(a=>{const o=a.toLowerCase().trim();["chill","cozy","casual","puzzle","relaxed"].includes(o)&&s>.3&&i.add("late-night"),["energetic","competitive","focused","intense"].includes(o)&&s>.2&&i.add("morning"),["creative","immersive","story-driven","exploration"].includes(o)&&s>.4&&(i.add("afternoon"),i.add("evening"))}),t.forEach(a=>{const o=a.toLowerCase().trim();["puzzle","casual","simulation"].includes(o)&&s>.3&&i.add("late-night"),["action","fps","competitive"].includes(o)&&s>.2&&i.add("morning"),["rpg","adventure","strategy"].includes(o)&&s>.4&&(i.add("afternoon"),i.add("evening"))}),i.size===0&&i.add("evening"),Array.from(i)},ew=e=>{const t=(e.moods||[]).map(l=>typeof l=="string"?l.toLowerCase().trim():typeof l=="object"&&l&&"name"in l&&typeof l.name=="string"?l.name.toLowerCase().trim():null).filter(l=>l!==null),n=(e.genres||[]).map(l=>typeof l=="string"?l.toLowerCase().trim():typeof l=="object"&&l&&"name"in l&&typeof l.name=="string"?l.name.toLowerCase().trim():null).filter(l=>l!==null),s=e.sessionLength,i=e.recommendedTimes;let a=s||BP(e.hoursPlayed),o=i||UP(t,n);return{...e,moods:t,genres:n,sessionLength:a,recommendedTimes:o}},kh=e=>{const t=e.moodAffinity||{},s=Object.entries(t).sort(([,c],[,d])=>d-c).slice(0,5).map(([c])=>c.toLowerCase()),i=e.averageSessionLengthMinutes||75;let a="medium";i<45?a="short":i>90&&(a="long");const o=[];e.lateNightRatio>.3&&o.push("late-night"),e.multiplayerRatio>.5&&o.push("afternoon","evening"),o.length===0&&o.push("evening");const l=[];return e.completionRate>.7&&l.push("completionist"),e.multiplayerRatio>.5&&l.push("social"),e.lateNightRatio>.3&&l.push("night_owl"),{dominantMoods:s,preferredSessionLength:a,preferredTimesOfDay:o,recentPlayPatterns:l,moodAffinity:t,averageSessionLengthMinutes:i,lateNightRatio:e.lateNightRatio||0,completionRate:e.completionRate||0,multiplayerRatio:e.multiplayerRatio||0}},Fi=(e,t)=>{var p;const{selectedMoods:n,selectedSessionLength:s,timeOfDay:i,personaContext:a,personaWeight:o=.3}=t,l=Sh(),c=n.length===0||n.some(g=>e.moods.includes(g)),d=!s||e.sessionLength===s,u=!e.recommendedTimes||e.recommendedTimes.includes(i);let m=0;a&&(a.dominantMoods.forEach(g=>{e.moods.includes(g)&&(m+=(a.moodAffinity[g]||0)*l.moodWeight)}),e.sessionLength===a.preferredSessionLength&&(m+=25*l.sessionLengthWeight),(p=e.recommendedTimes)!=null&&p.some(g=>a.preferredTimesOfDay.includes(g))&&(m+=20*l.timeOfDayWeight),a.recentPlayPatterns.forEach(g=>{var y;g==="completionist"&&e.playStatus==="completed"&&(m+=15*l.playPatternWeight),g==="social"&&((y=e.genres)!=null&&y.some(x=>x.toLowerCase().includes("multiplayer")||x.toLowerCase().includes("co-op")))&&(m+=15*l.playPatternWeight)}));const f=[c,d,u].filter(Boolean).length*25+m*(o||l.personaWeight);return{game:e,matchesMood:c,matchesSession:d,matchesTimeOfDay:u,sessionLength:e.sessionLength||"medium",recommendedTimes:e.recommendedTimes||["evening"],score:f}},tw=(e,t)=>Fi(e,t).score>0,Jc=(e,t)=>{const{selectedMoods:n,selectedSessionLength:s,timeOfDay:i}=t,a=n.length===0||n.some(c=>e.moods.includes(c)),o=!s||e.sessionLength===s,l=!e.recommendedTimes||e.recommendedTimes.includes(i);return{game:e,matchesMood:a,matchesSession:o,matchesTimeOfDay:l,sessionLength:e.sessionLength||"medium",recommendedTimes:e.recommendedTimes||["evening"],score:0}},VP=(e,t,n={})=>{const{limit:s=10,includeDetails:i=!1}=n,o=e.map(ew).filter(c=>tw(c,t));o.sort((c,d)=>{const u=Jc(c,t),m=Jc(d,t),h=[u.matchesMood,u.matchesSession,u.matchesTimeOfDay].filter(Boolean).length;return[m.matchesMood,m.matchesSession,m.matchesTimeOfDay].filter(Boolean).length-h});const l=o.slice(0,s);return i?l.map(c=>Jc(c,t)):l},nw=(e,t,n,s={})=>{const{limit:i=10,includeDetails:a=!1,personaWeight:o=.3}=s,l={...n,personaContext:t,personaWeight:o},d=e.map(ew).filter(m=>tw(m,l));d.sort((m,h)=>{const f=Fi(m,l);return Fi(h,l).score-f.score});const u=d.slice(0,i);return a?u.map(m=>Fi(m,l)):u};let HP={enabled:!0,debug:!0};const _r=(e,t)=>{try{const n={name:e,payload:t||{},timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};HP.debug&&console.log("[Analytics]",n);const s=localStorage.getItem("analytics_events"),i=s?JSON.parse(s):[];i.push(n),i.length>1e3&&i.splice(0,i.length-1e3),localStorage.setItem("analytics_events",JSON.stringify(i)),WP(n)}catch(n){console.warn("[Analytics] Failed to track event:",n)}},WP=e=>{try{const t=localStorage.getItem("analytics_stats"),n=t?JSON.parse(t):{contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}};if(e.name==="contextual_rec_shown"?n.contextualShown++:e.name==="persona_rec_shown"?n.personaShown++:e.name==="contextual_rec_clicked"?n.contextualClicked++:e.name==="persona_rec_clicked"&&n.personaClicked++,e.name==="filter_session_length_changed"&&e.payload.selectedSessionLength){const s=e.payload.selectedSessionLength;n.sessionLengthUsage[s]=(n.sessionLengthUsage[s]||0)+1}if(e.name==="filter_moods_changed"&&e.payload.selectedMoods&&e.payload.selectedMoods.forEach(s=>{n.moodUsage[s]=(n.moodUsage[s]||0)+1}),e.name==="contextual_insights"&&e.payload.timeOfDay){const s=e.payload.timeOfDay;n.timeOfDayUsage[s]=(n.timeOfDayUsage[s]||0)+1}if(e.name==="persona_rec_clicked"&&e.payload.gameId){const s=e.payload.gameId;n.personaEffectiveness[s]||(n.personaEffectiveness[s]={impressions:0,clicks:0}),n.personaEffectiveness[s].clicks++}e.name,localStorage.setItem("analytics_stats",JSON.stringify(n))}catch(t){console.warn("[Analytics] Failed to update aggregated stats:",t)}},Vg=(e,t,n)=>{_r(`${e}_rec_${t}`,{recommendationType:e,action:t,...n})},Zc=(e,t,n)=>{_r(`filter_${e}_${t}`,{filterType:e,action:t,...n})},YP=(e,t)=>{_r("persona_insights",{dominantMoods:e.dominantMoods,preferredSessionLength:e.preferredSessionLength,preferredTimesOfDay:e.preferredTimesOfDay,recentPlayPatterns:e.recentPlayPatterns,recommendationCount:t})};function sw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Mn(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sw(e))&&(s&&(s+=" "),s+=t);return s}function KP(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}KP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ea=e=>typeof e=="number"&&!isNaN(e),Js=e=>typeof e=="string",On=e=>typeof e=="function",qP=e=>Js(e)||Ea(e),Au=e=>Js(e)||On(e)?e:null,QP=(e,t)=>e===!1||Ea(e)&&e>0?e:t,_u=e=>b.isValidElement(e)||Js(e)||On(e)||Ea(e);function XP(e,t,n=300){let{scrollHeight:s,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function JP({enter:e,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:m}){let h=n?`${e}--${o}`:e,f=n?`${t}--${o}`:t,p=b.useRef(0);return b.useLayoutEffect(()=>{let g=d.current,y=h.split(" "),x=v=>{v.target===d.current&&(m(),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),p.current===0&&v.type!=="animationcancel"&&g.classList.remove(...y))};g.classList.add(...y),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),b.useEffect(()=>{let g=d.current,y=()=>{g.removeEventListener("animationend",y),s?XP(g,c,i):c()};u||(l?y():(p.current=1,g.className+=` ${f}`,g.addEventListener("animationend",y)))},[u]),ae.createElement(ae.Fragment,null,a)}}function Hg(e,t){return{content:rw(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function rw(e,t,n=!1){return b.isValidElement(e)&&!Js(e.type)?b.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):On(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function ZP({closeToast:e,theme:t,ariaLabel:n="close"}){return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function eT({delay:e,isRunning:t,closeToast:n,type:s="default",hide:i,className:a,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:u}){let m=i||o&&l===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${l})`);let f=Mn("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),p=On(a)?a({rtl:c,type:s,defaultClassName:f}):Mn(f,a),g={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&n()}};return ae.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},ae.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${s}`}),ae.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:p,style:h,...g}))}var tT=1,iw=()=>`${tT++}`;function nT(e,t,n){let s=1,i=0,a=[],o=[],l=t,c=new Map,d=new Set,u=v=>(d.add(v),()=>d.delete(v)),m=()=>{o=Array.from(c.values()),d.forEach(v=>v())},h=({containerId:v,toastId:w,updateId:j})=>{let S=v?v!==e:e!==1,T=c.has(w)&&j==null;return S||T},f=(v,w)=>{c.forEach(j=>{var S;(w==null||w===j.props.toastId)&&((S=j.toggle)==null||S.call(j,v))})},p=v=>{var w,j;(j=(w=v.props)==null?void 0:w.onClose)==null||j.call(w,v.removalReason),v.isActive=!1},g=v=>{if(v==null)c.forEach(p);else{let w=c.get(v);w&&p(w)}m()},y=()=>{i-=a.length,a=[]},x=v=>{var w,j;let{toastId:S,updateId:T}=v.props,C=T==null;v.staleId&&c.delete(v.staleId),v.isActive=!0,c.set(S,v),m(),n(Hg(v,C?"added":"updated")),C&&((j=(w=v.props).onOpen)==null||j.call(w))};return{id:e,props:l,observe:u,toggle:f,removeToast:g,toasts:c,clearQueue:y,buildToast:(v,w)=>{if(h(w))return;let{toastId:j,updateId:S,data:T,staleId:C,delay:k}=w,E=S==null;E&&i++;let P={...l,style:l.toastStyle,key:s++,...Object.fromEntries(Object.entries(w).filter(([$,U])=>U!=null)),toastId:j,updateId:S,data:T,isIn:!1,className:Au(w.className||l.toastClassName),progressClassName:Au(w.progressClassName||l.progressClassName),autoClose:w.isLoading?!1:QP(w.autoClose,l.autoClose),closeToast($){c.get(j).removalReason=$,g(j)},deleteToast(){let $=c.get(j);if($!=null){if(n(Hg($,"removed")),c.delete(j),i--,i<0&&(i=0),a.length>0){x(a.shift());return}m()}}};P.closeButton=l.closeButton,w.closeButton===!1||_u(w.closeButton)?P.closeButton=w.closeButton:w.closeButton===!0&&(P.closeButton=_u(l.closeButton)?l.closeButton:!0);let R={content:v,props:P,staleId:C};l.limit&&l.limit>0&&i>l.limit&&E?a.push(R):Ea(k)?setTimeout(()=>{x(R)},k):x(R)},setProps(v){l=v},setToggle:(v,w)=>{let j=c.get(v);j&&(j.toggle=w)},isToastActive:v=>{var w;return(w=c.get(v))==null?void 0:w.isActive},getSnapshot:()=>o}}var ft=new Map,ma=[],Iu=new Set,sT=e=>Iu.forEach(t=>t(e)),aw=()=>ft.size>0;function rT(){ma.forEach(e=>lw(e.content,e.options)),ma=[]}var iT=(e,{containerId:t})=>{var n;return(n=ft.get(t||1))==null?void 0:n.toasts.get(e)};function ow(e,t){var n;if(t)return!!((n=ft.get(t))!=null&&n.isToastActive(e));let s=!1;return ft.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function aT(e){if(!aw()){ma=ma.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||qP(e))ft.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ft.get(e.containerId);t?t.removeToast(e.id):ft.forEach(n=>{n.removeToast(e.id)})}}var oT=(e={})=>{ft.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function lw(e,t){_u(e)&&(aw()||ma.push({content:e,options:t}),ft.forEach(n=>{n.buildToast(e,t)}))}function lT(e){var t;(t=ft.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function cw(e,t){ft.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function cT(e){let t=e.containerId||1;return{subscribe(n){let s=nT(t,e,sT);ft.set(t,s);let i=s.observe(n);return rT(),()=>{i(),ft.delete(t)}},setProps(n){var s;(s=ft.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ft.get(t))==null?void 0:n.getSnapshot()}}}function dT(e){return Iu.add(e),()=>{Iu.delete(e)}}function uT(e){return e&&(Js(e.toastId)||Ea(e.toastId))?e.toastId:iw()}function Pa(e,t){return lw(e,t),t.toastId}function Bl(e,t){return{...t,type:t&&t.type||e,toastId:uT(t)}}function Ul(e){return(t,n)=>Pa(t,Bl(e,n))}function le(e,t){return Pa(e,Bl("default",t))}le.loading=(e,t)=>Pa(e,Bl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function mT(e,{pending:t,error:n,success:s},i){let a;t&&(a=Js(t)?le.loading(t,i):le.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,m)=>{if(u==null){le.dismiss(a);return}let h={type:d,...o,...i,data:m},f=Js(u)?{render:u}:u;return a?le.update(a,{...h,...f}):le(f.render,{...h,...f}),m},c=On(e)?e():e;return c.then(d=>l("success",s,d)).catch(d=>l("error",n,d)),c}le.promise=mT;le.success=Ul("success");le.info=Ul("info");le.error=Ul("error");le.warning=Ul("warning");le.warn=le.warning;le.dark=(e,t)=>Pa(e,Bl("default",{theme:"dark",...t}));function hT(e){aT(e)}le.dismiss=hT;le.clearWaitingQueue=oT;le.isActive=ow;le.update=(e,t={})=>{let n=iT(e,t);if(n){let{props:s,content:i}=n,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:iw()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,Pa(o,a)}};le.done=e=>{le.update(e,{progress:1})};le.onChange=dT;le.play=e=>cw(!0,e);le.pause=e=>cw(!1,e);function pT(e){var t;let{subscribe:n,getSnapshot:s,setProps:i}=b.useRef(cT(e)).current;i(e);let a=(t=b.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function o(l){if(!a)return[];let c=new Map;return e.newestOnTop&&a.reverse(),a.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:ow,count:a==null?void 0:a.length}}function fT(e){let[t,n]=b.useState(!1),[s,i]=b.useState(!1),a=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;lT({id:e.toastId,containerId:e.containerId,fn:n}),b.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{f()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||x(),window.addEventListener("focus",y),window.addEventListener("blur",x)}function f(){window.removeEventListener("focus",y),window.removeEventListener("blur",x)}function p(C){if(e.draggable===!0||e.draggable===C.pointerType){v();let k=a.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(C){let{top:k,bottom:E,left:P,right:R}=a.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&e.pauseOnHover&&C.clientX>=P&&C.clientX<=R&&C.clientY>=k&&C.clientY<=E?x():y()}function y(){n(!0)}function x(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",S)}function w(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",S)}function j(C){let k=a.current;if(o.canDrag&&k){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=C.clientX-o.start:o.delta=C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1);let E=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${E},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){w();let C=a.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let T={onPointerDown:p,onPointerUp:g};return l&&c&&(T.onMouseEnter=x,e.stacked||(T.onMouseLeave=y)),m&&(T.onClick=C=>{u&&u(C),o.canCloseOnClick&&d(!0)}),{playToast:y,pauseToast:x,isRunning:t,preventExitTransition:s,toastRef:a,eventHandlers:T}}var gT=typeof window<"u"?b.useLayoutEffect:b.useEffect,Vl=({theme:e,type:t,isLoading:n,...s})=>ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function yT(e){return ae.createElement(Vl,{...e},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function xT(e){return ae.createElement(Vl,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vT(e){return ae.createElement(Vl,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bT(e){return ae.createElement(Vl,{...e},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wT(){return ae.createElement("div",{className:"Toastify__spinner"})}var Ru={info:xT,warning:yT,success:vT,error:bT,spinner:wT},jT=e=>e in Ru;function NT({theme:e,type:t,isLoading:n,icon:s}){let i=null,a={theme:e,type:t};return s===!1||(On(s)?i=s({...a,isLoading:n}):b.isValidElement(s)?i=b.cloneElement(s,a):n?i=Ru.spinner():jT(t)&&(i=Ru[t](a))),i}var ST=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:a}=fT(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:h,transition:f,position:p,className:g,style:y,progressClassName:x,updateId:v,role:w,progress:j,rtl:S,toastId:T,deleteToast:C,isIn:k,isLoading:E,closeOnClick:P,theme:R,ariaLabel:$}=e,U=Mn("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":P}),q=On(g)?g({rtl:S,position:p,type:u,defaultClassName:U}):Mn(U,g),ee=NT(e),N=!!j||!c,Y={closeToast:h,type:u,theme:R},A=null;return o===!1||(On(o)?A=o(Y):b.isValidElement(o)?A=b.cloneElement(o,Y):A=ZP(Y)),ae.createElement(f,{isIn:k,done:C,position:p,preventExitTransition:n,nodeRef:s,playToast:a},ae.createElement("div",{id:T,tabIndex:0,onClick:d,"data-in":k,className:q,...i,style:y,ref:s,...k&&{role:w,"aria-label":$}},ee!=null&&ae.createElement("div",{className:Mn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},ee),rw(l,e,!t),A,!e.customProgressBar&&ae.createElement(eT,{...v&&!N?{key:`p-${v}`}:{},rtl:S,theme:R,delay:c,isRunning:t,isIn:k,closeToast:h,hide:m,type:u,className:x,controlledProgress:N,progress:j||0})))},kT=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),CT=JP(kT("bounce",!0)),ET={position:"top-right",transition:CT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function PT(e){let t={...ET,...e},n=e.stacked,[s,i]=b.useState(!0),a=b.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=pT(t),{className:d,style:u,rtl:m,containerId:h,hotKeys:f}=t;function p(y){let x=Mn("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":m});return On(d)?d({position:y,rtl:m,defaultClassName:x}):Mn(x,Au(d))}function g(){n&&(i(!0),le.play())}return gT(()=>{var y;if(n){let x=a.current.querySelectorAll('[data-in="true"]'),v=12,w=(y=t.position)==null?void 0:y.includes("top"),j=0,S=0;Array.from(x).reverse().forEach((T,C)=>{let k=T;k.classList.add("Toastify__toast--stacked"),C>0&&(k.dataset.collapsed=`${s}`),k.dataset.pos||(k.dataset.pos=w?"top":"bot");let E=j*(s?.2:1)+(s?0:v*C);k.style.setProperty("--y",`${w?E:E*-1}px`),k.style.setProperty("--g",`${v}`),k.style.setProperty("--s",`${1-(s?S:0)}`),j+=k.offsetHeight,S+=.025})}},[s,c,n]),b.useEffect(()=>{function y(x){var v;let w=a.current;f(x)&&((v=w.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),le.pause()),x.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(i(!0),le.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[f]),ae.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),le.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((y,x)=>{let v=x.length?{...u}:{...u,pointerEvents:"none"};return ae.createElement("div",{tabIndex:-1,className:p(y),"data-stacked":n,style:v,key:`c-${y}`},x.map(({content:w,props:j})=>ae.createElement(ST,{...j,stacked:n,collapseAll:g,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},w)))}))}const dw=b.createContext(void 0),ii=()=>{const e=b.useContext(dw);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},TT=({children:e,defaultPosition:t="top-right",defaultTheme:n="dark"})=>{const s=b.useCallback((u,m={})=>{const{type:h="info",position:f=t,autoClose:p=5e3,hideProgressBar:g=!1,closeOnClick:y=!0,pauseOnHover:x=!0,draggable:v=!0,theme:w=n}=m,S={success:le.success,error:le.error,warning:le.warning,info:le.info}[h];return S(u,{position:f,autoClose:p,hideProgressBar:g,closeOnClick:y,pauseOnHover:x,draggable:v,theme:w})},[t,n]),i=b.useCallback((u,m={})=>s(u,{...m,type:"success"}),[s]),a=b.useCallback((u,m={})=>s(u,{...m,type:"error",autoClose:!1}),[s]),o=b.useCallback((u,m={})=>s(u,{...m,type:"warning"}),[s]),l=b.useCallback((u,m={})=>s(u,{...m,type:"info"}),[s]),c=b.useCallback(()=>{le.dismiss()},[]),d={showToast:s,showSuccess:i,showError:a,showWarning:o,showInfo:l,clearToasts:c};return r.jsxs(dw.Provider,{value:d,children:[e,r.jsx(PT,{position:t,autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:n,limit:3})]})};function Ch(e){if(!e||typeof e!="number"||e<=0){console.warn("Invalid appId provided for game launch:",e);return}try{window.location.href=`steam://run/${e}`}catch(t){console.warn("Steam launch failed  is Steam installed?",t)}}const MT=[{id:"short",label:"Quick",description:"< 30 mins",icon:""},{id:"medium",label:"Balanced",description:"1-2 hours",icon:""},{id:"long",label:"Deep Dive",description:"3+ hours",icon:""}],AT=({value:e,onChange:t,className:n=""})=>r.jsx("div",{className:`grid grid-cols-3 gap-3 ${n}`,children:MT.map(s=>r.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(s.id),className:`flex flex-col items-center p-3 rounded-xl border transition-all duration-300 ${e===s.id?"bg-gaming-primary/20 border-gaming-primary shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("span",{className:"text-2xl mb-2",children:s.icon}),r.jsx("span",{className:`text-sm font-bold ${e===s.id?"text-white":"text-gray-300"}`,children:s.label}),r.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-tighter",children:s.description})]},s.id))}),uw=({onClose:e,className:t=""})=>{var $,U,q,ee;const{games:n}=be(),{showSuccess:s,showError:i,showWarning:a,showInfo:o}=ii(),[l,c]=b.useState([]),[d,u]=b.useState(!0),[m,h]=b.useState(0),[f,p]=b.useState(new Set),[g,y]=b.useState(!1),[x,v]=b.useState([]),[w,j]=b.useState(null),[S,T]=b.useState(null),C=async(N=new Set,Y)=>{u(!0);const A=(n==null?void 0:n.filter(F=>F&&F.id))||[];try{if(!n||!Array.isArray(n)||n.length===0){o("No games available for recommendations"),c([]);return}if(A.length===0){a("No valid games found in your library"),c([]);return}const F=Y||S||"medium";_r("what_to_play_opened",{timeOfDay:Hs(),selectedSessionLength:F,selectedMoods:"auto"});const L={selectedMoods:[],selectedSessionLength:F,timeOfDay:Hs(),excludeIds:Array.from(N)},G=kh(A),se=(nw(A,G,L,{personaWeight:.8})||[]).filter(me=>me&&me.game&&me.game.id).slice(0,3);se.length===0&&(console.warn("No valid matches found, using fallback recommendations"),o("Using fallback recommendations"));let oe=[];if(se.length>0&&(oe=se.map(me=>{const pe=[];if(G!=null&&G.dominantMoods&&G.dominantMoods.length>0){const fe=`Matches your dominant moods: ${G.dominantMoods.slice(0,2).join(", ")}`;pe.push(fe)}if(G!=null&&G.preferredSessionLength){const fe=`Fits your usual session length: ${G.preferredSessionLength}`;pe.push(fe)}const de=`Perfect for ${Hs()} gaming`;if(pe.push(de),n&&n.length>0){const nt=`Similar to games in your library: ${n.slice(0,2).map(z=>z.title||"Unknown Game").join(", ")}`;pe.push(nt)}if(G!=null&&G.completionRate&&G.completionRate>.7){const fe=`Matches your ${Math.round(G.completionRate*100)}% completion rate`;pe.push(fe)}return{game:me.game,score:me.score,reasons:pe.slice(0,4)}})),oe.length>0)c(oe),s("Recommendations generated successfully");else{console.warn("No enriched recommendations, using fallback"),o("Using fallback recommendations");const me=A.filter(pe=>!N.has(pe.id)).slice(0,3).map(pe=>({game:pe,score:.5,reasons:["Available in your library"]}));c(me)}}catch(F){console.error("Error generating recommendations:",F),i("Failed to generate recommendations");const L=A.filter(G=>!N.has(G.id)).slice(0,3).map(G=>({game:G,score:.5,reasons:["Available in your library"]}));c(L)}finally{u(!1)}};b.useEffect(()=>{n.length>0&&C(f)},[n]);const k=async()=>{if(g)return;y(!0),j(null);const N=l.map(L=>L.game).filter(Boolean),Y=(n==null?void 0:n.filter(L=>L&&L.id))||[],A=[...N];for(;A.length<10&&Y.length>0;){const L=Y[Math.floor(Math.random()*Y.length)];A.find(G=>G.id===L.id)||A.push(L)}v(A.sort(()=>Math.random()-.5));const F=new Set(f);l.forEach(L=>{var G;(G=L.game)!=null&&G.id&&F.add(L.game.id)}),p(F),h(L=>L+1),await new Promise(L=>setTimeout(L,3e3));try{await C(F)}catch(L){console.error("Error generating recommendations:",L)}finally{y(!1),v([])}_r("what_to_play_reroll",{count:m+1,totalSuggested:F.size})},E=async(N,Y)=>{var A;if(!(N!=null&&N.id)||!(N!=null&&N.title)){console.warn("Invalid game data for launch:",N),i("Invalid game data for launch");return}_r(Y?"what_to_play_launch":"what_to_play_alt_launch",{gameId:N.id,gameTitle:N.title,score:(A=l.find(F=>{var L;return((L=F.game)==null?void 0:L.id)===N.id}))==null?void 0:A.score,isPrimary:Y});try{s(`Launching ${N.title}...`),N.appId?(await Ch(N.appId),s(`${N.title} launched successfully!`)):i(`No launch ID available for ${N.title}`)}catch(F){i(`Failed to launch ${N.title}`),console.error("Launch error:",F)}},P=l[0],R=l.slice(1,3);return d?r.jsx("div",{className:`what-to-play-now ${t}`,children:r.jsxs("div",{className:"what-to-play-loading",children:[r.jsx("div",{className:"loading-spinner"}),r.jsx("h3",{children:"Finding Your Perfect Game..."}),r.jsx("p",{children:"Analyzing your gaming personality and preferences"})]})}):l.length===0?r.jsx("div",{className:`what-to-play-now ${t}`,children:r.jsxs("div",{className:"what-to-play-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Games Available"}),r.jsx("p",{children:"Add some games to your library to get personalized recommendations!"}),r.jsx("button",{onClick:e,className:"close-btn",children:"Go Back"})]})}):r.jsxs("div",{className:`what-to-play-now ${t}`,children:[r.jsxs("div",{className:"what-to-play-header",children:[r.jsxs("div",{className:"header-content",children:[r.jsx("h2",{className:"title",children:"I'm Not Sure What To Play"}),r.jsx("p",{className:"subtitle",children:"Let GamePilot pick based on your mood, time, and play style"})]}),r.jsx("button",{onClick:e,className:"close-btn","aria-label":"Close",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"px-8 pt-4 pb-2",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-3 font-semibold uppercase tracking-wider",children:"How much time do you have?"}),r.jsx(AT,{value:S,onChange:N=>{T(N),C(new Set,N)}})]}),P&&P.game&&r.jsx("div",{className:"primary-recommendation",children:r.jsx("div",{className:"game-card primary",children:r.jsxs("div",{className:"game-content",children:[r.jsxs("div",{className:"game-header",children:[r.jsxs("div",{className:"game-info",children:[r.jsx("h3",{className:"game-title",children:P.game.title||"Unknown Game"}),r.jsx("div",{className:"game-meta",children:(U=($=P.game)==null?void 0:$.genres)==null?void 0:U.slice(0,2).map(N=>r.jsx("span",{className:"genre-tag",children:typeof N=="string"?N:N.name},typeof N=="string"?N:N.name))})]}),r.jsx("div",{className:"game-art",children:(q=P.game)!=null&&q.coverImage?r.jsx("img",{src:P.game.coverImage,alt:((ee=P.game)==null?void 0:ee.title)||"Game",className:"game-cover"}):r.jsx("div",{className:"game-cover-placeholder",children:r.jsx("div",{className:"placeholder-icon",children:""})})})]}),r.jsx("div",{className:"game-description",children:r.jsx("p",{children:P.game.description||"No description available"})}),r.jsxs("div",{className:"game-reasons",children:[r.jsx("h4",{children:"Why this game?"}),r.jsx("ul",{className:"reasons-list",children:(P.reasons||[]).map((N,Y)=>r.jsxs("li",{className:"reason-item",children:[r.jsx("span",{className:"reason-icon",children:""}),N]},Y))})]}),r.jsxs("div",{className:"game-actions",children:[r.jsxs("button",{onClick:()=>P.game&&E(P.game,!0),className:"launch-btn primary",children:[r.jsx("span",{className:"btn-icon",children:""}),"Launch Now"]}),r.jsxs("div",{className:"confidence-score",children:[r.jsx("span",{className:"score-label",children:"Match Score:"}),r.jsxs("span",{className:"score-value",children:[Math.round((P.score||0)*100),"%"]})]})]})]})})}),g&&r.jsxs("div",{className:"slot-machine-container",children:[r.jsxs("div",{className:"slot-machine-header",children:[r.jsx("h3",{children:" Finding Your Perfect Game..."}),r.jsx("div",{className:"spinning-indicator",children:r.jsx("div",{className:"spinner"})})]}),r.jsx("div",{className:"slot-machine-track",children:r.jsx("div",{className:"slot-machine-games",children:x.map((N,Y)=>r.jsx("div",{className:"slot-game-card",style:{animation:`slideIn 0.5s ease-in-out ${Y*.1}s both`},children:r.jsxs("div",{className:"slot-game-content",children:[r.jsx("div",{className:"slot-game-image",children:N.coverImage?r.jsx("img",{src:N.coverImage,alt:N.title}):r.jsx("div",{className:"slot-game-placeholder",children:""})}),r.jsx("div",{className:"slot-game-title",children:N.title||"Unknown Game"})]})},`${N.id}-${Y}`))})})]}),!g&&w&&r.jsx("div",{className:"final-game-reveal",children:r.jsx("div",{className:"reveal-animation",children:r.jsxs("div",{className:"reveal-content",children:[r.jsx("h3",{children:" Your Perfect Match!"}),r.jsxs("div",{className:"final-game-card",children:[r.jsx("div",{className:"final-game-image",children:w.game.coverImage?r.jsx("img",{src:w.game.coverImage,alt:w.game.title}):r.jsx("div",{className:"final-game-placeholder",children:""})}),r.jsxs("div",{className:"final-game-info",children:[r.jsx("h4",{children:w.game.title||"Unknown Game"}),r.jsxs("div",{className:"final-game-score",children:[Math.round((w.score||0)*100),"% Match"]})]})]})]})})}),R.length>0&&r.jsxs("div",{className:"alternate-recommendations",children:[r.jsxs("div",{className:"alternates-header",children:[r.jsx("h3",{children:"Or Try These"}),r.jsxs("button",{onClick:k,className:"reroll-btn",disabled:n.length<=3||g,children:[r.jsx("span",{className:"reroll-icon",children:g?"":""}),g?"Spinning...":"Surprise Me!",m>0&&r.jsxs("span",{className:"reroll-count",children:["(",m,")"]})]})]}),r.jsx("div",{className:"alternates-grid",children:R.map(N=>{var Y,A,F,L,G,I;return r.jsx("div",{className:"game-card alternate",children:r.jsxs("div",{className:"game-content",children:[r.jsxs("div",{className:"game-header",children:[r.jsxs("div",{className:"game-info",children:[r.jsx("h4",{className:"game-title",children:((Y=N.game)==null?void 0:Y.title)||"Unknown Game"}),r.jsx("div",{className:"game-meta",children:(F=(A=N.game)==null?void 0:A.genres)==null?void 0:F.slice(0,1).map(V=>r.jsx("span",{className:"genre-tag small",children:typeof V=="string"?V:V.name},typeof V=="string"?V:V.name))})]}),r.jsx("div",{className:"game-art small",children:(L=N.game)!=null&&L.coverImage?r.jsx("img",{src:N.game.coverImage,alt:((G=N.game)==null?void 0:G.title)||"Game",className:"game-cover small"}):r.jsx("div",{className:"game-cover-placeholder small",children:r.jsx("div",{className:"placeholder-icon small",children:""})})})]}),r.jsx("div",{className:"game-reasons small",children:r.jsx("div",{className:"reasons-list",children:(N.reasons||[]).slice(0,2).map((V,se)=>r.jsxs("div",{className:"reason-item small",children:[r.jsx("span",{className:"reason-icon small",children:""}),V]},se))})}),r.jsxs("div",{className:"game-actions",children:[r.jsx("button",{onClick:()=>N.game&&E(N.game,!1),className:"launch-btn small",children:"Play Now"}),r.jsxs("div",{className:"confidence-score small",children:[Math.round((N.score||0)*100),"%"]})]})]})},((I=N.game)==null?void 0:I.id)||Math.random())})})]}),r.jsx("div",{className:"what-to-play-footer",children:r.jsxs("p",{className:"footer-text",children:["Recommendations based on your gaming personality and ",n.length," games in your library"]})})]})},mw=document.createElement("style");mw.textContent=`
.what-to-play-now {
  background: linear-gradient(135deg, #1e293b 0%, #111827 100%);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  max-width: 900px;
  margin: 0 auto;
  overflow: hidden;
}

.what-to-play-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
}

.loading-spinner {
  width: 3rem;
  height: 3rem;
  border: 3px solid rgba(139, 92, 246, 0.2);
  border-top: 3px solid #8b5cf6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.what-to-play-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.what-to-play-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 2rem 2rem 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.header-content {
  flex: 1;
}

.title {
  font-size: 2rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.5rem;
}

.subtitle {
  color: #9ca3af;
  font-size: 1rem;
  margin: 0;
}

.close-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.5rem;
  color: #9ca3af;
  cursor: pointer;
  transition: all 0.2s ease;
}

.close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.primary-recommendation {
  padding: 2rem;
}

.game-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  transition: all 0.3s ease;
}

.game-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.game-card.primary {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
  border-color: rgba(139, 92, 246, 0.3);
}

.game-content {
  padding: 1.5rem;
}

.game-header {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.game-info {
  flex: 1;
}

.game-title {
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.5rem;
}

.game-meta {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.genre-tag {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
}

.genre-tag.small {
  background: rgba(139, 92, 246, 0.15);
  font-size: 0.625rem;
}

.game-art {
  width: 120px;
  height: 160px;
  border-radius: 0.5rem;
  overflow: hidden;
  flex-shrink: 0;
}

.game-art.small {
  width: 80px;
  height: 100px;
}

.game-cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.game-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.placeholder-icon {
  font-size: 2rem;
  opacity: 0.5;
}

.placeholder-icon.small {
  font-size: 1.5rem;
}

.game-description {
  margin-bottom: 1rem;
}

.game-description p {
  color: #d1d5db;
  line-height: 1.5;
  margin: 0;
}

.game-reasons {
  margin-bottom: 1.5rem;
}

.game-reasons h4 {
  color: white;
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

.reasons-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.reason-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  color: #d1d5db;
  font-size: 0.875rem;
  line-height: 1.4;
}

.reason-item.small {
  font-size: 0.75rem;
  margin-bottom: 0.25rem;
}

.reason-icon {
  color: #10b981;
  font-weight: bold;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

.reason-icon.small {
  font-size: 0.75rem;
}

.game-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.launch-btn {
  background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.launch-btn:hover {
  background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);
  transform: translateY(-1px);
}

.launch-btn.small {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.launch-btn.primary {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.launch-btn.primary:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
}

.btn-icon {
  font-size: 1rem;
}

.confidence-score {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  text-align: right;
}

.confidence-score.small {
  flex-direction: row;
  align-items: center;
  gap: 0.5rem;
}

.score-label {
  font-size: 0.75rem;
  color: #9ca3af;
  margin-bottom: 0.25rem;
}

.score-value {
  font-size: 1.125rem;
  font-weight: bold;
  color: #10b981;
}

.alternate-recommendations {
  padding: 0 2rem 2rem;
}

.alternates-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.alternates-header h3 {
  color: white;
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0;
}

.reroll-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  color: white;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.reroll-btn:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.2);
}

.reroll-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.reroll-icon {
  font-size: 1rem;
}

.reroll-count {
  font-size: 0.75rem;
  opacity: 0.8;
}

/* Slot Machine Animations */
.slot-machine-container {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 1rem 0;
  overflow: hidden;
}

.slot-machine-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.slot-machine-header h3 {
  color: white;
  margin: 0;
  font-size: 1.2rem;
}

.spinning-indicator {
  display: flex;
  align-items: center;
}

.spinner {
  width: 24px;
  height: 24px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid #4f46e5;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.slot-machine-track {
  position: relative;
  height: 120px;
  overflow: hidden;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.slot-machine-games {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  height: 100%;
  animation: slideAcross 3s ease-in-out;
}

@keyframes slideAcross {
  0% {
    transform: translateX(100%);
  }
  50% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0%);
  }
}

@keyframes slideIn {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.slot-game-card {
  flex-shrink: 0;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.75rem;
  min-width: 150px;
  transition: all 0.3s ease;
}

.slot-game-card:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.slot-game-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.slot-game-image {
  width: 60px;
  height: 60px;
  border-radius: 0.25rem;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
}

.slot-game-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.slot-game-placeholder {
  font-size: 1.5rem;
}

.slot-game-title {
  color: white;
  font-size: 0.75rem;
  text-align: center;
  font-weight: 500;
  line-height: 1.2;
}

/* Final Game Reveal */
.final-game-reveal {
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.1), rgba(236, 72, 153, 0.1));
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 1rem 0;
  animation: fadeInScale 0.5s ease-out;
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.reveal-content h3 {
  color: white;
  text-align: center;
  margin: 0 0 1rem 0;
  font-size: 1.3rem;
}

.final-game-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 0.75rem;
  padding: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.final-game-image {
  width: 80px;
  height: 80px;
  border-radius: 0.5rem;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
}

.final-game-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.final-game-placeholder {
  font-size: 2rem;
}

.final-game-info {
  flex: 1;
}

.final-game-info h4 {
  color: white;
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.final-game-score {
  color: #10b981;
  font-weight: bold;
  font-size: 0.9rem;
}

.alternates-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
}

.game-card.alternate {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.05);
}

.game-card.alternate:hover {
  background: rgba(255, 255, 255, 0.08);
}

.game-reasons.small {
  margin-bottom: 1rem;
}

.what-to-play-footer {
  padding: 1rem 2rem 2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
}

.footer-text {
  color: #6b7280;
  font-size: 0.875rem;
  margin: 0;
}

@media (max-width: 768px) {
  .what-to-play-now {
    margin: 1rem;
    border-radius: 0.75rem;
  }

  .what-to-play-header {
    padding: 1.5rem 1.5rem 1rem;
  }

  .title {
    font-size: 1.5rem;
  }

  .subtitle {
    font-size: 0.875rem;
  }

  .game-header {
    flex-direction: column;
    gap: 0.75rem;
  }

  .game-art {
    width: 100%;
    height: 120px;
  }

  .alternates-grid {
    grid-template-columns: 1fr;
  }

  .game-actions {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
  }

  .confidence-score {
    align-items: center;
    text-align: center;
  }

  .score-label {
    margin-bottom: 0;
  }
}
`;document.head.appendChild(mw);function _T(e){if(!e||e.length===0)return{totalGames:0,preferences:[],topGenres:[],favoriteGenre:null};const t={};e.forEach(o=>{o.genres&&Array.isArray(o.genres)&&o.genres.forEach(l=>{const c=typeof l=="string"?l:l.name;c&&(t[c]=(t[c]||0)+1)})});const n=e.length,s=Object.entries(t).map(([o,l])=>({genre:o,count:l,percentage:l/n*100,weight:l/n})).sort((o,l)=>l.count-o.count),i=s.slice(0,5).map(o=>o.genre),a=s.length>0?s[0].genre:null;return{totalGames:n,preferences:s,topGenres:i,favoriteGenre:a}}function IT(e,t=3){return e.topGenres.slice(0,t)}async function RT(e,t=20){try{const n=await fetch(Vm(`/api/steam/genre/${encodeURIComponent(e.toLowerCase())}?limit=${t}`));if(!n.ok)return console.warn(`Failed to fetch Steam games for genre: ${e}`),[];const s=await n.json();return!s.success||!s.data?[]:s.data.map(i=>({id:i.id||i.steamId,name:i.name||i.title,genres:i.genres||[],coverImage:i.coverImage||i.header_image||i.image,headerImage:i.headerImage||i.header_image,capsuleImage:i.capsuleImage||`https://cdn.akamai.steamstatic.com/steam/apps/${i.id}/capsule_616x353.jpg`,smallImage:i.smallImage||`https://cdn.akamai.steamstatic.com/steam/apps/${i.id}/capsule_184x69.jpg`,description:i.description||i.short_description,releaseDate:i.releaseDate||i.release_date,price:i.price,recommendationScore:i.recommendationScore||0}))}catch(n){return console.error(`Error fetching Steam games for genre ${e}:`,n),[]}}function LT(e,t){const n=new Set(t.map(s=>String(s.appId)).filter(s=>s));return e.filter(s=>!n.has(String(s.id)))}function OT(e,t){const n={};return t.forEach(s=>{n[s.genre.toLowerCase()]=s.weight}),e.map(s=>{let i=0;return s.genres.forEach(a=>{const o=n[a.toLowerCase()]||0;i+=o*100}),i=Math.min(100,i),{...s,recommendationScore:i}}).sort((s,i)=>i.recommendationScore-s.recommendationScore)}async function DT(e,t=10){try{console.log(" Starting Steam recommendations analysis...");const n=_T(e),s=IT(n,8);console.log(" User genre preferences:",{totalGames:n.totalGames,favoriteGenre:n.favoriteGenre,topGenres:n.topGenres,recommendedGenres:s}),s.length===0&&(console.log(" No genre preferences found, using fallback genres"),s.push("Action","Adventure","RPG"));const i=[];for(const d of s){const u=await RT(d,15);i.push(...u),console.log(` Fetched ${u.length} games for genre: ${d}`)}const a=Array.from(new Map(i.map(d=>[d.id,d])).values()),o=LT(a,e);console.log(" Filtered results:",{totalFound:a.length,excludedCount:a.length-o.length,finalCount:o.length});const c=OT(o,n.preferences).slice(0,t);return console.log(` Final recommendations: ${c.length} games`),{games:c,totalFound:a.length,genresSearched:s,excludedCount:a.length-o.length}}catch(n){return console.error(" Error getting Steam recommendations:",n),{games:[],totalFound:0,genresSearched:[],excludedCount:0}}}function FT(e=10){const{games:t}=be(),[n,s]=b.useState({recommendations:{games:[],totalFound:0,genresSearched:[],excludedCount:0},isLoading:!1,error:null,lastRefresh:null}),i=b.useRef(0),a=2e3,o=b.useCallback(async()=>{const u=Date.now();if(u-i.current<a){console.log(" Refresh throttled - please wait");return}i.current=u,console.log(" Refreshing Steam recommendations..."),s(m=>({...m,isLoading:!0,error:null}));try{const m=await DT(t||[],e);s({recommendations:m,isLoading:!1,error:null,lastRefresh:new Date}),console.log(" Steam recommendations refreshed:",{count:m.games.length,totalFound:m.totalFound,genresSearched:m.genresSearched})}catch(m){const h=m instanceof Error?m.message:"Failed to load Steam recommendations";s(f=>({...f,isLoading:!1,error:h})),console.error(" Error refreshing Steam recommendations:",m)}},[t,e]);b.useEffect(()=>{t&&t.length>0&&!n.lastRefresh&&!n.isLoading&&o()},[t,o,n.lastRefresh,n.isLoading]);const l=b.useCallback(()=>{s({recommendations:{games:[],totalFound:0,genresSearched:[],excludedCount:0},isLoading:!1,error:null,lastRefresh:null})},[]),c=n.recommendations.games.length>0,d=n.recommendations.games.length;return{...n,refreshRecommendations:o,clearRecommendations:l,hasRecommendations:c,recommendationCount:d}}const GT=({userMood:e,personaTraits:t,className:n=""})=>{var w;const{recommendations:s,isLoading:i,error:a,lastRefresh:o,refreshRecommendations:l,clearRecommendations:c,hasRecommendations:d,recommendationCount:u}=FT(25),[m,h]=b.useState(null);b.useEffect(()=>{s.games.length>0&&!m&&h(s.games[0])},[s.games,m]);const f=async()=>{if(await l(),s.games.length>0){const j=Math.floor(Math.random()*s.games.length);h(s.games[j])}},p=j=>{h(j)},g=j=>{const S=`https://store.steampowered.com/app/${j.id}`;window.open(S,"_blank")},y=j=>{const S=j.currentTarget,T=[`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/capsule_616x353.jpg`,`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/header.jpg`,`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/capsule_184x69.jpg`],C=S.getAttribute("src"),k=T.findIndex(E=>E===C);k<T.length-1?S.src=T[k+1]:(S.style.display="none",S.parentElement&&(S.parentElement.innerHTML='<span class="text-3xl"></span>'))},x=j=>({Action:"text-red-400",Adventure:"text-green-400",RPG:"text-purple-400",Strategy:"text-blue-400",Simulation:"text-yellow-400",Sports:"text-orange-400",Racing:"text-pink-400",Puzzle:"text-indigo-400",Platformer:"text-teal-400",FPS:"text-red-500"})[j]||"text-gray-400",v=j=>j>=80?"text-green-400":j>=60?"text-yellow-400":j>=40?"text-orange-400":"text-red-400";return a?r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Unable to load Steam recommendations"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:a}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:"Try Again"})]})]}):!d&&!i?r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),(e||t)&&r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Current Context:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[e&&r.jsx("span",{className:"text-gaming-primary text-sm capitalize",children:e}),t&&r.jsx("span",{className:"text-gaming-primary text-sm",children:t.archetypeId})]})]})}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"No Steam recommendations available"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Add more games to your library to get personalized recommendations"}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:"Load Recommendations"})]})]}):r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[o&&r.jsxs("span",{className:"text-white/40 text-xs",children:[u," games  ",new Date(o).toLocaleTimeString()]}),r.jsxs("button",{onClick:f,disabled:i,className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-lg hover:bg-gaming-primary/30 transition-colors disabled:opacity-50 text-sm",children:[""," Refresh"]})]})]}),(e||t)&&r.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Recommendations based on:"}),r.jsx("div",{className:"flex items-center gap-2",children:s.genresSearched.map(j=>r.jsx("span",{className:`text-sm ${x(j)}`,children:j},j))})]}),r.jsxs("p",{className:"text-white/60 text-xs",children:["Found ",s.totalFound," games  Excluded ",s.excludedCount," already owned"]})]}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4 animate-spin",children:""}),r.jsx("p",{className:"text-gray-300",children:"Finding Steam recommendations..."})]}):m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white/5 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-32 h-32 bg-gaming-primary/20 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:m.capsuleImage?r.jsx("img",{src:m.capsuleImage,alt:m.name,className:"w-full h-full object-cover","data-app-id":m.id,onError:y}):m.coverImage?r.jsx("img",{src:m.coverImage,alt:m.name,className:"w-full h-full object-cover","data-app-id":m.id,onError:y}):r.jsx("span",{className:"text-3xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.name}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:`font-bold ${v(m.recommendationScore)}`,children:[Math.round(m.recommendationScore),"% Match"]}),r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-white/60 text-sm",children:((w=m.genres)==null?void 0:w.slice(0,2).join(", "))||"Various"})]}),m.description&&r.jsx("p",{className:"text-white/70 text-sm leading-relaxed mb-3 line-clamp-3",children:m.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-3",children:[m.price&&r.jsx("span",{className:"text-gaming-accent font-semibold",children:m.price}),r.jsx("span",{children:""}),r.jsx("span",{children:"Steam"}),m.releaseDate&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:new Date(m.releaseDate).getFullYear()})]})]})]})]})}),s.games.length>1&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-white/60 text-sm mb-3",children:"Other suggestions:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:s.games.filter(j=>j.id!==m.id).slice(0,4).map(j=>r.jsxs("button",{onClick:()=>p(j),className:"bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`text-xs font-bold ${v(j.recommendationScore)}`,children:[Math.round(j.recommendationScore),"%"]}),r.jsx("span",{className:"text-white/60 text-xs truncate",children:j.genres[0]})]}),r.jsx("div",{className:"text-white text-sm font-medium truncate",children:j.name})]},j.id))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>g(m),className:"flex-1 px-4 py-3 bg-gaming-accent hover:bg-gaming-primary text-white rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Buy on Steam"]}),r.jsxs("button",{onClick:f,disabled:i,className:"px-4 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg font-semibold transition-colors disabled:opacity-50",children:[""," New Suggestion"]})]})]}):null]})};function zT(e){const t=$T(e),n=BT(e),s=UT(e),i=VT(e),a=HT(e),o=WT(e);return{archetypeId:t,intensity:n,pacing:s,riskProfile:i,socialStyle:a,confidence:o}}function $T(e){const{completionRate:t,playtimeByGenre:n,multiplayerRatio:s,difficultyPreference:i}=e;if(t>.7)return"Specialist";const a=n.Strategy||0,o=Object.values(n).reduce((c,d)=>c+d,0);if(o>0&&a/o>.4)return"Strategist";if(s>.6)return"Socializer";const l=(n.Adventure||0)+(n["Open World"]||0);return o>0&&l/o>.4?"Explorer":i==="Brutal"?"Competitor":"Achiever"}function BT(e){const{sessionsPerWeek:t,averageSessionLengthMinutes:n}=e;return t>=5||n>=120?"High":t<=2&&n<60?"Low":"Medium"}function UT(e){const{averageSessionLengthMinutes:t}=e;return t<45?"Burst":t>120?"Marathon":"Flow"}function VT(e){const{difficultyPreference:t}=e;switch(t){case"Relaxed":return"Comfort";case"Normal":return"Balanced";case"Hard":case"Brutal":return"Experimental";default:return"Balanced"}}function HT(e){const{multiplayerRatio:t}=e;return t<.2?"Solo":t>.7?"Competitive":"Coop"}function WT(e){const t=[e.playtimeByGenre,e.averageSessionLengthMinutes,e.sessionsPerWeek,e.difficultyPreference,e.multiplayerRatio,e.completionRate],s=t.filter(i=>i!=null&&(typeof i!="object"||Object.keys(i).length>0)).length/t.length;return Math.max(.3,Math.min(1,s))}function YT(e,t){if(!t)return{traits:e,mood:null};const n={moodId:t.moodId,intensity:t.intensity,timestamp:t.timestamp};return{traits:e,mood:n}}function KT(e){const{traits:t,mood:n}=e,s=qT(n);return{summary:QT(t,n),tone:s}}function qT(e){if(!e)return"Reflective";const{moodId:t}=e;return["chill","story","creative"].includes(t)?"Calm":["energetic","social","exploratory"].includes(t)?"Hyped":["competitive","focused"].includes(t)?"Competitive":"Comfort"}function QT(e,t){const{archetypeId:n,pacing:s,riskProfile:i}=e,a=XT(n),o=JT(s),l=ZT(i),c=t?e3(t.moodId):null;return c?`You're a ${a} who prefers ${o} sessions. Currently feeling ${c}, you lean toward ${l} choices.`:`You're a ${a} who thrives in ${o} sessions with a ${l} approach to gaming.`}function XT(e){return{Achiever:"goal-oriented achiever",Explorer:"curious explorer",Socializer:"social gamer",Competitor:"competitive player",Strategist:"strategic thinker",Creative:"creative builder",Casual:"relaxed gamer",Specialist:"dedicated specialist"}[e]||"versatile player"}function JT(e){return{Burst:"short, intense",Flow:"steady, balanced",Marathon:"long, immersive"}[e]||"moderate"}function ZT(e){return{Comfort:"comfortable and familiar",Balanced:"balanced and varied",Experimental:"experimental and bold"}[e]||"thoughtful"}function e3(e){return{chill:"chill and relaxed",competitive:"competitive and driven",story:"story-focused and immersed",creative:"creative and inspired",social:"social and connected",focused:"focused and determined",energetic:"energetic and excited",exploratory:"exploratory and curious"}[e]||"in a thoughtful mood"}function Zs(e){if(!e.signals)throw new Error("PersonaSnapshotInput.signals is required");t3(e.signals);try{const t=zT(e.signals),{mood:n}=YT(t,e.moodEntry||void 0),s=KT({traits:t,mood:n}),i=t.confidence;return{traits:t,mood:n,narrative:s,confidence:i}}catch(t){throw new Error(`Failed to build persona snapshot: ${t instanceof Error?t.message:"Unknown error"}`)}}function t3(e){const t=["playtimeByGenre","averageSessionLengthMinutes","sessionsPerWeek","difficultyPreference","multiplayerRatio","completionRate"];for(const s of t)if(!(s in e))throw new Error(`Missing required field: ${s}`);if(typeof e.playtimeByGenre!="object"||e.playtimeByGenre===null)throw new Error("playtimeByGenre must be a valid object");if(typeof e.averageSessionLengthMinutes!="number"||e.averageSessionLengthMinutes<0)throw new Error("averageSessionLengthMinutes must be a non-negative number");if(typeof e.sessionsPerWeek!="number"||e.sessionsPerWeek<0)throw new Error("sessionsPerWeek must be a non-negative number");const n=["Relaxed","Normal","Hard","Brutal"];if(!n.includes(e.difficultyPreference))throw new Error(`difficultyPreference must be one of: ${n.join(", ")}`);if(typeof e.multiplayerRatio!="number"||e.multiplayerRatio<0||e.multiplayerRatio>1)throw new Error("multiplayerRatio must be a number between 0 and 1");if(typeof e.completionRate!="number"||e.completionRate<0||e.completionRate>1)throw new Error("completionRate must be a number between 0 and 1")}function n3(e,t,n=[],s,i,a){const o=new Date;return{moodId:e,intensity:Math.max(1,Math.min(10,t)),timestamp:o,context:s,gameId:i,moodTags:n.slice(0,2),temporalContext:{hourOfDay:o.getHours(),dayOfWeek:o.getDay(),weekOfYear:c3(o)},sessionContext:a?{sessionId:a.sessionId,isPreSession:a.isPreSession||!1,isPostSession:a.isPostSession||!1}:void 0}}function s3(e,t,n){return{sessionId:e,startTime:new Date,gameId:t,preMood:n||null,postMood:null,sessionDuration:void 0,moodDelta:void 0}}function r3(e,t){const n=new Date,s=e.startTime?Math.round((n.getTime()-e.startTime.getTime())/(1e3*60)):void 0,i=e.preMood&&t?t.intensity-e.preMood.intensity:void 0;return{...e,endTime:n,postMood:t||null,sessionDuration:s,moodDelta:i}}function i3(e,t,n,s,i=.5){return{recommendationId:e,moodAtTime:t,feedback:n,gameId:s,timestamp:new Date,confidence:Math.max(0,Math.min(1,i))}}function a3(e){if(!e||e.length===0)return{bestHours:[],worstHours:[],dayTrends:{}};const t={};e.forEach(d=>{const u=d.temporalContext.hourOfDay;t[u]||(t[u]=[]),t[u].push(d.intensity)});const n={};Object.entries(t).forEach(([d,u])=>{n[parseInt(d)]=u.reduce((m,h)=>m+h,0)/u.length});const s=Object.entries(n).sort(([,d],[,u])=>u-d).map(([d])=>parseInt(d)),i=s.slice(0,3),a=s.slice(-3),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l={};e.forEach(d=>{const u=o[d.temporalContext.dayOfWeek];l[u]||(l[u]=[]),l[u].push(d.intensity)});const c={};return Object.entries(l).forEach(([d,u])=>{c[d]=u.reduce((m,h)=>m+h,0)/u.length}),{bestHours:i,worstHours:a,dayTrends:c}}function o3(e){if(!e||e.length===0)return[];const t={};return e.forEach(s=>{if(s.moodTags.length>0){const i=`${s.moodId}+${s.moodTags[0]}`;t[i]||(t[i]={count:0,intensities:[]}),t[i].count++,t[i].intensities.push(s.intensity)}}),Object.entries(t).map(([s,i])=>{const[a,o]=s.split("+"),l=i.intensities.reduce((d,u)=>d+u,0)/i.intensities.length,c=i.count/e.length;return{primary:a,secondary:o,frequency:c,averageIntensity:l}}).sort((s,i)=>i.frequency-s.frequency).slice(0,5)}function l3(e){const t=e.filter(d=>d.preMood&&d.postMood&&d.sessionDuration);if(t.length===0)return{averageMoodDelta:0,positiveSessionRatio:0,sessionDurationImpact:0};const n=t.map(d=>d.moodDelta||0),s=n.reduce((d,u)=>d+u,0)/n.length,a=n.filter(d=>d>0).length/t.length,o=t.map(d=>d.sessionDuration||0),l=o.reduce((d,u)=>d+u,0)/o.length,c=Math.abs(s)/Math.max(l,1);return{averageMoodDelta:s,positiveSessionRatio:a,sessionDurationImpact:c}}function c3(e){const t=new Date(e.getFullYear(),0,1),n=(e.getTime()-t.getTime())/864e5;return Math.ceil((n+t.getDay()+1)/7)}const d3={enableTemporalPatterns:!0,enableSessionTracking:!0,enableCompoundMoods:!0,enableFeedbackLoop:!0,maxHistorySize:1e3};class u3{constructor(t={}){this.moodHistory=[],this.sessionHistory=[],this.feedbackHistory=[],this.config={...d3,...t}}buildEnhancedPersonaSnapshot(t,n){const i={...Zs(t)};return this.config.enableTemporalPatterns&&(n!=null&&n.moodEvents)&&(i.temporalInsights=a3(n.moodEvents)),this.config.enableSessionTracking&&(n!=null&&n.sessionEvents)&&(i.sessionInsights=l3(n.sessionEvents)),this.config.enableCompoundMoods&&(n!=null&&n.moodEvents)&&(i.compoundMoods=o3(n.moodEvents)),i}recordMood(t,n,s=[],i,a,o){const l=n3(t,n,s,i,a,o);return this.moodHistory.push(l),this.moodHistory.length>this.config.maxHistorySize&&(this.moodHistory=this.moodHistory.slice(-this.config.maxHistorySize)),l}startSession(t,n){const s=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=s3(s,t,n);return this.sessionHistory.push(i),this.sessionHistory.length>this.config.maxHistorySize&&(this.sessionHistory=this.sessionHistory.slice(-this.config.maxHistorySize)),s}endSession(t,n){const s=this.sessionHistory.findIndex(o=>o.sessionId===t);if(s===-1)return null;const i=this.sessionHistory[s],a=r3(i,n);return this.sessionHistory[s]=a,a}recordFeedback(t,n,s,i,a=.5){const o=i3(t,n,s,i,a);return this.feedbackHistory.push(o),this.feedbackHistory.length>this.config.maxHistorySize&&(this.feedbackHistory=this.feedbackHistory.slice(-this.config.maxHistorySize)),o}getMoodHistory(){return[...this.moodHistory]}getSessionHistory(){return[...this.sessionHistory]}getFeedbackHistory(){return[...this.feedbackHistory]}getConfig(){return{...this.config}}updateConfig(t){this.config={...this.config,...t}}clearHistory(){this.moodHistory=[],this.sessionHistory=[],this.feedbackHistory=[]}}function m3(e){return new u3(e)}var L0;const h3=typeof process<"u"&&((L0=process.env)==null?void 0:L0.ENABLE_ENHANCED_PERSONA)==="true"||!1;class p3{constructor(){if(this.enhancedEngine=null,this.isEnabled=h3,this.isEnabled)try{this.enhancedEngine=m3({enableTemporalPatterns:!0,enableSessionTracking:!0,enableCompoundMoods:!0,enableFeedbackLoop:!0,maxHistorySize:1e3}),console.log(" Enhanced Persona Engine enabled")}catch(t){console.warn(" Failed to initialize Enhanced Persona Engine, falling back to legacy:",t),this.isEnabled=!1,this.enhancedEngine=null}else console.log(" Using legacy Persona Engine (enhanced features disabled)")}buildSnapshot(t){try{if(this.isEnabled&&this.enhancedEngine){const n={moodEvents:this.enhancedEngine.getMoodHistory(),sessionEvents:this.enhancedEngine.getSessionHistory(),feedbackEvents:this.enhancedEngine.getFeedbackHistory()};return this.enhancedEngine.buildEnhancedPersonaSnapshot(t,n)}else return Zs(t)}catch(n){return console.warn(" Enhanced snapshot build failed, falling back to legacy:",n),Zs(t)}}recordMood(t,n,s,i,a){if(this.isEnabled&&this.enhancedEngine)try{this.enhancedEngine.recordMood(t,n,s,i,a)}catch(o){console.warn(" Failed to record enhanced mood:",o)}}startSession(t,n){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.startSession(t,n)}catch(s){return console.warn(" Failed to start session tracking:",s),null}return null}endSession(t,n){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.endSession(t,n)}catch(s){return console.warn(" Failed to end session tracking:",s),null}return null}recordFeedback(t,n,s,i,a){if(this.isEnabled&&this.enhancedEngine)try{this.enhancedEngine.recordFeedback(t,n,s,i,a)}catch(o){console.warn(" Failed to record feedback:",o)}}getMoodHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getMoodHistory()}catch(t){return console.warn(" Failed to get mood history:",t),[]}return[]}getSessionHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getSessionHistory()}catch(t){return console.warn(" Failed to get session history:",t),[]}return[]}getFeedbackHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getFeedbackHistory()}catch(t){return console.warn(" Failed to get feedback history:",t),[]}return[]}getEngineStatus(){if(this.isEnabled&&this.enhancedEngine){const t=this.enhancedEngine.getConfig();return{enhanced:!0,engine:"enhanced",features:{temporalPatterns:t.enableTemporalPatterns,sessionTracking:t.enableSessionTracking,compoundMoods:t.enableCompoundMoods,feedbackLoop:t.enableFeedbackLoop}}}else return{enhanced:!1,engine:"legacy",features:{temporalPatterns:!1,sessionTracking:!1,compoundMoods:!1,feedbackLoop:!1}}}}new p3;function hw(e,t){return function(){return e.apply(t,arguments)}}const{toString:f3}=Object.prototype,{getPrototypeOf:Eh}=Object,{iterator:Hl,toStringTag:pw}=Symbol,Wl=(e=>t=>{const n=f3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=e=>(e=e.toLowerCase(),t=>Wl(t)===e),Yl=e=>t=>typeof t===e,{isArray:ai}=Array,Qr=Yl("undefined");function Ta(e){return e!==null&&!Qr(e)&&e.constructor!==null&&!Qr(e.constructor)&&Ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fw=ln("ArrayBuffer");function g3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fw(e.buffer),t}const y3=Yl("string"),Ct=Yl("function"),gw=Yl("number"),Ma=e=>e!==null&&typeof e=="object",x3=e=>e===!0||e===!1,Eo=e=>{if(Wl(e)!=="object")return!1;const t=Eh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(pw in e)&&!(Hl in e)},v3=e=>{if(!Ma(e)||Ta(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},b3=ln("Date"),w3=ln("File"),j3=ln("Blob"),N3=ln("FileList"),S3=e=>Ma(e)&&Ct(e.pipe),k3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ct(e.append)&&((t=Wl(e))==="formdata"||t==="object"&&Ct(e.toString)&&e.toString()==="[object FormData]"))},C3=ln("URLSearchParams"),[E3,P3,T3,M3]=["ReadableStream","Request","Response","Headers"].map(ln),A3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Aa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),ai(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Ta(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function yw(e,t){if(Ta(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const Ls=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xw=e=>!Qr(e)&&e!==Ls;function Lu(){const{caseless:e,skipUndefined:t}=xw(this)&&this||{},n={},s=(i,a)=>{const o=e&&yw(n,a)||a;Eo(n[o])&&Eo(i)?n[o]=Lu(n[o],i):Eo(i)?n[o]=Lu({},i):ai(i)?n[o]=i.slice():(!t||!Qr(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Aa(arguments[i],s);return n}const _3=(e,t,n,{allOwnKeys:s}={})=>(Aa(t,(i,a)=>{n&&Ct(i)?Object.defineProperty(e,a,{value:hw(i,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e),I3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),R3=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},L3=(e,t,n,s)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Eh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},O3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},D3=e=>{if(!e)return null;if(ai(e))return e;let t=e.length;if(!gw(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},F3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Eh(Uint8Array)),G3=(e,t)=>{const s=(e&&e[Hl]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},z3=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},$3=ln("HTMLFormElement"),B3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Wg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),U3=ln("RegExp"),vw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Aa(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},V3=e=>{vw(e,(t,n)=>{if(Ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ct(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H3=(e,t)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return ai(e)?s(e):s(String(e).split(t)),n},W3=()=>{},Y3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function K3(e){return!!(e&&Ct(e.append)&&e[pw]==="FormData"&&e[Hl])}const q3=e=>{const t=new Array(10),n=(s,i)=>{if(Ma(s)){if(t.indexOf(s)>=0)return;if(Ta(s))return s;if(!("toJSON"in s)){t[i]=s;const a=ai(s)?[]:{};return Aa(s,(o,l)=>{const c=n(o,i+1);!Qr(c)&&(a[l]=c)}),t[i]=void 0,a}}return s};return n(e,0)},Q3=ln("AsyncFunction"),X3=e=>e&&(Ma(e)||Ct(e))&&Ct(e.then)&&Ct(e.catch),bw=((e,t)=>e?setImmediate:t?((n,s)=>(Ls.addEventListener("message",({source:i,data:a})=>{i===Ls&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Ls.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ct(Ls.postMessage)),J3=typeof queueMicrotask<"u"?queueMicrotask.bind(Ls):typeof process<"u"&&process.nextTick||bw,Z3=e=>e!=null&&Ct(e[Hl]),M={isArray:ai,isArrayBuffer:fw,isBuffer:Ta,isFormData:k3,isArrayBufferView:g3,isString:y3,isNumber:gw,isBoolean:x3,isObject:Ma,isPlainObject:Eo,isEmptyObject:v3,isReadableStream:E3,isRequest:P3,isResponse:T3,isHeaders:M3,isUndefined:Qr,isDate:b3,isFile:w3,isBlob:j3,isRegExp:U3,isFunction:Ct,isStream:S3,isURLSearchParams:C3,isTypedArray:F3,isFileList:N3,forEach:Aa,merge:Lu,extend:_3,trim:A3,stripBOM:I3,inherits:R3,toFlatObject:L3,kindOf:Wl,kindOfTest:ln,endsWith:O3,toArray:D3,forEachEntry:G3,matchAll:z3,isHTMLForm:$3,hasOwnProperty:Wg,hasOwnProp:Wg,reduceDescriptors:vw,freezeMethods:V3,toObjectSet:H3,toCamelCase:B3,noop:W3,toFiniteNumber:Y3,findKey:yw,global:Ls,isContextDefined:xw,isSpecCompliantForm:K3,toJSONObject:q3,isAsyncFn:Q3,isThenable:X3,setImmediate:bw,asap:J3,isIterable:Z3};class vt extends Error{static from(t,n,s,i,a,o){const l=new vt(t.message,n||t.code,s,i,a);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,n,s,i,a){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),s&&(this.config=s),i&&(this.request=i),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}}vt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";vt.ERR_BAD_OPTION="ERR_BAD_OPTION";vt.ECONNABORTED="ECONNABORTED";vt.ETIMEDOUT="ETIMEDOUT";vt.ERR_NETWORK="ERR_NETWORK";vt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";vt.ERR_DEPRECATED="ERR_DEPRECATED";vt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";vt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";vt.ERR_CANCELED="ERR_CANCELED";vt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";vt.ERR_INVALID_URL="ERR_INVALID_URL";const te=vt,e4=null;function Ou(e){return M.isPlainObject(e)||M.isArray(e)}function ww(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function Yg(e,t,n){return e?e.concat(t).map(function(i,a){return i=ww(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function t4(e){return M.isArray(e)&&!e.some(Ou)}const n4=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Kl(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!M.isUndefined(y[g])});const s=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(M.isDate(p))return p.toISOString();if(M.isBoolean(p))return p.toString();if(!c&&M.isBlob(p))throw new te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(p)||M.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,y){let x=p;if(p&&!y&&typeof p=="object"){if(M.endsWith(g,"{}"))g=s?g:g.slice(0,-2),p=JSON.stringify(p);else if(M.isArray(p)&&t4(p)||(M.isFileList(p)||M.endsWith(g,"[]"))&&(x=M.toArray(p)))return g=ww(g),x.forEach(function(w,j){!(M.isUndefined(w)||w===null)&&t.append(o===!0?Yg([g],j,a):o===null?g:g+"[]",d(w))}),!1}return Ou(p)?!0:(t.append(Yg(y,g,a),d(p)),!1)}const m=[],h=Object.assign(n4,{defaultVisitor:u,convertValue:d,isVisitable:Ou});function f(p,g){if(!M.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(p),M.forEach(p,function(x,v){(!(M.isUndefined(x)||x===null)&&i.call(t,x,M.isString(v)?v.trim():v,g,h))===!0&&f(x,g?g.concat(v):[v])}),m.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Kg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Ph(e,t){this._pairs=[],e&&Kl(e,this,t)}const jw=Ph.prototype;jw.append=function(t,n){this._pairs.push([t,n])};jw.toString=function(t){const n=t?function(s){return t.call(this,s,Kg)}:Kg;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function s4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nw(e,t,n){if(!t)return e;const s=n&&n.encode||s4,i=M.isFunction(n)?{serialize:n}:n,a=i&&i.serialize;let o;if(a?o=a(t,i):o=M.isURLSearchParams(t)?t.toString():new Ph(t,i).toString(s),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class r4{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(s){s!==null&&t(s)})}}const qg=r4,Sw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i4=typeof URLSearchParams<"u"?URLSearchParams:Ph,a4=typeof FormData<"u"?FormData:null,o4=typeof Blob<"u"?Blob:null,l4={isBrowser:!0,classes:{URLSearchParams:i4,FormData:a4,Blob:o4},protocols:["http","https","file","blob","url","data"]},Th=typeof window<"u"&&typeof document<"u",Du=typeof navigator=="object"&&navigator||void 0,c4=Th&&(!Du||["ReactNative","NativeScript","NS"].indexOf(Du.product)<0),d4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),u4=Th&&window.location.href||"http://localhost",m4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Th,hasStandardBrowserEnv:c4,hasStandardBrowserWebWorkerEnv:d4,navigator:Du,origin:u4},Symbol.toStringTag,{value:"Module"})),lt={...m4,...l4};function h4(e,t){return Kl(e,new lt.classes.URLSearchParams,{visitor:function(n,s,i,a){return lt.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function p4(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function f4(e){const t={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],t[a]=e[a];return t}function kw(e){function t(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&M.isArray(i)?i.length:o,c?(M.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],a)&&M.isArray(i[o])&&(i[o]=f4(i[o])),!l)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(s,i)=>{t(p4(s),i,n,0)}),n}return null}function g4(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Mh={transitional:Sw,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=M.isObject(t);if(a&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return i?JSON.stringify(kw(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return h4(t,this.formSerializer).toString();if((l=M.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),g4(t)):t}],transformResponse:[function(t){const n=this.transitional||Mh.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?te.from(l,te.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Mh.headers[e]={}});const Ah=Mh,y4=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x4=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&y4[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Qg=Symbol("internals");function yi(e){return e&&String(e).trim().toLowerCase()}function Po(e){return e===!1||e==null?e:M.isArray(e)?e.map(Po):String(e)}function v4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const b4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ed(e,t,n,s,i){if(M.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!M.isString(t)){if(M.isString(s))return t.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(t)}}function w4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function j4(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}class ql{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function a(l,c,d){const u=yi(c);if(!u)throw new Error("header name must be a non-empty string");const m=M.findKey(i,u);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||c]=Po(l))}const o=(l,c)=>M.forEach(l,(d,u)=>a(d,u,c));if(M.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(M.isString(t)&&(t=t.trim())&&!b4(t))o(x4(t),n);else if(M.isObject(t)&&M.isIterable(t)){let l={},c,d;for(const u of t){if(!M.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?M.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=yi(t),t){const s=M.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return v4(i);if(M.isFunction(n))return n.call(this,i,s);if(M.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yi(t),t){const s=M.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ed(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function a(o){if(o=yi(o),o){const l=M.findKey(s,o);l&&(!n||ed(s,s[l],l,n))&&(delete s[l],i=!0)}}return M.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!t||ed(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,s={};return M.forEach(this,(i,a)=>{const o=M.findKey(s,a);if(o){n[o]=Po(i),delete n[a];return}const l=t?w4(a):String(a).trim();l!==a&&delete n[a],n[l]=Po(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Qg]=this[Qg]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=yi(o);s[l]||(j4(i,o),s[l]=!0)}return M.isArray(t)?t.forEach(a):a(t),this}}ql.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(ql.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});M.freezeMethods(ql);const rn=ql;function td(e,t){const n=this||Ah,s=t||n,i=rn.from(s.headers);let a=s.data;return M.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Cw(e){return!!(e&&e.__CANCEL__)}class N4 extends te{constructor(t,n,s){super(t??"canceled",te.ERR_CANCELED,n,s),this.name="CanceledError",this.__CANCEL__=!0}}const _a=N4;function Ew(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function S4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function k4(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[a];o||(o=d),n[i]=c,s[i]=d;let m=a,h=0;for(;m!==i;)h+=n[m++],m=m%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const f=u&&d-u;return f?Math.round(h*1e3/f):void 0}}function C4(e,t){let n=0,s=1e3/t,i,a;const o=(d,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=s?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},s-m)))},()=>i&&o(i)]}const pl=(e,t,n=3)=>{let s=0;const i=k4(50,250);return C4(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,d=i(c),u=o<=l;s=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},n)},Xg=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Jg=e=>(...t)=>M.asap(()=>e(...t)),E4=lt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,lt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,P4=lt.hasStandardBrowserEnv?{write(e,t,n,s,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];M.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),M.isString(s)&&l.push(`path=${s}`),M.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),M.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function T4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function M4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pw(e,t,n){let s=!T4(t);return e&&(s||n==!1)?M4(e,t):t}const Zg=e=>e instanceof rn?{...e}:e;function er(e,t){t=t||{};const n={};function s(d,u,m,h){return M.isPlainObject(d)&&M.isPlainObject(u)?M.merge.call({caseless:h},d,u):M.isPlainObject(u)?M.merge({},u):M.isArray(u)?u.slice():u}function i(d,u,m,h){if(M.isUndefined(u)){if(!M.isUndefined(d))return s(void 0,d,m,h)}else return s(d,u,m,h)}function a(d,u){if(!M.isUndefined(u))return s(void 0,u)}function o(d,u){if(M.isUndefined(u)){if(!M.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,m){if(m in t)return s(d,u);if(m in e)return s(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>i(Zg(d),Zg(u),m,!0)};return M.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||i,h=m(e[u],t[u],u);M.isUndefined(h)&&m!==l||(n[u]=h)}),n}const Tw=e=>{const t=er({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=rn.from(o),t.url=Nw(Pw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),M.isFormData(n)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(lt.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(t)),s||s!==!1&&E4(t.url))){const c=i&&a&&P4.read(a);c&&o.set(i,c)}return t},A4=typeof XMLHttpRequest<"u",_4=A4&&function(e){return new Promise(function(n,s){const i=Tw(e);let a=i.data;const o=rn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,m,h,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const w=rn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};Ew(function(C){n(C),g()},function(C){s(C),g()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(s(new te("Request aborted",te.ECONNABORTED,e,y)),y=null)},y.onerror=function(j){const S=j&&j.message?j.message:"Network Error",T=new te(S,te.ERR_NETWORK,e,y);T.event=j||null,s(T),y=null},y.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Sw;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),s(new te(j,S.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&M.forEach(o.toJSON(),function(j,S){y.setRequestHeader(S,j)}),M.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),d&&([h,p]=pl(d,!0),y.addEventListener("progress",h)),c&&y.upload&&([m,f]=pl(c),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=w=>{y&&(s(!w||w.type?new _a(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=S4(i.url);if(v&&lt.protocols.indexOf(v)===-1){s(new te("Unsupported protocol "+v+":",te.ERR_BAD_REQUEST,e));return}y.send(a||null)})},I4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof te?u:new _a(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new te(`timeout of ${t}ms exceeded`,te.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>M.asap(l),c}},R4=I4,L4=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},O4=async function*(e,t){for await(const n of D4(e))yield*L4(n,t)},D4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},e0=(e,t,n,s)=>{const i=O4(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let m=u.byteLength;if(n){let h=a+=m;n(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},t0=64*1024,{isFunction:ao}=M,F4=(({Request:e,Response:t})=>({Request:e,Response:t}))(M.global),{ReadableStream:n0,TextEncoder:s0}=M.global,r0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},G4=e=>{e=M.merge.call({skipUndefined:!0},F4,e);const{fetch:t,Request:n,Response:s}=e,i=t?ao(t):typeof fetch=="function",a=ao(n),o=ao(s);if(!i)return!1;const l=i&&ao(n0),c=i&&(typeof s0=="function"?(p=>g=>p.encode(g))(new s0):async p=>new Uint8Array(await new n(p).arrayBuffer())),d=a&&l&&r0(()=>{let p=!1;const g=new n(lt.origin,{body:new n0,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),u=o&&l&&r0(()=>M.isReadableStream(new s("").body)),m={stream:u&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(g,y)=>{let x=g&&g[p];if(x)return x.call(g);throw new te(`Response type '${p}' is not supported`,te.ERR_NOT_SUPPORT,y)})});const h=async p=>{if(p==null)return 0;if(M.isBlob(p))return p.size;if(M.isSpecCompliantForm(p))return(await new n(lt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(M.isArrayBufferView(p)||M.isArrayBuffer(p))return p.byteLength;if(M.isURLSearchParams(p)&&(p=p+""),M.isString(p))return(await c(p)).byteLength},f=async(p,g)=>{const y=M.toFiniteNumber(p.getContentLength());return y??h(g)};return async p=>{let{url:g,method:y,data:x,signal:v,cancelToken:w,timeout:j,onDownloadProgress:S,onUploadProgress:T,responseType:C,headers:k,withCredentials:E="same-origin",fetchOptions:P}=Tw(p),R=t||fetch;C=C?(C+"").toLowerCase():"text";let $=R4([v,w&&w.toAbortSignal()],j),U=null;const q=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let ee;try{if(T&&d&&y!=="get"&&y!=="head"&&(ee=await f(k,x))!==0){let G=new n(g,{method:"POST",body:x,duplex:"half"}),I;if(M.isFormData(x)&&(I=G.headers.get("content-type"))&&k.setContentType(I),G.body){const[V,se]=Xg(ee,pl(Jg(T)));x=e0(G.body,t0,V,se)}}M.isString(E)||(E=E?"include":"omit");const N=a&&"credentials"in n.prototype,Y={...P,signal:$,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:N?E:void 0};U=a&&new n(g,Y);let A=await(a?R(U,P):R(g,Y));const F=u&&(C==="stream"||C==="response");if(u&&(S||F&&q)){const G={};["status","statusText","headers"].forEach(oe=>{G[oe]=A[oe]});const I=M.toFiniteNumber(A.headers.get("content-length")),[V,se]=S&&Xg(I,pl(Jg(S),!0))||[];A=new s(e0(A.body,t0,V,()=>{se&&se(),q&&q()}),G)}C=C||"text";let L=await m[M.findKey(m,C)||"text"](A,p);return!F&&q&&q(),await new Promise((G,I)=>{Ew(G,I,{data:L,headers:rn.from(A.headers),status:A.status,statusText:A.statusText,config:p,request:U})})}catch(N){throw q&&q(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,p,U),{cause:N.cause||N}):te.from(N,N&&N.code,p,U)}}},z4=new Map,Mw=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:i}=t,a=[s,i,n];let o=a.length,l=o,c,d,u=z4;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:G4(t)),u=d;return d};Mw();const _h={http:e4,xhr:_4,fetch:{get:Mw}};M.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const i0=e=>`- ${e}`,$4=e=>M.isFunction(e)||e===null||e===!1;function B4(e,t){e=M.isArray(e)?e:[e];const{length:n}=e;let s,i;const a={};for(let o=0;o<n;o++){s=e[o];let l;if(i=s,!$4(s)&&(i=_h[(l=String(s)).toLowerCase()],i===void 0))throw new te(`Unknown adapter '${l}'`);if(i&&(M.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(i0).join(`
`):" "+i0(o[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const Aw={getAdapter:B4,adapters:_h};function nd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _a(null,e)}function a0(e){return nd(e),e.headers=rn.from(e.headers),e.data=td.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Aw.getAdapter(e.adapter||Ah.adapter,e)(e).then(function(s){return nd(e),s.data=td.call(e,e.transformResponse,s),s.headers=rn.from(s.headers),s},function(s){return Cw(s)||(nd(e),s&&s.response&&(s.response.data=td.call(e,e.transformResponse,s.response),s.response.headers=rn.from(s.response.headers))),Promise.reject(s)})}const _w="1.13.4",Ql={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ql[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const o0={};Ql.transitional=function(t,n,s){function i(a,o){return"[Axios v"+_w+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new te(i(o," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!o0[o]&&(o0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};Ql.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function U4(e,t,n){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new te("option "+a+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}}const To={assertOptions:U4,validators:Ql},dn=To.validators;class fl{constructor(t){this.defaults=t||{},this.interceptors={request:new qg,response:new qg}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=er(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&To.assertOptions(s,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),i!=null&&(M.isFunction(i)?n.paramsSerializer={serialize:i}:To.assertOptions(i,{encode:dn.function,serialize:dn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),To.assertOptions(n,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&M.merge(a.common,a[n.method]);a&&M.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=rn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,m=0,h;if(!c){const p=[a0.bind(this),void 0];for(p.unshift(...l),p.push(...d),h=p.length,u=Promise.resolve(n);m<h;)u=u.then(p[m++],p[m++]);return u}h=l.length;let f=n;for(;m<h;){const p=l[m++],g=l[m++];try{f=p(f)}catch(y){g.call(this,y);break}}try{u=a0.call(this,f)}catch(p){return Promise.reject(p)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=er(this.defaults,t);const n=Pw(t.baseURL,t.url,t.allowAbsoluteUrls);return Nw(n,t.params,t.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(t){fl.prototype[t]=function(n,s){return this.request(er(s||{},{method:t,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,l){return this.request(er(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fl.prototype[t]=n(),fl.prototype[t+"Form"]=n(!0)});const Mo=fl;class Ih{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new _a(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ih(function(i){t=i}),cancel:t}}}const V4=Ih;function H4(e){return function(n){return e.apply(null,n)}}function W4(e){return M.isObject(e)&&e.isAxiosError===!0}const Fu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fu).forEach(([e,t])=>{Fu[t]=e});const Y4=Fu;function Iw(e){const t=new Mo(e),n=hw(Mo.prototype.request,t);return M.extend(n,Mo.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Iw(er(e,i))},n}const $e=Iw(Ah);$e.Axios=Mo;$e.CanceledError=_a;$e.CancelToken=V4;$e.isCancel=Cw;$e.VERSION=_w;$e.toFormData=Kl;$e.AxiosError=te;$e.Cancel=$e.CanceledError;$e.all=function(t){return Promise.all(t)};$e.spread=H4;$e.isAxiosError=W4;$e.mergeConfig=er;$e.AxiosHeaders=rn;$e.formToJSON=e=>kw(M.isHTMLForm(e)?new FormData(e):e);$e.getAdapter=Aw.getAdapter;$e.HttpStatusCode=Y4;$e.default=$e;const sd=$e;class K4{constructor(){We(this,"baseUrl");We(this,"isDevelopment");typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?this.baseUrl="http://localhost:3000/api":this.baseUrl="https://gamepilot-main.up.railway.app",this.isDevelopment=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")}async getMoodForecast(t){if(this.isDevelopment)return{primaryForecast:{predictedMood:"chill",confidence:.85,reasoning:"Development mode fallback forecast"},alternativeForecasts:[{mood:"creative",confidence:.75,reasoning:"Alternative based on genre preferences"},{mood:"focused",confidence:.65,reasoning:"Alternative based on session patterns"}],forecastPeriod:"next_week",generatedAt:new Date().toISOString()};try{return(await sd.get(`${this.baseUrl}/mood/forecast`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood forecast:",n),{primaryForecast:{predictedMood:"chill",confidence:.7,reasoning:"Fallback forecast due to API error"},alternativeForecasts:[],forecastPeriod:"next_week",generatedAt:new Date().toISOString()}}}async getMoodResonance(t){if(this.isDevelopment)return{moodAccuracy:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},confidenceAdjustments:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},sessionPatterns:{chill:{avgDuration:45,avgEngagement:80},energetic:{avgDuration:60,avgEngagement:90},competitive:{avgDuration:75,avgEngagement:95},social:{avgDuration:90,avgEngagement:85},creative:{avgDuration:120,avgEngagement:75},focused:{avgDuration:90,avgEngagement:88},story:{avgDuration:150,avgEngagement:82},exploratory:{avgDuration:120,avgEngagement:78}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:80,energetic:90,competitive:95,social:85,creative:75,focused:88,story:82,exploratory:78}}};try{return(await sd.get(`${this.baseUrl}/mood/resonance`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood resonance:",n),{moodAccuracy:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},confidenceAdjustments:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},sessionPatterns:{chill:{avgDuration:45,avgEngagement:75},energetic:{avgDuration:60,avgEngagement:85},competitive:{avgDuration:75,avgEngagement:90},social:{avgDuration:90,avgEngagement:80},creative:{avgDuration:120,avgEngagement:70},focused:{avgDuration:90,avgEngagement:85},story:{avgDuration:150,avgEngagement:80},exploratory:{avgDuration:120,avgEngagement:75}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:75,energetic:85,competitive:90,social:80,creative:70,focused:85,story:80,exploratory:75}}}}}async getMoodRecommendations(t){if(this.isDevelopment)return{recommendations:[{gameId:"game1",gameTitle:"Zen Puzzle Master",score:.95,reasoning:"Perfect match for current chill mood",moodAlignment:.9,genreMatch:.95,confidence:.85}],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy","adventure"],energetic:["action","shooter","racing","sports","platformer"],competitive:["action","shooter","strategy","fighting","racing"],social:["multiplayer","party","mmorpg","co-op","simulation"],creative:["sandbox","building","puzzle","simulation","adventure"],focused:["strategy","puzzle","rpg","turn-based","card"],story:["rpg","adventure","visual-novel","interactive-movie","simulation"],exploratory:["adventure","open-world","sandbox","survival","simulation"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()};try{return(await sd.get(`${this.baseUrl}/mood/recommendations`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood recommendations:",n),{recommendations:[],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy"],energetic:["action","shooter","racing","sports"],competitive:["action","shooter","strategy","fighting"],social:["multiplayer","party","mmorpg","co-op"],creative:["sandbox","building","puzzle","simulation"],focused:["strategy","puzzle","rpg","turn-based"],story:["rpg","adventure","visual-novel","interactive-movie"],exploratory:["adventure","open-world","sandbox","survival"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()}}}}const Ao=new K4;class Gu{static computeMoodProfile(t){if(!t||t.length===0)return this.getDefaultProfile();const n=this.analyzeGenreDistribution(t),s=this.analyzePlaytime(t),i=this.computeMoodScores(t,n),a=this.computePersonalityTraits(i,s);return{primaryMood:Object.entries(i).reduce((l,c)=>i[l[0]]>i[c[0]]?l:c)[0],moodScores:i,genreDistribution:n,playtimeAnalysis:s,personalityTraits:a,lastComputed:new Date}}static analyzeGenreDistribution(t){const n={};let s=0;t.forEach(a=>{var o;(o=a.genres)==null||o.forEach(l=>{const c=l.name.toLowerCase();n[c]=(n[c]||0)+1,s++})});const i={};return Object.entries(n).forEach(([a,o])=>{i[a]=s>0?o/s:0}),i}static analyzePlaytime(t){const n=t.reduce((c,d)=>c+(d.hoursPlayed||0),0),s=t.filter(c=>(c.hoursPlayed||0)>0),i=s.length>0?n/s.length:0,a={};t.forEach(c=>{var u;const d=c.hoursPlayed||0;d>0&&((u=c.genres)==null||u.forEach(m=>{const h=m.name.toLowerCase();a[h]=(a[h]||0)+d}))});const o=Object.entries(a).sort((c,d)=>d[1]-c[1]).slice(0,3).map(([c])=>c),l=this.identifyGamingPatterns(t,n,i);return{totalHours:n,averageSession:i,favoriteGenres:o,gamingPatterns:l}}static identifyGamingPatterns(t,n,s){const i=[];n>1e3?i.push("hardcore-gamer"):n>500?i.push("regular-gamer"):n>100?i.push("casual-gamer"):i.push("new-gamer"),s>10?i.push("long-sessions"):s<2?i.push("short-sessions"):i.push("moderate-sessions");const a=new Set(t.flatMap(o=>{var l;return((l=o.genres)==null?void 0:l.map(c=>c.name.toLowerCase()))||[]})).size;return a>10?i.push("genre-explorer"):a<5&&i.push("genre-specialist"),i}static computeMoodScores(t,n){const s={competitive:0,social:0,creative:0,exploratory:0,focused:0,storyDriven:0,chill:0,energetic:0};t.forEach(a=>{var c,d,u;const o=Math.min((a.hoursPlayed||0)/50,1),l=1/(((c=a.genres)==null?void 0:c.length)||1);(d=a.genres)==null||d.forEach(m=>{const h=m.name.toLowerCase(),f=this.GENRE_MOOD_MAP[h]||[],p=o*l;f.forEach(g=>{s[g]=(s[g]||0)+p})}),(u=a.tags)==null||u.forEach(m=>{const h=m.toLowerCase(),f=this.TAG_MOOD_MAP[h]||[],p=o*.5;f.forEach(g=>{s[g]=(s[g]||0)+p})})});const i=Math.max(...Object.values(s));return i>0&&Object.keys(s).forEach(a=>{s[a]=s[a]/i}),s}static computePersonalityTraits(t,n){const s={...t};n.gamingPatterns.includes("hardcore-gamer")&&(s.competitive*=1.2,s.focused*=1.1),n.gamingPatterns.includes("genre-explorer")&&(s.exploratory*=1.2,s.creative*=1.1),n.gamingPatterns.includes("social-gamer")&&(s.social*=1.3);const i=Math.max(...Object.values(s));return i>1&&Object.keys(s).forEach(a=>{s[a]/=i}),s}static getDefaultProfile(){return{primaryMood:"chill",moodScores:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},genreDistribution:{},playtimeAnalysis:{totalHours:0,averageSession:0,favoriteGenres:[],gamingPatterns:["new-gamer"]},personalityTraits:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},lastComputed:new Date}}static getMoodRecommendations(t,n,s=10){return t.filter(o=>(o.hoursPlayed||0)<2).map(o=>{var c,d,u;let l=0;return(c=o.genres)==null||c.forEach(m=>{const h=m.name.toLowerCase();(this.GENRE_MOOD_MAP[h]||[]).includes(n.primaryMood)&&(l+=2)}),(d=o.tags)==null||d.forEach(m=>{const h=m.toLowerCase();(this.TAG_MOOD_MAP[h]||[]).includes(n.primaryMood)&&(l+=1)}),(u=o.genres)==null||u.forEach(m=>{const h=m.name.toLowerCase();(this.GENRE_MOOD_MAP[h]||[]).forEach(p=>{l+=n.personalityTraits[p]||0})}),o.globalRating&&(l+=o.globalRating/10),{game:o,score:l}}).sort((o,l)=>l.score-o.score).slice(0,s).map(o=>o.game)}}We(Gu,"GENRE_MOOD_MAP",{action:["energetic","competitive","focused"],adventure:["exploratory","storyDriven","chill"],rpg:["storyDriven","focused","exploratory"],strategy:["focused","competitive","creative"],puzzle:["focused","creative","chill"],simulation:["creative","chill","exploratory"],sports:["energetic","competitive","social"],racing:["energetic","competitive","focused"],shooter:["competitive","energetic","focused"],platformer:["energetic","focused","exploratory"],fighting:["competitive","energetic","focused"],mmo:["social","exploratory","competitive"],casual:["chill","creative","social"],indie:["creative","exploratory","chill"],horror:["focused","storyDriven","chill"],stealth:["focused","exploratory","competitive"],survival:["exploratory","focused","creative"],music:["creative","chill","energetic"],party:["social","energetic","chill"],board:["social","focused","competitive"],card:["focused","competitive","creative"]}),We(Gu,"TAG_MOOD_MAP",{multiplayer:["social","competitive"],"single-player":["storyDriven","focused","exploratory"],"co-op":["social","chill","competitive"],achievements:["competitive","focused"],trading:["creative","social"],"free-to-play":["social","chill"],action:["energetic","competitive"],adventure:["exploratory","storyDriven"],rpg:["storyDriven","focused"],strategy:["focused","competitive"],simulation:["creative","chill"],sports:["energetic","competitive"],racing:["energetic","competitive"],puzzle:["focused","creative"],horror:["focused","storyDriven"],survival:["exploratory","focused"]});const q4=Gu;function Xl(){const[e,t]=b.useState(null),{games:n}=be();return b.useEffect(()=>{const s=async()=>{var a;try{if(n&&n.length>0){const c=q4.computeMoodProfile(n),d={moodId:c.primaryMood,intensity:Math.round(c.moodScores[c.primaryMood]*10),timestamp:c.lastComputed,confidence:.85,source:"steam-data"};t(d);return}const o="current-user",l=await Ao.getMoodForecast(o);if((a=l==null?void 0:l.primaryForecast)!=null&&a.predictedMood){const c={moodId:l.primaryForecast.predictedMood,intensity:Math.round(l.primaryForecast.confidence*10),timestamp:new Date(l.generatedAt||Date.now()),confidence:l.primaryForecast.confidence,source:"api"};t(c)}else t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}catch{t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}};s();const i=setInterval(s,5*60*1e3);return()=>clearInterval(i)},[n]),e}function Gn(){const{games:e}=be(),t=Xl();return b.useMemo(()=>{try{const n=Q4(e);return Zs({signals:n,moodEntry:t})}catch(n){return console.warn("Persona snapshot calculation failed, using fallback:",n),Zs({signals:X4(),moodEntry:t})}},[e,t])}function Q4(e){const t=e.reduce((p,g)=>{const y=g.hoursPlayed||0;return y>0&&[...g.genres||[],...g.tags||[]].map(v=>typeof v=="string"?v:v.name||v.description||"").filter(Boolean).forEach(v=>{const w=v.toLowerCase();p[w]=(p[w]||0)+y}),p},{}),n=e.reduce((p,g)=>p+(g.hoursPlayed||0),0),s=e.filter(p=>p.lastPlayed&&new Date(p.lastPlayed).getTime()>Date.now()-30*24*60*60*1e3).length,i=s>0?Math.max(30,Math.min(180,n*60/Math.max(1,s*2))):60,a=s>0?Math.min(14,Math.max(1,Math.round(s/4))):3,o=e.filter(p=>{var v;const y=(p.tags||[]).map(w=>w.toLowerCase()).some(w=>w.includes("multiplayer")||w.includes("co-op")||w.includes("pvp")||w.includes("online")),x=(v=p.platforms)==null?void 0:v.some(w=>w.code==="steam");return y||x}).length,l=e.length>0?o/e.length:.3,c=e.filter(p=>p.playStatus==="completed").length,d=e.length>0?c/e.length:.5,u=e.filter(p=>{if(!p.lastPlayed)return!1;const g=new Date(p.lastPlayed).getHours();return g>=22||g<=6}).length,m=e.length>0?u/e.length:.2,h=Object.keys(t);let f="Normal";return h.some(p=>p.includes("souls")||p.includes("hardcore")||p.includes("brutal"))?f="Brutal":h.some(p=>p.includes("hard")||p.includes("difficult"))?f="Hard":h.some(p=>p.includes("casual")||p.includes("puzzle")||p.includes("relaxed"))&&(f="Relaxed"),{playtimeByGenre:t,averageSessionLengthMinutes:i,sessionsPerWeek:a,difficultyPreference:f,multiplayerRatio:l,lateNightRatio:m,completionRate:d}}function X4(){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:2,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.25,completionRate:.3}}function Rw(){const{games:e,intelligence:t}=be(),n=Xl();return b.useMemo(()=>{try{const s=J4(e,t);return Zs({signals:s,moodEntry:n})}catch(s){return console.warn("Library persona calculation failed, using fallback:",s),Zs({signals:Z4(),moodEntry:n})}},[e,t,n])}function J4(e,t){const n=e.reduce((f,p)=>{const g=p.hoursPlayed||0;return g>0&&[...p.genres||[],...p.subgenres||[]].forEach(x=>{f[x]=(f[x]||0)+g}),f},{}),s=e.reduce((f,p)=>f+(p.hoursPlayed||0),0),i=e.reduce((f,p)=>f+(p.localSessionCount||0),0);let a=60;t.selectedSessionLength?a={short:30,medium:60,long:120}[t.selectedSessionLength]||60:i>0&&(a=s*60/i);const o=i>0?Math.min(7,Math.max(1,Math.round(i/4))):3,l=e.filter(f=>{var y,x;const p=(y=f.tags)==null?void 0:y.some(v=>v.toLowerCase().includes("multiplayer")||v.toLowerCase().includes("co-op")||v.toLowerCase().includes("pvp")||v.toLowerCase().includes("online")),g=(x=f.genres)==null?void 0:x.some(v=>{const w=typeof v=="string"?v:(v==null?void 0:v.name)||"";return w.toLowerCase().includes("multiplayer")||w.toLowerCase().includes("mmorpg")});return p||g}).length,c=e.length>0?l/e.length:.3,d=e.filter(f=>f.playStatus==="completed").length,u=e.length>0?d/e.length:.5,m=e.reduce((f,p)=>([...p.moods||[],...(p.emotionalTags||[]).map(y=>typeof y=="string"?y:y.name||"")].forEach(y=>{y&&(f[y]=(f[y]||0)+(p.hoursPlayed||0))}),f),{}),h=Object.entries(m).reduce((f,[p,g])=>{const y=Number(g)||0;return f[p]=y>0?Math.min(100,y/(s||1)*100):0,f},{});return{playtimeByGenre:n,averageSessionLengthMinutes:a,sessionsPerWeek:o,difficultyPreference:"Normal",multiplayerRatio:c,lateNightRatio:.2,completionRate:u,moodDistribution:m,moodAffinity:h}}function Z4(){return{playtimeByGenre:{},averageSessionLengthMinutes:75,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.3,lateNightRatio:.15,completionRate:.4}}function eM(e){return!e||e.length===0?tM:e.map(t=>{var n;return{id:t.id,name:t.title,coverImage:t.coverImage,steamUrl:t.appId?`https://store.steampowered.com/app/${t.appId}`:"",price:"Owned",genres:((n=t.genres)==null?void 0:n.map(s=>s.name))||[],moodTags:t.moods||[],difficulty:"Normal",playstyleTags:t.tags||[],narrativeStyle:"medium",sessionSuitability:"flexible"}})}const tM=[{id:"bg3",name:"Baldur's Gate 3",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1086940/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1086940",price:"$59.99",genres:["RPG","Adventure","Strategy"],moodTags:["immersive","strategic","social","creative"],difficulty:"Normal",playstyleTags:["story-driven","strategic","social"],narrativeStyle:"deep",sessionSuitability:"long"},{id:"cyberpunk",name:"Cyberpunk 2077",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1091500/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1091500",price:"$29.99",genres:["RPG","Action","Open World"],moodTags:["energetic","immersive","competitive","creative"],difficulty:"Normal",playstyleTags:["explorer","competitive","story-driven"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"stardew",name:"Stardew Valley",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/413150/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/413150",price:"$14.99",genres:["Simulation","RPG","Farming"],moodTags:["chill","creative","social","relaxed"],difficulty:"Relaxed",playstyleTags:["casual","creative","social"],narrativeStyle:"light",sessionSuitability:"short"},{id:"hades",name:"Hades",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1145360/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1145360",price:"$24.99",genres:["Roguelike","Action","Indie"],moodTags:["energetic","competitive","focused","challenging"],difficulty:"Hard",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"moderate",sessionSuitability:"short"},{id:"disco",name:"Disco Elysium",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/646920/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/646920",price:"$19.99",genres:["RPG","Indie","Turn-Based"],moodTags:["creative","immersive","thoughtful","relaxed"],difficulty:"Normal",playstyleTags:["story-driven","explorer","creative"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"vampire",name:"Vampire Survivors",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1794680/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1794680",price:"$4.99",genres:["Action","Roguelike","Survival"],moodTags:["energetic","competitive","focused","addictive"],difficulty:"Normal",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"elden",name:"Elden Ring",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1245620/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1245620",price:"$59.99",genres:["RPG","Action","Open World"],moodTags:["challenging","immersive","focused","competitive"],difficulty:"Brutal",playstyleTags:["explorer","achiever","competitive"],narrativeStyle:"moderate",sessionSuitability:"long"},{id:"hollow",name:"Hollow Knight",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/367520/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/367520",price:"$14.99",genres:["Metroidvania","Action","Indie"],moodTags:["challenging","focused","immersive","exploratory"],difficulty:"Hard",playstyleTags:["explorer","achiever","focused"],narrativeStyle:"light",sessionSuitability:"medium"},{id:"slay",name:"Slay the Spire",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/646570/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/646570",price:"$16.99",genres:["Roguelike","Strategy","Card Game"],moodTags:["strategic","thoughtful","competitive","challenging"],difficulty:"Hard",playstyleTags:["strategic","competitive","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"minecraft",name:"Minecraft",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/239140/library_600x900.jpg",steamUrl:"https://www.minecraft.net",price:"$29.99",genres:["Sandbox","Survival","Creative"],moodTags:["creative","relaxed","social","exploratory"],difficulty:"Relaxed",playstyleTags:["creative","explorer","social","casual"],narrativeStyle:"minimal",sessionSuitability:"flexible"}];function nM(e){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.2,completionRate:.5}}function sM(e,t=[],n,s=0){const i=eM(t);if(!e)return{game:i[Math.floor(Math.random()*Math.min(3,i.length))],explanation:"Based on general trends and popularity",score:50};const a=n||nM(),o=i.map(u=>{let m=0;const h=[],f=rM(u.genres,a.playtimeByGenre);m+=f.points,f.points>0&&h.push(f.reason);const p=iM(u.moodTags,a);m+=p.points,p.points>0&&h.push(p.reason);const g=aM(u.playstyleTags,e.traits.archetypeId);m+=g.points,g.points>0&&h.push(g.reason);const y=oM(u.difficulty,a.difficultyPreference);m+=y.points,y.points>0&&h.push(y.reason);const x=lM(u.sessionSuitability,a.averageSessionLengthMinutes);return m+=x.points,x.points>0&&h.push(x.reason),{...u,score:m,reasons:h}});o.sort((u,m)=>m.score-u.score);const l=Math.min(s,o.length-1),c=o[l];if(!c||c.score===0){const u=s%i.length;return{game:i[u],explanation:"Based on general trends and popularity",score:50}}const d=c.reasons.length>0?c.reasons.slice(0,3).join("  "):"This game matches your gaming preferences";return{game:{id:c.id,name:c.name,coverImage:c.coverImage,steamUrl:c.steamUrl,price:c.price,genres:c.genres,moodTags:c.moodTags,difficulty:c.difficulty,playstyleTags:c.playstyleTags,narrativeStyle:c.narrativeStyle,sessionSuitability:c.sessionSuitability},explanation:d,score:c.score}}function rM(e,t){let n=0,s="";return e.forEach(i=>{const a=i.toLowerCase();if(t[a]){const o=t[a];o>50?(n+=30,s=i):o>20?(n+=20,s=i):o>5&&(n+=10,s=i)}}),{points:n,reason:n>0?`You love ${s} games`:""}}function iM(e,t){let n=0,s="";return e.includes("energetic")&&t.sessionsPerWeek>5&&(n+=15,s="Matches your energetic gaming style"),e.includes("relaxed")&&t.sessionsPerWeek<=3&&(n+=15,s="Perfect for your relaxed gaming pace"),e.includes("focused")&&t.averageSessionLengthMinutes>90&&(n+=10,s="Great for your focused gaming sessions"),e.includes("social")&&t.multiplayerRatio>.5&&(n+=10,s="Matches your social gaming preferences"),{points:n,reason:s}}function aM(e,t){let n=0,s="";return t==="Specialist"&&e.includes("achiever")&&(n+=20,s="Perfect for your achievement-oriented playstyle"),t==="Socialite"&&e.includes("social")&&(n+=20,s="Great for your social gaming preferences"),t==="Casual"&&e.includes("casual")&&(n+=15,s="Matches your casual gaming style"),{points:n,reason:s}}function oM(e,t){const n=["Relaxed","Normal","Hard","Brutal"],s=n.indexOf(e),i=n.indexOf(t),a=Math.abs(s-i);return a===0?{points:15,reason:"Perfect difficulty match for your skill level"}:a===1?{points:8,reason:"Good difficulty match for you"}:{points:0,reason:""}}function lM(e,t){let n=0,s="";return e==="short"&&t<=60?(n=10,s="Perfect for your quick gaming sessions"):e==="medium"&&t>60&&t<=120?(n=10,s="Great for your medium gaming sessions"):e==="long"&&t>120?(n=10,s="Perfect for your long gaming sessions"):e==="flexible"&&(n=5,s="Flexible gaming that fits your schedule"),{points:n,reason:s}}function cM(){const e=Gn(),{games:t}=be(),[n,s]=b.useState(0);return b.useEffect(()=>{const a=()=>{s(l=>l+1)};return window.addEventListener("persona-refreshed",a),localStorage.getItem("persona_refresh_key")&&(a(),localStorage.removeItem("persona_refresh_key")),()=>{window.removeEventListener("persona-refreshed",a)}},[]),b.useMemo(()=>{try{const a=sM(e,t||[],void 0,n);if(n>0){const o=n%10;if(a&&Math.random()>.3)return{...a,explanation:`${a.explanation}  Fresh recommendation #${n}`,score:Math.min(a.score+(Math.random()*10-5),100)}}return a}catch(a){return console.error("Failed to generate persona recommendation:",a),null}},[e,n])}const dM=e=>{if(e.length===0)return null;const t=Date.now(),n=e.map(a=>{let o=1;if(a.lastLocalPlayedAt){const d=(t-new Date(a.lastLocalPlayedAt).getTime())/864e5;o+=d*2}const l=a.localSessionCount||0;l===0?o+=10:l<5&&(o+=5);const c=a.hoursPlayed||0;return c>1&&c<20&&a.playStatus!=="completed"&&(o+=3),{game:a,weight:o}}),s=n.reduce((a,o)=>a+o.weight,0);let i=Math.random()*s;for(const{game:a,weight:o}of n)if(i-=o,i<=0)return a;return n[0].game};function uM(e,t={}){const n=b.useRef(null),s=b.useRef(new Set);return b.useEffect(()=>(n.current=new IntersectionObserver(e,{threshold:.1,rootMargin:"50px",...t}),()=>{n.current&&(n.current.disconnect(),n.current=null),s.current.clear()}),[e,t]),{observe:o=>{n.current&&o&&(n.current.observe(o),s.current.add(o))},unobserve:o=>{n.current&&o&&(n.current.unobserve(o),s.current.delete(o))}}}class mM{constructor(t=50){We(this,"cache",new Map);We(this,"maxSize");this.maxSize=t}get(t){const n=this.cache.get(t);return n?(this.cache.delete(t),this.cache.set(t,n),n):null}set(t,n){if(this.cache.size>=this.maxSize){const s=this.cache.keys().next().value;s&&this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}const l0=new mM;function hM(e){return new Promise((t,n)=>{const s=l0.get(e);if(s){t(s);return}const i=new Image;i.onload=()=>{l0.set(e,i),t(i)},i.onerror=n,i.src=e})}function Lw({src:e,alt:t,className:n="",onLoad:s,onError:i}){const[a,o]=b.useState(!1),[l,c]=b.useState(!1),[d,u]=b.useState(!1),m=b.useRef(null),{observe:h,unobserve:f}=uM(y=>{y.forEach(x=>{x.isIntersecting&&(c(!0),m.current&&f(m.current))})},{threshold:.1,rootMargin:"50px"});b.useEffect(()=>(m.current&&h(m.current),()=>{m.current&&f(m.current)}),[h,f]);const p=()=>{o(!0),s==null||s()},g=()=>{u(!0),i==null||i()};return b.useEffect(()=>{l&&!d&&hM(e).then(p).catch(g)},[l,e,d]),r.jsxs("div",{ref:m,className:`relative aspect-square overflow-hidden ${n}`,children:[r.jsxs("div",{className:`
          absolute inset-0 bg-gradient-to-br from-gray-800 via-gray-900 to-black 
          flex items-center justify-center transition-all duration-500
          ${a?"opacity-0 scale-95":"opacity-100 scale-100"}
        `,children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"text-4xl text-gray-600",children:""}),r.jsx("div",{className:"absolute inset-0 blur-lg bg-gaming-primary/10 scale-150"})]}),r.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center",children:r.jsx("div",{className:"w-8 h-1 bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full w-3/5 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-full"})})})]}),l&&!d&&r.jsx("img",{src:e,alt:t,className:`
            absolute inset-0 w-full h-full object-center transition-opacity duration-500
            ${a?"opacity-100":"opacity-0"}
          `,onLoad:()=>o(!0),onError:()=>u(!0),loading:"lazy",decoding:"async",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{imageRendering:"auto",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",backfaceVisibility:"hidden",transform:"translateZ(0)",willChange:"opacity"}}),d&&r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/30 via-red-800/20 to-red-900/30 flex flex-col items-center justify-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"text-3xl text-red-500",children:""}),r.jsx("div",{className:"absolute inset-0 blur-lg bg-red-500/10 scale-150"})]}),r.jsx("span",{className:"text-xs text-red-400 mt-2 font-medium",children:"Failed to load"})]}),a&&!d&&r.jsxs("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent"})]})]})}const pM=({games:e,onLaunchGame:t})=>{const[n,s]=b.useState(null),[i,a]=b.useState(!1),o=()=>{a(!0),s(null),setTimeout(()=>{const d=dM(e);s(d),a(!1)},800)},l=()=>{n&&t(n.id)},c=()=>{o()};return r.jsxs("section",{className:"mb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"Surprise Me"]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[e.length," games available"]})]}),n?r.jsx("div",{className:"glass-morphism rounded-xl overflow-hidden",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"w-32 h-32 flex-shrink-0 overflow-hidden rounded-md bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20",children:n.coverImage?r.jsx(Lw,{src:n.coverImage,alt:n.title,className:"w-full h-full"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("div",{className:"text-3xl text-gray-500",children:""})})}),r.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.title}),n.genres&&n.genres.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.genres.slice(0,3).map(d=>r.jsx("span",{className:"px-2 py-1 bg-gaming-accent/20 rounded text-xs text-gaming-accent",children:d.name},d.id))}),r.jsxs("div",{className:"space-y-2 mb-6 text-gray-300",children:[n.hoursPlayed&&r.jsxs("p",{children:[" ",Math.floor(n.hoursPlayed),"h played"]}),n.localSessionCount&&r.jsxs("p",{children:[" ",n.localSessionCount," sessions"]}),n.playStatus&&r.jsxs("p",{children:[" Status: ",n.playStatus]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:l,className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold hover:opacity-90 transition-all",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Play Now"]})}),r.jsx("button",{onClick:c,className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-all",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Spin Again"]})})]})]})]})}):r.jsxs("div",{className:"glass-morphism rounded-xl p-12 text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Can't decide what to play?"}),r.jsx("p",{className:"text-gray-300",children:"Let us pick the perfect game from your library based on your play history and preferences."})]}),r.jsx("button",{onClick:o,disabled:i||e.length===0,className:"px-8 py-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"animate-spin",children:""}),"Picking your game..."]}):r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Surprise Me"]})}),e.length===0&&r.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Import some games first to get surprised!"})]})]})};function Ow({onMoodChange:e,className:t="",variant:n="compact"}){const[s,i]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(!1);b.useState(!1);const d=b.useCallback(g=>{if(i(g),a){const y=Ee.find(x=>x.id===g);y&&(y.id==="competitive"&&a==="chill"||y.id==="chill"&&a==="competitive")&&(o(null),c(!1))}e&&e(g,a||void 0)},[a,e]),u=b.useCallback(g=>{if(!s)return;const y=Ee.find(x=>x.id===s);y&&!(y.id==="competitive"&&g==="chill"||y.id==="chill"&&g==="competitive")&&(o(g),e&&e(s,g))},[s,e]),m=b.useCallback(()=>{i(null),o(null),c(!1),e&&e("",void 0)},[e]),h=(g,y,x=!1)=>{const v="relative flex flex-col items-center justify-center rounded-xl transition-all duration-300 cursor-pointer overflow-hidden group",w=n==="compact"?"w-14 h-14 text-sm p-2":"w-20 h-20 text-base p-3",S=(T=>{switch(T){case"competitive":return y?"bg-gradient-to-br from-red-600 to-orange-600 shadow-red-500/50 shadow-lg scale-110 border-2 border-red-400":"bg-gradient-to-br from-red-500/20 to-orange-500/20 hover:from-red-500/30 hover:to-orange-500/30 border-2 border-red-500/30 hover:border-red-400/50";case"chill":return y?"bg-gradient-to-br from-blue-600 to-cyan-600 shadow-blue-500/50 shadow-lg scale-110 border-2 border-blue-400":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 hover:from-blue-500/30 hover:to-cyan-500/30 border-2 border-blue-500/30 hover:border-blue-400/50";case"story":return y?"bg-gradient-to-br from-purple-600 to-pink-600 shadow-purple-500/50 shadow-lg scale-110 border-2 border-purple-400":"bg-gradient-to-br from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border-2 border-purple-500/30 hover:border-purple-400/50";case"creative":return y?"bg-gradient-to-br from-green-600 to-emerald-600 shadow-green-500/50 shadow-lg scale-110 border-2 border-green-400":"bg-gradient-to-br from-green-500/20 to-emerald-500/20 hover:from-green-500/30 hover:to-emerald-500/30 border-2 border-green-500/30 hover:border-green-400/50";case"social":return y?"bg-gradient-to-br from-teal-600 to-cyan-600 shadow-teal-500/50 shadow-lg scale-110 border-2 border-teal-400":"bg-gradient-to-br from-teal-500/20 to-cyan-500/20 hover:from-teal-500/30 hover:to-cyan-500/30 border-2 border-teal-500/30 hover:border-teal-400/50";case"focused":return y?"bg-gradient-to-br from-indigo-600 to-purple-600 shadow-indigo-500/50 shadow-lg scale-110 border-2 border-indigo-400":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 hover:from-indigo-500/30 hover:to-purple-500/30 border-2 border-indigo-500/30 hover:border-indigo-400/50";case"energetic":return y?"bg-gradient-to-br from-yellow-600 to-orange-600 shadow-yellow-500/50 shadow-lg scale-110 border-2 border-yellow-400":"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 hover:from-yellow-500/30 hover:to-orange-500/30 border-2 border-yellow-500/30 hover:border-yellow-400/50";case"exploratory":return y?"bg-gradient-to-br from-emerald-600 to-teal-600 shadow-emerald-500/50 shadow-lg scale-110 border-2 border-emerald-400":"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 hover:from-emerald-500/30 hover:to-teal-500/30 border-2 border-emerald-500/30 hover:border-emerald-400/50";default:return y?"bg-gradient-to-br from-gray-600 to-slate-600 shadow-gray-500/50 shadow-lg scale-110 border-2 border-gray-400":"bg-gradient-to-br from-gray-500/20 to-slate-500/20 hover:from-gray-500/30 hover:to-slate-500/30 border-2 border-gray-500/30 hover:border-gray-400/50"}})(g.id);return`${v} ${w} ${S}`},f=s?Ee.find(g=>g.id===s):void 0,p=a?Ee.find(g=>g.id===a):void 0;return n==="compact"?r.jsxs("div",{className:`glass-morphism rounded-xl p-4 ${t}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-semibold",children:"How are you feeling?"}),(s||a)&&r.jsx("button",{onClick:m,className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-4 gap-3 mb-4",children:Ee.map((g,y)=>r.jsxs(B.button,{onClick:()=>d(g.id),className:h(g,g.id===s),title:g.name,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:y*.05,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsxs("div",{className:"relative z-10",children:[r.jsx("span",{className:"text-2xl mb-1 block",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-bold drop-shadow-lg",children:g.name})]}),g.id===s&&r.jsx(B.div,{className:"absolute inset-0 bg-white/20 rounded-xl",initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0}})]},g.id))}),s&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Add secondary mood?"}),r.jsx("button",{onClick:()=>c(!l),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:l?"Hide":"Show"})]}),l&&r.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"grid grid-cols-4 gap-3",children:Ee.filter(g=>g.id!==s).map((g,y)=>r.jsxs(B.button,{onClick:()=>u(g.id),className:h(g,g.id===a,!0),title:g.name,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:y*.05,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsxs("div",{className:"relative z-10",children:[r.jsx("span",{className:"text-xl mb-1 block",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-bold drop-shadow-lg",children:g.name})]}),g.id===a&&r.jsx(B.div,{className:"absolute inset-0 bg-white/20 rounded-xl",initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0}})]},g.id))})]}),(f||p)&&r.jsxs("div",{className:"mt-3 p-2 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-lg",children:f.emoji}),r.jsx("span",{className:"text-sm text-white",children:f.name})]}),p&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsx("span",{className:"text-lg",children:p.emoji}),r.jsx("span",{className:"text-sm text-white",children:p.name})]})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[f==null?void 0:f.description,p&&` + ${p.description}`]})]})]}):r.jsxs("div",{className:`glass-morphism rounded-2xl p-6 ${t}`,children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Select Your Gaming Mood"}),r.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Choose how you're feeling to get personalized game recommendations"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Primary Mood"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:Ee.map(g=>r.jsxs("button",{onClick:()=>d(g.id),className:h(g,g.id===s),title:g.name,children:[r.jsx("span",{className:"text-2xl mb-1",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-medium",children:g.name})]},g.id))})]}),s&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Secondary Mood (Optional)"}),r.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:l?"Hide":"Add Secondary Mood"})]}),l&&r.jsx("div",{className:"grid grid-cols-4 gap-3",children:Ee.filter(g=>g.id!==s).map(g=>r.jsxs("button",{onClick:()=>u(g.id),className:h(g,g.id===a,!0),title:g.name,children:[r.jsx("span",{className:"text-2xl mb-1",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-medium",children:g.name})]},g.id))})]}),(f||p)&&r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Current Selection"}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:f.emoji}),r.jsx("span",{className:"text-white font-medium",children:f.name})]}),p&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:p.emoji}),r.jsx("span",{className:"text-white font-medium",children:p.name})]})]}),r.jsx("button",{onClick:m,className:"ml-auto text-sm text-gray-400 hover:text-white transition-colors",children:"Clear"})]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[f==null?void 0:f.description,p&&` + ${p.description}`]})]})]})}function Jl(e){var i;const t=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[],n=e.moods||[],s=e.title.toLowerCase();return t.includes("sandbox")||t.includes("city-builder")||t.includes("simulation")||s.includes("minecraft")||s.includes("terraria")||s.includes("starbound")||s.includes("rimworld")||s.includes("necesse")||s.includes("garry's mod")||s.includes("project zomboid")||s.includes("core keeper")||s.includes("forager")||s.includes("cryofall")||s.includes("kenshi")||s.includes("outward")?"creative":t.includes("rpg")||t.includes("jrpg")||t.includes("visual-novel")||t.includes("interactive-fiction")||t.includes("role-playing")||s.includes("witcher")||s.includes("mass effect")||s.includes("dragon age")||s.includes("skyrim")||s.includes("fallout")||s.includes("bioshock")||s.includes("baldur's gate")||s.includes("divinity")||s.includes("god of war")||s.includes("star wars")||s.includes("kingdom come")||s.includes("cyberpunk")?"story":n.some(a=>a.includes("competitive"))||t.includes("fighting")||t.includes("racing")||s.includes("apex legends")||s.includes("pubg")||s.includes("rainbow six")||s.includes("battlebit")||s.includes("rust")||s.includes("counter-strike")||s.includes("valorant")||s.includes("overwatch")||s.includes("crab game")||s.includes("z1 battle royale")||s.includes("efootball")||s.includes("wwe 2k")?"competitive":n.some(a=>a.includes("multiplayer")||a.includes("online")||a.includes("coop"))||t.includes("multiplayer")||s.includes("left 4 dead")||s.includes("rocket league")||s.includes("helldivers")||s.includes("valheim")||s.includes("squad")||s.includes("arma")||s.includes("don't starve together")||s.includes("dayz")||s.includes("humanitz")||s.includes("insurgency")||s.includes("hell let loose")||s.includes("h1z1")||s.includes("the forest")||s.includes("stranded deep")||s.includes("survive the nights")||s.includes("unturned")?"social":t.includes("adventure")||t.includes("metroidvania")||t.includes("open-world")||s.includes("elden ring")||s.includes("dark souls")||s.includes("sekiro")||s.includes("zelda")||s.includes("assassin's creed")||s.includes("horizon")||s.includes("resident evil")||s.includes("batman")||s.includes("spider-man")||s.includes("marvel's spider-man")||s.includes("days gone")||s.includes("dying light")||s.includes("middle-earth")||s.includes("shadow of mordor")||s.includes("no man's sky")||s.includes("subnautica")||s.includes("elite dangerous")||s.includes("the long dark")||s.includes("green hell")?"exploratory":t.includes("strategy")||t.includes("tactical")||t.includes("puzzle")||s.includes("company of heroes")||s.includes("age of empires")||s.includes("command & conquer")||s.includes("starcraft")||s.includes("warcraft")||s.includes("civilization")||s.includes("total war")||s.includes("stronghold")||s.includes("anno")||s.includes("door kickers")||s.includes("shadow tactics")||s.includes("invisible inc")||s.includes("mark of the ninja")||s.includes("hitman")||s.includes("splinter cell")?"focused":t.includes("action")||t.includes("shooter")||s.includes("doom")||s.includes("quake")||s.includes("serious sam")||s.includes("ultrakill")||s.includes("painkiller")||s.includes("wolfenstein")||s.includes("resident evil")||s.includes("dying light")||s.includes("dead island")||s.includes("doom")||s.includes("quake")||s.includes("serioussam")||s.includes("ultrakill")||s.includes("painkiller")||s.includes("wolfenstein")?"energetic":t.includes("casual")||t.includes("puzzle")||t.includes("sports")||s.includes("stardew valley")||s.includes("animal crossing")||s.includes("simcity")||s.includes("the sims")||s.includes("cities: skylines")||s.includes("powerwash")||s.includes("unpacking")||s.includes("a short hike")||s.includes("flower")||s.includes("pga tour")||s.includes("snooker")||s.includes("wwe 2k")||s.includes("efootball")||s.includes("fifa")||s.includes("nba")?"chill":null}function fM(e){const t=e.title.toLowerCase(),n=[...e.moods||[]];return(t.includes("left 4 dead")||t.includes("rocket league")||t.includes("apex legends")||t.includes("helldivers")||t.includes("rust")||t.includes("valheim")||t.includes("squad")||t.includes("arma")||t.includes("pubg")||t.includes("rainbow six")||t.includes("battlebit")||t.includes("crab game")||t.includes("don't starve together")||t.includes("dayz")||t.includes("humanitz")||t.includes("insurgency")||t.includes("hell let loose")||t.includes("h1z1")||t.includes("z1 battle royale")||t.includes("the forest")||t.includes("stranded deep")||t.includes("survive the nights")||t.includes("project zomboid")||t.includes("unturned"))&&n.push("multiplayer","online"),(t.includes("apex legends")||t.includes("pubg")||t.includes("rainbow six")||t.includes("battlebit")||t.includes("rust")||t.includes("counter-strike")||t.includes("valorant")||t.includes("overwatch")||t.includes("crab game")||t.includes("z1 battle royale")||t.includes("efootball")||t.includes("wwe 2k"))&&n.push("competitive"),(t.includes("left 4 dead")||t.includes("helldivers")||t.includes("don't starve together")||t.includes("valheim")||t.includes("rust")||t.includes("project zomboid"))&&n.push("coop"),{...e,moods:[...new Set(n)]}}function Dw(e){const t=Jl(e);if(!t)return[];const n=[t],s=gM(e,t);return s&&s!==t&&n.push(s),n}function gM(e,t){var a,o;const n=((a=e.genres)==null?void 0:a.map(l=>l.name.toLowerCase()))||[],s=((o=e.tags)==null?void 0:o.map(l=>l.toLowerCase()))||[],i=e.title.toLowerCase();if(e.moods&&Array.isArray(e.moods)&&e.moods.length>1)return null;switch(t){case"competitive":if(n.includes("multiplayer")||s.includes("team-based")||i.includes("valorant")||i.includes("overwatch")||i.includes("apex"))return"social";if(n.includes("shooter")||n.includes("action")||i.includes("doom")||i.includes("quake")||i.includes("ultrakill"))return"energetic";break;case"story":if(n.includes("open-world")||n.includes("adventure")||i.includes("skyrim")||i.includes("witcher")||i.includes("elden ring"))return"exploratory";if(n.includes("strategy")||n.includes("tactical")||i.includes("baldur's gate")||i.includes("divinity")||i.includes("xcom"))return"focused";break;case"creative":if(n.includes("casual")||n.includes("puzzle")||i.includes("stardew valley")||i.includes("animal crossing")||i.includes("the sims"))return"chill";if(n.includes("strategy")||n.includes("management")||i.includes("factorio")||i.includes("oxygen not included")||i.includes("rimworld"))return"focused";break;case"social":if(n.includes("casual")||n.includes("party")||i.includes("among us")||i.includes("fall guys")||i.includes("human: fall flat"))return"chill";if(s.includes("competitive")||n.includes("fighting")||n.includes("sports")||i.includes("rocket league")||i.includes("fifa")||i.includes("nba"))return"competitive";break;case"exploratory":if(n.includes("rpg")||n.includes("visual-novel")||i.includes("subnautica")||i.includes("no man's sky")||i.includes("outer wilds"))return"story";if(n.includes("action")||n.includes("shooter")||i.includes("tomb raider")||i.includes("uncharted")||i.includes("horizon"))return"energetic";break;case"focused":if(n.includes("puzzle")||n.includes("simulation")||i.includes("portal")||i.includes("zachtronics")||i.includes("infinifactory"))return"creative";if(n.includes("multiplayer")||s.includes("competitive")||i.includes("starcraft")||i.includes("age of empires")||i.includes("civilization"))return"competitive";break;case"energetic":if(n.includes("multiplayer")||n.includes("fighting")||i.includes("smash bros")||i.includes("street fighter")||i.includes("mortal kombat"))return"competitive";if(n.includes("party")||s.includes("local-multiplayer")||i.includes("mario party")||i.includes("super smash bros")||i.includes("fall guys"))return"social";break;case"chill":if(n.includes("simulation")||n.includes("building")||i.includes("powerwash")||i.includes("unpacking")||i.includes("townscaper"))return"creative";if(n.includes("multiplayer")||s.includes("co-op")||i.includes("stardew valley")||i.includes("animal crossing")||i.includes("it takes two"))return"social";break}return null}function c0(e,t){if(e===t)return 1;const n=Ee.find(l=>l.id===e),s=Ee.find(l=>l.id===t);if(!n||!s)return 0;const i=n.associatedGenres.filter(l=>s.associatedGenres.includes(l)),a=new Set([...n.associatedGenres,...s.associatedGenres]).size;return i.length/a}function yM(e,t){switch(e){case"competitive":return t>.7?1.2:.8;case"chill":return t<.5?1.2:.9;case"energetic":return t>.8?1.3:.7;case"focused":return t>.6?1.1:.9;case"creative":return t>.4&&t<.8?1.1:.9;default:return 1}}function xM(e,t,n,s){let i=50;const a=Dw(e);if(a.includes(t)&&(i+=100),n&&a.includes(n)&&(i+=50),a.length>0){const c=c0(t,a[0]);if(i+=c*75,n&&a.length>1){const d=c0(n,a[1]);i+=d*25}}const o=yM(t,s);i=i*o;const l=Ee.find(c=>c.id===t);if(l&&e.genres){const c=e.genres.filter(d=>l.associatedGenres.includes(d.name.toLowerCase()));i+=c.length*10}return Math.min(100,Math.max(0,i))}function vM(e){return e.map(t=>({...t,moods:Dw(t)}))}function Rh({games:e,onRecommendationsChange:t}){const[n,s]=b.useState({intensity:.8,recommendations:[],isLoading:!1}),i=b.useCallback((c,d,u)=>xM(c,d,n.secondaryMood||null,u),[n.secondaryMood]),a=b.useCallback(async(c,d)=>{s(u=>({...u,isLoading:!0,error:void 0}));try{const u=Ee.find(p=>p.id===c);if(!u)throw new Error(`Primary mood not found: ${c}`);const f=b.useMemo(()=>c?vM(e).map(y=>({game:y,score:i(y,c,n.intensity)})).sort((y,x)=>x.score-y.score).slice(0,12).map(y=>y.game):e,[e,c,n.intensity,i]).map(p=>{let g=i(p,c,n.intensity),y=`Matches ${u.name.toLowerCase()} mood`;if(d){const x=Ee.find(v=>v.id===d);if(x){const v=i(p,d,n.intensity);g=(g+v)/2,y+=` and ${x.name.toLowerCase()} mood`}}return{...p,moodScore:g,reasoning:y}}).filter(p=>p.moodScore>40).sort((p,g)=>g.moodScore-p.moodScore).slice(0,10);s(p=>({...p,primaryMood:c,secondaryMood:d,recommendations:f,isLoading:!1})),t==null||t(f)}catch(u){s(m=>({...m,error:u instanceof Error?u.message:"Failed to generate recommendations",isLoading:!1,recommendations:[]}))}},[e,n.intensity,i,t]),o=b.useCallback(()=>{s(c=>({...c,primaryMood:void 0,secondaryMood:void 0,recommendations:[]})),t==null||t([])},[t]),l=b.useCallback(c=>{s(d=>({...d,intensity:c}))},[]);return{primaryMood:n.primaryMood,secondaryMood:n.secondaryMood,intensity:n.intensity,recommendations:n.recommendations,isLoading:n.isLoading,error:n.error,selectMood:a,clearMood:o,setIntensity:l,hasRecommendations:n.recommendations.length>0,recommendationCount:n.recommendations.length,primaryMoodInfo:n.primaryMood?Ee.find(c=>c.id===n.primaryMood):void 0,secondaryMoodInfo:n.secondaryMood?Ee.find(c=>c.id===n.secondaryMood):void 0}}const bM=({user:e,games:t=[],currentPersona:n})=>{const s=(t==null?void 0:t.length)||0,i=(e==null?void 0:e.displayName)||(e==null?void 0:e.username)||"Gamer";return r.jsxs(B.section,{className:"relative mb-8 overflow-hidden rounded-2xl gaming-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[r.jsxs("div",{className:"absolute inset-0 gaming-gradient-subtle",children:[r.jsx(B.div,{className:"absolute top-10 left-10 w-32 h-32 bg-gaming-primary/30 rounded-full blur-3xl neon-glow",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(B.div,{className:"absolute bottom-10 right-10 w-40 h-40 bg-gaming-secondary/30 rounded-full blur-3xl neon-glow",animate:{scale:[1.2,1,1.2],opacity:[.4,.7,.4]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),r.jsxs("div",{className:"relative z-10 p-8 lg:p-12",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.6},className:"mb-6 lg:mb-0",children:[r.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-4 neon-text",children:["Welcome back, ",r.jsx("span",{className:"text-gaming-accent",children:i})]}),r.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Ready to discover your perfect gaming experience?"}),(n==null?void 0:n.mood)&&typeof n.mood=="string"&&r.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},className:"inline-flex items-center gap-3 px-4 py-2 rounded-full glass-enhanced border border-gaming-accent/30",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mood-${n.mood.toLowerCase()}`}),r.jsxs("span",{className:"text-white font-medium capitalize",children:[n.mood," Mood"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift",children:[r.jsx("div",{className:"text-3xl font-bold text-gaming-primary mb-1",children:s}),r.jsx("div",{className:"text-sm text-gray-300",children:"Games in Library"})]}),r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift",children:[r.jsx("div",{className:"text-3xl font-bold text-gaming-accent mb-1",children:(n==null?void 0:n.level)||1}),r.jsx("div",{className:"text-sm text-gray-300",children:"Player Level"})]}),r.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift lg:col-span-1 col-span-2",children:r.jsx(Ge,{to:"/library",className:"gaming-button inline-block w-full text-center",children:"Browse Library"})})]})]}),r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"mt-8 flex flex-wrap gap-4",children:[r.jsx(Ge,{to:"/mood-selector",className:"gaming-button hover-scale",children:" Find Your Mood"}),r.jsx(Ge,{to:"/integrations",className:"glass-enhanced px-6 py-3 rounded-xl text-white hover-lift transition-all duration-300",children:" Connect Steam"}),r.jsx(Ge,{to:"/recommendations",className:"glass-enhanced px-6 py-3 rounded-xl text-white hover-lift transition-all duration-300",children:" Discover Games"})]})]})]})};function wM(){const[e,t]=b.useState(null),[n,s]=b.useState(!1);return b.useEffect(()=>{const a=bt.getCurrentPersona();t(a);const o=setInterval(()=>{const l=bt.getCurrentPersona();JSON.stringify(l)!==JSON.stringify(e)&&t(l)},1e3);return s(!0),()=>{clearInterval(o),s(!1)}},[]),{persona:e,isListening:n,refreshPersona:async()=>{try{const a=bt.getCurrentPersona();t(a)}catch(a){console.error("Failed to refresh persona:",a)}},isPersonaInitialized:bt.isPersonaInitialized()}}const jM=e=>{var a;const t=["multiplayer","coop","co-op","cooperative","online","party","shared-world","mmorpg","mmo","team-based","pvp","local-multiplayer"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},d0=e=>{var a;const t=["competitive","fps","shooter","moba","fighting","racing","esports","skill-based","pvp","ranked","tournament"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},NM=e=>{var i;const t=["relaxing","cozy","casual","meditative","peaceful","calm","low-stress","zen","ambient"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},SM=e=>{var a;const t=["building","crafting","sandbox","city-builder","design","creation","customization","modding","construction"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},kM=e=>{var i;const t=["story-rich","narrative","visual-novel","walking-simulator","story-driven","cinematic","dialogue-heavy","interactive-fiction"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},CM=e=>{var i;const t=["open-world","exploration","metroidvania","survival-adventure","action-adventure","platformer","quest","discovery"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},EM=[{id:"social",name:"Social",description:"Playing and connecting with others",icon:"",color:"from-teal-500 to-cyan-600",priority:10,requiredFeatures:["multiplayer","coop","co-op","cooperative","online","party","shared-world"],excludedFeatures:["single-player","solo-only"],matches:e=>jM(e),scoreReason:()=>"Multiplayer/cooperative gameplay"},{id:"competitive",name:"Competitive",description:"Challenge-seeking and achievement-focused",icon:"",color:"from-red-500 to-orange-600",priority:9,requiredFeatures:["competitive","fps","moba","fighting","racing","esports","skill-based"],excludedFeatures:["casual","relaxing","cozy"],matches:e=>d0(e),scoreReason:()=>"Competitive skill-based gameplay"},{id:"story",name:"Story",description:"Immersive narrative experiences",icon:"",color:"from-purple-500 to-pink-600",priority:7,includedGenres:["rpg","jrpg","visual-novel","interactive-fiction"],excludedGenres:["adventure","action-adventure","open-world"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["rpg","jrpg","role-playing"].includes(a)),s=kM(e);return n||s},scoreReason:()=>"Story-driven narrative experience"},{id:"adventure",name:"Adventure",description:"Exploration and discovery experiences",icon:"",color:"from-green-500 to-teal-600",priority:6,includedGenres:["action-adventure","metroidvania","platformer"],excludedGenres:["rpg","jrpg","visual-novel"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["action-adventure","metroidvania","platformer"].includes(a)),s=CM(e);return n||s},scoreReason:()=>"Exploration-focused adventure"},{id:"chill",name:"Chill",description:"Relaxed and laid-back gaming sessions",icon:"",color:"from-blue-400 to-cyan-500",priority:5,includedGenres:["puzzle","casual","simulation"],excludedGenres:["action","shooter","survival","competitive"],matches:e=>{var a;const n=(((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[]).some(o=>["puzzle","casual","simulation"].includes(o)),s=NM(e),i=d0(e);return(n||s)&&!i},scoreReason:()=>"Relaxing, low-pressure gameplay"},{id:"creative",name:"Creative",description:"Building and expressing creativity",icon:"",color:"from-green-500 to-emerald-600",priority:4,includedGenres:["sandbox","city-builder","simulation"],excludedGenres:["action","shooter","competitive"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["sandbox","city-builder","simulation"].includes(a)),s=SM(e);return n||s},scoreReason:()=>"Creative building and expression"}];function Fw(e,t,n){const s=e.filter(i=>Jl(i)===t);return n?s.slice(0,n):s}const PM=()=>{const{games:e}=be(),[t,n]=b.useState("social"),[s,i]=b.useState([]),[a,o]=b.useState(!1);return b.useEffect(()=>{if(e.length>0){const l=Fw(e,t,20);i(l)}},[e,t]),a?r.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-gray-900 border border-gray-700 rounded-lg shadow-xl p-4 w-96 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-white font-bold",children:"Mood Filter Debug"}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:""})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-white text-sm block mb-2",children:"Select Mood:"}),r.jsx("select",{value:t,onChange:l=>n(l.target.value),className:"w-full bg-gray-800 text-white border border-gray-600 rounded px-3 py-2",children:EM.map(l=>r.jsxs("option",{value:l.id,children:[l.icon," ",l.name]},l.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-white text-sm mb-2",children:["Total Games: ",e.length," | Filtered: ",s.length]}),r.jsx("div",{className:"text-gray-400 text-xs",children:s.length===0&&"No games match this mood. Check game moods and genres."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-white text-sm font-semibold",children:"Filtered Games:"}),s.length===0?r.jsx("div",{className:"text-gray-400 text-sm",children:"No games found"}):s.map(l=>r.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[r.jsx("div",{className:"text-white text-sm font-medium",children:l.title}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Moods: ",(l.moods||[]).join(", ")||"None"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Genres: ",(l.genres||[]).map(c=>c.name).join(", ")||"None"]})]},l.id))]}),e.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[r.jsx("div",{className:"text-white text-sm font-semibold mb-2",children:"Sample Game Data:"}),r.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[r.jsx("div",{className:"text-white text-sm font-medium",children:e[0].title}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Moods: ",(e[0].moods||[]).join(", ")||"None"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Genres: ",(e[0].genres||[]).map(l=>l.name).join(", ")||"None"]})]})]})]}):r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700",children:" Debug Mood Filter"})})};function u0(e){return{energetic:{ring:"ring-amber-400/20",shadow:"shadow-amber-400/10",glow:"amber-400"},creative:{ring:"ring-purple-400/20",shadow:"shadow-purple-400/10",glow:"purple-400"},focused:{ring:"ring-blue-400/20",shadow:"shadow-blue-400/10",glow:"blue-400"},relaxed:{ring:"ring-teal-400/20",shadow:"shadow-teal-400/10",glow:"teal-400"},competitive:{ring:"ring-red-400/20",shadow:"shadow-red-400/10",glow:"red-400"},exploratory:{ring:"ring-emerald-400/20",shadow:"shadow-emerald-400/10",glow:"emerald-400"},social:{ring:"ring-pink-400/20",shadow:"shadow-pink-400/10",glow:"pink-400"}}[e==null?void 0:e.toLowerCase()]||{ring:"ring-white/10",shadow:"shadow-white/5",glow:"white"}}function m0(e){var t,n,s;return((t=e.compoundMoods)==null?void 0:t.length)>0?e.compoundMoods[0].primary:((n=e.sessionInsights)==null?void 0:n.averageMoodDelta)>.5?"energetic":((s=e.sessionInsights)==null?void 0:s.averageMoodDelta)<-.5?"relaxed":"focused"}function TM(e){return!e||e.length===0?"None":e.map(t=>t===0?"12am":t===12?"12pm":t<12?`${t}am`:`${t-12}pm`).slice(0,3).join(", ")}function MM(e){return e===0?"neutral":e>0?`improved (+${e.toFixed(1)})`:`declined (${e.toFixed(1)})`}function AM(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}function _M(e){if(!e||Object.keys(e).length===0)return null;let t="",n=-1;return Object.entries(e).forEach(([s,i])=>{i>n&&(n=i,t=s)}),{day:t,value:n}}function IM({enhancedInsights:e,className:t=""}){var o,l;if(!e)return null;const{temporalInsights:n,sessionInsights:s,compoundMoods:i}=e;return n&&(((o=n.bestHours)==null?void 0:o.length)>0||n.dayTrends)||s&&s.averageMoodDelta!==void 0||i&&i.length>0?r.jsxs(B.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},whileHover:{scale:1.01,y:-2},className:`mt-2 p-3 rounded-xl bg-white/5 dark:bg-neutral-900/20
                      backdrop-blur-md border border-white/10 shadow-sm
                      transition-opacity duration-300 ${t}`,style:{ring:`1px ${u0(m0(e)).ring}`,boxShadow:`0 4px 6px -1px ${u0(m0(e)).shadow}`},children:[r.jsx(B.div,{initial:{opacity:1},animate:{opacity:[1,.9,1]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/5 to-transparent"}),r.jsx("div",{className:"text-sm font-semibold text-white/80 mb-3 relative z-10",children:"Enhanced Insights"}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Temporal Patterns"}),n.bestHours&&n.bestHours.length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Best hours:"}),r.jsx("span",{className:"text-sm text-white/90",children:TM(n.bestHours)})]}),n.dayTrends&&Object.keys(n.dayTrends).length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Best day:"}),(()=>{const c=_M(n.dayTrends);return c?r.jsx("span",{className:"text-sm text-white/90",children:AM(Object.keys(n.dayTrends).indexOf(c.day))}):null})()]})]}),(s||i)&&r.jsx("div",{className:"h-px bg-white/10 my-2 relative z-10"})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Session Analysis"}),s.averageMoodDelta!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Last sessions:"}),r.jsx("span",{className:`text-sm font-medium ${s.averageMoodDelta>0?"text-green-400":s.averageMoodDelta<0?"text-red-400":"text-gray-400"}`,children:MM(s.averageMoodDelta)})]}),s.positiveSessionRatio!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Positive sessions:"}),r.jsxs("span",{className:`text-sm font-medium ${s.positiveSessionRatio>.7?"text-green-400":s.positiveSessionRatio<.3?"text-red-400":"text-yellow-400"}`,children:[Math.round(s.positiveSessionRatio*100),"%"]})]})]}),i&&r.jsx("div",{className:"h-px bg-white/10 my-2 relative z-10"})]}),i&&i.length>0&&r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Mood Patterns"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Frequent combo:"}),r.jsxs("span",{className:"text-sm text-white/90",children:[i[0].primary," + ",i[0].secondary]})]})]})]},((l=e.timestamp)==null?void 0:l.getTime())||"default"):null}const RM=({persona:e})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 bg-gradient-to-br from-purple-900/20 to-blue-900/20 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl font-bold",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Your Gaming Identity"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Persona-powered insights"})]})]}),r.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-white/5 border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-purple-400 text-sm font-semibold",children:"IDENTITY"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-500/50 to-transparent"})]}),r.jsx("p",{className:"text-white leading-relaxed",children:e.identitySummary})]}),e.dominantTraits.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-blue-400 text-sm font-semibold",children:"TRAITS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-500/50 to-transparent"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.dominantTraits.map((t,n)=>r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-400/30 text-blue-300",children:t.charAt(0).toUpperCase()+t.slice(1)},n))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-green-400 text-sm font-semibold",children:"MOOD"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-green-500/50 to-transparent"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:e.currentMood==="neutral"?"":e.currentMood==="competitive"?"":e.currentMood==="creative"?"":""})}),r.jsx("span",{className:"text-white capitalize",children:e.currentMood})]})]}),r.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-r from-indigo-900/20 to-purple-900/20 border border-indigo-400/20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-indigo-400 text-sm font-semibold",children:"RECOMMENDATIONS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-indigo-500/50 to-transparent"})]}),r.jsx("p",{className:"text-indigo-200 text-sm leading-relaxed",children:e.recommendationContext})]})]});function LM(e){const{games:t,sessions:n}=e.steam,s={};t.forEach(h=>{const f=h.hoursPlayed||h.totalPlaytime||1;h.genres&&Array.isArray(h.genres)&&h.genres.forEach(p=>{const g=typeof p=="string"?p:p.name;g&&(s[g]=(s[g]||0)+f)})});const i=t.map(h=>{var f;return((f=h.achievements)==null?void 0:f.total)||0}).filter(h=>h>0),a=t.filter(h=>{var f;return(((f=h.achievements)==null?void 0:f.unlocked)||0)>0}).length,l=i.reduce((h,f)=>h+f,0)>0?a/t.length:0,c=n.length>0?n.reduce((h,f)=>h+f.duration,0)/n.length:0,d=t.map(h=>h.hoursPlayed||h.totalPlaytime||0).sort((h,f)=>f-h),u=t.filter(h=>h.emotionalTags&&h.emotionalTags.some(f=>{var p;return typeof f=="string"?f.toLowerCase().includes("multiplayer"):((p=f.name)==null?void 0:p.toLowerCase().includes("multiplayer"))||!1})).length,m=t.length>0?u/t.length:0;return{genreAffinity:s,completionRate:l,sessionPattern:c,playtimeDistribution:d,multiplayerRatio:m}}function OM(e){const{genreAffinity:t,completionRate:n,sessionPattern:s,playtimeDistribution:i,multiplayerRatio:a}=e,o=Object.keys(t).length,l=Math.min(o/10,1),c=Object.values(t),d=c.reduce((w,j)=>w+j,0),u=c.length>0?Math.max(...c):0,m=d>0?u/d:0,h=Math.max(0,Math.min(a,1)),f=Math.max(0,Math.min(n,1)),p=Math.max(0,Math.min(s/180,1)),g=5,y=i.filter(w=>w<=g).length,x=i.length,v=x>0?y/x:0;return{explorer:Math.max(0,Math.min(l,1)),specialist:Math.max(0,Math.min(m,1)),competitor:Math.max(0,Math.min(h,1)),completionist:Math.max(0,Math.min(f,1)),strategist:Math.max(0,Math.min(p,1)),adventurer:Math.max(0,Math.min(v,1))}}function DM(e){return"neutral"}function FM(e,t){const s=Object.entries(e).sort(([,o],[,l])=>l-o).filter(([,o])=>o>.3).slice(0,3).map(([o])=>o);let i;if(s.length===0)i="Your gaming identity is still taking shape.";else{const o=s.map(l=>l.charAt(0).toUpperCase()+l.slice(1));o.length===1?i=`You play like a ${o[0]}.`:o.length===2?i=`You play like a ${o[0]} and ${o[1]}.`:i=`You play like a ${o[0]}, ${o[1]}, and ${o[2]}.`}return{identitySummary:i,dominantTraits:s,currentMood:t,recommendationContext:t==="neutral"?"We'll start with balanced recommendations while we learn more about you.":"We'll tune recommendations to match your current mood."}}const h0={theme:"dark",accentColor:"#3b82f6",backgroundMode:"gradient",backgroundImageUrl:void 0,animationLevel:"medium",density:"comfortable",lightingMode:"none",rgbSyncEnabled:!1,defaultBoxShape:"rounded",defaultComponentStyle:"glass-morphism",borderRadius:12,borderWidth:1,shadowIntensity:50,glassOpacity:80,cardShape:"rounded",buttonShape:"rounded",inputShape:"rounded",modalShape:"rounded",cardStyle:"glass-morphism",buttonStyle:"glass-morphism",inputStyle:"glass-morphism",modalStyle:"glass-morphism",fontFamily:"inter",fontSize:"base",fontWeight:400,animationStyle:"smooth",hoverEffects:!0,loadingAnimations:!0,soundTheme:"minimal",soundEnabled:!1,volume:50},Gw=Dl()(yv(Hm((e,t)=>({global:h0,perPage:{},setGlobalSettings:n=>e(s=>({global:{...s.global,...n}})),setPageSettings:(n,s)=>e(i=>({perPage:{...i.perPage,[n]:s}})),resetPageSettings:n=>e(s=>{const i={...s.perPage};return delete i[n],{perPage:i}}),resetAllSettings:()=>e({global:h0,perPage:{}}),getMergedSettings:n=>{const s=t(),i=n?s.perPage[n]:{};return{theme:s.global.theme,accentColor:(i==null?void 0:i.accentColor)??s.global.accentColor,backgroundMode:(i==null?void 0:i.backgroundMode)??s.global.backgroundMode,backgroundImageUrl:(i==null?void 0:i.backgroundImageUrl)??s.global.backgroundImageUrl,animationLevel:(i==null?void 0:i.animationLevel)??s.global.animationLevel,density:(i==null?void 0:i.density)??s.global.density,lightingMode:(i==null?void 0:i.lightingMode)??s.global.lightingMode,rgbSyncEnabled:s.global.rgbSyncEnabled,defaultBoxShape:s.global.defaultBoxShape,defaultComponentStyle:s.global.defaultComponentStyle,borderRadius:s.global.borderRadius,borderWidth:s.global.borderWidth,shadowIntensity:s.global.shadowIntensity,glassOpacity:s.global.glassOpacity,cardShape:s.global.cardShape,buttonShape:s.global.buttonShape,inputShape:s.global.inputShape,modalShape:s.global.modalShape,cardStyle:s.global.cardStyle,buttonStyle:s.global.buttonStyle,inputStyle:s.global.inputStyle,modalStyle:s.global.modalStyle,fontFamily:s.global.fontFamily,fontSize:s.global.fontSize,fontWeight:s.global.fontWeight,animationStyle:s.global.animationStyle,hoverEffects:s.global.hoverEffects,loadingAnimations:s.global.loadingAnimations,soundTheme:s.global.soundTheme,soundEnabled:s.global.soundEnabled,volume:s.global.volume}}}),{name:"gamepilot-customisation",version:1}),{name:"customisation-store"})),Zl=e=>Gw().getMergedSettings(e),_o=()=>{const e=Gw();return{setGlobalSettings:e.setGlobalSettings,setPageSettings:e.setPageSettings,resetPageSettings:e.resetPageSettings,resetAllSettings:e.resetAllSettings}},GM=()=>{if(typeof window>"u"||typeof window.location>"u")return"default";const e=window.location.pathname;return e==="/"||e==="/home"?"home":e.startsWith("/library")?"library":e.startsWith("/analytics")?"analytics":e.startsWith("/identity")?"identity":e.startsWith("/settings")?"settings":e.startsWith("/customisation")?"customisation":"default"},Lh=({pageId:e,isOpen:t,onClose:n})=>{const s=Zl(e),{setPageSettings:i}=_o(),[a,o]=b.useState(""),[l,c]=b.useState(s.accentColor||"#3b82f6"),d=y=>{i(e,{backgroundMode:y})},u=()=>{a.trim()&&(i(e,{backgroundImageUrl:a.trim()}),o(""))},m=y=>{c(y),i(e,{accentColor:y})},h=y=>{i(e,{animationLevel:y})},f=y=>{i(e,{density:y})},p=y=>{i(e,{lightingMode:y})},g=()=>{const{resetPageSettings:y}=_o();y(e)};return t?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:n}),r.jsx("div",{className:"fixed right-0 top-0 h-full w-96 bg-gray-900/95 backdrop-blur-md border-l border-white/10 z-50 overflow-y-auto shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gaming-primary to-gaming-secondary rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Customise Page"}),r.jsx("p",{className:"text-xs text-gray-400",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-all duration-200",title:"Close customisation panel","aria-label":"Close customisation panel",children:r.jsx("span",{className:"text-lg",children:""})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Theme"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.backgroundMode||"gradient"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Density"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.density||"comfortable"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Effects"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.lightingMode||"none"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Background Theme"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.backgroundMode||"gradient"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.backgroundMode==="solid"?" Clean solid color background for minimal distraction":s.backgroundMode==="gradient"?" Beautiful static gradient background":" Custom image background for personalization"})]}),r.jsx("div",{className:"space-y-2",children:["solid","gradient","image"].map(y=>r.jsx("button",{onClick:()=>d(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.backgroundMode===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${y==="solid"?"bg-gray-600":y==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="solid"?"Minimal & clean":y==="gradient"?"Elegant & modern":"Personal & unique"})]})]}),s.backgroundMode===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),s.backgroundMode==="image"&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Background Image"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"Enter image URL...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 text-sm focus:border-gaming-primary focus:outline-none focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300","aria-label":"Enter background image URL"}),r.jsx("button",{onClick:u,className:"w-full px-4 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:"Set Image"}),s.backgroundImageUrl&&r.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-white/5",children:r.jsx("p",{className:"text-gray-400 text-xs truncate",children:s.backgroundImageUrl})})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:s.accentColor||"#3b82f6"}}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Accent Color"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent font-medium",children:s.accentColor||"#3b82f6"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Choose the primary accent color for buttons, links, and highlights"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Quick Presets"}),r.jsx("div",{className:"grid grid-cols-8 gap-2",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16","#f97316","#a855f7","#14b8a6","#eab308","#dc2626","#db2777","#0891b2","#65a30d"].map(y=>r.jsx("button",{onClick:()=>m(y),className:`w-full aspect-square rounded-lg border-2 transition-all duration-300 ${s.accentColor===y?"border-white scale-110 shadow-lg":"border-gray-600 hover:border-gray-500 hover:scale-105"}`,style:{backgroundColor:y},title:`Select ${y} as accent color`,"aria-label":`Select ${y} as accent color`},y))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Custom Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:l,onChange:y=>m(y.target.value),className:"w-16 h-10 bg-gray-800/50 border border-gray-600 rounded-lg cursor-pointer transition-all duration-300 hover:border-gaming-primary",title:"Choose custom accent color","aria-label":"Choose custom accent color"}),r.jsx("input",{type:"text",value:l,onChange:y=>m(y.target.value),placeholder:"#3b82f6",className:"flex-1 px-3 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white text-sm focus:border-gaming-primary focus:outline-none transition-all duration-300",title:"Enter hex color code","aria-label":"Enter hex color code"}),r.jsx("button",{onClick:()=>m(l),className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm",children:"Apply"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Animation Level"}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize",children:s.animationLevel||"medium"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.animationLevel==="low"?" Minimal UI animations, no background effects":s.animationLevel==="medium"?" Balanced UI animations, no background effects":" Enhanced UI animations, no background effects"})]}),r.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(y=>r.jsx("button",{onClick:()=>h(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${s.animationLevel===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white text-sm capitalize",children:y}),r.jsx("span",{className:"text-gray-400 text-xs",children:y==="low"?"Minimal":y==="medium"?"Balanced":"Full"})]})},y))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Layout Density"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.density||"comfortable"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.density==="compact"?" Tighter spacing, more content visible":" Comfortable spacing for better readability"})]}),r.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(y=>r.jsx("button",{onClick:()=>f(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.density===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded ${y==="compact"?"bg-gray-700":"bg-gray-600"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="compact"?"More content, less space":"Balanced layout"})]})]}),s.density===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Lighting Effects"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.lightingMode||"none"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.lightingMode==="none"?" No lighting effects - eye-friendly":s.lightingMode==="mood"?" Mood-based lighting effects":" RGB synchronized lighting"})]}),r.jsx("div",{className:"space-y-2",children:["none","mood","rgb-sync"].map(y=>r.jsx("button",{onClick:()=>p(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.lightingMode===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${y==="none"?"bg-gray-600":y==="mood"?"bg-purple-500":"bg-gradient-to-r from-red-500 to-green-500"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y.replace("-"," ")}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="none"?"Safe & comfortable":y==="mood"?"Dynamic mood lighting":"RGB effects"})]})]}),s.lightingMode===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),r.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-700",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{onClick:g,className:"px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Reset"]}),r.jsxs("button",{onClick:()=>{const{setGlobalSettings:y}=_o();y(s)},className:"px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Save as Default"]})]}),r.jsxs("button",{onClick:n,className:"w-full px-4 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-all duration-300 text-sm font-medium shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Done - Apply Changes"]})]}),r.jsx("div",{className:"mt-4 p-3 bg-gray-800/30 rounded-lg border border-gray-700",children:r.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[" ",r.jsx("strong",{children:"Tip:"}),' Changes are applied instantly. Use "Save as Default" to make these settings apply to all pages.']})})]})})]}):null};function zM(){var nt;const{user:e,persona:t,refreshPersona:n}=xv(),s=on(),{games:i,actions:a}=be();nk(),ii();const o=Zl("home");o!=null&&o.animationLevel,o!=null&&o.backgroundMode,o!=null&&o.accentColor;const l=(o==null?void 0:o.density)||"comfortable";o!=null&&o.lightingMode;const[c,d]=b.useState(!1),{primaryMood:u,secondaryMood:m,intensity:h,recommendations:f,isLoading:p,error:g,selectMood:y,clearMood:x,setIntensity:v,hasRecommendations:w}=Rh({games:i||[],onRecommendationsChange:z=>{console.log(" Enhanced mood recommendations updated:",z.length)}}),j=f.length,S=(z,Q)=>{y(z,Q),d(!1)};b.useEffect(()=>{const z=Q=>{const{primaryMood:X,secondaryMood:he}=Q.detail;S(X,he)};return window.addEventListener("moodChanged",z),()=>window.removeEventListener("moodChanged",z)},[]);const[T,C]=b.useState(!0);b.useEffect(()=>{const z=setTimeout(()=>C(!1),1e3);return()=>clearTimeout(z)},[]);const[k,E]=b.useState(!1),[P,R]=b.useState(!1),$=wM(),U=Gn();cM();const q=$.persona||t||U,ee=z=>{console.log(`Playing game: ${z.title}`)},N=b.useMemo(()=>{if(!q||!q.signals)return null;try{return kh(q.signals)}catch(z){return console.warn("Failed to generate persona context:",z),null}},[q]),Y=b.useMemo(()=>{if(!N||!i||i.length===0)return[];try{const z={selectedMoods:[],selectedSessionLength:null,timeOfDay:Hs()},Q=nw(i,N,z,{personaWeight:.4,limit:10});return console.log(" Persona-enhanced recommendations:",{personaContext:{dominantMoods:N.dominantMoods,preferredSessionLength:N.preferredSessionLength,preferredTimesOfDay:N.preferredTimesOfDay},recommendationCount:Q.length,topGames:Q.slice(0,3).map(X=>"game"in X?X.game.title:X.title)}),YP(N,Q.length),Q}catch(z){return console.warn("Failed to generate persona-enhanced recommendations:",z),[]}},[N,i]),F=LM({steam:{games:i||[],playtime:{},genres:{},achievements:{},sessions:[]}}),L=OM(F),G=DM(),I=FM(L,G),[V,se]=b.useState(!1),[oe,me]=b.useState({forecast:null,recommendations:[],resonance:null,loading:!0});b.useEffect(()=>{(async()=>{try{const Q="current-user",[X,he,zn]=await Promise.all([Ao.getMoodForecast(Q),Ao.getMoodResonance(Q),Ao.getMoodRecommendations(Q)]);me({forecast:X,resonance:he,recommendations:zn.recommendations.slice(0,5),loading:!1})}catch(Q){console.error("Failed to fetch mood data:",Q),me(X=>({...X,loading:!1}))}})()},[q]),b.useEffect(()=>{t&&!U&&n()},[t,U,n]),(nt=i||[])==null||nt.slice(0,5).map(z=>({appId:(z==null?void 0:z.id)||"",name:(z==null?void 0:z.title)||"Unknown Game",headerImage:(z==null?void 0:z.coverImage)||Vm("/placeholder/cover/default.jpg"),playtimeRecent:Math.floor(Math.random()*120)}));const pe=()=>[{icon:"",title:"Played Hades",time:"2 hours ago"},{icon:"",title:"Unlocked achievement in Portal 2",time:"5 hours ago"},{icon:"",title:"Added The Witcher 3 to library",time:"1 day ago"},{icon:"",title:"Completed Celeste",time:"2 days ago"},{icon:"",title:"New high score in Apex Legends",time:"3 days ago"}],de=()=>{const z=q==null?void 0:q.mood;return typeof z=="string"?z:(z==null?void 0:z.moodId)||"neutral"},fe=async z=>{console.log(" Launching game:",z);try{const Q=i==null?void 0:i.find(he=>he.id===z);if(!Q){console.error("Game not found:",z),alert("Game not found in library");return}console.log(` Launching ${Q.title}...`);let X=null;if(Q.appId&&typeof Q.appId=="number")X=Q.appId;else if(Q.steamUrl){const he=Q.steamUrl.match(/\/app\/(\d+)/);he&&(X=parseInt(he[1]))}else/^\d+$/.test(z)&&(X=parseInt(z));X?(console.log(` Launching Steam game with App ID: ${X}`),Ch(X),console.log(" Steam launch command sent")):(console.log(" Non-Steam game detected, showing game info"),alert(`Would launch: ${Q.title}

This game doesn't have a Steam App ID configured.

Game ID: ${z}
Steam URL: ${Q.steamUrl||"Not configured"}`))}catch(Q){console.error(" Error launching game:",Q),alert("Failed to launch game. Please check console for details.")}};return r.jsx(Ye,{children:r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden transition-all duration-1000 ease-in-out ${l==="compact"?"py-4":"py-8"}`,children:[r.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none"}),r.jsxs("div",{className:`relative z-10 ${l==="compact"?"px-4":"px-8"}`,children:[r.jsx(bM,{user:e,games:i,currentPersona:q}),r.jsxs("section",{className:`mb-6 ${l==="compact"?"mb-4":"mb-6"}`,children:[r.jsx(RM,{persona:I}),r.jsx(IM,{enhancedInsights:void 0})]}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 relative overflow-hidden",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-gaming-primary rounded-full"}),"Quick Actions"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>window.location.href="/library",className:"w-full px-6 py-3 bg-gradient-to-r from-gaming-primary/90 to-gaming-primary/80 text-white rounded-xl hover:from-gaming-primary hover:to-gaming-primary/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("span",{children:""}),"Add Games"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>window.location.href="/analytics",className:"w-full px-6 py-3 bg-gradient-to-r from-gaming-secondary/90 to-gaming-secondary/80 text-white rounded-xl hover:from-gaming-secondary hover:to-gaming-secondary/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"View Stats"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>se(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600/90 to-purple-500/80 text-white rounded-xl hover:from-purple-600 hover:to-purple-500/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("span",{children:""}),"Customise Page"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>window.location.href="/settings",className:"w-full px-6 py-3 bg-white/5 border border-white/10 text-white rounded-xl hover:bg-white/10 hover:border-white/20 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current rounded"}),"Settings"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-green-500/30 relative overflow-hidden",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Surprise Me"]}),k?r.jsxs("div",{className:"space-y-4",children:[r.jsx(pM,{games:i||[],onLaunchGame:fe}),r.jsx("button",{onClick:()=>E(!1),className:"w-full px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm font-gaming",children:" Back"})]}):r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-6xl animate-bounce",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-gaming font-semibold mb-2",children:"Feeling adventurous?"}),r.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Discover something new based on your gaming patterns and current mood"})]}),r.jsxs("button",{onClick:()=>E(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/90 to-emerald-500/80 text-white rounded-xl font-gaming font-semibold hover:from-green-500 hover:to-emerald-500/90 transition-all duration-300 relative overflow-hidden group/btn",children:[r.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Surprise Me Now"]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 relative overflow-hidden group",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-gaming-secondary rounded-full"}),"Recent Activity"]}),r.jsxs("div",{className:"space-y-3",children:[pe().slice(0,3).map((z,Q)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 transition-all duration-200 cursor-pointer group/item",children:[r.jsx("div",{className:"text-2xl",children:z.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white text-sm font-medium",children:z.title}),r.jsx("p",{className:"text-white/40 text-xs",children:z.time})]}),r.jsx("div",{className:"w-2 h-2 bg-gaming-secondary rounded-full opacity-0 group-hover/item:opacity-100"})]},Q)),r.jsxs("button",{onClick:()=>window.location.href="/analytics",className:"w-full mt-4 p-2 text-gaming-secondary hover:text-gaming-secondary/80 text-xs font-gaming uppercase tracking-wider transition-colors flex items-center justify-center gap-2",children:["View All Activity",r.jsx("span",{children:""})]})]})]})]}),N&&Y.length>0&&r.jsx("section",{className:"mb-8",children:r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-xl p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[r.jsx("span",{children:""}),"Games Chosen For You"]}),r.jsx("p",{className:"text-gray-300",children:"Based on your gaming habits, moods, and play patterns"})]})}),(()=>{try{Vg("persona","shown",{count:Y.length,dominantMoods:N.dominantMoods,preferredSessionLength:N.preferredSessionLength,preferredTimesOfDay:N.preferredTimesOfDay})}catch{}return null})(),r.jsx("div",{className:"mb-6 p-4 bg-black/20 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Dominant moods:"}),r.jsxs("span",{className:"text-white ml-2 font-medium",children:[N.dominantMoods.slice(0,3).join(", "),N.dominantMoods.length>3&&"..."]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Preferred session:"}),r.jsx("span",{className:"text-white ml-2 font-medium capitalize",children:N.preferredSessionLength})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Preferred times:"}),r.jsx("span",{className:"text-white ml-2 font-medium",children:N.preferredTimesOfDay.join(", ")})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Y.map((z,Q)=>{const X="game"in z?z.game:z;return r.jsxs("div",{onClick:()=>{Vg("persona","clicked",{gameId:X.id,dominantMoods:N.dominantMoods,personaWeight:.4}),fe(X.id)},className:"group cursor-pointer transition-all duration-300 hover:scale-105",children:[r.jsxs("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900",children:[X.coverImage?r.jsx("img",{src:X.coverImage,alt:X.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[r.jsx("h4",{className:"text-white font-medium text-sm truncate mb-1",children:X.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[r.jsx("span",{children:" Personalized"}),X.hoursPlayed&&r.jsxs("span",{children:[" ",X.hoursPlayed,"h"]})]})]})})]}),r.jsx("h3",{className:"text-white text-sm font-medium mt-2 truncate group-hover:text-purple-400 transition-colors",children:X.title})]},X.id||Q)})})]})}),r.jsxs("section",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("h2",{className:"text-2xl font-gaming font-bold text-white uppercase tracking-tight flex items-center gap-4",children:[" Enhanced Mood System",r.jsx("span",{className:"h-[2px] flex-1 bg-gradient-to-r from-blue-500/40 to-transparent"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Select Your Mood"}),r.jsx(Ow,{onMoodChange:S,variant:"compact"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(GT,{userMood:u,personaTraits:t==null?void 0:t.traits})}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Mood Matches"}),w?r.jsx("div",{className:"space-y-3",children:f.slice(0,3).map(z=>{var Q,X,he;return r.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>s(`/library/game/${z.id}`),children:[r.jsx("div",{className:"w-10 h-10 bg-gaming-primary/20 rounded-lg flex items-center justify-center group-hover:bg-gaming-primary/30 transition-colors",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white text-sm font-medium group-hover:text-gaming-accent transition-colors",children:z.title}),r.jsx("p",{className:"text-white/40 text-xs",children:typeof((Q=z.genres)==null?void 0:Q[0])=="string"?z.genres[0]:((he=(X=z.genres)==null?void 0:X[0])==null?void 0:he.name)||"Unknown"})]}),r.jsx("div",{className:"text-white/20 group-hover:text-white/40 transition-colors",children:""})]},z.id)})}):r.jsx("p",{className:"text-white/60 text-sm",children:"Select a mood to see recommendations"})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Mood Analytics"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Current Mood"}),r.jsx("span",{className:"text-gaming-accent font-gaming text-sm",children:de()})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Recommendations"}),r.jsx("span",{className:"text-gaming-secondary font-gaming text-sm",children:j})]})]})]})]})]}),r.jsxs(B.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-gaming font-bold text-white flex items-center gap-3",children:[r.jsx(B.span,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-2xl",children:""}),"Continue Playing"]}),r.jsx(Ge,{to:"/library",className:"text-gaming-accent hover:text-gaming-primary transition-colors text-sm font-gaming",children:"View All "})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(z=>z.playStatus==="playing").slice(0,3).map((z,Q)=>r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+Q*.1},whileHover:{scale:1.02,y:-5},onClick:()=>ee(z),className:"glass-morphism rounded-xl p-4 border border-white/10 cursor-pointer group",children:[r.jsx("div",{className:"relative w-full h-40 rounded-lg overflow-hidden mb-4",children:z.coverImage?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.coverImage,alt:z.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:r.jsx("p",{className:"text-white text-sm font-semibold truncate",children:z.title})})]}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:z.title}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[z.hoursPlayed||0," hours played"]})]}),r.jsx(B.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-gaming-primary hover:bg-gaming-accent text-white p-2 rounded-lg transition-colors",children:""})]})]},z.id))})]}),r.jsxs(B.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-gaming font-bold text-white flex items-center gap-3",children:[r.jsx(B.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"text-2xl",children:""}),"Mood Recommendations"]}),r.jsx("button",{onClick:()=>d(!c),className:"bg-gaming-primary hover:bg-gaming-accent text-white px-4 py-2 rounded-lg transition-colors text-sm font-gaming",children:"Change Mood"})]}),w&&f.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.slice(0,6).map((z,Q)=>{var X,he;return r.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+Q*.1},whileHover:{scale:1.02,y:-5},className:"glass-morphism rounded-xl p-4 border border-white/10 cursor-pointer group",children:[r.jsx("div",{className:"relative w-full h-40 rounded-lg overflow-hidden mb-4",children:z.coverImage?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.coverImage,alt:z.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"bg-gaming-primary text-white text-xs px-2 py-1 rounded-full",children:u})})]}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:z.title}),r.jsx("p",{className:"text-gray-400 text-xs",children:((he=(X=z.genres)==null?void 0:X[0])==null?void 0:he.name)||"Game"})]}),r.jsx(B.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-gaming-accent hover:bg-gaming-primary text-white p-2 rounded-lg transition-colors",children:""})]})]},z.id)})}):r.jsxs("div",{className:"glass-morphism rounded-xl p-8 border border-white/10 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Mood Selected"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Select your current mood to get personalized game recommendations"}),r.jsx("button",{onClick:()=>d(!0),className:"bg-gaming-primary hover:bg-gaming-accent text-white px-6 py-3 rounded-lg transition-colors",children:"Select Mood"})]})]}),r.jsx("section",{className:"mb-8",children:r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>R(!0),className:"group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-xl font-bold",children:"I'm Not Sure What To Play"}),r.jsx("div",{className:"text-sm opacity-90",children:"Let GamePilot pick based on your mood, time, and play style"})]})]})})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"w-full max-w-4xl",children:r.jsx(uw,{onClose:()=>R(!1)})})}),r.jsx(PM,{}),V&&r.jsx(Lh,{pageId:"home",isOpen:V,onClose:()=>se(!1)})]})]})})}const $M=()=>r.jsx(zM,{});function p0(e,t="616x353"){const n={square:"800x800",portrait:"600x900",landscape:"1200x900","616x353":"616x353","800x800":"800x800","1200x900":"1200x900"},s=n[t]||n["616x353"];return[`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/capsule_616x353.jpg`,`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/header.jpg`,`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/library_600x900.jpg`,e.coverImage,e.headerImage,e.imageUrl,e.steamHeaderImage,e.steamCapsuleImage,e.capsuleImage,e.headerImage,e.smallHeaderImage,`https://picsum.photos/seed/${e.title.replace(/\s+/g,"-")}-${e.id}/${s}.jpg`].filter(Boolean)[0]||`https://picsum.photos/seed/${e.title.replace(/\s+/g,"-")}-${e.id}/${s}.jpg`}function zu({game:e,isSelected:t,isSelectable:n,onSelect:s,currentSession:i,onLaunch:a,onDelete:o,onEdit:l}){var C,k;const c=on(),{actions:d}=be(),[u,m]=b.useState(!1),[h,f]=b.useState(!1),[p,g]=b.useState(!1);b.useEffect(()=>{f((i==null?void 0:i.gameId)===e.id)},[i,e.id]);const y=()=>{c(`/library/game/${e.id}`)},x=async()=>{if(!(p||!a)){g(!0);try{await a(e)}finally{g(!1)}}},v=async()=>{i&&await d.endGameSession(i.gameId)},w=E=>{switch(E){case"playing":return"from-green-500 to-emerald-500";case"completed":return"from-blue-500 to-indigo-500";case"backlog":return"from-gray-500 to-slate-500";case"abandoned":return"from-red-500 to-pink-500";default:return"from-gray-500 to-slate-500"}},j=E=>{switch(E){case"playing":return"";case"completed":return"";case"backlog":return"";case"abandoned":return"";default:return""}},S=E=>{const P="px-2 py-1 rounded-full text-xs font-bold text-white shadow-lg backdrop-blur-sm border";switch(E){case"playing":return`${P} bg-green-600/80 border-green-500/40`;case"completed":return`${P} bg-blue-600/80 border-blue-500/40`;case"backlog":return`${P} bg-gray-600/80 border-gray-500/40`;case"abandoned":return`${P} bg-red-600/80 border-red-500/40`;default:return`${P} bg-gray-600/80 border-gray-500/40`}},T=e.appId&&String(e.appId).trim()!=="";return r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02,y:-5},className:`group relative bg-gray-800/50 backdrop-blur-sm rounded-xl overflow-hidden border transition-all duration-300 cursor-pointer ${t?"border-gaming-primary shadow-gaming-primary/50":"border-gray-700/50 hover:border-gray-600/50"}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[n&&r.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1},className:"absolute top-3 left-3 z-10",children:r.jsx("input",{type:"checkbox",checked:t,onChange:E=>{E.stopPropagation(),s==null||s(e,E.target.checked)},className:"w-5 h-5 rounded border-2 border-gray-300 text-gaming-primary focus:ring-gaming-primary focus:ring-2 transition-colors","aria-label":`Select ${e.title}`,title:`Select ${e.title}`})}),r.jsxs("div",{className:"relative w-full aspect-square overflow-hidden bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20 flex-shrink-0 group",children:[p0(e)?r.jsxs(r.Fragment,{children:[r.jsx(Lw,{src:p0(e),alt:e.title,className:"w-full h-full object-contain transition-all duration-500 group-hover:scale-110 group-hover:brightness-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800 group-hover:from-gray-600 group-hover:to-gray-700 transition-all duration-300",children:r.jsx("span",{className:"text-6xl text-gray-500 group-hover:text-gray-400 transition-colors duration-300",children:""})}),e.price&&e.price.discount_percent>0&&r.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg text-white text-sm font-bold z-10 shadow-lg shadow-red-500/30 animate-pulse",children:["-",e.price.discount_percent,"%"]}),e.playStatus&&e.playStatus!=="backlog"&&r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-bold text-white shadow-lg backdrop-blur-sm border ${S(e.playStatus)}`,children:[j(e.playStatus)," ",e.playStatus.toUpperCase()]})}),e.completionPercentage!==void 0&&e.completionPercentage>0&&r.jsx("div",{className:"absolute bottom-3 right-3 z-10",children:r.jsxs("div",{className:"relative w-12 h-12",children:[r.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[r.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4",fill:"none"}),r.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"url(#progressGradient)",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*20}`,strokeDashoffset:`${2*Math.PI*20*(1-e.completionPercentage/100)}`,className:"transition-all duration-500"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#10b981"}),r.jsx("stop",{offset:"100%",stopColor:"#34d399"})]})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(e.completionPercentage),"%"]})})]})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent p-4 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-xl mb-3 line-clamp-2 transition-all duration-200 group-hover:text-gaming-primary leading-tight",children:e.title}),r.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-700/40",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.platforms&&e.platforms.length>0&&r.jsxs("span",{className:"px-2.5 py-1 bg-gradient-to-r from-gray-800/90 to-gray-700/90 backdrop-blur-sm rounded-lg text-xs text-gray-200 font-semibold border border-gray-600/50 truncate shadow-sm",children:[" ",typeof e.platforms[0]=="string"?e.platforms[0]:((C=e.platforms[0])==null?void 0:C.name)||"Unknown"]}),e.genres&&e.genres.length>0&&r.jsxs("span",{className:"px-2.5 py-1 bg-gradient-to-r from-blue-600/80 to-blue-700/80 backdrop-blur-sm rounded-lg text-xs text-blue-200 font-semibold border border-blue-500/40 truncate shadow-sm",children:[" ",typeof e.genres[0]=="string"?e.genres[0]:((k=e.genres[0])==null?void 0:k.name)||"Genre"]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.playStatus&&e.playStatus!=="backlog"&&r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-gray-900/80 to-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-600/40 shadow-sm",children:[r.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${w(e.playStatus)} animate-pulse`}),r.jsx("span",{className:"text-xs text-white font-semibold capitalize",children:e.playStatus})]}),e.hoursPlayed!==void 0&&e.hoursPlayed>0&&r.jsxs("span",{className:"text-xs text-gray-300 font-bold bg-gradient-to-r from-gray-900/80 to-gray-800/80 backdrop-blur-sm px-2.5 py-1 rounded-lg border border-gray-600/40 shadow-sm",children:[" ",Math.floor(e.hoursPlayed),"h"]})]})]})]}),r.jsxs("div",{className:"flex-1 py-3",children:[e.description&&typeof e.description=="string"&&r.jsx("p",{className:"text-gray-300 text-xs line-clamp-3 mb-3 leading-relaxed",children:e.description}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.moods&&Array.isArray(e.moods)&&e.moods.length>0?e.moods.slice(0,2).map((E,P)=>{const R=Ee.find($=>$.id===E);return R?r.jsxs(B.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:P*.1},className:`px-2 py-1 rounded-full text-xs font-medium border ${R.id==="competitive"?"bg-red-500/20 border-red-500/40 text-red-300":R.id==="chill"?"bg-blue-500/20 border-blue-500/40 text-blue-300":R.id==="story"?"bg-purple-500/20 border-purple-500/40 text-purple-300":R.id==="creative"?"bg-green-500/20 border-green-500/40 text-green-300":R.id==="social"?"bg-teal-500/20 border-teal-500/40 text-teal-300":R.id==="focused"?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":R.id==="energetic"?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":R.id==="exploratory"?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[R.emoji," ",R.name]},E):null}):(()=>{const E=Jl(e),P=E?Ee.find(R=>R.id===E):null;return P?r.jsxs(B.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`px-2 py-1 rounded-full text-xs font-medium border ${P.id==="competitive"?"bg-red-500/20 border-red-500/40 text-red-300":P.id==="chill"?"bg-blue-500/20 border-blue-500/40 text-blue-300":P.id==="story"?"bg-purple-500/20 border-purple-500/40 text-purple-300":P.id==="creative"?"bg-green-500/20 border-green-500/40 text-green-300":P.id==="social"?"bg-teal-500/20 border-teal-500/40 text-teal-300":P.id==="focused"?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":P.id==="energetic"?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":P.id==="exploratory"?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[P.emoji," ",P.name]}):null})(),e.playStatus&&e.playStatus!=="backlog"&&r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.playStatus==="playing"?"bg-green-500/20 border-green-500/40 text-green-300":e.playStatus==="completed"?"bg-blue-500/20 border-blue-500/40 text-blue-300":e.playStatus==="abandoned"?"bg-red-500/20 border-red-500/40 text-red-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[j(e.playStatus)," ",e.playStatus]})]}),e.rating||e.achievements?r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.rating&&typeof e.rating=="string"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""}),r.jsx("span",{className:"text-gray-300",children:e.rating})]}),e.achievements&&typeof e.achievements=="string"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-green-400",children:""}),r.jsx("span",{className:"text-gray-300",children:e.achievements})]})]}):null]}),r.jsx("div",{children:r.jsxs("div",{className:"flex gap-2.5",children:[r.jsxs("button",{onClick:y,className:"flex-1 px-4 py-3 bg-gradient-to-r from-gaming-primary/90 to-gaming-secondary/90 text-white rounded-xl text-sm font-bold hover:opacity-90 transition-all duration-200 hover:scale-105 hover:shadow-lg hover:shadow-gaming-primary/40 border border-gaming-primary/30 flex items-center justify-center gap-2 backdrop-blur-sm",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:"Details"})]}),T&&r.jsxs("button",{onClick:h?v:x,disabled:p,className:`px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 hover:scale-105 flex items-center justify-center gap-2 border backdrop-blur-sm ${h?"bg-gradient-to-r from-red-600/90 to-red-700/90 text-white hover:opacity-90 hover:shadow-lg hover:shadow-red-600/40 border-red-500/30":p?"bg-gradient-to-r from-gray-600/90 to-gray-700/90 text-gray-300 cursor-not-allowed border-gray-500/30":"bg-gradient-to-r from-green-600/90 to-emerald-600/90 text-white hover:opacity-90 hover:shadow-lg hover:shadow-green-600/40 border-green-500/30"}`,children:[r.jsx("span",{className:"text-base",children:h?"":p?"":""}),r.jsx("span",{children:h?"End":p?"Launching...":"Play"})]}),n&&r.jsx("button",{onClick:()=>s==null?void 0:s(e,!0),className:"px-3 py-3 bg-gradient-to-r from-blue-600/90 to-blue-700/90 text-white rounded-xl text-sm font-bold hover:opacity-90 transition-all duration-200 hover:scale-105 hover:shadow-lg hover:shadow-blue-600/40 border border-blue-500/30 backdrop-blur-sm",title:"Select game",children:r.jsx("span",{className:"text-base",children:""})})]})})]})]})]})}function ar(e,t,n){let s=n.initialDeps??[],i,a=!0;function o(){var l,c,d;let u;n.key&&((l=n.debug)!=null&&l.call(n))&&(u=Date.now());const m=e();if(!(m.length!==s.length||m.some((p,g)=>s[g]!==p)))return i;s=m;let f;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(f=Date.now()),i=t(...m),n.key&&((d=n.debug)!=null&&d.call(n))){const p=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,x=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c ${x(g,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(a&&n.skipInitialOnChange)&&n.onChange(i),a=!1,i}return o.updateDeps=l=>{s=l},o}function f0(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const BM=(e,t)=>Math.abs(e-t)<1.01,UM=(e,t,n)=>{let s;return function(...i){e.clearTimeout(s),s=e.setTimeout(()=>t.apply(this,i),n)}},g0=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},VM=e=>e,HM=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let i=t;i<=n;i++)s.push(i);return s},WM=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;const i=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(i(g0(n)),!s.ResizeObserver)return()=>{};const a=new s.ResizeObserver(o=>{const l=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const d=c.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(g0(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},y0={passive:!0},x0=typeof window>"u"?!0:"onscrollend"in window,YM=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;let i=0;const a=e.options.useScrollendEvent&&x0?()=>{}:UM(s,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:m,isRtl:h}=e.options;i=m?n.scrollLeft*(h&&-1||1):n.scrollTop,a(),t(i,u)},l=o(!0),c=o(!1);n.addEventListener("scroll",l,y0);const d=e.options.useScrollendEvent&&x0;return d&&n.addEventListener("scrollend",c,y0),()=>{n.removeEventListener("scroll",l),d&&n.removeEventListener("scrollend",c)}},KM=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const s=t.borderBoxSize[0];if(s)return Math.round(s[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},qM=(e,{adjustments:t=0,behavior:n},s)=>{var i,a;const o=e+t;(a=(i=s.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[s.options.horizontal?"left":"top"]:o,behavior:n})};class QM{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const s=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const o=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=s())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=s())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=s())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([s,i])=>{typeof i>"u"&&delete n[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VM,rangeExtractor:HM,onChange:()=>{},measureElement:KM,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var s,i;(i=(s=this.options).onChange)==null||i.call(s,this,n)},this.maybeNotify=ar(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,s)=>{const i=new Map,a=new Map;for(let o=s-1;o>=0;o--){const l=n[o];if(i.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=ar(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,s,i,a,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:s,scrollMargin:i,getItemKey:a,enabled:o,lanes:l}),{key:!1}),this.getMeasurements=ar(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:s,scrollMargin:i,getItemKey:a,enabled:o,lanes:l},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const h of this.laneAssignments.keys())h>=n&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const d=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,d),m=new Array(l).fill(void 0);for(let h=0;h<d;h++){const f=u[h];f&&(m[f.lane]=h)}for(let h=d;h<n;h++){const f=a(h),p=this.laneAssignments.get(h);let g,y;if(p!==void 0&&this.options.lanes>1){g=p;const j=m[g],S=j!==void 0?u[j]:void 0;y=S?S.end+this.options.gap:s+i}else{const j=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h);y=j?j.end+this.options.gap:s+i,g=j?j.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,g)}const x=c.get(f),v=typeof x=="number"?x:this.options.estimateSize(h),w=y+v;u[h]={index:h,start:y,size:v,end:w,key:f,lane:g},m[g]=h}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ar(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,s,i,a)=>this.range=n.length>0&&s>0?XM({measurements:n,outerSize:s,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ar(()=>{let n=null,s=null;const i=this.calculateRange();return i&&(n=i.startIndex,s=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,s]},(n,s,i,a,o)=>a===null||o===null?[]:n({startIndex:a,endIndex:o,overscan:s,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const s=this.options.indexAttribute,i=n.getAttribute(s);return i?parseInt(i,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(n,s)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,s,this))},this.resizeItem=(n,s)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,o=s-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,s)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((s,i)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ar(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,s)=>{const i=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=s[l];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const s=this.getMeasurements();if(s.length!==0)return f0(s[zw(0,s.length-1,i=>f0(s[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,s,i=0)=>{if(!this.scrollElement)return 0;const a=this.getSize(),o=this.getScrollOffset();s==="auto"&&(s=n>=o+a?"end":"start"),s==="center"?n+=(i-a)/2:s==="end"&&(n-=a);const l=this.getMaxScrollOffset();return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,s="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),o=this.getScrollOffset();if(s==="auto")if(i.end>=o+a-this.options.scrollPaddingEnd)s="end";else if(i.start<=o+this.options.scrollPaddingStart)s="start";else return[o,s];if(s==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),s];const l=s==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,s,i.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:s="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,s),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:s="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let a=0;const o=10,l=d=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,d);if(!u){console.warn("Failed to get offset for index:",n);return}const[m,h]=u;this._scrollToOffset(m,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=()=>{if(this.currentScrollToIndex!==n)return;const p=this.getScrollOffset(),g=this.getOffsetForIndex(n,h);if(!g){console.warn("Failed to get offset for index:",n);return}BM(g[0],p)||c(h)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(f):f()})},c=d=>{this.targetWindow&&this.currentScrollToIndex===n&&(a++,a<o?this.targetWindow.requestAnimationFrame(()=>l(d)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(s)},this.scrollBy=(n,{behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var n;const s=this.getMeasurements();let i;if(s.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=s[s.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let o=s.length-1;for(;o>=0&&a.some(l=>l===null);){const l=s[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}i=Math.max(...a.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:s,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const zw=(e,t,n,s)=>{for(;e<=t;){const i=(e+t)/2|0,a=n(i);if(a<s)e=i+1;else if(a>s)t=i-1;else return i}return e>0?e-1:0};function XM({measurements:e,outerSize:t,scrollOffset:n,lanes:s}){const i=e.length-1,a=c=>e[c].start;if(e.length<=s)return{startIndex:0,endIndex:i};let o=zw(0,i,a,n),l=o;if(s===1)for(;l<i&&e[l].end<n+t;)l++;else if(s>1){const c=Array(s).fill(0);for(;l<i&&c.some(u=>u<n+t);){const u=e[l];c[u.lane]=u.end,l++}const d=Array(s).fill(n+t);for(;o>=0&&d.some(u=>u>=n);){const u=e[o];d[u.lane]=u.start,o--}o=Math.max(0,o-o%s),l=Math.min(i,l+(s-1-l%s))}return{startIndex:o,endIndex:l}}const v0=typeof document<"u"?b.useLayoutEffect:b.useEffect;function JM({useFlushSync:e=!0,...t}){const n=b.useReducer(()=>({}),{})[1],s={...t,onChange:(a,o)=>{var l;e&&o?wa.flushSync(n):n(),(l=t.onChange)==null||l.call(t,a,o)}},[i]=b.useState(()=>new QM(s));return i.setOptions(s),v0(()=>i._didMount(),[]),v0(()=>i._willUpdate()),i}function ZM(e){return JM({observeElementRect:WM,observeElementOffset:YM,scrollToFn:qM,...e})}const eA=260,tA=({games:e,onGameLaunch:t,onGameEdit:n,onGameDelete:s,selectedGames:i,onGameSelectToggle:a,isBulkSelectMode:o})=>{const l=b.useMemo(()=>{const m=[];for(let h=0;h<e.length;h+=3)m.push(e.slice(h,h+3));return m},[e]),c=b.useRef(null),d=ZM({count:l.length,getScrollElement:()=>c.current,estimateSize:()=>eA,overscan:5}),u=b.useCallback(({rowIndex:m,gameRow:h})=>r.jsxs("div",{className:"flex gap-4 p-2",children:[h.map(f=>r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx(zu,{game:f,onSelect:()=>a(f.id),onLaunch:()=>t(f),onEdit:()=>n(f.id,{}),onDelete:()=>s(f),isSelectable:o,isSelected:i.has(f.id)})},f.id)),h.length<3&&r.jsx(r.Fragment,{children:Array.from({length:3-h.length}).map((f,p)=>r.jsx("div",{className:"flex-1"},`empty-${m}-${p}`))})]}),[t,n,s,i,a,o]);return r.jsx("div",{className:"virtualized-game-list",children:r.jsx("div",{ref:c,className:"h-[700px] overflow-auto",style:{contain:"strict"},children:r.jsx("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},children:d.getVirtualItems().map(m=>r.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${m.size}px`,transform:`translateY(${m.start}px)`},children:r.jsx(u,{rowIndex:m.index,gameRow:l[m.index]})},m.index))})})})};class gl{static async searchGames(t,n=10){try{const s=`${this.SEARCH_URL}?query=${encodeURIComponent(t)}&limit=${n}&productType=game&sortBy=popularity&order=desc`,i=await fetch(s,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!i.ok)throw new Error(`GOG API Error: ${i.status}`);const a=await i.json();return a.products?a.products.map(this.transformGOGGame):[]}catch(s){return console.error("GOG Search Error:",s),[]}}static async getGameDetails(t){try{const n=`${this.BASE_URL}/products/${t}`,s=await fetch(n,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!s.ok)throw new Error(`GOG API Error: ${s.status}`);const i=await s.json();return this.transformGOGGame(i)}catch(n){return console.error("GOG Game Details Error:",n),null}}static getGOGStoreUrl(t){return`https://www.gog.com/game/${t}`}static getGOGLauncherUrl(t){return`goggalaxy://openGame/${t}`}static transformGOGGame(t){var n;return{id:t.id||t.slug,title:t.title||t.name,slug:t.slug,url:t.url||`https://www.gog.com/game/${t.slug}`,image:t.coverHorizontal||t.image||t.cover,price:((n=t.price)==null?void 0:n.amount)||"Free",developers:t.developers||[],genres:t.genres||[],platforms:t.platforms||[],releaseDate:t.releaseDate||t.release_date,description:t.description||t.summary||""}}static convertGOGGameToGame(t){return{title:t.title,launcherId:t.id,platforms:["GOG"],status:"backlog",playtime:0,coverImage:t.image,genres:t.genres,tags:[],achievements:{unlocked:0,total:0},description:t.description}}static extractGOGIdFromUrl(t){const n=t.match(/gog\.com\/game\/([^\/\?]+)/);return n?n[1]:null}static extractGOGIdFromStoreUrl(t){const n=t.match(/gog\.com\/en\/game\/([^\/\?]+)/);return n?n[1]:null}}We(gl,"BASE_URL","https://api.gog.com/v2"),We(gl,"SEARCH_URL","https://catalog.gog.com/v1/catalog");class $u{static async searchWithCache(t){const n=t.toLowerCase().trim();if(this.searchCache.has(n))return this.searchCache.get(n);const s=await gl.searchGames(t);return this.searchCache.set(n,s),setTimeout(()=>{this.searchCache.delete(n)},this.cacheTimeout),s}static clearCache(){this.searchCache.clear()}}We($u,"searchCache",new Map),We($u,"cacheTimeout",5*60*1e3);const nA=({onGameSelect:e,placeholder:t="Search GOG games..."})=>{const[n,s]=b.useState(""),[i,a]=b.useState([]),[o,l]=b.useState(!1),[c,d]=b.useState(!1);b.useEffect(()=>{const f=setTimeout(async()=>{if(n.trim().length<2){a([]),d(!1);return}l(!0);try{const p=await $u.searchWithCache(n);a(p.slice(0,8)),d(!0)}catch(p){console.error("GOG search error:",p),a([])}finally{l(!1)}},300);return()=>clearTimeout(f)},[n]);const u=h=>{e(h),s(""),a([]),d(!1)},m=h=>{h.key==="Escape"&&d(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n,onChange:h=>s(h.target.value),onFocus:()=>n.trim().length>=2&&d(!0),onKeyDown:m,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:t}),o&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gaming-accent"})})]}),c&&i.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:i.map(h=>r.jsxs("div",{onClick:()=>u(h),className:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer border-b border-gray-700 last:border-b-0",children:[r.jsx("img",{src:h.image,alt:h.title,className:"w-12 h-12 rounded object-cover",onError:f=>{f.currentTarget.src="https://via.placeholder.com/48x48/8b5cf6/ffffff?text=GOG"}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-white font-medium truncate",children:h.title}),r.jsx("p",{className:"text-gray-400 text-sm truncate",children:h.genres.slice(0,2).join(", ")})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-gaming-accent text-sm font-medium",children:h.price==="0"?"Free":`$${h.price}`}),r.jsx("div",{className:"text-gray-500 text-xs",children:h.platforms.slice(0,2).join(", ")})]})]},h.id))}),c&&n.trim().length>=2&&i.length===0&&!o&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4",children:r.jsxs("p",{className:"text-gray-400 text-center",children:['No GOG games found for "',n,'"']})})]})},sA=({children:e,fallback:t,onError:n})=>{const{showError:s}=ii(),i=(a,o)=>{s(`Component error: ${a.message}`),n&&n(a,o)};return r.jsx(Nh,{fallback:t,onError:i,children:e})},$w=({options:e,selected:t,onChange:n,placeholder:s="Select options...",className:i=""})=>{const[a,o]=b.useState(!1),[l,c]=b.useState(""),d=b.useRef(null),u=e.filter(p=>p.toLowerCase().includes(l.toLowerCase())&&!t.includes(p));b.useEffect(()=>{const p=g=>{d.current&&!d.current.contains(g.target)&&(o(!1),c(""))};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const m=p=>{n([...t,p]),c("")},h=p=>{n(t.filter(g=>g!==p))},f=p=>{p.key==="Enter"&&a&&u.length>0?m(u[0]):p.key==="Escape"&&(o(!1),c(""))};return r.jsxs("div",{ref:d,className:`relative ${i}`,children:[r.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>o(!a),children:t.length===0?r.jsx("span",{className:"text-gray-400",children:s}):r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(p=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[p,r.jsx("button",{onClick:g=>{g.stopPropagation(),h(p)},className:"hover:text-gaming-secondary transition-colors",children:""})]},p))})}),a&&r.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:p=>c(p.target.value),onKeyDown:f,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),u.length===0?r.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:l?"No options found":"All options selected"}):u.map(p=>r.jsx("div",{onClick:()=>m(p),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:p},p))]})]})},Bw=({selected:e,onChange:t,placeholder:n="Select tags...",className:s=""})=>{const[i,a]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(""),u=b.useRef(null),m=D2.filter(y=>y.name.toLowerCase().includes(o.toLowerCase())&&!e.includes(y.name));b.useEffect(()=>{const y=x=>{u.current&&!u.current.contains(x.target)&&(a(!1),l(""),d(""))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=y=>{t([...e,y]),l("")},f=y=>{t(e.filter(x=>x!==y))},p=()=>{const y=c.trim();y&&!e.includes(y)&&(t([...e,y]),d(""),l(""))},g=y=>{y.key==="Enter"?(y.preventDefault(),m.length===0&&c.trim()?p():m.length>0&&h(m[0].name)):y.key==="Escape"&&(a(!1),l(""),d(""))};return r.jsxs("div",{ref:u,className:`relative ${s}`,children:[r.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>a(!i),children:e.length===0?r.jsx("span",{className:"text-gray-400",children:n}):r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(y=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[y,r.jsx("button",{onClick:x=>{x.stopPropagation(),f(y)},className:"hover:text-gaming-secondary transition-colors",children:""})]},y))})}),i&&r.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsx("input",{type:"text",placeholder:"Search or add custom tag...",value:c||o,onChange:y=>{const x=y.target.value;x.startsWith("+")||x.startsWith("#")?(d(x),l("")):(l(x),d(""))},onKeyDown:g,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),c&&r.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 border-b border-gray-700",children:['Press Enter to add custom tag: "',c,'"']}),m.length===0&&!c?r.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:o?"No tags found":"All tags selected"}):m.map(y=>r.jsxs("div",{onClick:()=>h(y.name),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:y.name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.color} bg-gray-900`,children:y.category.charAt(0).toUpperCase()})]}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:y.description})]},y.id))]})]})},rA=({isOpen:e,onClose:t,onAddGame:n})=>{const{showSuccess:s,showError:i}=ii(),[a,o]=b.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"backlog",status:"backlog",coverImage:"",launcherId:""}),[l,c]=b.useState("manual"),d=h=>{var p;const f=gl.convertGOGGameToGame(h);o({title:f.title||"",genres:((p=f.genres)==null?void 0:p.map(g=>g.name))||[],moods:[],platforms:f.platforms||[],playStatus:"backlog",status:"backlog",tags:f.tags||[],coverImage:f.coverImage||"",launcherId:f.launcherId||""})},u=async h=>{h.preventDefault();try{const f={title:a.title,genres:a.genres.map(p=>({id:p.toLowerCase().replace(/\s+/g,"-"),name:p,description:`${p} games`,icon:"",color:"#"+Math.floor(Math.random()*16777215).toString(16),tags:[p.toLowerCase()]})),platforms:a.platforms.map(p=>({id:p,name:p.charAt(0).toUpperCase()+p.slice(1),code:p,isConnected:!1})),playStatus:a.playStatus,tags:a.tags,coverImage:a.coverImage||"",hoursPlayed:0,userRating:void 0,achievements:{unlocked:0,total:0},launcherId:a.launcherId||void 0,addedAt:new Date,releaseYear:new Date().getFullYear(),emotionalTags:a.moods.map(p=>p),moods:a.moods,isFavorite:!1,notes:"",globalRating:void 0,lastPlayed:void 0,totalPlaytime:0,averageRating:void 0,completionPercentage:void 0};console.log(" Adding game:",f),n(f),s(`"${f.title}" added to your library`),t()}catch(f){console.error(" Failed to add game:",f),i("Failed to add game. Please try again.")}},m=h=>{o(f=>({...f,platforms:f.platforms.includes(h)?f.platforms.filter(p=>p!==h):[...f.platforms,h]}))};return e?r.jsx(sA,{children:r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Game"}),r.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Add From Platform"}),r.jsxs("select",{value:l,onChange:h=>c(h.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select platform to add game from",children:[r.jsx("option",{value:"manual",children:" Manual Entry"}),r.jsx("option",{value:"steam",children:" Steam Search"}),r.jsx("option",{value:"gog",children:" GOG Search"})]})]}),l==="gog"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search GOG Games"}),r.jsx(nA,{onGameSelect:d,placeholder:"Search GOG catalog..."})]}),l==="steam"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Steam Games"}),r.jsx("div",{className:"text-gray-400 text-sm p-3 bg-gray-800 rounded-lg",children:"Steam search coming soon! Use Steam Import for full library access."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",required:!0,value:a.title,onChange:h=>o(f=>({...f,title:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Enter game title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),r.jsx($w,{options:Lt.map(h=>h.name),selected:a.genres,onChange:h=>o(f=>({...f,genres:h})),placeholder:"Select genres..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),r.jsx("div",{className:"space-y-2",children:Ee.map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300 cursor-pointer hover:text-white transition-colors",children:[r.jsx("input",{type:"checkbox",checked:a.moods.includes(h.id),onChange:f=>{f.target.checked?o(p=>({...p,moods:[...p.moods,h.id]})):o(p=>({...p,moods:p.moods.filter(g=>g!==h.id)}))},className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("span",{children:h.name}),r.jsx("span",{className:"text-gray-500 text-sm",children:h.emoji})]},h.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:["steam","epic","gog"].map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300",children:[r.jsx("input",{type:"checkbox",checked:a.platforms.includes(h),onChange:()=>m(h),className:"rounded border-gray-600 bg-gray-700 text-gaming-primary focus:ring-gaming-primary"}),r.jsx("span",{className:"text-sm capitalize",children:h})]},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{value:a.status,onChange:h=>o(f=>({...f,status:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select game status",children:[r.jsx("option",{value:"backlog",children:" Backlog"}),r.jsx("option",{value:"playing",children:" Playing"}),r.jsx("option",{value:"completed",children:" Completed"}),r.jsx("option",{value:"abandoned",children:" Abandoned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Launcher ID"}),r.jsx("input",{type:"text",value:a.launcherId,onChange:h=>o(f=>({...f,launcherId:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Steam App ID, Epic Catalog ID, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),r.jsx(Bw,{selected:a.tags,onChange:h=>o(f=>({...f,tags:h})),placeholder:"Select or add tags..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),r.jsx("input",{type:"url",value:a.coverImage,onChange:h=>o(f=>({...f,coverImage:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"https://example.com/cover.jpg"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Add Game"})]})]})]})})})}):null},iA=({size:e="md",className:t=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return r.jsx("div",{className:`inline-block animate-spin ${n[e]} ${t}`,children:r.jsxs("svg",{className:"w-full h-full text-gaming-primary",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},Ia=({children:e,message:t="Loading...",size:n="lg",fullScreen:s=!1,className:i=""})=>{const a=r.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${i}`,children:[r.jsx(iA,{size:n}),t&&r.jsx("p",{className:"text-gray-300 text-center animate-pulse",children:t}),e]});return s?r.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker z-50 flex items-center justify-center",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 border border-white/10",children:a})}):a},aA=({isOpen:e,onClose:t,game:n,onUpdateGame:s})=>{const[i,a]=b.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"unplayed",hoursPlayed:0,userRating:void 0,notes:"",coverImage:"",launcherId:"",isFavorite:!1,totalPlaytime:void 0,averageRating:void 0,completionPercentage:void 0}),[o,l]=b.useState(!1),[c,d]=b.useState(null);b.useEffect(()=>{var h,f;n&&a({title:n.title||"",genres:((h=n.genres)==null?void 0:h.map(p=>p.name))||[],moods:n.moods||[],platforms:((f=n.platforms)==null?void 0:f.map(p=>p.code))||[],playStatus:n.playStatus||"unplayed",tags:n.tags||[],hoursPlayed:n.hoursPlayed||0,userRating:n.userRating||void 0,notes:n.notes||"",coverImage:n.coverImage||"",launcherId:n.launcherId||"",isFavorite:n.isFavorite||!1,totalPlaytime:n.totalPlaytime||void 0,averageRating:n.averageRating||void 0,completionPercentage:n.completionPercentage||void 0})},[n]);const u=async h=>{if(h.preventDefault(),!!n){l(!0),d(null);try{const f={title:i.title,genres:i.genres.map(p=>({id:p.toLowerCase().replace(/\s+/g,"-"),name:p,description:`${p} games`,icon:"",color:"#"+Math.floor(Math.random()*16777215).toString(16),tags:[p.toLowerCase()]})),platforms:i.platforms.map(p=>({id:p,name:p,code:p,isConnected:!1})),playStatus:i.playStatus,tags:i.tags,hoursPlayed:i.hoursPlayed,userRating:i.userRating||0,notes:i.notes,isFavorite:i.isFavorite,emotionalTags:i.moods.map(p=>p),moods:i.moods};await s(n.id,f),t()}catch(f){d(f instanceof Error?f.message:"Failed to update game")}finally{l(!1)}}},m=(h,f)=>{a(p=>({...p,[h]:f}))};return!e||!n?null:r.jsx(Ye,{children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Game"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c&&r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30",children:r.jsx("p",{className:"text-red-400 text-sm",children:c})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:i.title,onChange:h=>m("title",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"Enter game title",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),r.jsx($w,{options:Lt.map(h=>h.name),selected:i.genres,onChange:h=>m("genres",h),placeholder:"Select genres..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),r.jsx("div",{className:"space-y-2",children:Ee.map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300 cursor-pointer hover:text-white transition-colors",children:[r.jsx("input",{type:"checkbox",checked:i.moods.includes(h.id),onChange:f=>{f.target.checked?m("moods",[...i.moods,h.id]):m("moods",i.moods.filter(p=>p!==h.id))},className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("span",{children:h.name}),r.jsx("span",{className:"text-gray-500 text-sm",children:h.emoji})]},h.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["steam","epic","gog","manual"].map(h=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:i.platforms.includes(h),onChange:f=>{const p=f.target.checked?[...i.platforms,h]:i.platforms.filter(g=>g!==h);m("platforms",p)},className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),r.jsx("span",{className:"text-sm text-gray-300 capitalize",children:h})]},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Play Status"}),r.jsxs("select",{value:i.playStatus,onChange:h=>m("playStatus",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-gaming-primary/50","aria-label":"Select game play status",children:[r.jsx("option",{value:"unplayed",children:"Unplayed"}),r.jsx("option",{value:"playing",children:"Playing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"abandoned",children:"Abandoned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hours Played"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:i.hoursPlayed,onChange:h=>m("hoursPlayed",parseFloat(h.target.value)||0),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Rating"}),r.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(h=>r.jsx("button",{type:"button",onClick:()=>m("userRating",h),className:`w-8 h-8 rounded-full border-2 transition-all ${i.userRating&&i.userRating>=h?"border-gaming-primary bg-gaming-primary text-white":"border-white/20 bg-white/10 text-gray-400 hover:border-gaming-primary/50"}`,children:h},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),r.jsx(Bw,{selected:i.tags,onChange:h=>m("tags",h),placeholder:"Select or add tags..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),r.jsx("input",{type:"url",value:i.coverImage,onChange:h=>m("coverImage",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"https://example.com/cover.jpg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:i.notes,onChange:h=>m("notes",h.target.value),rows:3,className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50 resize-none",placeholder:"Your thoughts about this game..."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isFavorite",checked:i.isFavorite,onChange:h=>m("isFavorite",h.target.checked),className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),r.jsx("label",{htmlFor:"isFavorite",className:"text-sm text-gray-300 cursor-pointer",children:"Mark as Favorite"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-white/10",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o||!i.title.trim(),className:"px-6 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Ia,{message:"",size:"sm"}),"Saving..."]}):r.jsx(r.Fragment,{children:" Save Changes"})})]})]})]})})})},oA=({isOpen:e,onClose:t,game:n,onDeleteGame:s})=>{var h;const[i,a]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(""),u=async()=>{if(n){a(!0),l(null);try{await s(n.id),t()}catch(f){l(f instanceof Error?f.message:"Failed to delete game")}finally{a(!1)}}},m=f=>{d(f.target.value)};return!e||!n?null:r.jsx(Ye,{children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Delete Game"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),r.jsxs("div",{className:"p-6",children:[o&&r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30 mb-4",children:r.jsx("p",{className:"text-red-400 text-sm",children:o})}),r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex-shrink-0 overflow-hidden",children:n.coverImage?r.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:n.title}),r.jsx("p",{className:"text-sm text-gray-400",children:((h=n.genres)==null?void 0:h.map(f=>f.name).join(", "))||"No genres"}),n.hoursPlayed&&r.jsxs("p",{className:"text-sm text-gray-400",children:[n.hoursPlayed," hours played"]})]})]}),r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-yellow-500/30 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("span",{className:"text-2xl text-yellow-400",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-400 font-medium mb-2",children:"This action cannot be undone!"}),r.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"All game data, including playtime, ratings, and notes will be permanently deleted."})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Type ",r.jsx("span",{className:"text-gaming-primary font-bold",children:"DELETE"})," to confirm:"]}),r.jsx("input",{type:"text",value:c,onChange:m,placeholder:"Type DELETE to confirm",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:u,disabled:i||c!=="DELETE",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Ia,{message:"",size:"sm"}),"Deleting..."]}):r.jsx(r.Fragment,{children:" Delete Game"})})]})]})]})})})},lA=({isOpen:e,onClose:t,onImportGames:n})=>{const[s,i]=b.useState(""),[a,o]=b.useState(""),[l,c]=b.useState(""),{actions:d,isLoading:u}=be(),{user:m}=Ss();b.useEffect(()=>{m!=null&&m.steamId&&(i(m.steamId),console.log(" Auto-filled Steam ID from logged-in user:",m.steamId))},[m]);const h=async()=>{if(console.log(" SteamImportModal: handleImport called!"),console.log(" SteamImportModal: Steam ID:",s),!s){console.log(" SteamImportModal: No Steam ID provided"),o("Steam ID is required"),c("Please try logging in with Steam again");return}console.log(" SteamImportModal: Starting import process..."),o("Fetching your Steam library..."),c("");try{const f="FBB124C9352519E8F9FE820ADF0DA87C";console.log(" SteamImportModal: Calling importSteamLibrary with Steam ID:",s);const p=await d.importSteamLibrary(s,f);console.log(" SteamImportModal: Import result:",p),p.success&&p.gameCount>0?(console.log(" SteamImportModal: Import successful! Games:",p.gameCount),o(`Successfully imported ${p.gameCount} games!`),console.log(" SteamImportModal: Calling onImportGames callback with",p.games.length,"games"),n(p.games.map(g=>({...g,id:g.id}))),setTimeout(()=>{console.log(" SteamImportModal: Closing modal..."),t(),o(""),c(""),i("")},2e3)):(console.log(" SteamImportModal: No games found"),o("No games found in your Steam library"),c("Make sure your Steam profile is public and you own games"))}catch(f){console.error(" SteamImportModal: Import error:",f);let p="Unknown error occurred",g="Please try again later";f instanceof Error?(p=f.message,console.log(" SteamImportModal: Error message:",p),console.log(" SteamImportModal: Error stack:",f.stack)):typeof f=="string"?p=f:f&&typeof f=="object"&&(p="Steam API request failed",g=JSON.stringify(f,null,2),console.log(" SteamImportModal: Error object:",f)),p.includes("Invalid Steam Web API key")?(o("Invalid API Key"),c("Please check your Steam Web API key and try again")):p.includes("Steam profile is private")?(o("Private Profile"),c("Please make your Steam profile public and set your game details to public")):p.includes("Invalid Steam ID")?(o("Invalid Steam ID"),c("Please check your Steam ID and ensure your profile is public")):p.includes("Failed to connect")||p.includes("Failed to fetch")?(o("Connection Error"),c("Unable to connect to Steam API. Please check your internet connection and try again.")):p.includes("Steam API request failed")?(o("API Error"),c("Steam API is temporarily unavailable. Please try again in a few minutes.")):(o("Import Failed"),c(`${p}. ${g}`))}finally{console.log(" SteamImportModal: Import process completed")}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Import Steam Library"}),r.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Steam ID"}),r.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Your Steam ID (auto-filled from login)",disabled:u||!!(m!=null&&m.steamId)}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:m!=null&&m.steamId?"Steam ID auto-filled from your login":"Find your Steam ID in your profile URL"})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Import Your Steam Library"}),r.jsx("p",{className:"text-xs text-gray-400",children:'Click "Import Library" to fetch all games from your Steam account. This will import game titles, playtime, achievements, and cover images.'})]}),(a||l)&&r.jsxs("div",{className:`p-3 rounded-lg text-sm ${a.includes("Successfully")?"bg-green-600/20 text-green-400 border border-green-600/50":"bg-red-600/20 text-red-400 border border-red-600/50"}`,children:[r.jsxs("div",{className:"font-medium flex items-center gap-2",children:[u&&r.jsx(Ia,{}),a]}),l&&r.jsx("div",{className:"text-xs mt-1 opacity-75",children:l})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:t,disabled:u,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{onClick:h,disabled:u||!s,className:"flex-1 px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Importing...":"Import Library"})]})]})]})})}):null},cA=({children:e,onClick:t,className:n,variant:s="default",disabled:i=!1,type:a="button",...o})=>r.jsx("button",{type:a,onClick:t,disabled:i,className:Mn("px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"bg-blue-500 hover:bg-blue-600 text-white":s==="default","bg-red-500 hover:bg-red-600 text-white":s==="destructive","bg-gray-600 hover:bg-gray-700 text-white":s==="secondary","opacity-50 cursor-not-allowed":i},n),...o,children:e});function dA({className:e=""}){be();const[t,n]=ae.useState(!1),[s,i]=ae.useState(""),a=()=>{n(!0),i("Redirecting to Steam...");const o="http://localhost:3001";window.location.href=`${o}/api/auth/steam`};return r.jsx("div",{className:`glass-morphism rounded-xl p-6 ${e}`,children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Import from Steam"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Connect your Steam account to automatically import your game library"})]}),t?r.jsxs("div",{className:"space-y-3",children:[r.jsx(Ia,{size:"sm"}),r.jsx("p",{className:"text-blue-400 text-sm",children:s})]}):r.jsx(cA,{onClick:a,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",disabled:t,children:"Import Steam Library"}),s&&!t&&r.jsx("p",{className:`text-sm mt-2 ${s.includes("Successfully")?"text-green-400":s.includes("failed")||s.includes("Failed")?"text-red-400":"text-blue-400"}`,children:s}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:r.jsx("p",{className:"text-xs text-gray-500",children:"This is a demo import that adds sample games to your library"})})]})})}function uA({isSearchResult:e,onImportSteam:t}){const[n,s]=b.useState(!1);return e?r.jsxs("div",{className:"glass-morphism rounded-2xl p-12 text-center border border-gray-700/30",children:[r.jsx("div",{className:"text-6xl mb-6",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"No games found"}),r.jsx("p",{className:"text-gray-400 mb-8 text-base max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-700 text-white font-medium rounded-lg hover:bg-gray-600 transition-all duration-200",children:"Clear Search"})})]}):r.jsx("div",{className:"text-center py-8",children:n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Import Steam Library"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),r.jsx(dA,{onComplete:i=>{s(!1),t()},onError:i=>{console.error("Steam import error:",i),s(!1)}})]})})})})}function mA(e,t){const[n,s]=b.useState(e);return b.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const b0=()=>{var zh,$h,Bh,Uh,Vh,Hh,Wh,Yh;const{games:e,isLoading:t,actions:n}=be(),{showSuccess:s,showError:i}=ii(),[a,o]=b.useState(!1),l=Rw(),[c,d]=b.useState(!1),[u,m]=b.useState("all"),[h,f]=b.useState(!1),{primaryMood:p,secondaryMood:g,intensity:y,recommendations:x,isLoading:v,error:w,selectMood:j,clearMood:S,setIntensity:T,hasRecommendations:C}=Rh({games:e||[],onRecommendationsChange:O=>{console.log("Library mood recommendations updated:",O.length)}}),k=(O,K)=>{j(O,K),m("mood"),d(!1)},E=p?Ee.find(O=>O.id===p):void 0,P=g?Ee.find(O=>O.id===g):void 0,[R,$]=b.useState(""),U=mA(R,300),[q,ee]=b.useState("all"),[N,Y]=b.useState("title-asc"),[A,F]=b.useState([]),[L,G]=b.useState(null),[I,V]=b.useState(Hs());b.useEffect(()=>{const O=setInterval(()=>{V(Hs())},6e4);return()=>clearInterval(O)},[]);const[se,oe]=b.useState(!1),[me,pe]=b.useState(!1),[de,fe]=b.useState(!1),[nt,z]=b.useState(!1),[Q,X]=b.useState(null),[he,zn]=b.useState(new Set),[$n,Ra]=b.useState(!1),Kw=b.useMemo(()=>{const O=Lt.map(Be=>Be.name),K=new Set;e.forEach(Be=>{Be.genres&&Be.genres.forEach(Se=>{typeof Se=="string"?K.add(Se):Se!=null&&Se.name&&K.add(Se.name)})});const ce=new Set([...O,...K]);return Array.from(ce).sort()},[e]);b.useMemo(()=>{const O=[{title:"Test Energetic",moods:["energetic"],genres:["Action"],hoursPlayed:.5,addedAt:new Date().toISOString()},{title:"Test Chill",moods:["chill"],genres:["Puzzle"],hoursPlayed:3,addedAt:new Date().toISOString()},{title:"Test Creative",moods:["creative"],genres:["RPG"],hoursPlayed:1.5,addedAt:new Date().toISOString()},{title:"Test No Moods",moods:[],genres:["Strategy"],hoursPlayed:0,addedAt:new Date().toISOString()}];console.log(" CONTEXTUAL TAGGING TEST:"),O.forEach(re=>{const we=re.hoursPlayed||0;let Re="medium";we<.5?Re="short":we<=2?Re="medium":Re="long";const Ae=new Set;re.moods.forEach(sc=>{["chill","cozy","casual","puzzle","relaxed"].includes(sc)&&Ae.add("late-night"),["energetic","competitive","focused","intense"].includes(sc)&&Ae.add("morning"),["creative","immersive","story-driven","exploration"].includes(sc)&&(Ae.add("afternoon"),Ae.add("evening"))}),Ae.size===0&&Ae.add("evening"),console.log(`  ${re.title}:`,{playtime:we,sessionLength:Re,recommendedTimes:Array.from(Ae),moods:re.moods,genres:re.genres})});const K=O.filter(re=>A.length===0||A.every(Re=>re.moods.includes(Re)));console.log(" TEST A (all):",K.map(re=>re.title));const ce=O.filter(re=>{const we=["energetic"];return we.length===0||we.every(Ae=>re.moods.includes(Ae))});console.log(" TEST B (energetic):",ce.map(re=>re.title));const De=O.filter(re=>{const we=["chill"];return we.length===0||we.every(Ae=>re.moods.includes(Ae))});console.log(" TEST C (chill):",De.map(re=>re.title));const Be=O.filter(re=>{const we=["creative"];return we.length===0||we.every(Ae=>re.moods.includes(Ae))});console.log(" TEST D (creative):",Be.map(re=>re.title));const Se=O.filter(re=>{const we=["competitive"];return we.length===0||we.every(Ae=>re.moods.includes(Ae))});console.log(" TEST E (competitive - should be empty):",Se.map(re=>re.title));const rr=O.filter(re=>{const we=["chill","creative"];return we.length===0||we.every(Ae=>re.moods.includes(Ae))});console.log(" TEST F (chill + creative):",rr.map(re=>re.title))},[]);const qw=O=>{const K={DOOM:["FPS"],"Resident Evil":["Horror","FPS"],"Dying Light":["Horror","FPS"],"Dead Island":["Horror","FPS"],"PUBG: BATTLEGROUNDS":["FPS","Multiplayer"],"Tom Clancy's Rainbow Six":["FPS","Tactical"],"BattleBit Remastered":["FPS","Multiplayer"],HELLDIVERS:["FPS","Multiplayer"],Squad:["FPS","Tactical"],"Insurgency: Sandstorm":["FPS","Tactical"],"The Witcher 3":["RPG","Adventure"],"Baldur's Gate":["RPG","Strategy"],"Divinity: Original Sin":["RPG","Strategy"],Fallout:["RPG","Adventure"],"STAR WARS Knights of the Old Republic":["RPG","Story"],"Kingdom Come: Deliverance":["RPG","Adventure"],"Elden Ring":["RPG","Adventure"],"DARK SOULS":["RPG","Adventure"],Sekiro:["RPG","Adventure"],"Rocket League":["Sports","Racing"],"WWE 2K":["Sports"],"PGA TOUR":["Sports"],eFootball:["Sports"],Wreckfest:["Racing"],"Mad Max":["Racing","Adventure"],"Company of Heroes":["Strategy"],"Age of Empires":["Strategy"],"Door Kickers":["Strategy","Tactical"],"Shadow Tactics":["Strategy","Tactical"],"God of War":["Action","Adventure"],"Marvel's Spider-Man":["Action","Adventure"],Batman:["Action","Adventure"],"Assassin's Creed":["Action","Adventure"],Mafia:["Action","Adventure"],"METAL GEAR SOLID":["Action","Stealth"],Rust:["Survival","Multiplayer"],DayZ:["Survival","Multiplayer"],"7 Days to Die":["Survival"],"The Forest":["Survival","Horror"],"Project Zomboid":["Survival","Horror"],"Don't Starve Together":["Survival","Multiplayer"],"Stranded Deep":["Survival"],"Green Hell":["Survival"],Terraria:["Creative","Sandbox"],Starbound:["Creative","Sandbox"],Minecraft:["Creative","Sandbox"],RimWorld:["Creative","Strategy"],"Garry's Mod":["Creative","Sandbox"],"Left 4 Dead 2":["Multiplayer","Co-op"],"Apex Legends":["Multiplayer","FPS"],"Crab Game":["Multiplayer"],Valheim:["Multiplayer","Survival"],"Pummel Party":["Multiplayer","Party"],"Cities: Skylines":["Simulation"],"Dawn of Man":["Simulation","Strategy"],Kenshi:["Simulation","RPG"]},ce=O.title.toLowerCase();for(const[De,Be]of Object.entries(K))if(ce.includes(De.toLowerCase()))return{...O,genres:Be.map(Se=>({id:Se.toLowerCase().replace(/\s+/g,"-"),name:Se,description:`${Se} games`,icon:"",color:"from-blue-500 to-purple-600",tags:[Se.toLowerCase()]}))};return O},Bn=b.useMemo(()=>e.map(O=>{const K=fM(O),ce=qw(K),De=Jl(ce);return{...ce,primaryMood:De}}),[e]),Qw=O=>{F(K=>{const ce=K.includes(O)?K.filter(De=>De!==O):[...K,O];try{Zc("moods","changed",{selectedMoodsCount:ce.length,selectedMoods:ce})}catch{}return ce})},sr=b.useMemo(()=>{if(Bn.length>0&&(console.log(" DEBUG: First 3 games in library:"),Bn.slice(0,3).forEach((K,ce)=>{var De;console.log(`Game ${ce+1}: ${K.title}`),console.log(`  Primary Mood: ${K.primaryMood}`),console.log(`  Moods: ${JSON.stringify(K.moods)}`),console.log(`  Genres: ${JSON.stringify((De=K.genres)==null?void 0:De.map(Be=>Be.name))}`)})),Bn.length>0&&A.length>0){const K=Bn[0];console.log(` Testing mood filtering on: ${K.title}`),console.log(`Selected moods: ${A}`),A.forEach(ce=>{const De=Fw([K],ce,1);console.log(`  Mood "${ce}": ${De.length>0?" MATCH":" NO MATCH"}`)})}if(Bn.length>0&&q!=="all"){const K=Bn.filter(ce=>{var Be;return(Be=ce.genres)==null?void 0:Be.some(Se=>(typeof Se=="string"?Se:(Se==null?void 0:Se.name)||"").toLowerCase()===q.toLowerCase())});console.log(` Found ${K.length} games for genre "${q}"`)}let O=Bn.filter(K=>{var we;const ce=!U||K.title.toLowerCase().includes(U.toLowerCase()),De=q==="all"||((we=K.genres)==null?void 0:we.some(Re=>(typeof Re=="string"?Re:(Re==null?void 0:Re.name)||"").toLowerCase()===q.toLowerCase()));let Be=A.length===0;A.length>0&&(Be=A.some(Re=>{const Ae=K.primaryMood===Re;return Ae&&K.title.includes("Call of Duty")&&console.log(` ${K.title} matches mood ${Re}:`,{gamePrimaryMood:K.primaryMood,gameMoods:K.moods,moodId:Re,matches:Ae}),Ae}));const re=VP([K],{selectedMoods:A,selectedSessionLength:L,timeOfDay:I},{limit:1}).length>0;return ce&&De&&Be&&re});return O.sort((K,ce)=>{var De,Be,Se,rr;switch(N){case"title-asc":return K.title.localeCompare(ce.title);case"title-desc":return ce.title.localeCompare(K.title);case"recently-added":return new Date(ce.addedAt).getTime()-new Date(K.addedAt).getTime();case"playtime-desc":return(ce.hoursPlayed||0)-(K.hoursPlayed||0);case"playtime-asc":return(K.hoursPlayed||0)-(ce.hoursPlayed||0);case"last-played":return new Date(ce.lastPlayed||0).getTime()-new Date(K.lastPlayed||0).getTime();case"release-date-desc":return new Date(ce.releaseDate||0).getTime()-new Date(K.releaseDate||0).getTime();case"release-date-asc":return new Date(K.releaseDate||0).getTime()-new Date(ce.releaseDate||0).getTime();case"genre":const re=((Be=(De=K.genres)==null?void 0:De[0])==null?void 0:Be.name)||"",we=((rr=(Se=ce.genres)==null?void 0:Se[0])==null?void 0:rr.name)||"";return re.localeCompare(we);default:return 0}}),O},[Bn,U,q,A,N,L,I]),ec=O=>{$n?Fh(O.id):(X(O),pe(!0))},tc=async O=>{try{O.appId?(await Ch(O.appId),s(`Launching ${O.title}...`)):i(`No launch ID available for ${O.title}`)}catch(K){i(`Failed to launch ${O.title}`),console.error("Launch error:",K)}},nc=O=>{X(O),fe(!0)},Fh=O=>{const K=new Set(he);K.has(O)?K.delete(O):K.add(O),zn(K)},Xw=()=>{he.size===sr.length?zn(new Set):zn(new Set(sr.map(O=>O.id)))},Jw=()=>{he.size!==0&&confirm(`Are you sure you want to delete ${he.size} game(s)?`)&&(n.deleteGames(Array.from(he)),zn(new Set),Ra(!1),s(`Deleted ${he.size} game(s)`))},Zw=O=>{n.addGame(O),oe(!1),s("Game added successfully!")},Gh=(O,K)=>{n.updateGame(O,K),pe(!1),X(null),s("Game updated successfully!")},ej=()=>{Q&&(n.deleteGame(Q.id),fe(!1),X(null),s("Game deleted successfully!"))},tj=O=>{z(!1),s(`Successfully imported ${O.length} games from Steam!`)};return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(Ia,{size:"lg"})}):r.jsxs("div",{className:"container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Game Library"}),r.jsxs("p",{className:"text-gray-400",children:[e.length," ",e.length===1?"game":"games"," in your library"]}),((zh=l==null?void 0:l.traits)==null?void 0:zh.archetypeId)&&r.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-full",children:[r.jsxs("span",{className:"text-purple-300 text-sm font-medium",children:[" ",l.traits.archetypeId]}),r.jsxs("span",{className:"text-gray-400 text-xs",children:[Math.round((l.confidence||0)*100),"% match"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>z(!0),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),"Import Steam"]}),r.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),E?E.name:"Select Mood"]}),r.jsx("button",{onClick:()=>oe(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Add Game"}),r.jsxs("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),"I'm Not Sure What To Play"]}),e.length>=30&&r.jsxs("button",{onClick:()=>o(!a),className:`px-4 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,title:`Virtual scrolling ${a?"ON":"OFF"} - Better performance for large libraries`,children:[r.jsx("span",{children:a?"":""}),r.jsx("span",{className:"hidden sm:inline",children:a?"Virtual ON":"Virtual OFF"})]})]})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Games"}),r.jsx("input",{type:"text",value:R,onChange:O=>$(O.target.value),placeholder:"Search by title...",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods (Multi-Select)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map(O=>{const K=A.includes(O.id);return r.jsx("button",{onClick:()=>Qw(O.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${K?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:O.name},O.id)})}),A.length>0&&r.jsx("button",{onClick:()=>F([]),className:"mt-2 text-xs text-gray-400 hover:text-white transition-colors",children:"Clear all moods"}),r.jsxs("div",{className:"session-length-filter mt-4",children:[r.jsx("h4",{className:"block text-sm font-medium text-gray-300 mb-2",children:"How long do you have?"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[["short","medium","long"].map(O=>r.jsxs("button",{className:`px-3 py-1 rounded-lg text-sm transition-all ${L===O?"bg-blue-600 text-white border border-blue-500":"bg-gray-700 text-gray-300 border border-gray-600 hover:bg-gray-600"}`,onClick:()=>{G(O);try{Zc("session_length","changed",{selectedSessionLength:O})}catch{}},children:[O==="short"&&"1530 min",O==="medium"&&"12 hours",O==="long"&&"2+ hours"]},O)),L&&r.jsx("button",{onClick:()=>{G(null);try{Zc("session_length","cleared",{selectedSessionLength:void 0})}catch{}},className:"px-3 py-1 rounded-lg text-xs text-gray-400 hover:text-white transition-colors",children:"Clear"})]})]}),r.jsx("div",{className:"time-of-day-display mt-3",children:r.jsxs("span",{className:"text-xs text-gray-400",children:["Current time: ",r.jsx("span",{className:"text-white font-medium",children:I})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genre"}),r.jsxs("select",{value:q,onChange:O=>ee(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none","aria-label":"Filter by genre",title:"Filter by genre",children:[r.jsx("option",{value:"all",children:"All Genres"}),Kw.map(O=>r.jsx("option",{value:O,children:O},O))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),r.jsxs("select",{value:N,onChange:O=>Y(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none","aria-label":"Sort games",title:"Sort games",children:[r.jsx("option",{value:"title-asc",children:"Title (A-Z)"}),r.jsx("option",{value:"title-desc",children:"Title (Z-A)"}),r.jsx("option",{value:"recently-added",children:"Recently Added"}),r.jsx("option",{value:"playtime-desc",children:"Most Played"}),r.jsx("option",{value:"playtime-asc",children:"Least Played"}),r.jsx("option",{value:"last-played",children:"Last Played"}),r.jsx("option",{value:"release-date-desc",children:"Newest First"}),r.jsx("option",{value:"release-date-asc",children:"Oldest First"}),r.jsx("option",{value:"genre",children:"Genre (A-Z)"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{$(""),ee("all"),F([]),G(null),Y("title-asc")},className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Clear Filters"})})]})}),C&&E&&A.length===0&&q==="all"&&!U&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[r.jsx("span",{children:E.emoji}),E.name," Recommendations",P&&r.jsxs("span",{className:"text-purple-400",children:["+ ",P.emoji," ",P.name]}),l&&r.jsxs("span",{className:"text-xs bg-purple-600/50 px-2 py-1 rounded-full ml-2",children:[($h=l.traits)==null?void 0:$h.archetypeId," Match"]})]}),r.jsxs("p",{className:"text-gray-300 text-sm",children:[x.length," games matching your current mood",l&&`  Personalized for ${(Bh=l.traits)==null?void 0:Bh.archetypeId} playstyle`]})]}),r.jsx("button",{onClick:()=>S(),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Clear Mood"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.slice(0,8).map(O=>r.jsx(zu,{game:O,onSelect:()=>ec(O),onLaunch:()=>tc(O),onDelete:()=>nc(O),isSelectable:$n,isSelected:he.has(O.id)},O.id))})]}),l&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-bold text-lg",children:((Uh=l.traits)==null?void 0:Uh.archetypeId)||"Gaming Persona"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Your personalized gaming profile"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Confidence"}),r.jsxs("div",{className:"text-lg font-bold text-purple-400",children:[Math.round((l.confidence||0)*100),"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Archetype"}),r.jsx("div",{className:"text-white font-medium capitalize",children:((Vh=l.traits)==null?void 0:Vh.archetypeId)||"Balanced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Intensity"}),r.jsx("div",{className:"text-white font-medium",children:((Hh=l.traits)==null?void 0:Hh.intensity)||"Medium"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Pacing"}),r.jsx("div",{className:"text-white font-medium",children:((Wh=l.traits)==null?void 0:Wh.pacing)||"Flow"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Social Style"}),r.jsx("div",{className:"text-white font-medium",children:((Yh=l.traits)==null?void 0:Yh.socialStyle)||"Solo"})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Select Your Mood"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",title:"Close mood selector","aria-label":"Close mood selector",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(Ow,{onMoodChange:k})})]})}),$n&&r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-white",children:[he.size," game",he.size!==1?"s":""," selected"]}),r.jsx("button",{onClick:Xw,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:he.size===sr.length?"Deselect All":"Select All"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:Jw,disabled:he.size===0,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:opacity-50 text-white rounded-lg text-sm transition-colors",children:"Delete Selected"}),r.jsx("button",{onClick:()=>{Ra(!1),zn(new Set)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Cancel"})]})]})}),e.length===0?r.jsx(uA,{isSearchResult:!1,onImportSteam:()=>{}}):sr.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400 text-lg",children:"No games found matching your filters"})}):a?r.jsx(tA,{games:sr,onGameLaunch:tc,onGameEdit:(O,K)=>Gh(O,K),onGameDelete:nc,selectedGames:he,onGameSelectToggle:Fh,isBulkSelectMode:$n}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 p-6",children:sr.map(O=>r.jsx("div",{className:"group",children:r.jsx("div",{className:"transform transition-all duration-300 ease-out hover:scale-105 hover:-translate-y-2",children:r.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-2 border border-gray-700/50 shadow-lg group-hover:shadow-xl group-hover:border-gray-600/50 transition-all duration-300",children:r.jsx(zu,{game:O,onSelect:()=>ec(O),onLaunch:()=>tc(O),onEdit:()=>ec(O),onDelete:()=>nc(O),isSelectable:$n,isSelected:he.has(O.id)})})})},O.id))}),e.length>0&&r.jsx("div",{className:"fixed bottom-6 right-6",children:r.jsx("button",{onClick:()=>{$n?(Ra(!1),zn(new Set)):Ra(!0)},className:`px-4 py-3 rounded-lg font-medium transition-colors ${$n?"bg-gray-600 hover:bg-gray-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:$n?"Exit Selection":"Select Games"})}),r.jsx(rA,{isOpen:se,onClose:()=>oe(!1),onAddGame:Zw}),r.jsx(aA,{isOpen:me,onClose:()=>pe(!1),onUpdateGame:Gh,game:Q}),r.jsx(oA,{isOpen:de,onClose:()=>fe(!1),onDeleteGame:ej,game:Q}),r.jsx(lA,{isOpen:nt,onClose:()=>z(!1),onImportGames:tj}),h&&e&&e.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"w-full max-w-4xl",children:r.jsx(uw,{onClose:()=>f(!1)})})})]})},hA=b.lazy(()=>qx(()=>import("./GameDetailsLayout-e8098f3d.js"),["assets/GameDetailsLayout-e8098f3d.js","assets/emulatorLauncher-803a0f26.js","assets/GameDetailsLayout-69afa292.css"]).then(e=>({default:e.GameDetailsLayout}))),pA=()=>{const{gameId:e}=lS(),t=on(),{games:n}=be(),s=n.find(i=>i.id===e);return s?r.jsx(b.Suspense,{fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"Loading game details..."})}),children:r.jsx(hA,{game:s})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"The game you're looking for doesn't exist in your library."}),r.jsx("button",{onClick:()=>t("/library"),className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Back to Library"})]})})},w0=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),fA=()=>{const e=Gn();if(!e)return r.jsx(w0,{className:"p-6",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"Loading playstyle data..."})]})});const t=o=>{switch(o){case"Achiever":return"You thrive on completing challenges and earning rewards";case"Explorer":return"You love discovering new worlds and hidden secrets";case"Socializer":return"You enjoy playing with others and building communities";case"Competitor":return"You seek victory and excel in competitive gameplay";case"Strategist":return"You excel at planning and tactical decision-making";case"Creative":return"You enjoy building, creating, and expressing yourself";case"Casual":return"You prefer relaxed, stress-free gaming experiences";case"Specialist":return"You focus on mastering specific genres or games";default:return"Your unique gaming style"}},n=o=>{switch(o){case"Achiever":return"";case"Explorer":return"";case"Socializer":return"";case"Competitor":return"";case"Strategist":return"";case"Creative":return"";case"Casual":return"";case"Specialist":return"";default:return""}},s=o=>{switch(o){case"Low":return"Prefers short, casual gaming sessions";case"Medium":return"Enjoys balanced gaming sessions";case"High":return"Thrives in intense, extended gameplay";default:return"Moderate gaming approach"}},i=o=>{switch(o){case"Burst":return"Short, intense gaming sessions";case"Flow":return"Moderate, steady gaming sessions";case"Marathon":return"Long, extended gaming sessions";default:return"Balanced gaming pace"}},a=o=>{switch(o){case"Solo":return"Prefers single-player experiences";case"Coop":return"Enjoys cooperative multiplayer";case"Competitive":return"Thrives in competitive multiplayer";default:return"Flexible social preferences"}};return r.jsx(w0,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Playstyle Archetype"})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:n(e.traits.archetypeId)}),r.jsx("h4",{className:"text-xl font-bold text-white capitalize mb-2",children:e.traits.archetypeId}),r.jsx("p",{className:"text-sm text-gray-300",children:t(e.traits.archetypeId)})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Intensity"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.intensity})]}),r.jsx("p",{className:"text-xs text-gray-400",children:s(e.traits.intensity)})]}),r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Pacing"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.pacing})]}),r.jsx("p",{className:"text-xs text-gray-400",children:i(e.traits.pacing)})]}),r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Social Style"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.socialStyle})]}),r.jsx("p",{className:"text-xs text-gray-400",children:a(e.traits.socialStyle)})]})]})]})})},gA=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),yA=()=>{const e=Xl(),t=Gn(),{games:n}=be(),i=(()=>n.filter(c=>c.lastPlayed).sort((c,d)=>new Date(d.lastPlayed).getTime()-new Date(c.lastPlayed).getTime()).slice(0,7).map((c,d)=>{var y,x;let u="Neutral";const m=v=>typeof v=="string"?v.toLowerCase():v&&typeof v=="object"&&v.name?v.name.toLowerCase():"",h=v=>typeof v=="string"?v.toLowerCase():v&&typeof v=="object"&&v.name?v.name.toLowerCase():"",f=((y=c.genres)==null?void 0:y.map(m))||[],p=((x=c.tags)==null?void 0:x.map(h))||[];f.some(v=>v.includes("action"))||p.some(v=>v.includes("competitive"))?u="Competitive":f.some(v=>v.includes("puzzle"))||p.some(v=>v.includes("relaxing"))?u="Relaxed":f.some(v=>v.includes("sandbox"))||p.some(v=>v.includes("creative"))?u="Creative":f.some(v=>v.includes("rpg"))&&(u="Immersive");const g=c.hoursPlayed?Math.min(5,Math.max(1,Math.floor(c.hoursPlayed/10)+1)):3;return{id:`mood-${d}`,mood:u,intensity:g,timestamp:c.lastPlayed,gameTitle:c.title,confidence:(t==null?void 0:t.confidence)||.7}}))(),a=l=>{switch(l.toLowerCase()){case"competitive":return"";case"relaxed":return"";case"creative":return"";case"immersive":return"";case"neutral":return"";default:return""}},o=l=>{if(!l)return"Unknown time";try{const c=typeof l=="string"?new Date(l):l;return isNaN(c.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c)}catch(c){return console.warn("Date formatting error:",c,"Input:",l),"Invalid date"}};return r.jsx(gA,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Mood History"})]}),e&&r.jsxs("div",{className:"p-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-gray-300",children:"Current Mood"}),r.jsx("span",{className:"text-gaming-accent font-semibold capitalize",children:e.moodId})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:a(e.moodId)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Intensity"}),r.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((l,c)=>r.jsx("div",{className:`h-2 flex-1 rounded-full ${c<e.intensity?"bg-gaming-accent":"bg-gray-700"}`},c))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-gray-300 text-sm",children:"Recent Moods"}),i.length>0?i.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:a(l.mood)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white capitalize",children:l.mood}),r.jsx("div",{className:"text-xs text-gray-400",children:l.gameTitle})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-gray-400",children:o(l.timestamp)}),r.jsxs("div",{className:"text-xs text-gaming-accent",children:["Intensity ",l.intensity,"/5"]})]})]},l.id)):r.jsxs("div",{className:"text-center text-gray-400 py-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("p",{className:"text-sm mt-2",children:"No mood history available"})]})]})]})})},xA=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),vA=()=>{const{games:e}=be(),n=(()=>{const a={};let o=0;return e.forEach(c=>{var u;const d=c.hoursPlayed||0;o+=d,(u=c.genres)==null||u.forEach(m=>{const h=typeof m=="string"?m:m.name||m.description||"Unknown";a[h]=(a[h]||0)+d})}),Object.entries(a).map(([c,d])=>({name:c,hours:d,percentage:o>0?d/o*100:0,gameCount:e.filter(u=>{var m;return(m=u.genres)==null?void 0:m.some(h=>(typeof h=="string"?h:h.name||h.description||"")===c)}).length})).sort((c,d)=>d.hours-c.hours).slice(0,5)})(),s=a=>{const o=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500","from-red-500 to-pink-500"];return o[a%o.length]},i=a=>a<1?"< 1h":a<24?`${Math.floor(a)}h`:a<24*7?`${Math.floor(a/24)}d`:`${Math.floor(a/(24*7))}w`;return r.jsx(xA,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Genre Breakdown"})]}),n.length>0?r.jsx("div",{className:"space-y-3",children:n.map((a,o)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${s(o)}`}),r.jsx("span",{className:"text-white font-medium",children:a.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gaming-accent font-semibold",children:[a.percentage.toFixed(1),"%"]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[a.gameCount," games  ",i(a.hours)]})]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${s(o)} transition-all duration-1000 ease-out`,style:{width:`${a.percentage}%`},children:r.jsx("div",{className:"h-full bg-white/20"})})})]},a.name))}):r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx("span",{className:"text-4xl",children:""}),r.jsx("p",{className:"text-sm mt-2",children:"No genre data available"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add games to your library to see genre breakdown"})]}),n.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:n.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Genres"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:e.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Games"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:i(e.reduce((a,o)=>a+(o.hoursPlayed||0),0))}),r.jsx("div",{className:"text-xs text-gray-400",children:"Total Hours"})]})]})})]})})},bA=({children:e,className:t="",onClick:n})=>r.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-xl ${t}`,onClick:n,children:e}),wA=({insight:e,isExpanded:t,onToggle:n})=>{const s=l=>{switch(l){case"strength":return"border-green-500/30 bg-green-500/10";case"behaviour":return"border-blue-500/30 bg-blue-500/10";case"recommendation":return"border-purple-500/30 bg-purple-500/10";default:return"border-gray-500/30 bg-gray-500/10"}},i=l=>{switch(l){case"strength":return"text-green-400";case"behaviour":return"text-blue-400";case"recommendation":return"text-purple-400";default:return"text-gray-400"}},o=(()=>{switch(e.type){case"strength":return{details:"This strength reflects your natural gaming tendencies and core motivations. It influences how you approach challenges and what brings you the most satisfaction.",recommendations:"Lean into games that highlight this strength for maximum enjoyment and personal growth.",genres:e.title.includes("Discovery")?["Open World","Adventure","Exploration"]:e.title.includes("Goal")?["RPG","Action","Platformer"]:e.title.includes("Social")?["MMO","Co-op","Party Games"]:["Strategy","Puzzle","Simulation"]};case"behaviour":return{details:"This behavioral pattern shows how you typically engage with games over time. Understanding these patterns helps optimize your gaming experience.",recommendations:"Schedule gaming sessions when this behavior is most beneficial for your mood and energy levels.",triggers:e.title.includes("Evening")?"Lower stress, more focused mindset":e.title.includes("Weekend")?"More free time, relaxed pace":"Consistent routine and habits"};case"recommendation":return{details:"This recommendation is based on your persona analysis and gaming history. It's designed to enhance your gaming experience.",reasoning:"Your persona traits and mood patterns suggest this type of game would be particularly enjoyable for you.",expectedOutcome:"Increased satisfaction, better mood alignment, and more engaging gameplay sessions"};default:return{details:"This insight provides valuable information about your gaming preferences and patterns.",recommendations:"Use this information to make more informed decisions about your gaming choices.",benefits:"Better game selection, improved enjoyment, and more satisfying gaming experiences"}}})();return r.jsx(bA,{className:`${s(e.type)} border ${t?"ring-2 ring-white/20":""}`,onClick:n,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`text-2xl ${i(e.type)}`,children:e.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-white font-semibold mb-1",children:e.title}),r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:e.description}),t&&o&&r.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Details:"})," ",o.details]}),o.recommendations&&r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Recommendations:"})," ",o.recommendations]}),o.genres&&r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Suggested Genres:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.genres.map((l,c)=>r.jsx("span",{className:"px-2 py-1 bg-white/10 rounded text-xs",children:l},c))})]})]}),r.jsx("button",{className:"text-xs text-gray-400 hover:text-white transition-colors mt-2",onClick:l=>{l.stopPropagation(),n()},children:t?"Show less":"Show more"})]})]})})},jA=()=>{const e=Gn();if(!e)return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"Loading insights..."})]});const n=(()=>{const a=[],o={Achiever:{title:"Goal-Oriented Excellence",description:"Your drive for achievement pushes you to complete challenges and master new skills.",icon:""},Explorer:{title:"Natural Curiosity",description:"Your love for discovery leads you to explore new worlds and uncover hidden secrets.",icon:""},Socializer:{title:"Community Builder",description:"Your social nature helps you build connections and create lasting friendships.",icon:""},Competitor:{title:"Victory Drive",description:"Your competitive spirit drives you to excel and overcome challenges.",icon:""},Strategist:{title:"Tactical Mind",description:"Your strategic thinking helps you plan ahead and make optimal decisions.",icon:""},Creative:{title:"Artistic Expression",description:"Your creativity allows you to express yourself through unique gameplay experiences.",icon:""},Casual:{title:"Balanced Approach",description:"Your relaxed attitude helps you enjoy gaming without stress or pressure.",icon:""},Specialist:{title:"Deep Expertise",description:"Your dedication to mastery makes you an expert in your chosen domains.",icon:""}},l=o[e.traits.archetypeId]||o.Explorer;a.push({...l,type:"strength"});const c={Burst:{title:"High-Energy Sessions",description:"You prefer short, intense gaming sessions that maximize engagement.",icon:""},Flow:{title:"Steady Engagement",description:"You maintain consistent focus and enjoy extended gaming sessions.",icon:""},Marathon:{title:"Endurance Gaming",description:"You excel at long gaming sessions and can maintain focus for hours.",icon:""}},d=c[e.traits.pacing]||c.Flow;a.push({...d,type:"behaviour"});const u={title:"Optimal Gaming Time",description:`Your ${e.traits.archetypeId.toLowerCase()} nature suggests gaming during ${e.traits.intensity==="High"?"peak energy hours":"relaxed evening times"} for best results.`,icon:"",type:"recommendation"};return a.push(u),a})(),[s,i]=b.useState(null);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Personal Insights"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((a,o)=>r.jsx(wA,{insight:a,isExpanded:s===`${o}`,onToggle:()=>i(s===`${o}`?null:`${o}`)},o))})]})},NA=({isOpen:e,onClose:t,trait:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20",onClick:s=>s.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-4xl",children:n.icon}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:n.label}),r.jsx("p",{className:"text-gaming-accent font-medium",children:n.value})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About This Trait"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.fullDescription})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How We Discovered This"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.inference})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Impact on Your Archetype"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.archetypeEffect})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Perfect Game Types for You"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.suggestedGames.map((s,i)=>r.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer",children:r.jsx("div",{className:"text-gaming-accent font-medium",children:s})},i))})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:r.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Got it!"})})]})}):null,xi=({icon:e,label:t,value:n,description:s,theme:i})=>{const[a,o]=b.useState(!1),[l,c]=b.useState(!1),u=((m,h)=>{const f={Intensity:{fullDescription:"Intensity represents your energy level and engagement during gaming sessions. It reflects how deeply you immerse yourself in gameplay and how much mental and emotional energy you invest.",inference:"We analyze this from your average session length, game completion patterns, and the types of games that keep you engaged for extended periods.",archetypeEffect:"High intensity players often excel in competitive and challenging games, while lower intensity players prefer more relaxed experiences.",suggestedGames:h==="High"?["Souls-like","Competitive FPS","Strategy Games"]:["Casual Puzzle","Simulation","Story Games"]},Pacing:{fullDescription:"Pacing describes your preferred session duration and how you structure your gaming time. It reveals whether you prefer short bursts or extended gaming marathons.",inference:"This is determined by your typical play session lengths, frequency of gaming, and how you break up your gaming time.",archetypeEffect:"Your pacing affects which game types feel most natural and enjoyable, matching your lifestyle and gaming habits.",suggestedGames:h==="Burst"?["Mobile Games","Quick Match","Arcade"]:h==="Flow"?["RPG","Adventure","Open World"]:["MMO","Strategy","Sandbox"]},"Social Style":{fullDescription:"Social Style indicates your preference for multiplayer versus single-player experiences and how you interact with others in gaming environments.",inference:"We assess this from your multiplayer game preferences, community engagement, and social gaming patterns.",archetypeEffect:"This trait strongly influences which games will provide the most fulfilling experience based on your social needs.",suggestedGames:h==="Solo"?["Single-Player RPG","Story Games","Puzzle"]:h==="Coop"?["Co-op Campaigns","Team Games","MMO"]:["Competitive","FPS","Sports"]},Challenge:{fullDescription:"Challenge Tolerance reflects your comfort level with difficult gameplay mechanics and complex systems. It shows how much you enjoy being pushed to your limits.",inference:"This is measured by the difficulty levels you choose, your persistence with challenging games, and your preference for complex mechanics.",archetypeEffect:"Understanding your challenge tolerance helps recommend games that provide the right balance of difficulty and enjoyment.",suggestedGames:h==="Experimental"?["Roguelikes","Strategy","Puzzle"]:h==="Comfort"?["Casual","Simulation","Story"]:["Action-Adventure","RPG","Strategy"]},Narrative:{fullDescription:"Narrative Preference indicates how important story and character development are to your gaming experience. It reveals whether you prioritize plot or gameplay mechanics.",inference:"We analyze this from your game library composition, completion rates of story-driven games, and engagement with narrative elements.",archetypeEffect:"This trait helps determine whether story-rich games or gameplay-focused experiences will be more satisfying.",suggestedGames:["RPG","Visual Novel","Adventure","Action-Adventure"]}};return f[m]||f.Intensity})(t,n);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl ${a?i.bg:""} border border-white/10`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>c(!0),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-2xl mb-2 ${a?i.accent:"text-gray-400"} transition-colors`,children:e}),r.jsx("div",{className:"text-xs text-gray-400 mb-1 uppercase tracking-wider",children:t}),r.jsx("div",{className:`text-sm font-semibold ${a?"text-white":"text-gray-200"} mb-1 transition-colors`,children:n}),r.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:s})]})}),r.jsx(NA,{isOpen:l,onClose:()=>c(!1),trait:{label:t,value:n,description:s,icon:e,...u}})]})},SA=({isOpen:e,onClose:t,archetype:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs("div",{className:"glass-morphism rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/20",onClick:s=>s.stopPropagation(),children:[r.jsxs("div",{className:`bg-gradient-to-r ${n.theme.primary} rounded-2xl p-8 mb-8 text-center`,children:[r.jsx("div",{className:"text-6xl mb-4",children:n.symbol}),r.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:n.name.toUpperCase()}),r.jsx("p",{className:"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto",children:n.fullDescription})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Strengths"]}),r.jsx("ul",{className:"space-y-2",children:n.strengths.map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsx("span",{className:"text-gray-300 text-sm",children:s})]},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Challenges"]}),r.jsx("ul",{className:"space-y-2",children:n.weaknesses.map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsx("span",{className:"text-gray-300 text-sm",children:s})]},i))})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Mood Tendencies"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:n.moodTendencies.map((s,i)=>r.jsx("span",{className:`px-4 py-2 rounded-full ${n.theme.bg} ${n.theme.accent} border border-white/20`,children:s},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Perfect Game Genres"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:n.recommendedGenres.map((s,i)=>r.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer border border-white/10",children:r.jsx("div",{className:"text-gaming-accent font-medium",children:s})},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Signature Traits"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.signatureTraits.map((s,i)=>r.jsx("div",{className:`glass-morphism rounded-lg p-4 ${n.theme.bg} border border-white/10`,children:r.jsx("div",{className:"text-gaming-accent font-medium mb-2",children:s})},i))})]}),r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Close"})})]})}):null,kA=({primaryArchetype:e,currentMood:t})=>{const[n,s]=b.useState(0);b.useEffect(()=>{const d=setInterval(()=>{s(u=>(u+1)%4)},3e3);return()=>clearInterval(d)},[]);const i=d=>{const u={Achiever:{gradient:"from-yellow-600/20 via-amber-500/15 to-orange-500/10",pulseColor:"rgba(251, 191, 36, 0.3)",effect:"pulse",animation:""},Explorer:{gradient:"from-teal-600/20 via-cyan-500/15 to-blue-500/10",pulseColor:"rgba(20, 184, 166, 0.3)",effect:"fog",animation:""},Strategist:{gradient:"from-blue-800/20 via-indigo-600/15 to-purple-500/10",pulseColor:"rgba(59, 130, 246, 0.3)",effect:"geometric",animation:""},Socializer:{gradient:"from-pink-500/20 via-rose-400/15 to-red-400/10",pulseColor:"rgba(236, 72, 153, 0.3)",effect:"ripple",animation:""},Immersive:{gradient:"from-purple-700/20 via-violet-600/15 to-indigo-500/10",pulseColor:"rgba(147, 51, 234, 0.3)",effect:"vignette",animation:""}};return u[d]||u.Explorer},a=d=>d?{Chill:{opacity:.6,blur:"blur-xl"},Focused:{opacity:.8,blur:"blur-md"},Energetic:{opacity:1,blur:"blur-sm"},Creative:{opacity:.9,blur:"blur-md"},Competitive:{opacity:.95,blur:"blur-sm"}}[d]||{}:{},o=i(e),l=a(t),c=()=>{switch(o.effect){case"pulse":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 70%)`,transform:`scale(${1+n*.1})`,transition:"transform 3s ease-in-out"}})});case"fog":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`linear-gradient(${45+n*45}deg, ${o.pulseColor} 0%, transparent 50%, ${o.pulseColor} 100%)`,opacity:.6,filter:"blur(40px)"}})});case"geometric":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`
                  conic-gradient(from ${n*90}deg at 50% 50%, 
                    ${o.pulseColor} 0deg, 
                    transparent 60deg, 
                    ${o.pulseColor} 120deg, 
                    transparent 180deg, 
                    ${o.pulseColor} 240deg, 
                    transparent 300deg, 
                    ${o.pulseColor} 360deg)
                `,opacity:.4,filter:"blur(30px)"}})});case"ripple":return r.jsx("div",{className:"absolute inset-0",children:[0,1,2].map(d=>r.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 60%)`,transform:`scale(${1+(n+d)*.3})`,opacity:.3-d*.1,transition:"transform 3s ease-in-out, opacity 3s ease-in-out"}},d))});case"vignette":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`radial-gradient(ellipse at center, transparent 30%, ${o.pulseColor} 100%)`,opacity:.7}})});default:return null}};return r.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 overflow-hidden",style:l,children:[r.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${o.gradient})`}}),c(),r.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((d,u)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full",style:{left:`${20+u*15}%`,top:`${30+u%2*40}%`,animationDelay:`${u*.5}s`,animationDuration:"3s"}},u))})]})},CA=({theme:e})=>{const t=Gn(),n=l=>{const{intensity:c,pacing:d,socialStyle:u,riskProfile:m}=l;return u==="Coop"&&c==="High"?"Socializer":m==="Experimental"&&d==="Flow"?"Explorer":c==="High"&&d==="Burst"?"Competitor":d==="Marathon"&&u==="Solo"?"Immersive":m==="Balanced"&&c==="Medium"?"Strategist":u==="Solo"&&c==="Low"?"Casual":c==="High"?"Achiever":u!=="Solo"?"Socializer":m==="Experimental"?"Explorer":"Strategist"},s=(l,c)=>{const d={"Achiever-Socializer":{name:"The Leader",symbol:"",description:"You drive others toward success while achieving your own goals. Your competitive spirit inspires teams to victory."},"Achiever-Strategist":{name:"The Tactician",symbol:"",description:"You combine goal-driven ambition with brilliant planning. Every achievement is a calculated step toward mastery."},"Achiever-Explorer":{name:"The Pioneer",symbol:"",description:"You conquer new territories while collecting achievements. Your drive pushes boundaries and discovers new paths."},"Explorer-Immersive":{name:"The Wanderer",symbol:"",description:"You lose yourself in vast worlds, discovering every secret while becoming one with the adventure."},"Explorer-Socializer":{name:"The Guide",symbol:"",description:"You lead others through new experiences, sharing discoveries and building communities around exploration."},"Socializer-Achiever":{name:"The Champion",symbol:"",description:"You rally teams to victory while celebrating every win. Your success is measured by the group's achievements."},"Strategist-Immersive":{name:"The Architect",symbol:"",description:"You design complex worlds and master their systems. Every detail is part of your grand vision."},"Immersive-Explorer":{name:"The Seeker",symbol:"",description:"You dive deep into worlds, uncovering their deepest secrets and becoming part of their stories."},"Competitor-Strategist":{name:"The Commander",symbol:"",description:"You outthink opponents while dominating the battlefield. Strategy and skill make you unstoppable."},"Casual-Explorer":{name:"The Wanderer",symbol:"",description:"You explore at your own pace, enjoying the journey without pressure. Every discovery is a pleasant surprise."}},u=`${l}-${c}`,m=`${c}-${l}`;return d[u]||d[m]||d["Achiever-Strategist"]};if(!t)return r.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{className:"text-sm",children:"Loading hybrid identity..."})]})});const i=t.traits.archetypeId,a=n(t.traits),o=s(i,a);return r.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300 cursor-pointer",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"text-5xl mb-2",children:o.symbol})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:o.name}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:i}),r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:a})]}),r.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:o.description}),r.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:r.jsxs("div",{className:"text-xs text-gray-400",children:[r.jsxs("span",{className:"block mb-1",children:["Primary: ",i]}),r.jsxs("span",{className:"block",children:["Secondary: ",a]})]})})]})})},EA=({theme:e})=>{const[t,n]=b.useState(!1),s=Gn(),{games:i}=be(),a=()=>{const m=i.filter(p=>p.lastPlayed).sort((p,g)=>new Date(p.lastPlayed).getTime()-new Date(g.lastPlayed).getTime()).slice(-7),h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f=new Date().getDay();return h.map((p,g)=>{const y=m.filter(k=>new Date(k.lastPlayed).getDay()===(f-g+7)%7),x=y.reduce((k,E)=>k+(E.hoursPlayed||0),0)/Math.max(1,y.length),v=Math.min(100,Math.max(20,x*10+y.length*15));let w="Focused";const j=k=>typeof k=="string"?k.toLowerCase():k&&typeof k=="object"&&k.name?k.name.toLowerCase():"",S=k=>typeof k=="string"?k.toLowerCase():k&&typeof k=="object"&&k.name?k.name.toLowerCase():"",T=y.flatMap(k=>{var E;return((E=k.tags)==null?void 0:E.map(j))||[]}),C=y.flatMap(k=>{var E;return((E=k.genres)==null?void 0:E.map(S))||[]});return T.some(k=>k.includes("competitive"))?w="Energetic":C.some(k=>k.includes("creative"))?w="Creative":C.some(k=>k.includes("puzzle"))&&(w="Chill"),{day:p,mood:w,value:Math.round(v)}})},o=()=>{const m=i.filter(j=>j.lastPlayed).slice(-20),h=i.filter(j=>j.lastPlayed).slice(0,-20),f=j=>{const S={};return j.forEach(T=>{var C;(C=T.genres)==null||C.forEach(k=>{const E=typeof k=="string"?k:k.name;S[E]=(S[E]||0)+1})}),S},p=f(m),g=f(h),y=Object.values(p).reduce((j,S)=>j+S,0)||1,x=Object.values(g).reduce((j,S)=>j+S,0)||1,v=new Set([...Object.keys(p),...Object.keys(g)]);return Array.from(v).slice(0,5).map(j=>({genre:j,current:Math.round((p[j]||0)/y*100),previous:Math.round((g[j]||0)/x*100)}))},l=Math.round(((s==null?void 0:s.confidence)||.7)*100),c=a(),d=o(),u=m=>({Focused:"bg-blue-500",Energetic:"bg-orange-500",Creative:"bg-purple-500",Chill:"bg-green-500"})[m]||"bg-gray-500";return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Identity Evolution"})]}),r.jsx("button",{onClick:()=>n(!t),className:"text-gaming-accent hover:text-white transition-colors text-sm",children:t?"Collapse":"Expand"})]}),!t&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Mood Trend (7 days)"}),r.jsx("span",{className:"text-sm text-gaming-accent",children:" 12%"})]}),r.jsx("div",{className:"flex gap-1",children:c.slice(-5).map((m,h)=>r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("div",{className:"text-xs text-gray-400",children:m.day}),r.jsx("div",{className:`h-2 rounded-full ${u(m.mood)} mt-1`,style:{width:`${m.value}%`}})]},h))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Genre Preferences"}),r.jsx("span",{className:"text-sm text-gaming-accent",children:"Stable"})]}),r.jsx("div",{className:"space-y-1",children:d.slice(0,3).map((m,h)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-400",children:m.genre}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-gray-500",children:[m.previous,"%"]}),r.jsx("span",{className:"text-gaming-accent",children:""}),r.jsxs("span",{className:"text-white",children:[m.current,"%"]})]})]},h))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Playstyle Stability"}),r.jsxs("span",{className:"text-sm text-gaming-accent",children:[l,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${l}%`}})})]})]}),t&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Mood Evolution (Last 7 Days)"}),r.jsx("div",{className:"space-y-2",children:c.map((m,h)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-300 w-8",children:m.day}),r.jsx("span",{className:"text-sm text-white",children:m.mood})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${u(m.mood)} transition-all duration-300`,style:{width:`${m.value}%`}})}),r.jsxs("span",{className:"text-sm text-gaming-accent w-10 text-right",children:[m.value,"%"]})]})]},h))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Genre Preference Drift"}),r.jsx("div",{className:"space-y-3",children:d.map((m,h)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:m.genre}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Previous: ",m.previous,"%"]}),r.jsxs("span",{className:"text-xs text-gaming-accent",children:["Current: ",m.current,"%"]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:"h-1 rounded-full bg-gray-500",style:{width:`${m.previous}%`}})}),r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${e.primary}`,style:{width:`${m.current}%`}})})]})]},h))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Playstyle Consistency"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Stability Score"}),r.jsxs("span",{className:"text-lg font-bold text-gaming-accent",children:[l,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${l}%`}})}),r.jsx("p",{className:"text-xs text-gray-400",children:l>=80?"Very consistent playstyle patterns":l>=60?"Moderately consistent with some variation":"Highly variable playstyle preferences"})]})]}),r.jsx("div",{className:"pt-4 border-t border-white/10",children:r.jsx("button",{className:`w-full bg-gradient-to-r ${e.primary} text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity`,onClick:()=>console.log("View full evolution timeline"),children:"View Full Evolution Timeline"})})]})]})},Uw=({onClick:e,isActive:t=!1})=>r.jsx("button",{onClick:e,className:`
        w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200
        ${t?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/50":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white"}
      `,title:"Customise this page","aria-label":"Customise this page",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),PA=e=>{const{personaContext:t,analyticsInsights:n}=e;if(!t&&!n)return"Your gaming identity is waiting to be discovered. Start playing games to unlock your personalized gaming story.";const s=[],i=TA(t,n);i&&s.push(i);const a=MA(t,n);a&&s.push(a);const o=AA(t,n);o&&s.push(o);const l=_A(t);l&&s.push(l);const c=IA(t);c&&s.push(c);const d=RA(t);return d&&s.push(d),LA(s)},TA=(e,t)=>{const n=(e==null?void 0:e.preferredTimesOfDay)||[],s=(t==null?void 0:t.timeOfDayUsage)||{};let i="",a="";switch(n.length>0?i=n[0]:Object.keys(s).length>0&&(i=Object.entries(s).reduce((l,c)=>c[1]>l[1]?c:l)[0]),i){case"late-night":a="You're a night owl who finds your gaming groove when the world sleeps";break;case"evening":a="Evening sessions are your sweet spot, perfect for unwinding after a long day";break;case"afternoon":a="Afternoons are when you shine, tackling gaming challenges with fresh energy";break;case"morning":a="You're an early bird who starts the day with gaming adventures";break;default:return null}return e!=null&&e.lateNightRatio&&e.lateNightRatio>.5&&(a+=", often diving deep into immersive worlds when others are winding down"),a},MA=(e,t)=>{const n=e==null?void 0:e.preferredSessionLength;t!=null&&t.sessionLengthUsage;const s=(e==null?void 0:e.averageSessionLengthMinutes)||0;let i="";switch(n){case"short":i="You prefer quick gaming sessions that pack maximum fun into minimal time";break;case"medium":i="Medium-length sessions are your sweet spot, perfect for immersive adventures without burning out";break;case"long":i="You're a marathon gamer who loves diving deep into extensive gaming sessions";break;default:if(s>0)s<30?i="Your gaming sessions tend to be quick bursts of entertainment":s<90?i="You balance your gaming time with thoughtful, moderate-length sessions":i="You're someone who really sinks into your gaming experiences";else return null}return i},AA=(e,t)=>{const n=(e==null?void 0:e.dominantMoods)||[],s=(t==null?void 0:t.moodUsage)||{};let i=[];if(n.length>0?i=n.slice(0,3):Object.keys(s).length>0&&(i=Object.entries(s).sort(([,l],[,c])=>c-l).slice(0,3).map(([l])=>l)),i.length===0)return null;const a={chill:"seeking relaxation and stress-free entertainment",creative:"expressing yourself through imaginative gameplay",competitive:"thriving on challenges and strategic thinking",focused:"diving deep into concentrated gaming experiences",intense:"craving high-energy, adrenaline-pumping action",cozy:"finding comfort in warm, welcoming gaming worlds",exploration:"discovering new worlds and hidden secrets",puzzle:"exercising your mind with clever challenges",social:"connecting with others through shared gaming experiences",immersive:"losing yourself in rich, detailed narratives"},o=i.map(l=>a[l.toLowerCase()]).filter(Boolean);return o.length===0?`You're drawn to ${i.join(", ")} experiences that shape your unique gaming personality`:`You're naturally ${o.join(", and ")}`},_A=e=>{const t=(e==null?void 0:e.recentPlayPatterns)||[];if(t.length===0)return null;const n={completionist:"a completionist who loves seeing games through to the end",explorer:"an explorer who always seeks out new paths and hidden content",strategist:"a strategist who plans every move carefully",social:"a social gamer who enjoys connecting with others",casual:"a casual player who values fun and relaxation",competitive:"a competitive spirit who always aims for victory",collector:"a collector who loves gathering achievements and rare items",speedrunner:"a speedrunner who challenges themselves to beat records"},s=t.slice(0,2).map(i=>n[i.toLowerCase()]).filter(Boolean);return s.length===0?`Your play style shows ${t.join(" and ")} tendencies`:`You're ${s.join(" and ")}`},IA=(e,t)=>{const n=(e==null?void 0:e.completionRate)||0;return n>.7?"You have a remarkable ability to see games through to completion, showing dedication and perseverance":n>.4?"You balance exploration with completion, enjoying both the journey and the destination":n>0?"You're more of an explorer who loves discovering new experiences rather than finishing every game":null},RA=e=>{const t=(e==null?void 0:e.multiplayerRatio)||0;return t>.6?"Gaming is a social experience for you, thriving on multiplayer connections and shared adventures":t>.3?"You enjoy both solo adventures and social gaming, finding balance in different play styles":t>0?"You prefer solitary gaming experiences, finding peace and focus in single-player worlds":null},LA=e=>{if(e.length===0)return"Your gaming identity is uniquely yours, shaped by your choices and experiences.";if(e.length===1)return e[0]+".";let t=e[0];for(let n=1;n<e.length;n++)n===e.length-1?t+=`, and ${e[n].toLowerCase()}`:t+=`, ${e[n].toLowerCase()}`;return t+"."},OA={chill:"",creative:"",competitive:"",focused:"",intense:"",cozy:"",exploration:"",puzzle:"",social:"",immersive:"",relaxed:"",energetic:"",strategic:"",adventurous:"",mysterious:"",playful:""},DA={short:"",medium:"",long:""},FA={morning:"",afternoon:"",evening:"","late-night":""},GA={completionist:"",explorer:"",strategist:"",social:"",casual:"",competitive:"",collector:"",speedrunner:""},zA=({personaContext:e,identityNarrative:t,identityDefiningGames:n,className:s=""})=>{var m,h,f;const i=b.useRef(null),a=((m=e==null?void 0:e.dominantMoods)==null?void 0:m.slice(0,4))||[],o=(e==null?void 0:e.preferredSessionLength)||"medium",l=((h=e==null?void 0:e.preferredTimesOfDay)==null?void 0:h.slice(0,2))||[],c=((f=e==null?void 0:e.recentPlayPatterns)==null?void 0:f.slice(0,3))||[],d=(n==null?void 0:n.slice(0,4))||[],u=t?t.split(".").filter(Boolean).slice(0,2).join(". ")+".":"Your unique gaming identity awaits discovery.";return r.jsxs("div",{ref:i,className:`identity-share-card ${s}`,style:{width:"400px",height:"600px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",padding:"32px",color:"white",fontFamily:"system-ui, -apple-system, sans-serif",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},children:[r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.1) 0%, transparent 50%)",pointerEvents:"none"}}),r.jsxs("div",{style:{position:"relative",textAlign:"center",marginBottom:"24px"},children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"My Gaming Identity"}),r.jsx("div",{style:{fontSize:"14px",opacity:.9,marginTop:"8px"},children:"Generated with GamePilot"})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Gaming Moods"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.map(p=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",backdropFilter:"blur(10px)"},children:[r.jsx("span",{children:OA[p.toLowerCase()]||""}),r.jsx("span",{children:p})]},p))})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Gaming Preferences"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:DA[o]||""}),r.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Session Length"}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:o})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:l.map(p=>FA[p.toLowerCase()]||"").join(" ")}),r.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Peak Times"}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:l.join(", ")})]})]})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Play Style"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:c.map(p=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"8px 12px",borderRadius:"12px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",backdropFilter:"blur(10px)"},children:[r.jsx("span",{children:GA[p.toLowerCase()]||""}),r.jsx("span",{children:p})]},p))})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"My Gaming Story"}),r.jsxs("p",{style:{fontSize:"14px",lineHeight:"1.5",opacity:.9,fontStyle:"italic",background:"rgba(255,255,255,0.1)",padding:"12px",borderRadius:"12px",backdropFilter:"blur(10px)"},children:['"',u,'"']})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Games That Define Me"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:d.map((p,g)=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"8px 12px",borderRadius:"8px",fontSize:"13px",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(10px)"},children:[r.jsxs("span",{children:[g+1,". ",p.game.title]}),r.jsx("span",{style:{fontSize:"11px",opacity:.8,background:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"4px"},children:p.score.toFixed(1)})]},p.game.id))})]}),r.jsxs("div",{style:{position:"absolute",bottom:"16px",right:"16px",fontSize:"10px",opacity:.7,textAlign:"right"},children:[r.jsxs("div",{children:["Generated on ",new Date().toLocaleDateString()]}),r.jsx("div",{children:"gamepilot.app"})]})]})},$A=async e=>{const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("Could not get 2D context from canvas");window.getComputedStyle(e);const s=e.getBoundingClientRect(),i=2;t.width=s.width*i,t.height=s.height*i,n.scale(i,i);const a=document.createElement("div");a.style.position="absolute",a.style.left="-9999px",a.style.width=`${s.width}px`,a.style.height=`${s.height}px`,a.style.overflow="hidden";const o=e.cloneNode(!0);o.style.width=`${s.width}px`,o.style.height=`${s.height}px`,o.style.transform="scale(1)",o.style.transformOrigin="top left",a.appendChild(o),document.body.appendChild(a);try{await BA(o),await UA(n,o,s.width,s.height)}finally{document.body.removeChild(a)}return new Promise((l,c)=>{t.toBlob(d=>{d?l(d):c(new Error("Failed to create blob from canvas"))},"image/png",.9)})},BA=e=>{const t=e.querySelectorAll("img"),n=Array.from(t).map(s=>s.complete?Promise.resolve():new Promise((i,a)=>{s.onload=()=>i(),s.onerror=()=>i(),setTimeout(a,5e3)}));return Promise.all(n).then(()=>{})},UA=async(e,t,n,s)=>{const i=window.getComputedStyle(t),a=i.background||i.backgroundColor;if(a)e.fillStyle=a,e.fillRect(0,0,n,s);else{const c=e.createLinearGradient(0,0,n,s);c.addColorStop(0,"#667eea"),c.addColorStop(1,"#764ba2"),e.fillStyle=c,e.fillRect(0,0,n,s)}const o=t.querySelectorAll("h1, h2, h3, p, div, span");let l=20;Array.from(o).forEach(c=>{var y;const d=(y=c.textContent)==null?void 0:y.trim();if(!d)return;const u=window.getComputedStyle(c),m=parseFloat(u.fontSize)||16,h=u.fontWeight||"normal",f=u.color||"#ffffff",p=u.textAlign||"left";e.font=`${h} ${m}px system-ui, -apple-system, sans-serif`,e.fillStyle=f,e.textAlign=p;const g=p==="center"?n/2:20;e.fillText(d,g,l),l+=m+10}),e.fillStyle="rgba(255,255,255,0.7)",e.font="10px system-ui, -apple-system, sans-serif",e.textAlign="right",e.fillText("Generated with GamePilot",n-16,s-16),e.fillText("gamepilot.app",n-16,s-4)},VA=(e,t)=>{const n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},HA=async e=>{try{await navigator.clipboard.write([new ClipboardItem({"image/png":e})])}catch(t){throw console.warn("Failed to copy to clipboard:",t),new Error("Clipboard API not available or failed")}},WA=({isOpen:e,onClose:t,personaContext:n,identityNarrative:s,identityDefiningGames:i})=>{const a=b.useRef(null),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,m]=b.useState(null),h=async()=>{if(a.current){l(!0),m(null);try{const y=await $A(a.current),x=URL.createObjectURL(y);d(x)}catch(y){console.error("Failed to generate card:",y),m("Failed to generate card. Please try again.")}finally{l(!1)}}},f=()=>{c&&fetch(c).then(y=>y.blob()).then(y=>{const x=`gaming-identity-${new Date().toISOString().split("T")[0]}.png`;VA(y,x)}).catch(y=>{console.error("Failed to download:",y),m("Failed to download image.")})},p=async()=>{if(c)try{const y=await fetch(c).then(v=>v.blob());await HA(y);const x=document.getElementById("copy-to-clipboard-btn");if(x){const v=x.textContent;x.textContent=" Copied!",x.classList.add("bg-green-600"),setTimeout(()=>{x.textContent=v,x.classList.remove("bg-green-600")},2e3)}}catch(y){console.error("Failed to copy to clipboard:",y),m("Failed to copy to clipboard. Your browser may not support this feature.")}},g=()=>{d(null),m(null),setTimeout(h,100)};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Your Gaming Identity Card"}),r.jsx("p",{className:"text-gray-400",children:"Share your unique gaming personality with the world"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:c?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:c,alt:"Generated Identity Card",className:"rounded-lg shadow-2xl max-w-full",style:{maxHeight:"500px"}})}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs("button",{onClick:f,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l4 4m-4-4h4m4 0v4"})}),"Download"]}),r.jsxs("button",{id:"copy-to-clipboard-btn",onClick:p,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Image"]}),r.jsxs("button",{onClick:g,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Regenerate"]})]}),r.jsx("div",{className:"text-center text-gray-400 text-sm",children:r.jsx("p",{children:"Share your gaming identity on social media, with friends, or save it as a keepsake!"})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{ref:a,className:"transform scale-75 origin-top",style:{transform:"scale(0.75)",transformOrigin:"top center"},children:r.jsx(zA,{personaContext:n,identityNarrative:s,identityDefiningGames:i})})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:h,disabled:o,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:o?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8C0 5.79 5.79 0 12 0s12 5.79 12 12v4a8 8 0 01-8 8z"})]}),"Generating Card..."]}):"Generate Identity Card"})}),u&&r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-red-400 text-sm bg-red-900/20 px-4 py-2 rounded-lg",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293-1.293a1 1 0 00-1.414 1.414L7.172 11.414l1.293 1.293a1 1 0 001.414 0l4-4a1 1 0 000-1.414l-2.293-2.293z",clipRule:"evenodd"})}),u]})})]})})]})}):null},YA=({snapshots:e,onRegenerateCard:t,onDelete:n})=>{const[s,i]=b.useState(new Set),a=c=>{const d=new Set(s);d.has(c)?d.delete(c):d.add(c),i(d)},o=c=>new Date(c).toLocaleDateString(),l=c=>new Date(c).toLocaleTimeString();return!e||e.length===0?r.jsxs("div",{className:"identity-history-empty",children:[r.jsx("div",{className:"empty-state-icon",children:""}),r.jsx("h3",{children:"No Identity History Yet"}),r.jsx("p",{children:"Your gaming identity will evolve as you play. Start tracking your gaming sessions to see your identity timeline here."})]}):r.jsxs("div",{className:"identity-timeline",children:[r.jsxs("div",{className:"timeline-header",children:[r.jsx("h2",{children:"Your Identity Timeline"}),r.jsxs("div",{className:"timeline-stats",children:[r.jsxs("div",{className:"timeline-stat",children:[r.jsx("div",{className:"timeline-stat-number",children:e.length}),r.jsx("div",{className:"timeline-stat-label",children:"Snapshots"})]}),e.length>1&&r.jsxs("div",{className:"timeline-stat",children:[r.jsx("div",{className:"timeline-stat-number",children:e.length>1?Math.round(e[0].timestamp?(new Date().getTime()-new Date(e[0].timestamp).getTime())/(1e3*60*60*24):0):0}),r.jsx("div",{className:"timeline-stat-label",children:"Days Ago"})]})]})]}),r.jsx("div",{className:"timeline",children:e.map((c,d)=>r.jsxs("div",{className:"timeline-item",children:[r.jsx("div",{className:"timeline-dot",children:r.jsx("div",{className:"timeline-dot-inner"})}),r.jsxs("div",{className:"timeline-content",children:[r.jsxs("div",{className:"timeline-header",children:[r.jsxs("div",{className:"timeline-date",children:[r.jsx("div",{className:"timeline-date-text",children:o(c.timestamp)}),r.jsx("div",{className:"timeline-time-text",children:l(c.timestamp)})]}),r.jsxs("div",{className:"timeline-actions",children:[r.jsx("button",{onClick:()=>a(c.id),className:"timeline-toggle-btn",children:s.has(c.id)?"Collapse":"Expand"}),r.jsx("button",{onClick:()=>t(c),className:"timeline-regenerate-btn",children:"Regenerate Card"}),r.jsx("button",{onClick:()=>n(c.id),className:"timeline-delete-btn",children:"Delete"})]})]}),r.jsxs("div",{className:"timeline-summary",children:[r.jsx("h3",{children:c.shortNarrative}),r.jsx("div",{className:"timeline-moods",children:c.dominantMoods.slice(0,3).map(u=>r.jsx("span",{className:"timeline-mood-tag",children:u},u))})]}),s.has(c.id)&&r.jsx("div",{className:"timeline-expanded",children:r.jsxs("div",{className:"timeline-expanded-details",children:[r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Gaming Moods"}),r.jsx("div",{className:"timeline-moods-grid",children:c.dominantMoods.map(u=>r.jsx("div",{className:"timeline-mood-item",children:r.jsx("span",{children:u})},u))})]}),r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Gaming Stats"}),r.jsxs("div",{className:"timeline-stats-grid",children:[r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Completion Rate"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.completionRate*100),"%"]})]}),r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Social Gaming"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.multiplayerRatio*100),"%"]})]}),r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Avg Session"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.averageSessionLengthMinutes)," min"]})]})]})]}),r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Top Games"}),r.jsx("div",{className:"timeline-games-list",children:c.topIdentityGames.map((u,m)=>r.jsxs("div",{className:"timeline-game-item",children:[r.jsxs("div",{className:"timeline-game-rank",children:["#",m+1]}),r.jsxs("div",{className:"timeline-game-info",children:[r.jsx("div",{className:"timeline-game-title",children:u.title}),r.jsxs("div",{className:"timeline-game-score",children:["Score: ",u.score.toFixed(1)]})]})]},u.id))})]}),c.fullNarrative&&r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Full Story"}),r.jsx("div",{className:"timeline-full-narrative",children:r.jsx("p",{children:c.fullNarrative})})]})]})})]})]},c.id))})]})},j0=(e,t={})=>{const{maxSnapshots:n=20,storageKey:s="identity_history"}=t;try{const i=Oh(t),a={...e,id:qA()},l=[a,...i].slice(0,n);localStorage.setItem(s,JSON.stringify(l)),window.dispatchEvent(new CustomEvent("identity-history-updated",{detail:{snapshot:a,history:l}}))}catch(i){console.warn("Failed to save identity snapshot:",i)}},Oh=(e={})=>{const{storageKey:t="identity_history"}=e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch(n){return console.warn("Failed to load identity history:",n),[]}},KA=(e,t={})=>{const{storageKey:n="identity_history"}=t;try{const s=Oh(t),i=s.filter(a=>a.id!==e);return i.length!==s.length?(localStorage.setItem(n,JSON.stringify(i)),window.dispatchEvent(new CustomEvent("identity-history-deleted",{detail:{snapshotId:e,history:i}})),!0):!1}catch(s){return console.warn("Failed to delete identity snapshot:",s),!1}},qA=()=>`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,N0=(e,t,n,s)=>{const i=t.slice(0,5).map(a=>({id:a.game.id,title:a.game.title,score:a.score}));return{timestamp:new Date().toISOString(),dominantMoods:e.dominantMoods||[],preferredSessionLength:e.preferredSessionLength||"medium",preferredTimesOfDay:e.preferredTimesOfDay||[],recentPlayPatterns:e.recentPlayPatterns||[],completionRate:e.completionRate||0,multiplayerRatio:e.multiplayerRatio||0,averageSessionLengthMinutes:e.averageSessionLengthMinutes||0,topIdentityGames:i,shortNarrative:n,fullNarrative:s}},QA=e=>{if(!e)return!0;const t=new Date(e);return(new Date().getTime()-t.getTime())/(1e3*60*60*24)>=7},Vw={chill_master:{title:"Chill Master",description:"Chill mood dominant in 5+ snapshots",icon:"",color:"#60a5fa",category:"mood",requirements:e=>e.filter(t=>t.dominantMoods.includes("chill")).length>=5},creative_shift:{title:"Creative Shift",description:"Creative becomes new dominant mood",icon:"",color:"#a78bfa",category:"mood",requirements:e=>{if(e.length<2)return!1;const t=e.slice(0,2),n=e.slice(2);return t[0].dominantMoods.includes("creative")&&n.length>0&&!n[0].dominantMoods.includes("creative")}},mood_evolution:{title:"Mood Evolution",description:"Dominant mood changes after 30+ days",icon:"",color:"#f59e0b",category:"mood",requirements:e=>{if(e.length<2)return!1;const t=e[0],n=e[e.length-1];return(new Date(t.timestamp).getTime()-new Date(n.timestamp).getTime())/(1e3*60*60*24)>=30&&t.dominantMoods[0]!==n.dominantMoods[0]}},balanced_moods:{title:"Balanced Moods",description:"3+ different dominant moods across history",icon:"",color:"#10b981",category:"mood",requirements:e=>new Set(e.flatMap(n=>n.dominantMoods)).size>=3},intense_gamer:{title:"Intense Gamer",description:"Intense mood dominant in 3+ snapshots",icon:"",color:"#ef4444",category:"mood",requirements:e=>e.filter(t=>t.dominantMoods.includes("intense")).length>=3},quick_burst_player:{title:"Quick Burst Player",description:"Short sessions dominate for 3 snapshots",icon:"",color:"#fbbf24",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="short").length>=3},immersion_era:{title:"Immersion Era",description:"Long sessions dominate for 3 snapshots",icon:"",color:"#8b5cf6",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="long").length>=3},balanced_sessions:{title:"Balanced Sessions",description:"Medium sessions in 5+ snapshots",icon:"",color:"#06b6d4",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="medium").length>=5},marathon_gamer:{title:"Marathon Gamer",description:"Average session > 120 minutes",icon:"",color:"#dc2626",category:"session",requirements:e=>e.reduce((n,s)=>n+s.averageSessionLengthMinutes,0)/e.length>120},night_owl:{title:"Night Owl",description:"Late-night > 50% for 3 snapshots",icon:"",color:"#6366f1",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="late-night").length>0).length>=3},morning_warrior:{title:"Morning Warrior",description:"Morning > 50% for 3 snapshots",icon:"",color:"#f59e0b",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="morning").length>0).length>=3},afternoon_enthusiast:{title:"Afternoon Enthusiast",description:"Afternoon > 50% for 3 snapshots",icon:"",color:"#fbbf24",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="afternoon").length>0).length>=3},weekend_warrior:{title:"Weekend Warrior",description:"Weekend gaming pattern detected",icon:"",color:"#10b981",category:"time",requirements:e=>e.length>=3},completionist_level_up:{title:"Completionist Level Up",description:"Completion rate crosses threshold",icon:"",color:"#f59e0b",category:"pattern",requirements:e=>{if(!e||e.length===0)return 0;const t=e[0];return(t==null?void 0:t.completionRate)||0}},explorer_badge:{title:"Explorer Badge",description:"Explorer pattern in 3+ snapshots",icon:"",color:"#10b981",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("explorer")).length>=3},strategist_mind:{title:"Strategist Mind",description:"Strategist pattern in 3+ snapshots",icon:"",color:"#6366f1",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("strategist")).length>=3},social_butterfly:{title:"Social Butterfly",description:"Social pattern emerges",icon:"",color:"#ec4899",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("social")).length>=2},competitive_spirit:{title:"Competitive Spirit",description:"Competitive pattern in 3+ snapshots",icon:"",color:"#ef4444",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("competitive")).length>=3},identity_journey_begins:{title:"Identity Journey Begins",description:"First snapshot created",icon:"",color:"#8b5cf6",category:"meta",requirements:e=>e.length>=1},consistency_badge:{title:"Consistency Badge",description:"5 snapshots created",icon:"",color:"#06b6d4",category:"meta",requirements:e=>e.length>=5},historian:{title:"Historian",description:"10 snapshots created",icon:"",color:"#7c3aed",category:"meta",requirements:e=>e.length>=10},legendary_gamer:{title:"Legendary Gamer",description:"15 snapshots created",icon:"",color:"#dc2626",category:"meta",requirements:e=>e.length>=15},identity_master:{title:"Identity Master",description:"20 snapshots created (max)",icon:"",color:"#fbbf24",category:"meta",requirements:e=>e.length>=20},completion_rate_70:{title:"70% Completion Rate",description:"Achieved 70% game completion rate",icon:"",color:"#10b981",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.7?70:0}},completion_rate_80:{title:"80% Completion Rate",description:"Achieved 80% game completion rate",icon:"",color:"#f59e0b",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.8?80:0}},completion_rate_90:{title:"90% Completion Rate",description:"Achieved 90% game completion rate",icon:"",color:"#8b5cf6",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.9?90:0}},social_ratio_50:{title:"Social Butterfly",description:"50% multiplayer gaming",icon:"",color:"#ec4899",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.multiplayerRatio)>=.5?50:0}},social_ratio_75:{title:"Community Leader",description:"75% multiplayer gaming",icon:"",color:"#06b6d4",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.multiplayerRatio)>=.75?75:0}}},S0=e=>{const t=[],n={},s=[],i=Dh(),a=new Set(i.map(o=>o.id));return Object.entries(Vw).forEach(([o,l])=>{const c=l.requirements(e);if(typeof c=="boolean")c&&!a.has(o)?t.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:new Date().toISOString(),category:l.category}):c||(n[o]=JA(o,e),n[o]>0&&s.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:"",category:l.category}));else if(typeof c=="number"){const d=ZA(o);c>=d&&!a.has(o)?t.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:new Date().toISOString(),value:c,category:l.category}):(n[o]=Math.min(100,c/d*100),n[o]>0&&s.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:"",value:c,category:l.category}))}}),{unlocked:t.sort((o,l)=>new Date(l.timestamp).getTime()-new Date(o.timestamp).getTime()),progress:n,nextMilestones:s.sort((o,l)=>(l.value||0)-(o.value||0))}},XA=(e,t)=>{const n=[t,...e],s=S0(n),i=S0(e),a=new Set(i.unlocked.map(l=>l.id));new Set(s.unlocked.map(l=>l.id));const o=s.unlocked.filter(l=>!a.has(l.id));return o.length>0&&e_([...Dh(),...o]),o},JA=(e,t)=>{if(!Vw[e])return 0;switch(e){case"chill_master":return Math.min(100,t.filter(s=>s.dominantMoods.includes("chill")).length/5*100);case"consistency_badge":return Math.min(100,t.length/5*100);case"historian":return Math.min(100,t.length/10*100);case"legendary_gamer":return Math.min(100,t.length/15*100);case"identity_master":return Math.min(100,t.length/20*100);case"quick_burst_player":return Math.min(100,t.filter(s=>s.preferredSessionLength==="short").length/3*100);case"immersion_era":return Math.min(100,t.filter(s=>s.preferredSessionLength==="long").length/3*100);case"balanced_sessions":return Math.min(100,t.filter(s=>s.preferredSessionLength==="medium").length/5*100);case"explorer_badge":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("explorer")).length/3*100);case"strategist_mind":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("strategist")).length/3*100);case"competitive_spirit":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("competitive")).length/3*100);case"night_owl":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="late-night").length>0).length/3*100);case"morning_warrior":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="morning").length>0).length/3*100);case"afternoon_enthusiast":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="afternoon").length>0).length/3*100);default:return 0}},ZA=e=>{switch(e){case"completion_rate_70":return 70;case"completion_rate_80":return 80;case"completion_rate_90":return 90;case"social_ratio_50":return 50;case"social_ratio_75":return 75;default:return 0}},Dh=()=>{try{const e=localStorage.getItem("identity_milestones");return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to load milestones:",e),[]}},e_=e=>{try{localStorage.setItem("identity_milestones",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("milestones-updated",{detail:{milestones:e}}))}catch(t){console.warn("Failed to save milestones:",t)}},t_=({milestones:e,onClose:t,isOpen:n})=>{const[s,i]=b.useState(0),[a,o]=b.useState(!1);b.useEffect(()=>{n&&e.length>0&&(o(!0),i(0))},[n,e]);const l=()=>{s<e.length-1?(i(u=>u+1),o(!0)):t()},c=()=>{s>0&&(i(u=>u-1),o(!0))},d=e[s];return!n||!d?null:r.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 rounded-2xl max-w-md w-full border border-purple-500/30 shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-purple-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Milestone Unlocked!"}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Your gaming identity evolves"})]}),r.jsx("button",{onClick:t,className:"text-purple-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:`text-center transition-all duration-500 ${a?"scale-105":"scale-100"}`,children:[r.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:d.icon}),r.jsx("h4",{className:"text-xl font-bold text-white mb-2",style:{color:d.color},children:d.title}),r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.description}),r.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/20 border border-purple-500/30 mb-4",children:r.jsx("span",{className:"text-xs text-purple-300 uppercase tracking-wide",children:d.category})}),e.length>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{children:s+1}),r.jsx("span",{children:"/"}),r.jsx("span",{children:e.length})]})]})}),r.jsx("div",{className:"p-6 border-t border-purple-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:c,disabled:s===0,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:"Previous"}),r.jsx("div",{className:"flex gap-2",children:e.map((u,m)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${m===s?d.color:"bg-gray-600"}`},m))}),r.jsx("button",{onClick:l,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg font-medium transition-all",children:s===e.length-1?"Finish":"Next"})]})}),r.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:r.jsx("div",{className:"confetti-container",children:[...Array(20)].map((u,m)=>r.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`,backgroundColor:["#f59e0b","#8b5cf6","#10b981","#ef4444","#ec4899"][Math.floor(Math.random()*5)]}},m))})})]}),r.jsx("style",{jsx:!0,children:`
        .confetti-container {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .confetti {
          position: absolute;
          width: 6px;
          height: 6px;
          border-radius: 50%;
          animation: confetti-fall linear infinite;
        }

        @keyframes confetti-fall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }
      `})]})},n_=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!1);return{notifications:e,isNotificationOpen:n,showNotifications:o=>{o.length>0&&(t(o),s(!0))},closeNotifications:()=>{s(!1),setTimeout(()=>t([]),300)}}},s_=()=>{const[e,t]=b.useState({primary:"purple",secondary:"blue",accent:"pink",background:"dark"}),[n,s]=b.useState({emoji:"",name:"GamePilot",level:1,experience:0,colors:["purple","blue"]});return b.useEffect(()=>{const a=localStorage.getItem("customTheme"),o=localStorage.getItem("avatar");a&&t(JSON.parse(a)),o&&s(JSON.parse(o))},[]),{customTheme:e,avatar:n,setCustomTheme:t,updateAvatar:a=>{const o={...n,...a};s(o),localStorage.setItem("avatar",JSON.stringify(o))}}},r_=({achievements:e,unlockedAchievements:t,isOpen:n,onClose:s})=>{const i=o=>{switch(o){case"common":return"from-gray-600 to-gray-700";case"rare":return"from-blue-600 to-purple-600";case"epic":return"from-purple-600 to-pink-600";case"legendary":return"from-yellow-600 to-orange-600";default:return"from-gray-600 to-gray-700"}},a=o=>{switch(o){case"common":return"border-gray-500";case"rare":return"border-blue-500";case"epic":return"border-purple-500";case"legendary":return"border-yellow-500";default:return"border-gray-500"}};return n?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl max-w-4xl w-full border border-gray-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Achievements"}),r.jsxs("p",{className:"text-gray-400",children:[t.length," of ",e.length," unlocked"]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close achievements",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(o=>{var d;const l=o.unlockedAt,c=o.progress/o.maxProgress*100;return r.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all ${l?`bg-gradient-to-br ${i(o.rarity)} ${a(o.rarity)}`:"bg-gray-800/50 border-gray-600 opacity-60"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:`text-3xl ${!l&&"grayscale"}`,children:o.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-white",children:o.title}),r.jsx("p",{className:"text-xs text-gray-300 capitalize",children:o.rarity})]})]}),r.jsx("p",{className:"text-sm text-gray-300 mb-3",children:o.description}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o.progress,"/",o.maxProgress]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-full rounded-full transition-all ${l?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-blue-500"}`,style:{width:`${c}%`}})})]}),l&&r.jsxs("div",{className:"mt-2 text-xs text-green-400",children:["Unlocked ",(d=o.unlockedAt)==null?void 0:d.toLocaleDateString()]})]},o.id)})})})]})}):null},i_=({achievements:e,isOpen:t,onClose:n})=>!t||e.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 rounded-lg shadow-2xl p-4 min-w-[300px] border border-yellow-400/30",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-3xl animate-bounce",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-white mb-1",children:"Achievement Unlocked!"}),e.map(s=>r.jsxs("div",{className:"text-yellow-100 text-sm",children:[s.icon," ",s.title]},s.id))]}),r.jsx("button",{onClick:n,className:"text-yellow-200 hover:text-white transition-colors","aria-label":"Close notification",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),a_=()=>{const[e,t]=b.useState([{id:"first_snapshot",title:"Identity Found",description:"Create your first identity snapshot",icon:"",rarity:"common",progress:0,maxProgress:1,category:"gaming"},{id:"explorer_10",title:"Curious Explorer",description:"Play 10 different games",icon:"",rarity:"rare",progress:0,maxProgress:10,category:"exploration"},{id:"night_owl",title:"Night Owl",description:"Play 50% of sessions after 10 PM",icon:"",rarity:"epic",progress:0,maxProgress:50,category:"gaming"},{id:"mood_master",title:"Mood Connoisseur",description:"Try all 8 mood states",icon:"",rarity:"legendary",progress:0,maxProgress:8,category:"mastery"}]),[n,s]=b.useState([]);b.useEffect(()=>{const o=localStorage.getItem("achievements");o&&t(JSON.parse(o))},[]);const i=o=>{const l=e.map(d=>{var h,f;let u=d.progress;switch(d.id){case"first_snapshot":o.milestones&&o.milestones.length>0&&(u=Math.min(1,d.progress+1));break;case"explorer_10":o.games&&o.games.length>=10&&(u=Math.min(10,o.games.length));break;case"night_owl":(h=o.analytics)!=null&&h.nightOwlRatio&&(u=Math.min(50,Math.floor(o.analytics.nightOwlRatio*100)));break;case"mood_master":(f=o.personaContext)!=null&&f.dominantMoods&&(u=Math.min(8,o.personaContext.dominantMoods.length));break}const m=u>=d.maxProgress&&!d.unlockedAt;return{...d,progress:u,unlockedAt:m?new Date:d.unlockedAt}}),c=l.filter((d,u)=>d.unlockedAt&&!e[u].unlockedAt);c.length>0&&(s(c),setTimeout(()=>s([]),5e3)),t(l),localStorage.setItem("achievements",JSON.stringify(l))},a=e.filter(o=>o.unlockedAt);return{achievements:e,unlockedAchievements:a,recentAchievements:n,checkAchievements:i}},o_=()=>{const[e,t]=b.useState(new Set),n=b.useCallback(a=>{t(o=>new Set(o).add(a)),setTimeout(()=>{t(o=>{const l=new Set(o);return l.delete(a),l})},300)},[]),s=b.useCallback(a=>{n(`hover-${a}`)},[n]),i=b.useCallback(a=>{n(`click-${a}`)},[n]);return{activeEffects:e,triggerInteraction:n,playHoverEffect:s,playClickEffect:i}},l_=()=>{const e=Gn(),t=Xl(),[n,s]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,m]=b.useState([]),h=n_(),{isNotificationOpen:f,showNotifications:p,closeNotifications:g}=h,[y,x]=b.useState([]),{customTheme:v,avatar:w,setCustomTheme:j,updateAvatar:S}=s_(),{achievements:T,unlockedAchievements:C,recentAchievements:k,checkAchievements:E}=a_(),[P,R]=b.useState(!1);o_(),b.useEffect(()=>{const I=Oh();m(I);const V=Dh();x(V)},[]),b.useEffect(()=>{const I=V=>{const{milestones:se}=V.detail;x(se)};return window.addEventListener("milestones-updated",I),()=>{window.removeEventListener("milestones-updated",I)}},[]);const{games:$}=be(),U=b.useMemo(()=>{if(!$||$.length===0)return null;try{return kh($)}catch(I){return console.warn("Failed to generate persona context:",I),null}},[$]),q=b.useMemo(()=>{if(!U||!$)return[];try{const I=Sh(),V=Hs();return $.map(oe=>{var pe;const me={...oe,genres:((pe=oe.genres)==null?void 0:pe.map(de=>typeof de=="string"?de:de.name))||[],moods:oe.moods||[],sessionLength:oe.sessionLength||void 0,recommendedTimes:oe.recommendedTimes||void 0,hoursPlayed:oe.hoursPlayed||0,lastPlayed:oe.lastPlayed||void 0};return Fi(me,{selectedMoods:U.dominantMoods,selectedSessionLength:U.preferredSessionLength,timeOfDay:V,personaContext:U,personaWeight:.6})}).slice(0,10)}catch(I){return console.warn("Failed to get identity-defining games:",I),[]}},[U,$]),ee=b.useMemo(()=>{try{const I=localStorage.getItem("analytics_stats");return I?JSON.parse(I):null}catch{return null}},[]),N=b.useMemo(()=>{try{return PA({personaContext:U||void 0,analyticsInsights:ee||void 0})}catch(I){return console.warn("Failed to generate identity narrative:",I),"Your gaming journey is uniquely yours, shaped by your choices and experiences."}},[U,ee]);b.useEffect(()=>{if(U&&q&&N){const I=u[0];if(QA(I==null?void 0:I.timestamp)){const V=N0(U,q,N.split(".").filter(Boolean).slice(0,2).join(". ")+".",N);j0(V);const se={...V,id:`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},oe=XA(u,se);oe.length>0&&p(oe),m(me=>[{...V,id:`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},...me])}}},[U,q,N,u]),b.useEffect(()=>{const I=setTimeout(()=>s(!0),100);return U&&q&&E({personaContext:U,games:q,analytics:ee,milestones:y}),()=>clearTimeout(I)},[U,q,ee,y]);const Y=I=>{const V={Achiever:{primary:"from-yellow-500 to-amber-600",accent:"text-yellow-400",bg:"bg-yellow-500/10"},Explorer:{primary:"from-purple-500 to-indigo-600",accent:"text-purple-400",bg:"bg-purple-500/10"},Socializer:{primary:"from-blue-500 to-cyan-600",accent:"text-blue-400",bg:"bg-blue-500/10"},Competitor:{primary:"from-red-500 to-orange-600",accent:"text-red-400",bg:"bg-red-500/10"},Strategist:{primary:"from-emerald-500 to-teal-600",accent:"text-emerald-400",bg:"bg-emerald-500/10"},Creative:{primary:"from-pink-500 to-rose-600",accent:"text-pink-400",bg:"bg-pink-500/10"},Casual:{primary:"from-green-500 to-lime-600",accent:"text-green-400",bg:"bg-green-500/10"},Specialist:{primary:"from-indigo-500 to-purple-600",accent:"text-indigo-400",bg:"bg-indigo-500/10"}};return V[I]||V.Explorer},A=I=>({Achiever:"",Explorer:"",Socializer:"",Competitor:"",Strategist:"",Creative:"",Casual:"",Specialist:""})[I]||"",F=I=>{const V={Achiever:{fullDescription:"You are driven by goals, achievements, and the thrill of completion. Every challenge is an opportunity to prove your worth and climb higher.",strengths:["Goal-oriented mindset","High motivation","Persistent determination","Strategic thinking"],weaknesses:["May over-extend","Can be too competitive","Sometimes misses the journey","Perfectionist tendencies"],moodTendencies:["Focused","Determined","Competitive","Accomplished"],recommendedGenres:["RPG","Action","Platformer","Sports"],signatureTraits:["Completionist","Perfectionist","Competitive","Goal-driven"]},Explorer:{fullDescription:"You are driven by curiosity and the desire to discover new worlds. Every uncharted territory calls to your adventurous spirit.",strengths:["Curiosity-driven","Adaptable","Open-minded","Detail-oriented"],weaknesses:["Can get distracted","May not finish","Overly curious","Risk-taking"],moodTendencies:["Curious","Adventurous","Wonder-filled","Restless"],recommendedGenres:["Open World","Adventure","Exploration","Survival"],signatureTraits:["Curious","Adventurous","Detail-oriented","Open-minded"]},Socializer:{fullDescription:"You thrive on connections and shared experiences. Gaming is your way to build communities and forge lasting friendships.",strengths:["Empathetic","Team player","Communication skills","Community builder"],weaknesses:["May avoid solo content","Too accommodating","Social pressure","Distraction-prone"],moodTendencies:["Connected","Collaborative","Friendly","Engaged"],recommendedGenres:["MMO","Co-op","Social","Party Games"],signatureTraits:["Empathetic","Collaborative","Social","Community-focused"]},Competitor:{fullDescription:"You live for the thrill of victory and the challenge of opposition. Every match is a chance to prove your superiority.",strengths:["Competitive drive","Quick thinking","Strategic mind","Performance under pressure"],weaknesses:["Can be ruthless","Poor sportsmanship","Overly aggressive","Burnout risk"],moodTendencies:["Competitive","Focused","Intense","Victorious"],recommendedGenres:["FPS","MOBA","Fighting","Sports"],signatureTraits:["Competitive","Strategic","Intense","Victory-driven"]},Strategist:{fullDescription:"You see the bigger picture and excel at planning. Every game is a puzzle to be solved with perfect precision.",strengths:["Analytical thinking","Planning skills","Pattern recognition","Patience"],weaknesses:["Analysis paralysis","Over-planning","Slow adaptation","Perfectionism"],moodTendencies:["Analytical","Patient","Methodical","Strategic"],recommendedGenres:["Strategy","Turn-based","Puzzle","Management"],signatureTraits:["Analytical","Strategic","Methodical","Patient"]},Creative:{fullDescription:"You express yourself through creation and imagination. Every game is a canvas for your artistic vision.",strengths:["Creativity","Innovation","Expression","Imagination"],weaknesses:["Lack of focus","Perfectionism","Over-ambitious","Procrastination"],moodTendencies:["Inspired","Expressive","Imaginative","Artistic"],recommendedGenres:["Sandbox","Building","Art","Simulation"],signatureTraits:["Creative","Innovative","Expressive","Imaginative"]},Casual:{fullDescription:"You seek balance and enjoyment in gaming. Every session should be relaxing and stress-free.",strengths:["Balanced approach","Stress management","Consistency","Enjoyment-focused"],weaknesses:["Lack of challenge","Slow progress","Comfort zone","Limited growth"],moodTendencies:["Relaxed","Balanced","Content","Peaceful"],recommendedGenres:["Casual","Puzzle","Simulation","Story"],signatureTraits:["Balanced","Relaxed","Consistent","Enjoyment-focused"]},Specialist:{fullDescription:"You dedicate yourself to mastering specific genres or games. Excellence is your only acceptable standard.",strengths:["Expertise","Dedication","Mastery","Deep knowledge"],weaknesses:["Narrow focus","Resistance to change","Perfectionism","Burnout risk"],moodTendencies:["Focused","Dedicated","Expert","Mastery-driven"],recommendedGenres:["Specialized","Complex","Deep","Niche"],signatureTraits:["Specialized","Dedicated","Expert","Mastery-focused"]}};return V[I]||V.Explorer},L=(e==null?void 0:e.traits.archetypeId)||"Explorer",G=Y(L);return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden ${o?"ring-2 ring-gaming-primary/50 ring-offset-2 ring-offset-gray-900":""}`,children:[r.jsx(kA,{primaryArchetype:L,currentMood:t==null?void 0:t.moodId}),r.jsxs("div",{className:"container mx-auto px-4 py-8 pointer-events-auto relative z-10",children:[r.jsx("header",{className:`mb-16 ${n?"animate-fade-in":"opacity-0"}`,children:r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg transform transition-all group-hover:scale-110 group-hover:rotate-3",children:(w==null?void 0:w.emoji)||""}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:r.jsx("span",{className:"text-xs",children:""})})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:(w==null?void 0:w.name)||"GamePilot"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-gray-400 text-sm",children:["Level ",(w==null?void 0:w.level)||1]}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("button",{className:"text-purple-400 hover:text-purple-300 text-sm transition-colors",children:" Customize Theme"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:C.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Achievements"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:u.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Snapshots"})]}),r.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white rounded-lg font-medium transition-all transform hover:scale-105 flex items-center gap-2",children:[r.jsx("span",{children:""}),"View Achievements"]})]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-200`,children:r.jsx(CA,{theme:G})}),r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-5 gap-4 mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-300`,children:[r.jsx(xi,{icon:"",label:"Intensity",value:(e==null?void 0:e.traits.intensity)||"Medium",description:"Energy and engagement level",theme:G}),r.jsx(xi,{icon:"",label:"Pacing",value:(e==null?void 0:e.traits.pacing)||"Flow",description:"Session duration preference",theme:G}),r.jsx(xi,{icon:"",label:"Social Style",value:(e==null?void 0:e.traits.socialStyle)||"Solo",description:"Multiplayer preference",theme:G}),r.jsx(xi,{icon:"",label:"Challenge",value:(e==null?void 0:e.traits.riskProfile)||"Balanced",description:"Risk tolerance level",theme:G}),r.jsx(xi,{icon:"",label:"Narrative",value:"Story-driven",description:"Story preference",theme:G})]}),U&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-400`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Gaming Identity"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Dominant Moods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:U.dominantMoods.map(I=>r.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:I},I))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Preferred Sessions"}),r.jsx("span",{className:"text-white text-lg font-medium capitalize",children:U.preferredSessionLength})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Peak Times"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:U.preferredTimesOfDay.map(I=>r.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm capitalize",children:I},I))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Play Patterns"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:U.recentPlayPatterns.slice(0,2).map(I=>r.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm capitalize",children:I},I))})]})]})]})}),r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-450`,children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-teal-500/20 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Gaming Story"}),r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsx("p",{className:"text-xl text-gray-200 leading-relaxed font-light",children:N})}),r.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Personalized Narrative"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Data-Driven Insights"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Unique Gaming Identity"})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsxs("button",{onClick:()=>{if(d(!0),U&&q&&N){const I=N0(U,q,N.split(".").filter(Boolean).slice(0,2).join(". ")+".",N);j0(I),m(V=>[{...I,id:`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},...V])}},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg font-medium transition-all transform hover:scale-105 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""}),"Generate Shareable Card"]})})]})})}),q.length>0&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-500`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Games That Define You"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.slice(0,9).map((I,V)=>{var se;return r.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-white font-medium",children:I.game.title}),r.jsx("span",{className:"text-green-400 text-sm font-mono",children:I.score.toFixed(1)})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(se=I.game.moods)==null?void 0:se.slice(0,3).map(oe=>r.jsx("span",{className:"text-xs px-2 py-1 bg-gray-700 text-gray-300 rounded",children:oe},oe))})]},I.game.id)})})]})}),ee&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-600`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"How You Play"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Time-of-Day Engagement"}),r.jsx("div",{className:"space-y-2",children:Object.entries(ee.timeOfDayUsage||{}).map(([I,V])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm capitalize",children:I}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.max(10,Number(V)/Math.max(...Object.values(ee.timeOfDayUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(V)})]})]},I))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Session Length Distribution"}),r.jsx("div",{className:"space-y-2",children:Object.entries(ee.sessionLengthUsage||{}).map(([I,V])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm capitalize",children:I}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${Math.max(10,Number(V)/Math.max(...Object.values(ee.sessionLengthUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(V)})]})]},I))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Top Moods"}),r.jsx("div",{className:"space-y-2",children:Object.entries(ee.moodUsage||{}).sort(([,I],[,V])=>Number(V)-Number(I)).slice(0,5).map(([I,V])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm",children:I}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${Math.max(10,Number(V)/Math.max(...Object.values(ee.moodUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(V)})]})]},I))})]})]})]})}),U&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-700`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Recent Behavior"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Average Session"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(U.averageSessionLengthMinutes)," min"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Night Owl Ratio"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(U.lateNightRatio*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Completion Rate"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(U.completionRate*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Social Gaming"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(U.multiplayerRatio*100),"%"]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Mood Affinity"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(U.moodAffinity).sort(([,I],[,V])=>V-I).slice(0,8).map(([I,V])=>r.jsxs("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm",children:[I,": ",(V*100).toFixed(0),"%"]},I))})]})]})}),r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-800`,children:r.jsx(YA,{snapshots:u,onRegenerateCard:I=>{I.dominantMoods,I.preferredSessionLength,I.preferredTimesOfDay,I.recentPlayPatterns,I.averageSessionLengthMinutes,I.completionRate,I.multiplayerRatio,I.topIdentityGames.map(V=>({id:V.id,title:V.title,moods:[],genres:[],hoursPlayed:0,sessionLength:I.preferredSessionLength,recommendedTimes:I.preferredTimesOfDay,score:V.score})),d(!0)},onDelete:I=>{KA(I),m(V=>V.filter(se=>se.id!==I))}})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"relative z-10 p-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Identity"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Your gaming personality decoded"})]}),r.jsx(Uw,{onClick:()=>l(!o),isActive:o})]})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-200`,children:r.jsx(fA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-250`,children:r.jsx(EA,{theme:G})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-300`,children:r.jsx(yA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-400`,children:r.jsx(vA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-500`,children:r.jsx(jA,{})})]})]})]}),r.jsx(SA,{isOpen:i,onClose:()=>a(!1),archetype:{id:L,name:L,symbol:A(L),description:F(L).fullDescription,fullDescription:F(L).fullDescription,strengths:F(L).strengths,weaknesses:F(L).weaknesses,moodTendencies:F(L).moodTendencies,recommendedGenres:F(L).recommendedGenres,signatureTraits:F(L).signatureTraits,theme:G}}),r.jsx(Lh,{pageId:"identity",isOpen:o,onClose:()=>l(!1)}),r.jsx(WA,{isOpen:c,onClose:()=>d(!1),personaContext:U||void 0,identityNarrative:N,identityDefiningGames:q}),r.jsx(t_,{milestones:h.notifications,isOpen:h.isNotificationOpen,onClose:h.closeNotifications}),r.jsx(r_,{achievements:T,unlockedAchievements:C,isOpen:P,onClose:()=>R(!1)}),r.jsx(i_,{achievements:k,isOpen:h.isNotificationOpen&&k.length>0,onClose:h.closeNotifications})]})},Hw=document.createElement("style");Hw.textContent=`
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slide-up 0.6s ease-out forwards;
    opacity: 0;
  }
`;document.head.appendChild(Hw);class c_{constructor(t){this.baseUrl="https://www.googleapis.com/youtube/v3",this.maxResultsPerPage=50,this.apiKey=t||"AIzaSyCX7KLLA_xWd6G7nC8w8H04XrpOSLpuSas",this.apiKey||console.warn("YouTube API key not provided. Some features will be limited.")}async getTrendingGamingVideos(t){if(!this.apiKey)return this.getMockResponse("trending");try{const n=new URLSearchParams({part:"snippet,statistics,contentDetails",chart:"mostPopular",videoCategoryId:"20",maxResults:this.maxResultsPerPage.toString(),key:this.apiKey,...t&&{pageToken:t}}),i=await(await fetch(`${this.baseUrl}/videos?${n}`)).json();if(i.error)throw new Error(`YouTube API Error: ${i.error.message}`);return this.transformVideoResponse(i)}catch(n){return console.error("Error fetching trending gaming videos:",n),this.getMockResponse("trending")}}async getCreatorVideos(t,n){var s,i,a;if(!this.apiKey)return this.getMockResponse("creator");try{const o=new URLSearchParams({part:"contentDetails",id:t,key:this.apiKey}),c=await(await fetch(`${this.baseUrl}/channels?${o}`)).json();if(c.error)throw new Error(`YouTube API Error: ${c.error.message}`);const d=(a=(i=(s=c.items[0])==null?void 0:s.contentDetails)==null?void 0:i.relatedPlaylists)==null?void 0:a.uploads;if(!d)throw new Error("Channel not found or has no public uploads");return this.getPlaylistVideos(d,n)}catch(o){return console.error("Error fetching creator videos:",o),this.getMockResponse("creator")}}async searchGamingContent(t,n,s=25){if(!this.apiKey)return this.getMockResponse("search");try{const i=new URLSearchParams({part:"snippet,statistics",q:`${t} gaming`,type:"video",maxResults:Math.min(s,this.maxResultsPerPage).toString(),key:this.apiKey,relevanceLanguage:"en",safeSearch:"moderate",...n&&{pageToken:n}}),o=await(await fetch(`${this.baseUrl}/search?${i}`)).json();if(o.error)throw new Error(`YouTube API Error: ${o.error.message}`);return this.transformSearchResponse(o)}catch(i){return console.error("Error searching gaming content:",i),this.getMockResponse("search")}}async getChannelInfo(t){if(!this.apiKey)return this.getMockChannel();try{const n=new URLSearchParams({part:"snippet,statistics",id:t,key:this.apiKey}),i=await(await fetch(`${this.baseUrl}/channels?${n}`)).json();if(i.error)throw new Error(`YouTube API Error: ${i.error.message}`);return!i.items||i.items.length===0?null:this.transformChannelResponse(i.items[0])}catch(n){return console.error("Error fetching channel info:",n),this.getMockChannel()}}async getPlaylistVideos(t,n){try{const s=new URLSearchParams({part:"snippet,statistics,contentDetails",playlistId:t,maxResults:this.maxResultsPerPage.toString(),key:this.apiKey,...n&&{pageToken:n}}),a=await(await fetch(`${this.baseUrl}/playlistItems?${s}`)).json();if(a.error)throw new Error(`YouTube API Error: ${a.error.message}`);return this.transformPlaylistResponse(a)}catch(s){return console.error("Error fetching playlist videos:",s),this.getMockResponse("playlist")}}transformVideoResponse(t){var s,i;const n=t.items.map(a=>{var d,u,m,h;const o=a.snippet,l=a.statistics||{},c=a.contentDetails||{};return{id:a.id,title:o.title,description:o.description,thumbnailUrl:((u=(d=o.thumbnails)==null?void 0:d.high)==null?void 0:u.url)||((h=(m=o.thumbnails)==null?void 0:m.default)==null?void 0:h.url),publishedAt:new Date(o.publishedAt),duration:c.duration,viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken,prevPageToken:t.prevPageToken}}transformSearchResponse(t){var s,i;const n=t.items.map(a=>{var c,d,u,m;const o=a.snippet,l=a.statistics||{};return{id:a.id.videoId,title:o.title,description:o.description,thumbnailUrl:((d=(c=o.thumbnails)==null?void 0:c.high)==null?void 0:d.url)||((m=(u=o.thumbnails)==null?void 0:u.default)==null?void 0:m.url),publishedAt:new Date(o.publishedAt),duration:"",viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken,prevPageToken:t.prevPageToken}}transformPlaylistResponse(t){var s,i;const n=t.items.map(a=>{var c,d,u,m;const o=a.snippet,l=a.statistics||{};return{id:a.contentDetails.videoId,title:o.title,description:o.description,thumbnailUrl:((d=(c=o.thumbnails)==null?void 0:c.high)==null?void 0:d.url)||((m=(u=o.thumbnails)==null?void 0:u.default)==null?void 0:m.url),publishedAt:new Date(o.publishedAt),duration:"",viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken}}transformChannelResponse(t){var i,a,o,l;const n=t.snippet,s=t.statistics;return{id:t.id,title:n.title,description:n.description,thumbnailUrl:((a=(i=n.thumbnails)==null?void 0:i.high)==null?void 0:a.url)||((l=(o=n.thumbnails)==null?void 0:o.default)==null?void 0:l.url),subscriberCount:parseInt(s.subscriberCount||"0"),videoCount:parseInt(s.videoCount||"0"),viewCount:parseInt(s.viewCount||"0"),publishedAt:new Date(n.publishedAt)}}getMockResponse(t){const n=[{id:"mock1",title:"Best Gaming Moments 2024",description:"Amazing gaming highlights and funny moments from the past year",thumbnailUrl:"/images/mock/youtube-thumbnail-1.jpg",publishedAt:new Date(Date.now()-864e5),duration:"PT10M32S",viewCount:125e4,likeCount:85e3,channelTitle:"GamePilot Highlights",channelId:"UCgamepilot",tags:["gaming","highlights","funny","2024"],categoryId:"20"},{id:"mock2",title:"Epic Gaming Comeback",description:"Incredible comeback in the final moments of the championship",thumbnailUrl:"/images/mock/youtube-thumbnail-2.jpg",publishedAt:new Date(Date.now()-1728e5),duration:"PT5M45S",viewCount:89e4,likeCount:62e3,channelTitle:"Pro Gaming Channel",channelId:"UCprogaming",tags:["gaming","comeback","esports","competitive"],categoryId:"20"}];return{videos:n,totalResults:n.length,resultsPerPage:n.length}}getMockChannel(){return{id:"UCmockchannel",title:"GamePilot Official",description:"Your source for gaming content and community highlights",thumbnailUrl:"/images/mock/channel-avatar.jpg",subscriberCount:15e4,videoCount:450,viewCount:25e6,publishedAt:new Date("2020-01-01")}}isApiAvailable(){return!!this.apiKey}getApiInfo(){return{available:this.isApiAvailable(),maxResultsPerPage:this.maxResultsPerPage,rateLimits:{requestsPerDay:1e4,requestsPer100Seconds:100}}}}class d_{constructor(t,n){this.baseUrl="https://discord.com/api/v10",this.cdnUrl="https://cdn.discordapp.com",this.botToken=t||"your_discord_bot_token_here",this.userToken=n||"your_discord_user_token_here",!this.botToken&&!this.userToken&&console.warn("Discord tokens not provided. Some features will be limited to public data only.")}async getPublicGuildInfo(t){try{const n=await fetch(`${this.baseUrl}/guilds/${t}/widget.json`);if(n.ok){const s=await n.json();return this.transformWidgetResponse(s,t)}if(this.botToken){const s=await fetch(`${this.baseUrl}/guilds/${t}`,{headers:{Authorization:`Bot ${this.botToken}`}});if(s.ok){const i=await s.json();return this.transformGuildResponse(i)}}return null}catch(n){return console.error("Error fetching guild info:",n),null}}async getGuildChannels(t){if(!this.botToken)return console.warn("Bot token required for channel list"),[];try{const n=await fetch(`${this.baseUrl}/guilds/${t}/channels`,{headers:{Authorization:`Bot ${this.botToken}`}});if(!n.ok)throw new Error(`Discord API Error: ${n.statusText}`);return(await n.json()).map(i=>this.transformChannelResponse(i))}catch(n){return console.error("Error fetching guild channels:",n),[]}}async getGuildsForUser(t){const n=t||this.userToken;if(!n)return console.warn("User token required for guild list"),[];try{const s=await fetch(`${this.baseUrl}/users/@me/guilds`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Discord API Error: ${s.statusText}`);return(await s.json()).map(a=>this.transformGuildResponse(a))}catch(s){return console.error("Error fetching user guilds:",s),[]}}async getUserInfo(t){const n=t||this.userToken;if(!n)return console.warn("User token required for user info"),null;try{const s=await fetch(`${this.baseUrl}/users/@me`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Discord API Error: ${s.statusText}`);return this.transformUserResponse(await s.json())}catch(s){return console.error("Error fetching user info:",s),null}}async getUserActivity(t){const n=t||this.userToken;if(!n)return console.warn("User token required for activity info"),null;try{const s=await fetch(`${this.baseUrl}/users/@me/activities`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)return console.log("Activity info requires additional Discord permissions"),null;const i=await s.json();return i.length>0?this.transformActivityResponse(i[0]):null}catch(s){return console.error("Error fetching user activity:",s),null}}transformWidgetResponse(t,n){return{id:n,name:t.name,description:t.description,icon:t.icon?`${this.cdnUrl}/icons/${n}/${t.icon}.png`:void 0,memberCount:t.presence_count,presenceCount:t.presence_count,channels:[],features:[],createdAt:new Date}}transformGuildResponse(t){return{id:t.id,name:t.name,description:t.description,icon:t.icon?`${this.cdnUrl}/icons/${t.id}/${t.icon}.png`:void 0,memberCount:t.member_count,presenceCount:t.presence_count,ownerId:t.owner_id,features:t.features||[],channels:[],createdAt:t.id?this.extractSnowflakeDate(t.id):new Date}}transformChannelResponse(t){return{id:t.id,name:t.name,type:t.type,topic:t.topic,position:t.position,parentId:t.parent_id,nsfw:t.nsfw||!1,permissionOverwrites:t.permission_overwrites}}transformUserResponse(t){return{id:t.id,username:t.username,discriminator:t.discriminator,avatar:t.avatar?`${this.cdnUrl}/avatars/${t.id}/${t.avatar}.png`:void 0,publicFlags:t.public_flags,bot:t.bot||!1}}transformActivityResponse(t){return{type:t.type,name:t.name,details:t.details,state:t.state,applicationId:t.application_id,sessionId:t.session_id,assets:t.assets,timestamps:t.timestamps,party:t.party,secrets:t.secrets}}extractSnowflakeDate(t){const i=(BigInt(t)>>BigInt(22))+BigInt(14200704e5);return new Date(Number(i))}getMockGuilds(){return[{id:"123456789012345678",name:"GamePilot Community",description:"Official GamePilot Discord server for gaming enthusiasts",icon:"/images/mock/discord-icon.png",memberCount:2500,presenceCount:850,channels:[],features:["COMMUNITY","NEWS","WELCOME_SCREEN_ENABLED"],createdAt:new Date("2020-06-15")},{id:"987654321098765432",name:"Competitive Gaming Hub",description:"Tournaments, scrims, and competitive gaming discussion",icon:"/images/mock/discord-icon-2.png",memberCount:1200,presenceCount:420,channels:[],features:["COMMUNITY"],createdAt:new Date("2021-03-20")}]}getMockChannels(){return[{id:"123456789012345678",name:"general",type:"text",topic:"General gaming discussion",position:0,nsfw:!1},{id:"987654321098765432",name:"looking-for-group",type:"text",topic:"Find teammates for your favorite games",position:1,nsfw:!1},{id:"555566667778889999",name:"Gaming Voice",type:"voice",position:2,nsfw:!1}]}isIntegrationAvailable(){return{botAvailable:!!this.botToken,userAvailable:!!this.userToken,publicAvailable:!0}}getIntegrationInfo(){return{version:"1.0",features:{publicGuildInfo:!0,userGuilds:!!this.userToken,guildChannels:!!this.botToken,userInfo:!!this.userToken,richPresence:!1},rateLimits:{requestsPerSecond:50,requestsPerMinute:1e3}}}}class u_{constructor(t){this.baseUrl="https://store.steampowered.com/api/featured",this.apiUrl="https://api.steampowered.com",this.maxResultsPerPage=100,this.apiKey=t||"FBB124C9352519E8F9FE820ADF0DA87C",this.apiKey||console.warn("Steam API key not provided. Some features will be limited.")}async getOwnedGames(t){if(!this.apiKey)return this.getMockOwnedGames();try{const n=new URLSearchParams({key:this.apiKey,steamid:t,format:"json",include_appinfo:"true",include_played_free_games:"true"}),s=await fetch(`${this.apiUrl}/IPlayerService/GetOwnedGames/v0001/?${n}`);if(!s.ok)throw new Error(`Steam API Error: ${s.statusText}`);const i=await s.json();return this.transformOwnedGamesResponse(i)}catch(n){return console.error("Error fetching owned games:",n),this.getMockOwnedGames()}}async getRecentlyPlayed(t){if(!this.apiKey)return this.getMockRecentlyPlayedGames();try{const n=new URLSearchParams({key:this.apiKey,steamid:t,format:"json"}),s=await fetch(`${this.apiUrl}/IPlayerService/GetRecentlyPlayedGames/v0001/?${n}`);if(!s.ok)throw new Error(`Steam API Error: ${s.statusText}`);const i=await s.json();return this.transformRecentlyPlayedResponse(i)}catch(n){return console.error("Error fetching recently played games:",n),this.getMockRecentlyPlayedGames()}}async getGameDetails(t){var n,s;if(!this.apiKey)return this.getMockGameDetails(t);try{const i=new URLSearchParams({appids:t.toString(),key:this.apiKey,format:"json",cc:"us",l:"english"}),a=await fetch(`${this.apiUrl}/ISteamUser/GetPlayerSummaries/v0002/?${i}`);if(!a.ok)throw new Error(`Steam API Error: ${a.statusText}`);if((((n=(await a.json()).response)==null?void 0:n.games)||[]).length===0)return null;const c=new URLSearchParams({appid:t.toString(),key:this.apiKey,format:"json",cc:"us",l:"english"}),d=await fetch(`${this.apiUrl}/ISteamUser/GetAppList/v2/?${c}`);if(!d.ok)throw new Error(`Steam API Error: ${d.statusText}`);const m=(s=(await d.json()).applist)==null?void 0:s.find(h=>h.appid===t);return m?this.transformGameDetailsResponse(m):null}catch(i){return console.error("Error fetching game details:",i),this.getMockGameDetails(t)}}async getPlayerSummary(t){var n;if(!this.apiKey)return this.getMockPlayerSummary();try{const s=new URLSearchParams({key:this.apiKey,steamids:t,format:"json"}),i=await fetch(`${this.apiUrl}/ISteamUser/GetPlayerSummaries/v0002/?${s}`);if(!i.ok)throw new Error(`Steam API Error: ${i.statusText}`);const o=((n=(await i.json()).response)==null?void 0:n.players)||[];return o.length===0?null:this.transformPlayerSummaryResponse(o[0])}catch(s){return console.error("Error fetching player summary:",s),this.getMockPlayerSummary()}}transformOwnedGamesResponse(t){var s;return(((s=t.response)==null?void 0:s.games)||[]).map(i=>{var o;const a=i.data||{};return{appId:a.appid,name:a.name||"Unknown Game",steamId:i.steamid,playtimeForever:a.playtime_forever||0,playtimeWindows:a.playtime_windows||0,playtimeMac:a.playtime_mac||0,playtimeLinux:a.playtime_linux||0,imgIconUrl:a.img_icon_url||"",imgLogoUrl:a.img_logo_url||"",hasCommunityVisibleStats:a.has_community_visible_stats||!1,playtimeLastTwoWeeks:a.playtime_last_two_weeks||0,playtimeAtLastUpdate:new Date,headerImage:a.header_image||"",shortDescription:a.short_description||"",supportedLanguages:a.supported_languages||[],developers:a.developers||[],publishers:a.publishers||[],genres:a.genres||[],categories:a.categories||[],releaseDate:a.release_date?new Date(a.release_date*1e3):new Date,metacriticScore:(o=a.metacritic)==null?void 0:o.score,recommendations:a.recommendations||0,isFree:a.is_free||!1,priceOverview:a.price_overview,platforms:a.platforms||[]}})}transformRecentlyPlayedResponse(t){var s;return(((s=t.response)==null?void 0:s.games)||[]).map(i=>({appId:i.appid,name:i.name||"Unknown Game",playtime2weeks:i.playtime_2weeks||0,playtimeForever:i.playtime_forever||0,imgIconUrl:i.img_icon_url||"",lastPlayed:i.last_played?new Date(i.last_played*1e3):new Date}))}transformGameDetailsResponse(t){return{steamId:t.steamid||"",name:t.name||"Unknown Game",description:t.detailed_description||"",aboutTheGame:t.about_the_game||"",shortDescription:t.short_description||"",supportedLanguages:t.supported_languages||[],reviews:t.reviews||"",headerImage:t.header_image||"",website:t.website,developers:t.developers||[],publishers:t.publishers||[],genres:t.genres||[],categories:t.categories||[],releaseDate:t.steam_release_date?new Date(t.steam_release_date*1e3):new Date,platforms:t.platforms||[],metacritic:t.metacritic||{score:0,url:""},recommendations:t.recommendations||0,priceOverview:t.price_overview,screenshots:t.screenshots||[],movies:t.movies||[],dlc:t.dlc||[],requirements:t.requirements||{minimum:"",recommended:""}}}transformPlayerSummaryResponse(t){return{steamId:t.steamid||"",personaName:t.personaname||"Unknown Player",profileUrl:t.profileurl||"",avatar:t.avatarfull||t.avatar||"",realName:t.realname||"",primaryClanId:t.primaryclanid,timeCreated:t.timecreated?new Date(t.timecreated*1e3):new Date,lastLogoff:t.lastlogoff?new Date(t.lastlogoff*1e3):new Date,gameCount:t.gamecount||0,gameServerIp:t.gameserverip,gameServerPort:t.gameserverport}}getMockOwnedGames(){return[{appId:730,name:"Counter-Strike: Global Offensive",steamId:"76561197960287930",playtimeForever:1250,playtimeWindows:1200,playtimeMac:50,playtimeLinux:0,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/icon.jpg",imgLogoUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/logo.jpg",hasCommunityVisibleStats:!0,playtimeLastTwoWeeks:300,playtimeAtLastUpdate:new Date,headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/730/header.jpg",shortDescription:"Play the world's number 1 online action game.",supportedLanguages:["English","French","German","Spanish","Italian","Japanese"],developers:["Valve","Hidden Path Entertainment"],publishers:["Valve"],genres:["Action"],categories:["Multi-player","FPS"],releaseDate:new Date("2012-08-21"),metacriticScore:83,recommendations:0,isFree:!1,platforms:["Windows","macOS","Linux"]},{appId:440,name:"Team Fortress 2",steamId:"76561197960287930",playtimeForever:890,playtimeWindows:850,playtimeMac:40,playtimeLinux:0,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/icon.jpg",imgLogoUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/logo.jpg",hasCommunityVisibleStats:!0,playtimeLastTwoWeeks:200,playtimeAtLastUpdate:new Date,headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/440/header.jpg",shortDescription:"Team-based multiplayer FPS.",supportedLanguages:["English","French","German","Spanish","Italian"],developers:["Valve"],publishers:["Valve"],genres:["Action"],categories:["Multi-player","FPS"],releaseDate:new Date("2007-10-10"),metacriticScore:92,recommendations:0,isFree:!1,platforms:["Windows","macOS","Linux"]}]}getMockRecentlyPlayedGames(){return[{appId:730,name:"Counter-Strike: Global Offensive",playtime2weeks:25,playtimeForever:1250,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/icon.jpg",lastPlayed:new Date(Date.now()-1e3*60*60*24)},{appId:440,name:"Team Fortress 2",playtime2weeks:15,playtimeForever:890,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/icon.jpg",lastPlayed:new Date(Date.now()-1e3*60*60*48)}]}getMockPlayerSummary(){return{steamId:"76561197960287930",personaName:"GamePilotUser",profileUrl:"https://steamcommunity.com/id/GamePilotUser",avatar:"https://cdn.akamai.steamstatic.com/steamcommunity/public/images/avatars/01/01/12345678901234567890_full.jpg",realName:"GamePilot User",timeCreated:new Date("2020-01-15"),lastLogoff:new Date(Date.now()-1e3*60*60*2),gameCount:156,gameServerIp:"192.168.1.100",gameServerPort:27015}}isApiAvailable(){return!!this.apiKey}getMockGameDetails(t){return{steamId:t.toString(),name:"Mock Game",description:"Mock game description for testing",aboutTheGame:"Mock about the game",shortDescription:"Mock short description",supportedLanguages:["English"],reviews:"Mock reviews",headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/730/header.jpg",developers:["Mock Developer"],publishers:["Mock Publisher"],genres:["Action"],categories:["Multi-player"],releaseDate:new Date,platforms:["Windows"],metacritic:{score:85,url:"https://www.metacritic.com"},recommendations:1e3,priceOverview:{currency:"USD",initial:5999,final:2999,discountPercent:50,individual:2999},screenshots:[],movies:[],dlc:[],requirements:{minimum:"OS: Windows 10 64-bit",recommended:"OS: Windows 10 64-bit, 16GB RAM"}}}getApiInfo(){return{available:this.isApiAvailable(),maxResultsPerPage:this.maxResultsPerPage,rateLimits:{requestsPerMinute:1e5,requestsPerDay:1e6}}}}class rd{constructor(t){var n,s,i,a;this.config=t,this.youtube=new c_((n=t.youtube)==null?void 0:n.apiKey),this.discord=new d_((s=t.discord)==null?void 0:s.botToken,(i=t.discord)==null?void 0:i.userToken),this.steam=new u_((a=t.steam)==null?void 0:a.apiKey)}getYouTube(){return this.youtube}getDiscord(){return this.discord}getSteam(){return this.steam}getAvailableIntegrations(){var t,n,s;return{youtube:{available:this.youtube.isApiAvailable(),enabled:((t=this.config.youtube)==null?void 0:t.enabled)||!1},discord:{available:this.discord.isIntegrationAvailable(),enabled:((n=this.config.discord)==null?void 0:n.enabled)||!1},steam:{available:this.steam.isApiAvailable(),enabled:((s=this.config.steam)==null?void 0:s.enabled)||!1}}}getIntegrationStatus(){const t=this.getAvailableIntegrations();return{youtube:{status:t.youtube.enabled&&t.youtube.available?"connected":t.youtube.enabled?"error":"disabled",message:t.youtube.available?"Connected to YouTube API":t.youtube.enabled?"YouTube API unavailable":"YouTube integration disabled"},discord:{status:t.discord.available.botAvailable?"connected":t.discord.enabled?"partial":"disabled",message:t.discord.available.botAvailable?"Connected to Discord API":t.discord.enabled?"Discord partially connected":"Discord integration disabled"},steam:{status:t.steam.enabled&&t.steam.available?"connected":t.steam.enabled?"error":"disabled",message:t.steam.available?"Connected to Steam API":t.steam.enabled?"Steam API unavailable":"Steam integration disabled"}}}}const m_=()=>{const[e,t]=b.useState(null),[n,s]=b.useState([{id:"steam",name:"Steam",description:"Connect your Steam account to import your game library, track playtime, and sync achievements",icon:"",color:"from-blue-500 to-blue-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Steam integration disabled",features:[" Import game library"," Track playtime statistics"," Sync achievements"," Game recommendations"," Gaming analytics"]},{id:"youtube",name:"YouTube",description:"Connect YouTube to discover gaming content, watch trailers, and follow your favorite creators",icon:"",color:"from-red-500 to-red-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"YouTube integration disabled",features:[" Gaming content discovery"," Watch trailers & gameplay"," Follow creators"," Search gaming videos"," Trending content"]},{id:"discord",name:"Discord",description:"Link Discord to join gaming communities, chat with friends, and share your gaming status",icon:"",color:"from-indigo-500 to-purple-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Discord integration disabled",features:[" Join gaming communities"," Chat with friends"," Rich presence"," Server analytics"," Share gaming status"]},{id:"twitch",name:"Twitch",description:"Connect Twitch to watch live streams, follow streamers, and discover gaming content",icon:"",color:"from-purple-500 to-purple-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Twitch integration coming soon",features:[" Watch live streams"," Follow streamers"," Gaming content"," Chat integration"," Stream analytics"]},{id:"reddit",name:"Reddit",description:"Connect Reddit to join gaming subreddits, discuss games, and share content",icon:"",color:"from-orange-500 to-red-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Reddit integration coming soon",features:[" Gaming subreddits"," Game discussions"," Trending topics"," Content sharing"," Community engagement"]},{id:"spotify",name:"Spotify",description:"Sync Spotify to share gaming playlists and discover music that matches your gaming mood",icon:"",color:"from-green-500 to-green-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Spotify integration coming soon",features:[" Gaming playlists"," Mood-based music"," Listening stats"," Share playlists"," Game soundtracks"]},{id:"twitter",name:"Twitter/X",description:"Connect Twitter/X to follow gaming news, share achievements, and join gaming conversations",icon:"",color:"from-blue-400 to-blue-500",isConnected:!1,isAvailable:!1,status:"disabled",message:"Twitter/X integration coming soon",features:[" Gaming news"," Share achievements"," Gaming discussions"," Follow creators"," Trending topics"]}]);b.useEffect(()=>{const h=localStorage.getItem("gamepilot-integration-config");let f={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!1}};if(h)try{f=JSON.parse(h)}catch(g){console.error("Error loading integration config:",g)}const p=new rd(f);t(p),i(p)},[]);const i=h=>{const f=h.getIntegrationStatus(),p=h.getAvailableIntegrations();s(g=>g.map(y=>{var j;const x=f[y.id],v=p[y.id];if(!v)return{...y,isConnected:!1,isAvailable:!1,status:"disabled",message:`${y.name} integration not available`};if(!x)return{...y,isConnected:!1,isAvailable:!1,status:"disabled",message:`${y.name} status unknown`};const w=typeof v.available=="boolean"?v.available:((j=v.available)==null?void 0:j.botAvailable)||!1;return{...y,isConnected:x.status==="connected",isAvailable:w,status:x.status,message:x.message}}))},a=async h=>{const f=n.find(p=>p.id===h);if(f){if(["twitch","reddit","twitter","spotify"].includes(h)){alert(`${f.name} integration is coming soon! 

We're working on bringing ${f.name} to GamePilot. Stay tuned for updates!`);return}try{const p=n.map(S=>S.id===h?{...S,status:"partial",message:`Connecting to ${S.name}...`}:S);s(p);let g;if(h==="youtube")g={youtube:{enabled:!0,apiKey:"AIzaSyCX7KLLA_xWd6G7nC8w8H04XrpOSLpuSas"},discord:{enabled:!1},steam:{enabled:!1}};else if(h==="discord")g={youtube:{enabled:!1},discord:{enabled:!0,botToken:"your_discord_bot_token_here",userToken:"your_discord_user_token_here"},steam:{enabled:!1}};else if(h==="steam")g={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!0,apiKey:"FBB124C9352519E8F9FE820ADF0DA87C"}};else return;const y=new rd(g),x=y.getIntegrationStatus(),v=y.getAvailableIntegrations(),w=x[h],j=v[h];if(j!=null&&j.available&&(w==null?void 0:w.status)!=="error"){const S=n.map(C=>C.id===h?{...C,isConnected:!0,status:"connected",lastConnected:new Date().toISOString(),message:`${C.name} connected successfully!`}:C);s(S),t(y),localStorage.setItem("gamepilot-integration-config",JSON.stringify(g)),confirm(` ${f.name} integration activated!

Would you like to open ${f.name} to start exploring?`)&&m(h)}else throw new Error((w==null?void 0:w.message)||"Integration test failed")}catch(p){const g=n.map(y=>y.id===h?{...y,status:"error",message:`Failed to connect: ${p instanceof Error?p.message:"Unknown error"}`}:y);s(g),alert(` Failed to connect ${f.name}: ${p instanceof Error?p.message:"Unknown error"}`)}}},o=h=>{const f=n.map(g=>g.id===h?{...g,isConnected:!1,status:"disabled",settings:{}}:g);s(f);const p={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!1}};if(localStorage.setItem("gamepilot-integration-config",JSON.stringify(p)),e){const g=new rd(p);t(g),i(g)}},l=h=>{const f=n.find(p=>p.id===h);f&&alert(h==="youtube"?` ${f.name} Settings

Features available:
 Gaming video search
 Channel discovery
 Trending content
 Creator following

API Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:h==="discord"?` ${f.name} Settings

Features available:
 Server discovery
 Community chat
 Rich presence
 Activity sharing

Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:h==="steam"?` ${f.name} Settings

Features available:
 Game library sync
 Playtime tracking
 Achievement sync
 Profile integration

Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:`${f.name} settings coming soon!`)},c=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=h=>{switch(h){case"connected":return"bg-green-500";case"partial":return"bg-yellow-500";case"error":return"bg-red-500";case"disabled":return"bg-gray-500";default:return"bg-gray-500"}},u=h=>{switch(h){case"connected":return"Connected";case"partial":return"Partial";case"error":return"Error";case"disabled":return"Disabled";default:return"Unknown"}},m=h=>{const f=n.find(y=>y.id===h);if(!f)return;const g={youtube:"https://youtube.com",discord:"https://discord.com/app",steam:"https://store.steampowered.com",spotify:"https://spotify.com",twitch:"https://twitch.tv",reddit:"https://reddit.com/r/gaming",twitter:"https://twitter.com"}[h];if(g){window.open(g,"_blank");const y=document.createElement("div");y.className="fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50",y.textContent=` Launching ${f.name}...`,document.body.appendChild(y),setTimeout(()=>{y.remove()},3e3)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gaming-primary/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gaming-secondary/10 rounded-full blur-3xl"}),r.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[r.jsxs("header",{className:"mb-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold font-gaming bg-gradient-to-r from-gaming-primary via-gaming-accent to-gaming-secondary bg-clip-text text-transparent mb-4 animate-gradient",children:"Platform Integrations"}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Connect your favorite platforms to enhance your gaming experience with real-time data, social features, and personalized content"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"glass-morphism rounded-full px-6 py-3 flex items-center gap-3 border border-white/10",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"Integration Manager Active"}),r.jsx("div",{className:"w-px h-4 bg-white/20"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[n.filter(h=>h.isConnected).length," Connected"]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8 mb-16",children:n.map((h,f)=>r.jsxs("div",{className:"group relative",style:{animationDelay:`${f*100}ms`},children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h.color} opacity-0 group-hover:opacity-20 rounded-2xl blur-xl transition-all duration-500`}),r.jsxs("div",{className:"relative glass-morphism rounded-2xl p-6 cinematic-shadow hover:transform hover:scale-[1.02] transition-all duration-500 border border-white/10 hover:border-white/20",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`relative w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-gradient-to-br ${h.color} ${h.isConnected?"ring-4 ring-white/30 shadow-lg":"shadow-md"} transform transition-all duration-300 group-hover:scale-110`,children:[r.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:h.icon}),h.isConnected&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:r.jsx("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:h.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="connected"?"bg-green-500/20 text-green-400 border border-green-500/30":h.status==="partial"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":h.status==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d(h.status)}`}),u(h.status)]}),h.isAvailable&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs",children:[r.jsx("div",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"Available"]})]})]})]})}),r.jsx("div",{className:"mb-4",children:r.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:h.description})}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-1",children:h.features.slice(0,4).map((p,g)=>r.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[r.jsx("span",{className:"text-gaming-accent text-xs",children:""}),r.jsx("span",{className:"truncate",children:p.replace(/[]/g,"").trim()})]},g))})}),r.jsxs("div",{className:"mb-4 p-2 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[r.jsx("p",{className:"text-xs text-gray-400 truncate",children:h.message}),h.lastConnected&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Connected ",c(h.lastConnected)]})]}),r.jsx("div",{className:"flex gap-2",children:h.isConnected?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m(h.id),className:"flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gray-700 text-white hover:bg-gray-600 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r.jsx("span",{className:"text-xs",children:"Launch"})]})}),r.jsx("button",{onClick:()=>l(h.id),className:`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r ${h.color} text-white hover:opacity-90 hover:shadow-lg transform hover:scale-105 text-sm`,children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-xs",children:"Settings"})]})}),r.jsx("button",{onClick:()=>o(h.id),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-red-600 text-white hover:bg-red-700 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),r.jsx("span",{className:"text-xs",children:"Disconnect"})]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>a(h.id),disabled:h.id==="spotify"||h.status==="partial",className:`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${h.id==="spotify"?"bg-gray-700 text-gray-400 cursor-not-allowed":h.status==="partial"?"bg-yellow-600 text-white cursor-wait":`bg-gradient-to-r ${h.color} text-white hover:opacity-90 hover:shadow-lg transform hover:scale-105`}`,children:h.id==="spotify"?"Coming Soon":h.status==="partial"?r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-xs",children:"Connecting..."})]}):r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Connect"]})}),h.id!=="spotify"&&!["twitch","reddit","twitter"].includes(h.id)&&r.jsx("button",{onClick:()=>m(h.id),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gray-700 text-white hover:bg-gray-600 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r.jsx("span",{className:"text-xs",children:"Launch"})]})})]})})]})]},h.id))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:[r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-gaming-primary to-gaming-secondary flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Enhanced Gaming Experience"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Real-time Synchronization"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your game library stays updated across all platforms automatically"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Achievement Tracking"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Automatic playtime and achievement tracking from connected services"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Smart Recommendations"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Personalized content based on your gaming preferences"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Social Integration"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Connect with friends and share your gaming experiences"})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Privacy & Security"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Local Data Processing"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your data stays on your device with optional cloud backup"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Granular Permissions"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Control exactly what each integration can access"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Easy Disconnect"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Remove integrations instantly with one click"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"No Data Sharing"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"We never share your data without explicit consent"})]})]})]})]})]}),r.jsx("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-3xl mx-auto mb-6",children:r.jsx("span",{children:""})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),r.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"Get help setting up integrations or troubleshoot connection issues with our comprehensive support resources"}),r.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[r.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl hover:opacity-90 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Documentation"]}),r.jsxs("button",{className:"px-6 py-3 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Support Chat"]}),r.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:opacity-90 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})]})]})})]})]})},h_=({isOpen:e,onClose:t,title:n,description:s,children:i,position:a="center"})=>{const[o,l]=b.useState(!1);if(b.useEffect(()=>{l(!!e)},[e]),!e)return null;const c=d=>{d.target===d.currentTarget&&t()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 animate-fade-in",onClick:c}),r.jsx("div",{className:`fixed z-50 ${a==="bottom"?"bottom-0 left-0 right-0":"inset-0 flex items-center justify-center"}`,children:r.jsxs("div",{className:`
            glass-morphism rounded-2xl border border-white/20 shadow-2xl
            ${a==="bottom"?"mx-4 mb-4":"mx-4 max-w-lg w-full"}
            ${o?"animate-scale-in":"animate-scale-out"}
            transition-all duration-300
          `,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:n}),r.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-colors duration-200",children:r.jsx("span",{className:"text-lg",children:""})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-300 mb-4",children:s}),i&&r.jsx("div",{className:"mt-4",children:i})]})]})})]})},or=({title:e,icon:t,value:n,subtitle:s,progress:i,progressColor:a="from-gaming-primary to-gaming-accent",onClick:o,children:l})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:transform hover:-translate-y-1 hover:shadow-cinematic-epic transition-all duration-300 cursor-pointer group relative overflow-hidden",onClick:o,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[r.jsx("h3",{className:"text-xs font-gaming font-semibold text-white/50 uppercase tracking-widest",children:e}),r.jsx("span",{className:"text-2xl group-hover:scale-125 transition-transform duration-500 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.4)]",children:t})]}),r.jsx("p",{className:"text-3xl font-gaming font-bold text-white mb-1 relative z-10 tracking-tight",children:n}),r.jsx("p",{className:"text-xs text-white/40 mb-4 relative z-10 font-medium uppercase tracking-wide",children:s}),l,i!==void 0&&r.jsx("div",{className:"mt-4 w-full bg-gray-700/50 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${a} transition-all duration-500`,style:{width:`${Math.min(i,100)}%`}})}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),p_=({moodDistribution:e,totalTrends:t,getMoodEmoji:n,getMoodColor:s,onMoodClick:i})=>{const a=Object.values(e).reduce((o,l)=>o+l,0)||1;return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-cinematic transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gaming-primary/5 blur-[60px] rounded-full"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 flex items-center gap-3 uppercase tracking-tight relative z-10",children:["Mood Distribution",r.jsx("span",{className:"h-[1px] w-12 bg-white/20"}),r.jsx("span",{className:"text-[10px] text-white/40 font-sans tracking-widest uppercase",children:"Emotional Analysis"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,o],[,l])=>l-o).map(([o,l],c)=>{const d=l/a*100;return r.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${c*100}ms`},onClick:()=>i==null?void 0:i(o,l,d),children:[r.jsxs("div",{className:"flex items-center gap-2 w-24",children:[r.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform duration-200",children:n(o)}),r.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:o})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[r.jsx("div",{className:`h-4 rounded-full ${s(o)} transition-all duration-1000 ease-out`,style:{width:`${d}%`,animationDelay:`${c*150}ms`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:l}),r.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(",Math.round(d),"%)"]})]})]},o)})})]})},f_=({genreAffinity:e,mostPlayedMood:t,onGenreClick:n})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-cinematic transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gaming-secondary/5 blur-[60px] rounded-full"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 flex items-center gap-3 uppercase tracking-tight relative z-10",children:["Genre Affinity",r.jsx("span",{className:"h-[1px] w-12 bg-white/20"}),r.jsx("span",{className:"text-[10px] text-white/40 font-sans tracking-widest uppercase",children:"Preference Mapping"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,s],[,i])=>i-s).map(([s,i],a)=>r.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${a*100}ms`},onClick:()=>n==null?void 0:n(s,i),title:`You play this most when you're ${t}`,children:[r.jsx("div",{className:"w-24",children:r.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:s})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[r.jsx("div",{className:"h-4 rounded-full bg-gradient-to-r from-gaming-primary to-gaming-accent transition-all duration-1000 ease-out",style:{width:`${i*100}%`,animationDelay:`${a*150}ms`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:[Math.round(i*100),"%"]})})]},s))})]}),g_=({bestGamingTime:e,preferredSessionLength:t,topRecommendedMoods:n,getMoodEmoji:s,onInsightClick:i})=>r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-8 border border-white/5 shadow-cinematic relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gaming-primary/5 via-transparent to-transparent pointer-events-none"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 uppercase tracking-widest flex items-center gap-3",children:["Personal Insights",r.jsx("span",{className:"flex-1 h-[1px] bg-white/10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 relative z-10",children:[r.jsxs("div",{className:"group cursor-pointer transition-all duration-300 p-4 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/10",onClick:()=>i==null?void 0:i("time"),children:[r.jsx("h4",{className:"text-gaming-primary font-gaming text-xs uppercase tracking-widest mb-3 opacity-80 group-hover:opacity-100 transition-opacity",children:"Optimal Window"}),r.jsx("p",{className:"text-2xl font-bold text-white capitalize mb-1 group-hover:text-gaming-secondary transition-colors",children:e}),r.jsx("p",{className:"text-white/40 text-sm leading-relaxed",children:"Performance peaks during these hours."}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),r.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>i==null?void 0:i("session"),children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Preferred Session Length"}),r.jsxs("p",{className:"text-white",children:[t," minutes"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your optimal gaming session duration"}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),r.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>i==null?void 0:i("moods"),children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Top Recommendation Moods"}),r.jsx("div",{className:"flex gap-2",children:n.map(a=>r.jsxs("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm capitalize",children:[s(a)," ",a]},a))}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Moods that work best for you"}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]})]})]}),y_=({analyticsData:e,getMoodEmoji:t,getMoodColor:n,AnimatedNumber:s,onCardClick:i,onMoodClick:a,onGenreClick:o,onInsightClick:l})=>{var h,f,p,g,y;const c=Rw(),{games:d}=be(),{primaryMoodInfo:u,hasRecommendations:m}=Rh({games:d});return r.jsxs("div",{className:"space-y-8",children:[c&&r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:r.jsx(or,{title:"Gaming Persona",icon:"",value:((h=c.traits)==null?void 0:h.archetypeId)||"Unknown",subtitle:`${(f=c.traits)==null?void 0:f.intensity} intensity  ${Math.round((c.confidence||0)*100)}% confidence`,progress:(c.confidence||0)*100,progressColor:"from-purple-500 to-pink-500",onClick:()=>i==null?void 0:i("persona",c),children:r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Pacing"}),r.jsx("div",{className:"text-white font-medium",children:(p=c.traits)==null?void 0:p.pacing})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Social"}),r.jsx("div",{className:"text-white font-medium",children:(g=c.traits)==null?void 0:g.socialStyle})]})]})})}),m&&u&&r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s"},children:r.jsx(or,{title:"Current Mood",icon:u.emoji,value:u.name,subtitle:"Active mood state",progress:75,progressColor:((y=u.color)==null?void 0:y.replace("from-","from-").replace(" to-"," to-"))||"from-blue-500 to-cyan-500",onClick:()=>i==null?void 0:i("currentMood",u)})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in-up",style:{animationDelay:"0.6s"},children:[r.jsx(or,{title:"Total Playtime",icon:"",value:r.jsx(s,{value:Math.round(e.gamingPatterns.totalPlaytime),suffix:"h"}),subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:Math.round(e.gamingPatterns.averageSessionLength),suffix:"min"})," avg session"]}),progress:Math.min(e.gamingPatterns.totalPlaytime/100*100,100),onClick:()=>i==null?void 0:i("totalPlaytime",e.gamingPatterns)}),r.jsx(or,{title:"Favorite Mood",icon:t(e.gamingPatterns.mostPlayedMood),value:e.gamingPatterns.mostPlayedMood,subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]})," sessions"]}),onClick:()=>i==null?void 0:i("favoriteMood",e.gamingPatterns),children:r.jsxs("div",{className:"mt-4 relative w-12 h-12 mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gray-700/50 rounded-full"}),r.jsx("div",{className:`absolute inset-0 ${n(e.gamingPatterns.mostPlayedMood)} rounded-full transition-all duration-500`,style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]/e.moodTrends.length*100}% 0%, 50% 50%)`}})]})}),r.jsx(or,{title:"Recommendation Success",icon:"",value:r.jsx(s,{value:e.recommendationMetrics.successRate,suffix:"%"}),subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:e.recommendationMetrics.acceptedRecommendations})," of ",r.jsx(s,{value:e.recommendationMetrics.totalRecommendations})," accepted"]}),progress:e.recommendationMetrics.successRate,progressColor:"from-green-500 to-emerald-500",onClick:()=>i==null?void 0:i("recommendationSuccess",e.recommendationMetrics)}),r.jsx(or,{title:"Mood Stability",icon:"",value:r.jsx(s,{value:Math.round(e.userInsights.moodStability*100),suffix:"%"}),subtitle:"Consistent mood patterns",progress:e.userInsights.moodStability*100,progressColor:"from-blue-500 to-purple-500",onClick:()=>i==null?void 0:i("moodStability",e.userInsights),children:r.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-gray-700/50 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${e.userInsights.moodStability*100}%`}})}),r.jsx("div",{className:`w-2 h-2 rounded-full ${e.userInsights.moodStability>.7?"bg-green-500":e.userInsights.moodStability>.4?"bg-yellow-500":"bg-red-500"}`})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in-up",style:{animationDelay:"0.8s"},children:[r.jsx(p_,{moodDistribution:e.gamingPatterns.moodDistribution,totalTrends:e.moodTrends.length,getMoodEmoji:t,getMoodColor:n,onMoodClick:a}),r.jsx(f_,{genreAffinity:e.userInsights.genreAffinity,mostPlayedMood:e.gamingPatterns.mostPlayedMood,onGenreClick:o})]}),r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"1.0s"},children:r.jsx(g_,{bestGamingTime:e.userInsights.bestGamingTime,preferredSessionLength:e.userInsights.preferredSessionLength,topRecommendedMoods:e.recommendationMetrics.topRecommendedMoods,getMoodEmoji:t,onInsightClick:l})})]})},oo=({value:e,suffix:t="",duration:n=1e3})=>{const[s,i]=b.useState(0);return b.useEffect(()=>{const a=Date.now(),o=0,l=e,c=()=>{const d=Date.now(),u=Math.min((d-a)/n,1),m=1-Math.pow(1-u,4),h=o+(l-o)*m;i(h),u<1&&requestAnimationFrame(c)};c()},[e,n]),r.jsxs(r.Fragment,{children:[Math.round(s),t]})},x_=()=>{const[e,t]=b.useState(!0),[n,s]=b.useState(null),[i,a]=b.useState("week"),[o,l]=b.useState(null),[c,d]=b.useState(null);b.useEffect(()=>{(async()=>{try{const R=await je("api/analytics/summary");if(R.ok){const $=await R.json();$.success&&s($.data)}}catch{console.warn("Failed to fetch real analytics, falling back to local calculation")}finally{t(!1)}})()},[]);const u=Gn(),{games:m}=be(),[h,f]=b.useState(!1),[p,g]=b.useState({isOpen:!1,title:"",description:"",content:void 0}),y=b.useCallback((P,R,$)=>{var oe,me,pe;if(!u||!m.length)return null;const U=new Date,q=P==="week"?7:P==="month"?30:365,ee=new Date(U.getTime()-q*24*60*60*1e3),N=m.filter(de=>{const fe=de.lastPlayed?new Date(de.lastPlayed):null,nt=!fe||fe>=ee,z=!R||(de.emotionalTags||[]).some(X=>typeof X=="string"?X===R:X.name===R),Q=!$||(de.genres||[]).some(X=>typeof X=="string"?X===$:X.name===$);return nt&&z&&Q}),Y=n?[{date:new Date().toLocaleDateString(),mood:n.favoriteMood,confidence:.8,sessionLength:n.averageSessionLength}]:[{date:new Date().toLocaleDateString(),mood:((oe=u.mood)==null?void 0:oe.moodId)||"chill",confidence:.8,sessionLength:60}],A={totalPlaytime:(n==null?void 0:n.totalPlaytime)??N.reduce((de,fe)=>de+(fe.hoursPlayed||0),0),averageSessionLength:(n==null?void 0:n.averageSessionLength)??60,mostPlayedMood:(n==null?void 0:n.favoriteMood)||((me=u.mood)==null?void 0:me.moodId)||"chill",moodDistribution:(n==null?void 0:n.moodDistribution)||{[((pe=u.mood)==null?void 0:pe.moodId)||"chill"]:35,competitive:25,story:20,creative:15,social:5}},F={totalRecommendations:Math.floor(N.length*1.5),acceptedRecommendations:Math.floor(N.length*.85),successRate:85,topRecommendedMoods:Object.keys(A.moodDistribution).slice(0,3)},L={},G={};m.forEach(de=>{de.genres&&de.genres.forEach(fe=>{const nt=typeof fe=="string"?fe:fe.name;G[nt]||(G[nt]={playtime:0,rating:0,frequency:0}),de.hoursPlayed&&(G[nt].playtime+=de.hoursPlayed),de.userRating&&(G[nt].rating+=de.userRating),G[nt].frequency++})});const I=Math.max(...Object.values(G).map(de=>de.playtime),1),V=Math.max(...Object.values(G).map(de=>de.frequency),1);return Object.entries(G).forEach(([de,fe])=>{const nt=fe.playtime/I,z=fe.frequency/V,Q=fe.rating/5;L[de]=nt*.5+z*.3+Q*.2}),{moodTrends:Y,gamingPatterns:A,recommendationMetrics:F,userInsights:{bestGamingTime:"Evening",preferredSessionLength:60,moodStability:.75,genreAffinity:L}}},[u,m]),x=b.useMemo(()=>y(i,o||void 0,c||void 0),[y,i,o,c]);if(b.useEffect(()=>{t(!1)},[i]),e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading analytics..."})]})});const v=P=>({chill:"bg-blue-500",energetic:"bg-orange-500",competitive:"bg-red-500",social:"bg-purple-500",creative:"bg-green-500",focused:"bg-yellow-500",story:"bg-indigo-500",exploratory:"bg-teal-500"})[P]||"bg-gray-500",w=P=>({chill:"",energetic:"",competitive:"",social:"",creative:"",focused:"",story:"",exploratory:""})[P]||"",j=()=>{g(P=>({...P,isOpen:!1}))},S=(P,R,$)=>{g({isOpen:!0,title:P,description:R,content:$})},T=(P,R)=>{var $;switch(P){case"totalPlaytime":S("Total Playtime Analysis","You have accumulated significant gaming time with consistent session patterns.",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Breakdown"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Short sessions (<30min)"}),r.jsx("span",{className:"text-white",children:"25%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Medium sessions (30-90min)"}),r.jsx("span",{className:"text-white",children:"60%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Long sessions (>90min)"}),r.jsx("span",{className:"text-white",children:"15%"})]})]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Peak Gaming Hours"}),r.jsxs("p",{className:"text-gray-300",children:["You play most during ",R.bestGamingTime||"evening"," hours"]})]})]}));break;case"favoriteMood":S(`${R.mostPlayedMood} Mood Analysis`,`Your most frequent gaming mood is ${R.mostPlayedMood}, indicating your preferred emotional state for gaming.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Mood Triggers"}),r.jsxs("p",{className:"text-gray-300",children:["You enter ",R.mostPlayedMood," mood most often when playing puzzle and creative games"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Performance"}),r.jsxs("p",{className:"text-gray-300",children:["In ",R.mostPlayedMood," mood, you tend to play 20% longer sessions"]})]})]}));break;case"recommendationSuccess":S("Recommendation Success Analysis",`You have a ${R.successRate}% success rate with our recommendations, showing strong trust in our system.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Acceptance Patterns"}),r.jsxs("p",{className:"text-gray-300",children:["You most often accept recommendations in the ",(($=R.topRecommendedMoods)==null?void 0:$[0])||"creative"," mood"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Favorite Categories"}),r.jsx("p",{className:"text-gray-300",children:"Puzzle and adventure games get the highest acceptance rates"})]})]}));break;case"moodStability":S("Mood Stability Analysis",`Your mood stability is ${Math.round(R.moodStability*100)}%, indicating ${R.moodStability>.7?"very consistent":R.moodStability>.4?"moderately consistent":"variable"} gaming patterns.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Consistency Factors"}),r.jsxs("p",{className:"text-gray-300",children:["Your mood is most stable during ",R.bestGamingTime||"evening"," gaming sessions"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Improvement Tips"}),r.jsx("p",{className:"text-gray-300",children:"Try maintaining consistent gaming times for better mood stability"})]})]}));break}},C=(P,R,$)=>{S(`${P} Mood Deep Dive`,`You've experienced ${P} mood ${R} times (${Math.round($)}% of your sessions).`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Your Most Played Games"}),r.jsxs("div",{className:"space-y-1",children:[((n==null?void 0:n.topGames)||[]).map((U,q)=>r.jsxs("div",{className:"text-gray-300",children:[" ",U.title," (",U.hours,"h played)"]},q)),(!(n!=null&&n.topGames)||n.topGames.length===0)&&r.jsx("div",{className:"text-gray-500 italic",children:"No games analyzed for this mood yet"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Time-of-Day Correlation"}),r.jsxs("p",{className:"text-gray-300",children:["You feel ",P," most often during evening hours"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Length"}),r.jsxs("p",{className:"text-gray-300",children:["Average ",P," sessions last 45 minutes"]})]})]}))},k=(P,R)=>{S(`${P} Genre Analysis`,`You have a ${Math.round(R*100)}% affinity for ${P} games.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("h4",{className:"text-gaming-primary font-medium mb-2",children:["When You Play ",P]}),r.jsxs("p",{className:"text-gray-300",children:["You prefer ",P," games most during evening hours"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Typical Mood"}),r.jsxs("p",{className:"text-gray-300",children:["You're usually in a ",(x==null?void 0:x.gamingPatterns.mostPlayedMood)||"creative"," mood when playing ",P]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Duration"}),r.jsxs("p",{className:"text-gray-300",children:["Average ",P," sessions last ",(x==null?void 0:x.gamingPatterns.averageSessionLength)||60," minutes"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Most Played in Library"}),r.jsx("div",{className:"space-y-1",children:((n==null?void 0:n.topGames)||[]).map(($,U)=>r.jsxs("div",{className:"text-gray-300",children:[" ",$.title," (",$.hours,"h)"]},U))})]})]}))},E=P=>{switch(P){case"time":S("Best Gaming Time Analysis",`Your optimal gaming time is ${(x==null?void 0:x.userInsights.bestGamingTime)||"evening"}.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why Evening Works Best"}),r.jsx("p",{className:"text-gray-300",children:"Your mood stability is highest during evening hours, leading to better gaming performance and enjoyment."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Performance Metrics"}),r.jsx("p",{className:"text-gray-300",children:"Evening sessions show 25% higher completion rates and better mood consistency."})]})]}));break;case"session":S("Optimal Session Length Analysis",`Your ideal session length is ${(x==null?void 0:x.userInsights.preferredSessionLength)||60} minutes.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why This Length Works"}),r.jsx("p",{className:"text-gray-300",children:"This duration maximizes engagement while preventing fatigue, maintaining optimal focus and enjoyment."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Patterns"}),r.jsx("p",{className:"text-gray-300",children:"Sessions longer than 90 minutes show decreased performance, while sessions under 30 minutes feel incomplete."})]})]}));break;case"moods":S("Top Recommendation Moods Analysis","These moods consistently lead to your best gaming experiences.",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why These Moods Work"}),r.jsx("p",{className:"text-gray-300",children:"Creative, Chill, and Exploratory moods align with your playstyle, maximizing enjoyment and engagement."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Recommendation Success"}),r.jsx("p",{className:"text-gray-300",children:"Games recommended during these moods have a 85% acceptance rate and higher satisfaction scores."})]})]}));break}};return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker p-6 ${h?"ring-2 ring-gaming-primary/50 ring-offset-2 ring-offset-gray-900":""}`,children:[r.jsxs("div",{className:"mb-12 relative",children:[r.jsx("div",{className:"absolute inset-0 -top-20 -left-20 w-[500px] h-[500px] bg-gaming-primary/10 rounded-full blur-[100px]"}),r.jsx("div",{className:"absolute inset-0 -top-10 -right-10 w-[400px] h-[400px] bg-gaming-accent/5 rounded-full blur-[80px]"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"relative",children:r.jsx("h1",{className:"text-5xl font-gaming font-bold text-white",children:"Mood Analytics"})}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Uw,{onClick:()=>f(!h)})})]}),r.jsx("p",{className:"text-white/40 font-medium text-xl tracking-wide uppercase font-gaming",children:"Your gaming rhythm, decoded."}),u&&r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm font-medium border border-gaming-primary/30 hover:bg-gaming-primary/30 transition-colors duration-200",children:u.traits.archetypeId}),u.mood&&r.jsx("span",{className:"px-3 py-1 bg-gaming-accent/20 text-gaming-accent rounded-full text-sm font-medium border border-gaming-accent/30 capitalize hover:bg-gaming-accent/30 transition-colors duration-200",children:u.mood.moodId}),r.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm font-medium border border-purple-500/30 hover:bg-purple-500/30 transition-colors duration-200",children:[(x==null?void 0:x.userInsights.bestGamingTime)||"Evening"," Player"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-6 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Time Range:"}),r.jsx("div",{className:"flex gap-1",children:["week","month","all"].map(P=>r.jsx("button",{onClick:()=>a(P),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${i===P?"bg-gaming-primary text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Mood:"}),r.jsxs("select",{value:o||"",onChange:P=>l(P.target.value||null),"aria-label":"Filter by mood",className:"bg-gray-800 text-gray-300 rounded-lg px-3 py-1 text-sm border border-gray-600 focus:border-gaming-primary focus:outline-none",children:[r.jsx("option",{value:"",children:"All Moods"}),Ee.map(P=>r.jsxs("option",{value:P.id,children:[P.emoji," ",P.name]},P.id))]})]}),(o||c)&&r.jsx("button",{onClick:()=>{l(null),d(null)},className:"px-3 py-1 bg-red-500/20 text-red-400 rounded-lg text-sm font-medium border border-red-500/30 hover:bg-red-500/30 transition-colors",children:"Clear Filters"})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[e&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading analytics data..."})]}),!e&&(!x||m.length===0)&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-800/50 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Gaming Data Yet"}),r.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Start by importing your Steam library or adding games manually to see your gaming analytics and insights."}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>window.location.href="/library",className:"bg-gaming-primary hover:bg-gaming-primary/80 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Go to Library"}),r.jsx("button",{onClick:()=>window.location.href="/library?import=steam",className:"bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-6 rounded-lg border border-gray-600 transition-colors",children:"Import Steam Games"})]})]}),x&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("totalPlaytime",x.gamingPatterns),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Total Hours"})]}),r.jsx(oo,{value:x.gamingPatterns.totalPlaytime,suffix:"h"})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("favoriteMood",x.gamingPatterns),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:w(x.gamingPatterns.mostPlayedMood)}),r.jsx("span",{className:"text-xs text-gray-400",children:"Favorite Mood"})]}),r.jsx("div",{className:"text-white font-medium capitalize",children:x.gamingPatterns.mostPlayedMood})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("recommendationSuccess",x.recommendationMetrics),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Success Rate"})]}),r.jsx(oo,{value:x.recommendationMetrics.successRate,suffix:"%"})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("moodStability",x.userInsights),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Mood Stability"})]}),r.jsx(oo,{value:Math.round(x.userInsights.moodStability*100),suffix:"%"})]})]}),r.jsx(y_,{analyticsData:x,getMoodEmoji:w,getMoodColor:v,AnimatedNumber:oo,onCardClick:T,onMoodClick:C,onGenreClick:k,onInsightClick:E})]})]}),p.isOpen&&r.jsx(h_,{isOpen:p.isOpen,onClose:j,title:p.title,description:p.description,children:p.content}),h&&r.jsx(Lh,{pageId:"analytics",isOpen:h,onClose:()=>f(!1)})]})},v_=({data:e,title:t,color:n="#3b82f6"})=>{const s=Math.max(...Object.values(e));return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"space-y-2",children:Object.entries(e).map(([i,a])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-300 text-sm w-24 truncate",children:i}),r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-4 relative overflow-hidden",children:r.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${a/s*100}%`,backgroundColor:n}})}),r.jsx("span",{className:"text-gray-300 text-sm w-8 text-right",children:a})]},i))})]})},b_=({data:e,title:t})=>{const n=Object.values(e).reduce((i,a)=>i+a,0),s=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"space-y-2",children:Object.entries(e).map(([i,a],o)=>{const l=n>0?a/n*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s[o%s.length]}}),r.jsx("span",{className:"text-gray-300 text-sm flex-1",children:i}),r.jsxs("span",{className:"text-gray-300 text-sm",children:[l.toFixed(1),"%"]})]},i)})})]})},w_=({data:e,title:t})=>{const n=Math.max(...Object.values(e)),s=["morning","afternoon","evening","late-night"];return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:s.map(i=>{const a=e[i]||0,o=n>0?a/n*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full bg-gray-700 rounded-t relative",children:r.jsx("div",{className:"w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t transition-all duration-300",style:{height:`${o}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs mt-1",children:i}),r.jsx("span",{className:"text-gray-300 text-xs",children:a})]},i)})})]})},j_=()=>{const[e,t]=b.useState([]),[n,s]=b.useState({contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}});b.useEffect(()=>{const l=async()=>{try{const d=await je("api/analytics/events?limit=100");if(d.ok){const u=await d.json();if(u.success){t(u.data);const m={contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}};u.data.forEach(h=>{if(h.name==="recommendation_shown")h.payload.type==="contextual"?m.contextualShown++:h.payload.type==="persona"&&m.personaShown++;else if(h.name==="recommendation_clicked"){if(h.payload.type==="contextual"?m.contextualClicked++:h.payload.type==="persona"&&m.personaClicked++,h.payload.gameId){const f=h.payload.gameId;m.personaEffectiveness[f]||(m.personaEffectiveness[f]={impressions:0,clicks:0}),m.personaEffectiveness[f].clicks++}}else if(h.name==="mood_selected"){const f=h.payload.moodId||h.payload.mood;f&&(m.moodUsage[f]=(m.moodUsage[f]||0)+1)}}),s(m)}}}catch(d){console.warn("Failed to load analytics data from backend:",d)}};l();const c=setInterval(l,1e4);return()=>clearInterval(c)},[]);const i=n.contextualShown>0?(n.contextualClicked/n.contextualShown*100).toFixed(1):"0.0",a=n.personaShown>0?(n.personaClicked/n.personaShown*100).toFixed(1):"0.0",o=()=>{localStorage.removeItem("analytics_events"),localStorage.removeItem("analytics_stats"),t([]),s({contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Insights Dashboard"}),r.jsx("p",{className:"text-gray-300",children:"Real-time analytics for contextual and persona recommendation systems"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Ge,{to:"/",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Back to Home"}),r.jsx("button",{onClick:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Clear Data"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Contextual Shown"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:n.contextualShown})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Contextual CTR"}),r.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[i,"%"]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Persona Shown"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:n.personaShown})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Persona CTR"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-400",children:[a,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsx(v_,{data:n.moodUsage,title:"Most Selected Moods",color:"#8b5cf6"}),r.jsx(b_,{data:n.sessionLengthUsage,title:"Session Length Distribution"}),r.jsx(w_,{data:n.timeOfDayUsage,title:"Time-of-Day Engagement"}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:"Persona Effectiveness"}),r.jsx("div",{className:"space-y-2",children:Object.entries(n.personaEffectiveness).map(([l,c])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm truncate flex-1",children:l}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-gray-400 text-xs",children:[c.impressions," imp"]}),r.jsxs("span",{className:"text-gray-400 text-xs",children:[c.clicks," clicks"]}),r.jsxs("span",{className:"text-green-400 text-sm font-medium",children:[c.impressions>0?(c.clicks/c.impressions*100).toFixed(1):0,"%"]})]})]},l))})]})]}),!1,r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Live Event Stream (Last 20)"}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.length===0?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No events recorded yet"}):e.slice(-20).reverse().map((l,c)=>r.jsxs("div",{className:"bg-black/20 rounded p-3 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-blue-400 font-medium",children:l.name}),r.jsx("span",{className:"text-gray-400 text-xs",children:new Date(l.timestamp).toLocaleTimeString()})]}),r.jsx("pre",{className:"text-gray-300 text-xs overflow-x-auto",children:JSON.stringify(l.payload,null,2)})]},c))})]})]})})},id=({children:e,className:t,variant:n="default"})=>r.jsx("div",{className:Mn("rounded-lg p-4",{"bg-white/10 backdrop-blur-md border border-white/20":n==="glass","bg-gray-900":n==="solid","bg-gray-800":n==="default"},t),children:e});function N_(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center px-4 py-12",children:r.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl w-full mx-auto",children:r.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-2xl p-8 md:p-12",children:r.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[r.jsxs(B.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.3},className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Support GamePilot "}),r.jsx("p",{className:"text-gray-300 text-lg mb-8",children:"GamePilot is free and always will be. But if you find it valuable, your support helps keep the servers running and the recommendations coming."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[r.jsx(B.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.2},children:r.jsxs(id,{className:"bg-white/5 border border-white/20 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:" One-Time Support"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Keep GamePilot running with a one-time donation."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"5"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Coffee fuel for late-night coding sessions"})]}),r.jsx(B.a,{href:"https://github.com/sponsors/jonnym69",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-lg font-semibold text-center hover:from-purple-700 hover:to-pink-700 transition-all",children:"Buy Me a Coffee "})]})}),r.jsx(B.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.4},children:r.jsxs(id,{className:"bg-white/5 border border-white/20 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:" Monthly Support"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Help GamePilot grow with monthly support."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"15"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Keep recommendations flowing all month"})]}),r.jsx(B.a,{href:"https://github.com/sponsors/jonnym69",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-6 rounded-lg font-semibold text-center hover:from-green-700 hover:to-emerald-700 transition-all",children:"Support Monthly "})]})})]}),r.jsx(B.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.6},children:r.jsxs(id,{className:"bg-white/5 border border-white/20 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:" Support GamePilot"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-3",children:r.jsxs(B.a,{href:"https://patreon.com/jonnym69",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-3 bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-orange-700 hover:to-red-700 transition-all",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"Patreon"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Support ongoing development"})]})]})}),r.jsx("div",{className:"flex items-center space-x-3 mb-3",children:r.jsxs(B.a,{href:"https://crowdfunder.com/jonnym69",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-purple-700 hover:to-indigo-700 transition-all",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"Crowdfunder"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Help fund new features"})]})]})}),r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"Star on GitHub"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Help others discover GamePilot"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"Report Issues"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Help improve GamePilot"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"Spread the Word"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Tell friends about GamePilot"})]})]})]})]})}),r.jsx(B.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:.8},className:"mt-8 text-center",children:r.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:" Open Source"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"GamePilot is open source and built with community support."}),r.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:r.jsx(B.a,{href:"https://github.com/jonnym69/gamepilot-main",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"View Source Code "})})]})}),r.jsx(B.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:1},className:"text-center",children:r.jsx(Ge,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white transition-colors",children:r.jsx(B.span,{whileHover:{x:5},className:"mr-2",children:" Back to GamePilot"})})})]})})})})}function Wt({children:e}){const t=Ns(),{isAuthenticated:n,isLoading:s}=Ss(),i=!0;return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):!n&&!i?r.jsx(rv,{to:"/login",state:{from:t},replace:!0}):r.jsx(r.Fragment,{children:e})}function S_(){const[e]=OS(),t=on(),{setUser:n,setAuthenticated:s}=Ss(),{actions:i}=be();return b.useEffect(()=>{const a=e.get("sessionToken"),o=e.get("userId"),l=e.get("steamId"),c=e.get("displayName"),d=e.get("avatar"),u=e.get("loginError");if(console.log(" Steam callback params:",{sessionToken:a,userId:o,steamId:l,displayName:c,avatar:d,error:u}),console.log(" Full URL params object:",e),console.log(" All available params:",Array.from(e.entries())),a&&o&&c){localStorage.setItem("sessionToken",a),console.log(" Stored session token:",a.substring(0,10)+"...");const m={id:o,username:c,displayName:c,avatar:d||"",steamId:l||o,personaName:c};localStorage.setItem("user",JSON.stringify(m)),console.log(" Stored user data:",m),n(m),s(!0),console.log(" Updated auth store with user data"),(async()=>{try{console.log(" Auto-importing Steam library for user:",o);const f="FBB124C9352519E8F9FE820ADF0DA87C",p=await i.importSteamLibrary(o,f);if(p.success&&p.gameCount>0){console.log(` Auto-imported ${p.gameCount} Steam games!`);const g=p.games.map(y=>({...y,id:y.steamAppId||y.id,platforms:y.platforms||["Steam"],genres:y.genres||[],coverImage:y.coverImage||y.header_image,playStatus:y.playStatus||"backlog",isFavorite:!1,addedAt:new Date,hoursPlayed:y.hoursPlayed||0,userRating:y.userRating,globalRating:y.globalRating,releaseYear:y.releaseYear}));i.setGames(g),console.log(" Steam games added to library:",g.length)}else console.log(" No Steam games found to import")}catch(f){console.error(" Auto-import failed:",f),console.log(" Navigating to library despite import error")}})(),console.log(" Steam callback processed successfully"),setTimeout(()=>{console.log(" Navigating to /library"),t("/library")},1e3)}else console.error(" Steam login failed:",u),t("/login?error="+(u||"unknown"))},[e,t,n,s,i]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white text-lg",children:"Processing Steam authentication..."})]})})}function k_(){const{login:e,isLoading:t,error:n,clearError:s}=Ss(),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,m]=b.useState({}),[h,f]=b.useState(!1),p=on(),g=()=>{const j={};return i.trim()||(j.username="Username or email is required"),o?o.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",m(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!(h||t)&&g()){f(!0);try{s(),await e(i.trim(),o),p("/settings")}catch{}finally{f(!1)}}},x=async()=>{try{s(),m({}),window.location.href="/api/auth/steam"}catch(j){console.error("Login error:",j)}},v=j=>{u[j]&&m(S=>({...S,[j]:void 0})),n&&s()},w=i.trim()&&o&&o.length>=6&&Object.keys(u).length===0;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"GamePilot"}),r.jsx("h2",{className:"text-2xl font-semibold text-white/90",children:"Sign in to your account"}),r.jsx("p",{className:"text-white/70 mt-2",children:"Welcome back to your gaming universe"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl",children:[r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username or Email"}),r.jsx("input",{id:"username",type:"text",value:i,onChange:j=>{a(j.target.value),v("username")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${u.username?"border-red-500":"border-white/20"}`,placeholder:"Enter your username or email",required:!0,disabled:t}),u.username&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.username})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:c?"text":"password",value:o,onChange:j=>{l(j.target.value),v("password")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${u.password?"border-red-500":"border-white/20"}`,placeholder:"Enter your password",required:!0,disabled:t}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:t,children:c?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),u.password&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.password})]}),n&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:r.jsx("p",{className:"text-red-200 text-sm",children:n})}),r.jsx("button",{type:"submit",disabled:t||h||!w,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:t||h?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-white/20"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-transparent text-white/60",children:"Or continue with"})})]}),r.jsx("button",{onClick:x,disabled:t,className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2",children:"Connecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11.979 0C5.678 0 .511 5.254.5 11.577c0 2.347.744 4.521 2.009 6.298L.5 24l6.572-2.379c1.659.938 3.569 1.476 5.607 1.476 6.301 0 11.468-5.254 11.468-11.577C23.647 5.254 18.48 0 11.979 0zm6.489 14.5c-.318.879-1.732 1.637-3.492 1.822-1.76.185-3.492.185-4.713-.185-1.221-.37-2.068-1.113-2.068-1.856 0-.743.747-1.392 1.99-1.856 1.244-.464 2.975-.649 4.713-.649 1.739 0 3.492.185 4.713.649 1.221.464 1.99 1.113 1.99 1.856 0 .743-.747 1.486-2.068 1.856z"})}),r.jsx("span",{children:"Continue with Steam"})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-white/70",children:["Don't have an account?"," ",r.jsx(Ge,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsx(Ge,{to:"/",className:"text-white/60 hover:text-white transition-colors",children:" Back to Home"})})]})})}function C_(){const[e,t]=b.useState(""),[n,s]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,m]=b.useState(!1),[h,f]=b.useState(!1),[p,g]=b.useState({}),{register:y,isLoading:x,error:v,clearError:w}=Ss(),j=on(),S=()=>{const E={};return e.trim()?e.length<3&&(E.username="Username must be at least 3 characters"):E.username="Username is required",c.trim()?c.length<1&&(E.displayName="Display name cannot be empty"):E.displayName="Display name is required",n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(E.email="Please enter a valid email address"):E.email="Email is required",i?i.length<8&&(E.password="Password must be at least 8 characters"):E.password="Password is required",o?i!==o&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",g(E),Object.keys(E).length===0},T=async E=>{if(E.preventDefault(),!!S())try{w(),await y(e.trim(),n.trim(),i,c.trim()),j("/library")}catch{}},C=E=>{p[E]&&g(P=>({...P,[E]:void 0})),v&&w()},k=e.trim().length>=3&&c.trim().length>=1&&n.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&i&&i.length>=8&&o&&i===o&&Object.keys(p).length===0;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"GamePilot"}),r.jsx("h2",{className:"text-2xl font-semibold text-white/90",children:"Create your account"}),r.jsx("p",{className:"text-white/70 mt-2",children:"Join the gaming universe"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl",children:[r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:e,onChange:E=>{t(E.target.value),C("username")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.username?"border-red-500":"border-white/20"}`,placeholder:"Choose a username",required:!0,disabled:x}),p.username&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.username})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-white/90 mb-2",children:"Display Name"}),r.jsx("input",{id:"displayName",type:"text",value:c,onChange:E=>{d(E.target.value),C("displayName")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.displayName?"border-red-500":"border-white/20"}`,placeholder:"How others will see you",required:!0,disabled:x}),p.displayName&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.displayName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-2",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:n,onChange:E=>{s(E.target.value),C("email")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.email?"border-red-500":"border-white/20"}`,placeholder:"Enter your email",required:!0,disabled:x}),p.email&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:u?"text":"password",value:i,onChange:E=>{a(E.target.value),C("password")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${p.password?"border-red-500":"border-white/20"}`,placeholder:"Create a password (min. 8 characters)",required:!0,disabled:x}),r.jsx("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:x,children:u?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),p.password&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white/90 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",type:h?"text":"password",value:o,onChange:E=>{l(E.target.value),C("confirmPassword")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${p.confirmPassword?"border-red-500":"border-white/20"}`,placeholder:"Confirm your password",required:!0,disabled:x}),r.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:x,children:h?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),p.confirmPassword&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.confirmPassword})]}),v&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:r.jsx("p",{className:"text-red-200 text-sm",children:v})}),r.jsx("button",{type:"submit",disabled:x||!k,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:x?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-white/70",children:["Already have an account?"," ",r.jsx(Ge,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-white/50 text-sm",children:["By creating an account, you agree to our"," ",r.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Privacy Policy"})]})})]})})}const Ww=({isAuthenticated:e,user:t})=>{var f,p;const[n,s]=b.useState(!1),[i,a]=b.useState(!1),o=Ns(),l=on(),{logout:c}=Ss(),d=async()=>{try{await c(),l("/login")}catch(g){console.error("Logout error:",g)}};b.useEffect(()=>{const g=()=>{a(window.scrollY>10)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]),b.useEffect(()=>{s(!1)},[o.pathname]);const u=[{path:"/",label:"Home",icon:""},{path:"/library",label:"Library",icon:""},{path:"/analytics",label:"Analytics",icon:""},{path:"/identity",label:"Identity",icon:""},{path:"/integrations",label:"Integrations",icon:""},{path:"/customisation",label:"Customisation",icon:""},{path:"/settings",label:"Settings",icon:""},{path:"/donate",label:"Support",icon:""}],m=g=>g==="/"&&o.pathname==="/"?!0:o.pathname.startsWith(g)&&g!=="/",h=t;return r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:`
        hidden md:block glass-morphism border-b border-white/10 fixed top-0 left-0 right-0 z-50 transition-all duration-300
        ${i?"py-2":"py-4"}
      `,children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs(Ge,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"h-8 w-auto object-contain"}),r.jsx("span",{className:"text-2xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"GamePilot"})]}),r.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:u.map(g=>r.jsxs(Ge,{to:g.path,className:`
                      flex items-center space-x-2 px-3 py-2 rounded-lg font-medium transition-all duration-200
                      ${m(g.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                    `,children:[r.jsx("span",{className:"text-lg",children:g.icon}),r.jsx("span",{children:g.label})]},g.path))})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden sm:block",children:r.jsxs("span",{className:"text-white/70 text-sm",children:["Welcome, ",h==null?void 0:h.username]})}),r.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Logout"})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ge,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Login"}),r.jsx(Ge,{to:"/register",className:"px-4 py-2 text-sm font-medium bg-gaming-primary text-white hover:bg-gaming-primary/80 rounded-lg transition-all",children:"Register"})]}),r.jsx("button",{onClick:()=>s(!n),className:"lg:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Toggle menu",children:r.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"rotate-45 translate-y-1.5":""}`}),r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"opacity-0":""}`}),r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"-rotate-45 -translate-y-1.5":""}`})]})})]})]})})}),n&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>s(!1)}),r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 lg:hidden",children:r.jsx("div",{className:"glass-morphism border-b border-white/10",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs(Ge,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"h-8 w-auto object-contain"}),r.jsx("span",{className:"text-xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"GamePilot"})]}),r.jsx("button",{onClick:()=>s(!1),className:"p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close menu",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:e?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold",children:((p=(f=h==null?void 0:h.username)==null?void 0:f.charAt(0))==null?void 0:p.toUpperCase())||"U"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:h==null?void 0:h.username}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Welcome back!"})]})]}),r.jsx("button",{onClick:d,className:"px-3 py-1 text-sm text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Logout"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-white font-medium mb-2",children:"Welcome to GamePilot"}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx(Ge,{to:"/login",onClick:()=>s(!1),className:"w-full px-4 py-2 text-center text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Login"}),r.jsx(Ge,{to:"/register",onClick:()=>s(!1),className:"w-full px-4 py-2 text-center text-sm font-medium bg-gaming-primary text-white hover:bg-gaming-primary/80 rounded-lg transition-all",children:"Register"})]})]})}),r.jsx("div",{className:"space-y-2",children:u.map(g=>r.jsxs(Ge,{to:g.path,onClick:()=>s(!1),className:`
                        flex items-center space-x-3 w-full px-4 py-3 rounded-lg font-medium transition-all duration-200
                        ${m(g.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                      `,children:[r.jsx("span",{className:"text-xl",children:g.icon}),r.jsx("span",{className:"text-lg",children:g.label}),m(g.path)&&r.jsx("span",{className:"ml-auto",children:r.jsx("svg",{className:"w-5 h-5 text-gaming-primary",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]},g.path))})]})})})]}),r.jsx("div",{className:"h-16 md:h-20"})]})},Yt=({children:e,showNavigation:t=!0,className:n=""})=>{const{isAuthenticated:s,user:i}=Ss();return r.jsxs("div",{className:`min-h-screen ${n}`,children:[t&&s&&r.jsx(Ww,{isAuthenticated:s,user:i}),r.jsx("main",{className:"bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:r.jsx("div",{className:"w-full",children:e})}),t&&s&&r.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden",children:r.jsx("div",{className:"glass-morphism border-t border-white/10",children:r.jsx("div",{className:"grid grid-cols-5 gap-1 p-2",children:[{path:"/",icon:"",label:"Home"},{path:"/library",icon:"",label:"Library"},{path:"/identity",icon:"",label:"Identity"},{path:"/integrations",icon:"",label:"Links"},{path:"/settings",icon:"",label:"Settings"}].map(a=>r.jsxs("a",{href:a.path,className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200",children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsx("span",{className:"text-xs",children:a.label})]},a.path))})})}),t&&s&&r.jsx("div",{className:"h-20 lg:hidden"})]})},Io=[{id:"getting-started",name:"Getting Started Tour",description:"Learn the basics of GamePilot and set up your profile",showOnFirstVisit:!0,steps:[{id:"welcome",title:"Welcome to GamePilot!",content:"Let's take a quick tour to help you get started with your personalized gaming experience.",target:"body",position:"center",showProgress:!0},{id:"navigation",title:"Navigation Menu",content:"This is your main navigation. Access your library, discover games, view your gaming identity, and manage settings.",target:'[data-testid="main-navigation"]',position:"bottom",showProgress:!0},{id:"home-dashboard",title:"Your Dashboard",content:"Your personalized dashboard shows mood-based recommendations, recent activity, and gaming stats.",target:'[data-testid="home-dashboard"]',position:"right",showProgress:!0},{id:"mood-selector",title:"Mood Selector",content:"Choose how you're feeling to get personalized game recommendations that match your current mood.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0,validation:()=>document.querySelector('[data-testid="mood-selector"] .mood-button.selected')!==null},{id:"recommendations",title:"Game Recommendations",content:"Based on your mood, we'll suggest games you might enjoy. Click on any game to learn more about it.",target:'[data-testid="game-recommendations"]',position:"left",showProgress:!0},{id:"library-access",title:"Game Library",content:"Access your complete game collection here. Import from Steam or add games manually.",target:'[data-testid="nav-library"]',position:"bottom",showProgress:!0},{id:"profile-setup",title:"Complete Your Profile",content:"Add your gaming preferences and connect accounts to get better recommendations.",target:'[data-testid="nav-settings"]',position:"bottom",showProgress:!0},{id:"tour-complete",title:"Tour Complete!",content:"You're all set! Explore GamePilot and discover your next favorite game. Help is always available in the settings.",target:"body",position:"center",showProgress:!0}]},{id:"library-features",name:"Library Features Tour",description:"Learn how to manage and organize your game library",startCondition:()=>window.location.pathname==="/library",steps:[{id:"library-overview",title:"Your Game Library",content:"This is your complete game collection. Let's explore the features available.",target:'[data-testid="game-library"]',position:"center",showProgress:!0},{id:"search-bar",title:"Search Games",content:"Search your library by title, genre, platform, or tags. Use advanced filters for precise results.",target:'[data-testid="game-search"]',position:"bottom",showProgress:!0},{id:"filter-options",title:"Filter Options",content:"Filter your games by platform, genre, play status, or custom tags to find exactly what you're looking for.",target:'[data-testid="game-filters"]',position:"left",showProgress:!0},{id:"sort-options",title:"Sort Games",content:"Sort your library by recently played, playtime, alphabetically, or custom criteria.",target:'[data-testid="game-sort"]',position:"left",showProgress:!0},{id:"add-game",title:"Add New Game",content:"Add games to your library. Import from Steam, enter manually, or scan barcode.",target:'[data-testid="add-game-button"]',position:"top",showProgress:!0},{id:"game-card",title:"Game Cards",content:"Each game card shows cover art, playtime, achievements, and status. Click to view details.",target:'[data-testid="game-card"]:first-child',position:"right",showProgress:!0},{id:"bulk-actions",title:"Bulk Actions",content:"Select multiple games to perform bulk operations like tagging, status updates, or deletion.",target:'[data-testid="bulk-actions"]',position:"top",showProgress:!0}]},{id:"mood-engine-features",name:"Mood Engine Tour",description:"Learn how to use the mood engine for personalized recommendations",startCondition:()=>document.querySelector('[data-testid="mood-selector"]')!==null,steps:[{id:"mood-overview",title:"Mood-Based Recommendations",content:"The Mood Engine analyzes how you're feeling to suggest perfect games for your current state.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0},{id:"mood-categories",title:"Mood Categories",content:"Choose from 8 different moods: Competitive, Chill, Story, Creative, Social, Focused, Energetic, or Exploratory.",target:'[data-testid="mood-selector"]',position:"bottom",showProgress:!0},{id:"mood-history",title:"Mood History",content:"Track your mood patterns over time to understand your gaming habits and preferences.",target:'[data-testid="mood-history"]',position:"left",showProgress:!0},{id:"recommendation-algorithm",title:"How Recommendations Work",content:"We analyze your mood, gaming history, and preferences to suggest games you'll love.",target:'[data-testid="recommendation-info"]',position:"bottom",showProgress:!0},{id:"save-recommendations",title:"Save for Later",content:"Save games you're interested in to your wishlist or backlog to play later.",target:'[data-testid="save-recommendation"]',position:"top",showProgress:!0}]},{id:"integrations-tour",name:"Integrations Tour",description:"Learn how to connect your gaming accounts",startCondition:()=>window.location.pathname==="/integrations",steps:[{id:"integrations-overview",title:"Connected Accounts",content:"Enhance your GamePilot experience by connecting your gaming accounts.",target:'[data-testid="integrations-page"]',position:"center",showProgress:!0},{id:"steam-integration",title:"Steam Integration",content:"Connect Steam to import your game library, track playtime, and sync achievements.",target:'[data-testid="steam-connect"]',position:"right",showProgress:!0},{id:"discord-integration",title:"Discord Integration",content:"Connect Discord to show your gaming status and join communities.",target:'[data-testid="discord-connect"]',position:"left",showProgress:!0},{id:"youtube-integration",title:"YouTube Integration",content:"Connect YouTube for gaming content recommendations and creator discovery.",target:'[data-testid="youtube-connect"]',position:"right",showProgress:!0},{id:"privacy-settings",title:"Privacy Controls",content:"Control what data you share with each integration and manage permissions.",target:'[data-testid="privacy-controls"]',position:"top",showProgress:!0}]}],E_=()=>{const[e,t]=b.useState(null),[n,s]=b.useState(0),[i,a]=b.useState(!1),[o,l]=b.useState({top:0,left:0}),[c,d]=b.useState(null),u=b.useCallback(()=>{a(!1),e!=null&&e.endAction&&e.endAction(),setTimeout(()=>{t(null),s(0),d(null)},300)},[e]),m=b.useCallback(()=>{if(!e)return;const v=e.steps[n];v.validation&&!v.validation()||(v.action&&v.action(),n<e.steps.length-1?s(n+1):u())},[e,n,u]),h=b.useCallback(()=>{n>0&&s(n-1)},[n]),f=b.useCallback(()=>{u()},[u]),p=b.useCallback(()=>{if(!e||!i)return;const v=e.steps[n],w=document.querySelector(v.target);if(!w){console.warn(`Tour target element not found: ${v.target}`);return}const j=w.getBoundingClientRect(),S=window.scrollX,T=window.scrollY;let C=0,k=0;switch(v.position){case"top":C=j.top+T-120,k=j.left+S+j.width/2-200;break;case"bottom":C=j.bottom+T+20,k=j.left+S+j.width/2-200;break;case"left":C=j.top+T+j.height/2-60,k=j.left+S-420;break;case"right":C=j.top+T+j.height/2-60,k=j.right+S+20;break;case"center":C=window.innerHeight/2-100,k=window.innerWidth/2-200;break}k<S+20?k=S+20:k+400>S+window.innerWidth-20&&(k=S+window.innerWidth-420),C<T+20?C=T+20:C+200>T+window.innerHeight-20&&(C=T+window.innerHeight-220),l({top:C,left:k}),v.position!=="center"?d(w):d(null)},[e,n,i]);if(b.useEffect(()=>{i&&p()},[i,p]),b.useEffect(()=>{const v=()=>{i&&p()},w=()=>{i&&p()};return window.addEventListener("resize",v),window.addEventListener("scroll",w),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",w)}},[i,p]),b.useEffect(()=>{window.location.pathname==="/login"||window.location.pathname==="/register"||Io.forEach(v=>{v.showOnFirstVisit&&!localStorage.getItem(`tour-${v.id}-seen`)&&(!v.startCondition||v.startCondition())&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("startTour",{detail:v})),localStorage.setItem(`tour-${v.id}-seen`,"true")},1e3)})},[]),!e||!i)return null;const g=e.steps[n],y=(n+1)/e.steps.length*100;return wa.createPortal(r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:f}),c&&r.jsx("div",{className:"absolute z-40 border-4 border-purple-500 rounded-lg pointer-events-none",style:{top:`${c.getBoundingClientRect().top+window.scrollY-4}px`,left:`${c.getBoundingClientRect().left+window.scrollX-4}px`,width:`${c.getBoundingClientRect().width+8}px`,height:`${c.getBoundingClientRect().height+8}px`}}),r.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white p-6 rounded-xl shadow-2xl border border-gray-700 max-w-md",style:{top:`${o.top}px`,left:`${o.left}px`},children:[g.showProgress&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[r.jsxs("span",{children:["Step ",n+1," of ",e.steps.length]}),r.jsxs("span",{children:[Math.round(y),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-3",children:g.title}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:g.content})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-2",children:[n>0&&r.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Previous"}),g.skipable!==!1&&r.jsx("button",{onClick:f,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Skip Tour"})]}),r.jsx("button",{onClick:m,className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium",children:n===e.steps.length-1?"Finish":"Next"})]}),r.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close tour",title:"Close tour",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),document.body)},P_=()=>{const e=b.useCallback(a=>{const o=Io.find(l=>l.id===a);o&&window.dispatchEvent(new CustomEvent("startTour",{detail:o}))},[]),t=b.useCallback(()=>{window.dispatchEvent(new CustomEvent("endTour"))},[]),n=b.useCallback(a=>{localStorage.removeItem(`tour-${a}-seen`)},[]),s=b.useCallback(a=>localStorage.getItem(`tour-${a}-seen`)==="true",[]),i=b.useCallback(()=>Io.map(a=>({id:a.id,name:a.name,description:a.description,hasSeen:s(a.id)})),[s]);return{startTour:e,endTour:t,resetTourProgress:n,hasSeenTour:s,getAvailableTours:i,tourConfigs:Io}},T_=()=>{const[e,t]=b.useState(null);return b.useEffect(()=>{const n=i=>{t(i.detail)},s=()=>{t(null)};return window.addEventListener("startTour",n),window.addEventListener("endTour",s),()=>{window.removeEventListener("startTour",n),window.removeEventListener("endTour",s)}},[]),b.useEffect(()=>{(window.location.pathname==="/login"||window.location.pathname==="/register")&&(t(null),window.dispatchEvent(new CustomEvent("endTour")))},[]),e?r.jsx(E_,{}):null},M_=({children:e,className:t=""})=>r.jsx("div",{className:`bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6 ${t}`,children:e}),A_=()=>{const[e,t]=b.useState(""),[n,s]=b.useState("all"),[i,a]=b.useState(new Set),o=[{id:"getting-started",title:"Getting Started with GamePilot",description:"Learn the basics of GamePilot and set up your profile",content:`
# Getting Started with GamePilot

Welcome to GamePilot! This guide will help you get started with your personalized gaming experience.

## What is GamePilot?

GamePilot is your personal gaming companion that helps you:
- Discover new games based on your mood and preferences
- Track your gaming progress and achievements
- Connect with friends and share your experiences
- Get personalized recommendations

## First Steps

### 1. Complete Your Profile
- Add your display name and bio
- Select your favorite genres and platforms
- Set your gaming preferences

### 2. Connect Your Accounts
- Link Steam to import your game library
- Connect Discord for social features
- Add YouTube for gaming content

### 3. Explore Features
- Browse your game library
- Use the mood engine for recommendations
- Track your gaming statistics

## Tips for New Users

- Start with the mood selector to get personalized recommendations
- Import your existing game library from Steam
- Explore different moods to discover new games
- Join the community to share your experiences
      `,category:"basics",tags:["beginner","setup","profile"],relatedTopics:["profile-setup","integrations","mood-engine"]},{id:"profile-setup",title:"Setting Up Your Profile",description:"Customize your profile and privacy settings",content:`
# Setting Up Your Profile

Your profile is your gaming identity on GamePilot. Here's how to make it yours.

## Profile Information

### Display Name
- Choose a name that represents you
- Can be changed anytime
- Visible to other users based on privacy settings

### Bio
- Share your gaming interests and background
- Tell others about your favorite genres
- Mention your gaming goals or preferences

### Avatar
- Upload a profile picture
- Choose from default avatars
- Can be changed anytime

## Privacy Settings

### Profile Visibility
- **Public**: Anyone can see your profile
- **Friends**: Only friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
- **Playtime Statistics**: Share your gaming hours
- **Achievements**: Show off your gaming accomplishments
- **Game Library**: Display your game collection

## Gaming Preferences

### Favorite Genres
Select genres you enjoy:
- Action, Adventure, RPG
- Strategy, Simulation, Sports
- Horror, Sci-Fi, Fantasy
- And many more!

### Preferred Platforms
Choose your gaming platforms:
- Steam, Epic Games, GOG
- Xbox, PlayStation, Nintendo Switch
- Mobile gaming

### Playstyle
Define your gaming style:
- Competitive, Casual
- Story-driven, Exploration
- Creative, Social
- Achievement Hunter, Completionist

## Tips

- Be honest about your preferences for better recommendations
- Update your profile as your interests change
- Use privacy settings to control what you share
      `,category:"profile",tags:["profile","privacy","preferences"],relatedTopics:["getting-started","privacy-settings"]},{id:"mood-engine",title:"Using the Mood Engine",description:"Get personalized game recommendations based on your mood",content:`
# Using the Mood Engine

The Mood Engine is GamePilot's intelligent recommendation system that suggests games based on how you're feeling.

## What is the Mood Engine?

The Mood Engine analyzes your current mood and gaming preferences to recommend games that match your emotional state and playstyle.

## Available Moods

###  Competitive
- **Best for**: When you want to challenge yourself
- **Game types**: Competitive multiplayer, strategy games, FPS
- **Examples**: Valorant, Chess, StarCraft

###  Chill
- **Best for**: Relaxing and unwinding
- **Game types**: Casual games, simulation, creative
- **Examples**: Stardew Valley, Animal Crossing, Minecraft

###  Story
- **Best for**: Immersive narratives
- **Game types**: RPGs, adventure games, visual novels
- **Examples**: The Witcher 3, Life is Strange, Detroit: Become Human

###  Creative
- **Best for**: Expressing creativity
- **Game types**: Building games, sandbox, art games
- **Examples**: Minecraft Dreams, LittleBigPlanet, Dreams

###  Social
- **Best for**: Playing with others
- **Game types**: Co-op games, party games, MMOs
- **Examples: Among Us, Fall Guys, World of Warcraft**

###  Focused
- **Best for**: Deep concentration
- **Game types**: Puzzle games, strategy, single-player
- **Examples**: Portal, Civilization, Factorio**

###  Energetic
- **Best for**: High-energy gaming
- **Game types**: Action games, rhythm games, sports
- **Examples**: DOOM, Beat Saber, FIFA

###  Exploratory
- **Best for**: Discovery and adventure
- **Game types**: Open-world, exploration, mystery
- **Examples**: Zelda, No Man's Sky, Outer Wilds

## How to Use

1. **Select Your Mood**: Choose how you're feeling right now
2. **Get Recommendations**: Receive personalized game suggestions
3. **Filter Results**: Narrow down by genre, platform, or features
4. **Save Favorites**: Keep track of games you want to play

## Tips

- Be honest about your current mood for better recommendations
- Try different moods to discover new games
- Combine moods with filters for precise results
- Save games you like to your wishlist

## Advanced Features

### Mood History
- Track your mood patterns over time
- See how your gaming preferences change
- Get insights into your gaming habits

### Mood-Based Stats
- View playtime by mood
- See which moods you game in most
- Discover your gaming patterns

### Social Moods
- See what moods your friends are in
- Join mood-based gaming sessions
- Share your mood with the community
      `,category:"features",tags:["recommendations","mood","discovery"],relatedTopics:["game-discovery","recommendations","social-features"]},{id:"integrations",title:"Connecting External Accounts",description:"Link your gaming accounts for a complete experience",content:`
# Connecting External Accounts

Enhance your GamePilot experience by connecting your external gaming accounts.

## Supported Integrations

###  Steam
**What it does:**
- Imports your entire game library
- Tracks playtime and achievements
- Syncs game ownership status
- Provides game metadata and details

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Steam"
3. Sign in with your Steam account
4. Authorize GamePilot access
5. Wait for library import

**Benefits:**
- Automatic game library updates
- Playtime tracking
- Achievement synchronization
- Rich game metadata

###  Discord
**What it does:**
- Shows your Discord activity
- Displays gaming status
- Connects with Discord communities
- Enables social features

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Discord"
3. Sign in with Discord
4. Authorize required permissions
5. Customize privacy settings

**Benefits:**
- See what friends are playing
- Join gaming communities
- Share your gaming status
- Discord rich presence

###  YouTube
**What it does:**
- Imports gaming content
- Suggests relevant videos
- Tracks creator subscriptions
- Provides gaming news

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect YouTube"
3. Sign in with Google account
4. Authorize YouTube access
5. Select channels to follow

**Benefits:**
- Gaming content recommendations
- Creator suggestions
- Gaming news and updates
- Video integration

## Privacy & Security

### Data Protection
- All connections use secure OAuth
- Your passwords are never stored
- You control what data is shared
- Disconnect anytime

### Permission Control
- Choose what each integration can access
- Set privacy preferences per platform
- Control who sees your activity
- Manage data sharing settings

### Disconnecting Accounts
- Go to Settings > Integrations
- Click "Disconnect" next to any account
- Confirm the disconnection
- Data will be removed from GamePilot

## Troubleshooting

### Steam Issues
- **Library not importing**: Check Steam privacy settings
- **Missing games**: Ensure games are public in Steam
- **Sync errors**: Try reconnecting your account

### Discord Issues
- **Status not updating**: Check Discord permissions
- **Friends not showing**: Verify friend list visibility
- **Rich presence not working**: Enable Discord rich presence

### YouTube Issues
- **No content loading**: Check YouTube API limits
- **Channel not found**: Verify channel is public
- **Recommendations not working**: Update your preferences

## Best Practices

- Keep your accounts connected for the best experience
- Regularly review your privacy settings
- Disconnect accounts you no longer use
- Report any integration issues to support
      `,category:"integrations",tags:["steam","discord","youtube","connections"],relatedTopics:["privacy-settings","profile-setup"]},{id:"game-library",title:"Managing Your Game Library",description:"Organize and manage your game collection",content:`
# Managing Your Game Library

Your game library is your personal gaming collection. Learn how to organize, manage, and get the most out of it.

## Adding Games

### Automatic Import
- **Steam**: Automatically imports your Steam library
- **Other platforms**: Manual import or API integration
- **Bulk import**: Add multiple games at once

### Manual Entry
1. Click "Add Game" in your library
2. Enter game details (title, platform, etc.)
3. Add cover art and metadata
4. Save to your library

### Game Metadata
- **Title**: The game's name
- **Platform**: Where you play it
- **Genre**: Game category
- **Release date**: When it was released
- **Developer**: Who made it
- **Cover art**: Game's box art or screenshot

## Organizing Games

### Collections
Create custom collections to organize your games:
- **Currently Playing**: Games you're actively playing
- **Completed**: Games you've finished
- **Backlog**: Games you want to play
- **Favorites**: Your most-loved games
- **Custom**: Create your own categories

### Tags
Add tags to games for better organization:
- **Genre tags**: RPG, FPS, Strategy, etc.
- **Mood tags**: Competitive, Relaxing, Story-driven
- **Status tags**: Playing, Completed, Paused
- **Custom tags**: Create your own tags

### Filtering & Sorting
- **Filter by**: Platform, genre, tags, status
- **Sort by**: Recently played, playtime, alphabetically
- **Search**: Find games by title or tags
- **Advanced filters**: Multiple criteria

## Game Status

### Play Status
- **Unplayed**: Haven't started yet
- **Playing**: Currently playing
- **Completed**: Finished the main story
- **Paused**: Taking a break
- **Dropped**: Won't continue playing

### Playtime Tracking
- **Total hours**: Overall time spent
- **Recent activity**: Last 30 days
- **Session history**: Individual gaming sessions
- **Platform breakdown**: Time per platform

### Achievements
- **Unlocked achievements**: What you've accomplished
- **Achievement progress**: How close to completion
- **Rare achievements**: Hard-to-unlock accomplishments
- **Platform achievements**: Per-platform tracking

## Library Features

### Quick Actions
- **Mark as playing**: Start tracking a game
- **Add to favorites**: Quick access to loved games
- **Set status**: Update your progress
- **Add notes**: Personal thoughts and reminders

### Bulk Operations
- **Bulk edit**: Update multiple games at once
- **Bulk tag**: Add tags to multiple games
- **Bulk status**: Update status for multiple games
- **Bulk delete**: Remove multiple games

### Statistics
- **Library size**: Total number of games
- **Playtime distribution**: Time spent per game
- **Platform breakdown**: Games per platform
- **Genre distribution**: Games by category

## Tips & Tricks

### Organization
- Use collections for different gaming goals
- Tag games with multiple categories
- Keep your status up to date
- Regularly review and clean up your library

### Discovery
- Use filters to find specific games
- Sort by playtime to see favorites
- Check unplayed games for new experiences
- Use mood-based recommendations

### Maintenance
- Regularly update game metadata
- Remove games you no longer own
- Keep tags consistent
- Backup your library data
      `,category:"library",tags:["games","organization","management"],relatedTopics:["mood-engine","integrations"]},{id:"privacy-settings",title:"Privacy and Security Settings",description:"Control your data and privacy preferences",content:`
# Privacy and Security Settings

Your privacy is important. Learn how to control your data and secure your account.

## Privacy Controls

### Profile Visibility
Control who can see your profile information:
- **Public**: Anyone can view your profile
- **Friends**: Only approved friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
Choose what information to share:
- **Playtime Statistics**: Your gaming hours and habits
- **Achievements**: Games you've completed and accomplishments
- **Game Library**: Your game collection and ownership
- **Activity Status**: When you're playing and what games

### Social Features
Manage your social interactions:
- **Friend Requests**: Who can send you requests
- **Profile Views**: Who can see your profile visits
- **Activity Feed**: Share your gaming activity
- **Direct Messages**: Who can contact you

## Security Settings

### Account Security
- **Two-Factor Authentication**: Add an extra layer of security
- **Login Alerts**: Get notified of new sign-ins
- **Session Management**: Control active sessions
- **Password Requirements**: Set strong password policies

### Connected Accounts
- **Permissions**: Review what each integration can access
- **Data Sharing**: Control data shared with third parties
- **Disconnect Options**: Remove connected accounts anytime
- **Privacy Policies**: Review third-party privacy terms

### Data Management
- **Data Export**: Download your personal data
- **Data Deletion**: Remove your account and data
- **Data Retention**: How long we keep your data
- **Data Portability**: Move your data to other services

## Privacy Best Practices

### Profile Information
- Use a display name you're comfortable sharing
- Be mindful of what personal information you include
- Review your privacy settings regularly
- Consider using a separate gaming email

### Social Interactions
- Only accept friend requests from people you know
- Be cautious about sharing personal details
- Use privacy settings to control who can contact you
- Report inappropriate behavior

### Connected Accounts
- Only connect accounts you trust
- Review permissions carefully
- Disconnect accounts you no longer use
- Monitor third-party app access

## Security Tips

### Password Security
- Use a unique, strong password
- Enable two-factor authentication
- Don't reuse passwords from other sites
- Change your password regularly

### Session Management
- Sign out when using shared devices
- Review active sessions regularly
- Sign out unfamiliar sessions
- Use secure networks only

### Phishing Protection
- Never share your password via email
- Verify official communications
- Be wary of suspicious links
- Report phishing attempts

## Your Rights

### Data Access
- View all data we have about you
- Download your personal information
- Request corrections to inaccurate data
- Understand how your data is used

### Data Control
- Delete your account and data
- Opt out of data collection
- Control what's shared publicly
- Manage connected account permissions

### Transparency
- Clear privacy policy explanations
- Regular updates about changes
- Easy-to-understand settings
- Direct support for privacy questions

## Getting Help

### Privacy Questions
- Contact our privacy team
- Review our privacy policy
- Check our FAQ section
- Join our community discussions

### Security Issues
- Report security concerns immediately
- Use our secure reporting system
- Contact our security team
- Follow security best practices

Remember: You have control over your data. Take time to review your settings and make choices that work for you.
      `,category:"privacy",tags:["security","privacy","data-protection"],relatedTopics:["profile-setup","integrations"]}],l=[{id:"all",name:"All Topics",icon:""},{id:"basics",name:"Basics",icon:""},{id:"profile",name:"Profile",icon:""},{id:"features",name:"Features",icon:""},{id:"library",name:"Library",icon:""},{id:"integrations",name:"Integrations",icon:""},{id:"privacy",name:"Privacy",icon:""}],c=o.filter(m=>{const h=m.title.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase())||m.tags.some(p=>p.toLowerCase().includes(e.toLowerCase())),f=n==="all"||m.category===n;return h&&f}),d=m=>{a(h=>{const f=new Set(h);return f.has(m)?f.delete(m):f.add(m),f})},u=m=>m.split(`
`).map((h,f)=>{if(h.startsWith("# "))return r.jsx("h2",{className:"text-2xl font-bold text-white mb-4 mt-6",children:h.slice(2)},f);if(h.startsWith("## "))return r.jsx("h3",{className:"text-xl font-semibold text-white mb-3 mt-4",children:h.slice(3)},f);if(h.startsWith("### "))return r.jsx("h4",{className:"text-lg font-medium text-white mb-2 mt-3",children:h.slice(4)},f);if(h.startsWith("- **")){const p=h.match(/- \*\*(.*?)\*\*: (.*)/);if(p)return r.jsxs("li",{className:"ml-4 mb-2",children:[r.jsxs("span",{className:"font-semibold text-purple-300",children:[p[1],":"]})," ",p[2]]},f)}else return h.startsWith("- ")?r.jsx("li",{className:"ml-4 mb-2",children:h.slice(2)},f):h.startsWith("**")&&h.endsWith("**")?r.jsx("p",{className:"font-semibold text-purple-300 mb-2",children:h.slice(2,-2)},f):h.trim()===""?r.jsx("br",{},f):r.jsx("p",{className:"mb-2 text-white/80",children:h},f)});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Help Center"}),r.jsx("p",{className:"text-white/70",children:"Find answers to your questions and learn how to get the most out of GamePilot"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search for help topics...",value:e,onChange:m=>t(m.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/40"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(m=>r.jsxs("button",{onClick:()=>s(m.id),className:`px-4 py-2 rounded-lg border transition-colors ${n===m.id?"bg-purple-500/20 border-purple-500 text-purple-300":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20"}`,children:[r.jsx("span",{className:"mr-2",children:m.icon}),m.name]},m.id))})]})}),r.jsx("div",{className:"space-y-4",children:c.map(m=>r.jsxs(M_,{className:"bg-white/10 backdrop-blur-md border-white/20 p-6",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>d(m.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:m.title}),r.jsx("span",{className:"text-white/60",children:i.has(m.id)?"":""})]}),r.jsx("p",{className:"text-white/70 mb-3",children:m.description}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:m.tags.map(h=>r.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:h},h))})]}),i.has(m.id)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[r.jsx("div",{className:"prose prose-invert max-w-none",children:u(m.content)}),m.relatedTopics&&m.relatedTopics.length>0&&r.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20",children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Related Topics"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:m.relatedTopics.map(h=>{const f=o.find(p=>p.id===h);return f?r.jsx("button",{onClick:()=>d(h),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.title},h):null})})]})]})]},m.id))}),c.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No topics found"}),r.jsx("p",{className:"text-white/70",children:"Try adjusting your search or filters"})]})]})})},__=({content:e,children:t,position:n="top",delay:s=300,persistent:i=!1,maxWidth:a=300,className:o="",showOnHover:l=!0,showOnClick:c=!1,hideDelay:d=100})=>{const[u,m]=b.useState(!1),[h,f]=b.useState({top:0,left:0}),p=b.useRef(null),g=b.useRef(null),y=b.useRef(),x=b.useRef(),v=b.useCallback(()=>{if(!p.current||!g.current)return;const C=p.current.getBoundingClientRect(),k=g.current.getBoundingClientRect(),E=window.scrollX,P=window.scrollY;let R=0,$=0;switch(n){case"top":R=C.top+P-k.height-8,$=C.left+E+(C.width-k.width)/2;break;case"bottom":R=C.bottom+P+8,$=C.left+E+(C.width-k.width)/2;break;case"left":R=C.top+P+(C.height-k.height)/2,$=C.left+E-k.width-8;break;case"right":R=C.top+P+(C.height-k.height)/2,$=C.right+E+8;break;case"auto":const U=C.top,q=window.innerHeight-C.bottom,ee=window.innerWidth-C.right;q>=k.height+8?(R=C.bottom+P+8,$=C.left+E+(C.width-k.width)/2):U>=k.height+8?(R=C.top+P-k.height-8,$=C.left+E+(C.width-k.width)/2):ee>=k.width+8?(R=C.top+P+(C.height-k.height)/2,$=C.right+E+8):(R=C.top+P+(C.height-k.height)/2,$=C.left+E-k.width-8);break}$<E+8?$=E+8:$+k.width>E+window.innerWidth-8&&($=E+window.innerWidth-k.width-8),R<P+8?R=P+8:R+k.height>P+window.innerHeight-8&&(R=P+window.innerHeight-k.height-8),f({top:R,left:$})},[n]),w=b.useCallback(()=>{y.current&&clearTimeout(y.current),x.current&&clearTimeout(x.current),y.current=setTimeout(()=>{m(!0)},s)},[s]),j=b.useCallback(()=>{y.current&&clearTimeout(y.current),i?x.current=setTimeout(()=>{m(!1)},d):m(!1)},[i,d]),S=b.useCallback(()=>{c&&m(!u)},[c,u]);b.useEffect(()=>{u&&v()},[u,v]),b.useEffect(()=>{const C=()=>{u&&v()};return window.addEventListener("resize",C),window.addEventListener("scroll",()=>{u&&v()}),()=>{window.removeEventListener("resize",C),y.current&&clearTimeout(y.current),x.current&&clearTimeout(x.current)}},[u,v]);const T=u?wa.createPortal(r.jsxs("div",{ref:g,className:`fixed z-50 bg-gray-900 text-white p-3 rounded-lg shadow-lg border border-gray-700 max-w-${a} ${o}`,style:{top:`${h.top}px`,left:`${h.left}px`,maxWidth:`${a}px`},onMouseEnter:()=>i&&j(),onMouseLeave:()=>i&&j(),children:[r.jsx("div",{className:"text-sm",children:typeof e=="string"?r.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):e}),r.jsx("div",{className:"absolute w-2 h-2 bg-gray-900 border border-gray-700 transform rotate-45"})]}),document.body):null;return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:p,className:`inline-block ${o}`,onMouseEnter:l?w:void 0,onMouseLeave:l?j:void 0,onClick:S,children:t}),T]})};ae.createContext({enabledTooltips:new Set,disabledTooltips:new Set,enableTooltip:()=>{},disableTooltip:()=>{},isTooltipEnabled:()=>!0});const I_=({position:e="fixed",location:t="bottom-right",size:n="medium",showTooltip:s=!0,className:i=""})=>{const[a,o]=b.useState(!1),[l,c]=b.useState(""),d=b.useRef(null),u=b.useRef(null),{startTour:m,getAvailableTours:h}=P_(),f=h(),g=[...f.filter(E=>!E.hasSeen).map(E=>({id:`tour-${E.id}`,title:E.name,description:E.description,icon:"",action:()=>{m(E.id),o(!1)},category:"tour",badge:"New"})),{id:"help-center",title:"Help Center",description:"Browse comprehensive documentation and guides",icon:"",action:()=>{window.open("/help","_blank"),o(!1)},category:"documentation"},{id:"quick-start",title:"Quick Start Guide",description:"Get started with GamePilot in 5 minutes",icon:"",action:()=>{window.open("/help/quick-start","_blank"),o(!1)},category:"documentation"},{id:"features-guide",title:"Features Guide",description:"Learn about all GamePilot features",icon:"",action:()=>{window.open("/help/features","_blank"),o(!1)},category:"documentation"},{id:"contact-support",title:"Contact Support",description:"Get help from our support team",icon:"",action:()=>{window.open("/support","_blank"),o(!1)},category:"support"},{id:"report-bug",title:"Report a Bug",description:"Help us improve by reporting issues",icon:"",action:()=>{window.open("/support/bug-report","_blank"),o(!1)},category:"support"},{id:"feature-request",title:"Request a Feature",description:"Suggest new features or improvements",icon:"",action:()=>{window.open("/support/feature-request","_blank"),o(!1)},category:"support"},{id:"send-feedback",title:"Send Feedback",description:"Share your thoughts and suggestions",icon:"",action:()=>{window.open("/feedback","_blank"),o(!1)},category:"feedback"},{id:"rate-experience",title:"Rate Your Experience",description:"Help us improve by rating your experience",icon:"",action:()=>{window.open("/feedback/rating","_blank"),o(!1)},category:"feedback"},{id:"community-forum",title:"Community Forum",description:"Connect with other GamePilot users",icon:"",action:()=>{window.open("https://community.gamepilot.app","_blank"),o(!1)},category:"support"},{id:"discord-server",title:"Discord Server",description:"Join our Discord community",icon:"",action:()=>{window.open("https://discord.gg/gamepilot","_blank"),o(!1)},category:"support"}].filter(E=>E.title.toLowerCase().includes(l.toLowerCase())||E.description.toLowerCase().includes(l.toLowerCase())),y=()=>e==="static"?"":{"bottom-right":"bottom-6 right-6","bottom-left":"bottom-6 left-6","top-right":"top-6 right-6","top-left":"top-6 left-6"}[t],x=()=>({small:"w-10 h-10",medium:"w-12 h-12",large:"w-14 h-14"})[n],v=()=>({small:"text-lg",medium:"text-xl",large:"text-2xl"})[n],w=()=>e==="static"?"bottom-full mb-2 left-1/2 transform -translate-x-1/2":{"bottom-right":"bottom-full mb-2 right-0","bottom-left":"bottom-full mb-2 left-0","top-right":"top-full mt-2 right-0","top-left":"top-full mt-2 left-0"}[t],j=E=>{u.current&&!u.current.contains(E.target)&&d.current&&!d.current.contains(E.target)&&o(!1)};b.useEffect(()=>{if(a)return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[a]);const S=E=>{E.key==="Escape"&&a&&o(!1)};b.useEffect(()=>(document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}),[a]);const T=E=>({tour:"bg-purple-500/20 text-purple-300 border-purple-500",documentation:"bg-blue-500/20 text-blue-300 border-blue-500",support:"bg-green-500/20 text-green-300 border-green-500",feedback:"bg-orange-500/20 text-orange-300 border-orange-500"})[E]||"bg-gray-500/20 text-gray-300 border-gray-500",C=r.jsxs("button",{ref:d,onClick:()=>o(!a),className:`
        ${e==="fixed"?"fixed":"relative"} 
        ${y()}
        ${x()}
        bg-gradient-to-r from-purple-500 to-blue-500 
        text-white rounded-full 
        shadow-lg hover:shadow-xl 
        transform transition-all duration-200 
        hover:scale-110 
        flex items-center justify-center
        z-50
        ${i}
      `,"aria-label":"Help",children:[r.jsx("span",{className:v(),children:"?"}),f.some(E=>!E.hasSeen)&&r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),k=a?wa.createPortal(r.jsxs("div",{ref:u,className:`
        fixed z-50 
        ${w()}
        w-80 max-h-96 
        bg-gray-900 border border-gray-700 
        rounded-xl shadow-2xl 
        overflow-hidden
      `,children:[r.jsxs("div",{className:"p-4 border-b border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How can we help?"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search for help...",value:l,onChange:E=>c(E.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",autoFocus:!0}),r.jsx("svg",{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{children:"No help options found"})]}):r.jsx("div",{className:"p-2",children:g.map(E=>r.jsx("button",{onClick:E.action,className:"w-full p-3 text-left hover:bg-gray-800 rounded-lg transition-colors group",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center text-sm",children:E.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"text-white font-medium truncate",children:E.title}),E.badge&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded-full",children:E.badge})]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1 line-clamp-2",children:E.description}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full border ${T(E.category)}`,children:E.category})})]})]})},E.id))})}),r.jsx("div",{className:"p-3 border-t border-gray-700 bg-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Need more help?"}),r.jsx("button",{onClick:()=>{window.open("/help","_blank"),o(!1)},className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Visit Help Center "})]})})]}),document.body):null;return r.jsxs(r.Fragment,{children:[s?r.jsx(__,{content:"Get help with GamePilot",position:"left",children:C}):C,k]})};ae.createContext({showHelp:()=>{},hideHelp:()=>{},isHelpVisible:!1});const Yw=b.createContext(void 0),R_=()=>{const e=b.useContext(Yw);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},L_=({children:e})=>{const[t,n]=b.useState({}),s=b.useCallback((m,h,f,p)=>{n(g=>{var y;return{...g,[m]:{...g[m],isLoading:h,message:f,progress:p,error:h||(y=g[m])==null?void 0:y.error}}})},[]),i=b.useCallback((m,h)=>{n(f=>({...f,[m]:{...f[m],isLoading:!1,error:h}}))},[]),a=b.useCallback(m=>{n(h=>{const f={...h};return delete f[m],f})},[]),o=b.useCallback(()=>{n({})},[]),l=b.useCallback(m=>{var h;return m?((h=t[m])==null?void 0:h.isLoading)||!1:Object.values(t).some(f=>f.isLoading)},[t]),c=b.useCallback(m=>{var h;return(h=t[m])==null?void 0:h.message},[t]),d=b.useCallback(m=>{var h;return(h=t[m])==null?void 0:h.progress},[t]),u=b.useCallback(m=>{var h;return(h=t[m])==null?void 0:h.error},[t]);return r.jsx(Yw.Provider,{value:{loadingStates:t,setLoading:s,setError:i,clearLoading:a,clearAllLoading:o,isLoading:l,getLoadingMessage:c,getLoadingProgress:d,getLoadingError:u},children:e})},O_=()=>{const{isLoading:e}=R_();return e()?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"glass-morphism rounded-lg p-6 border border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gaming-primary"}),r.jsx("span",{className:"text-white",children:"Loading..."})]})})}):null};const Kt=({children:e,pageId:t})=>{try{const n=t||GM(),s=Zl(n),i=()=>{try{const o={};if(s.backgroundMode==="solid")o.backgroundColor=s.accentColor+"1a",o.backgroundColor="#111827";else if(s.backgroundMode==="gradient"){const l=s.accentColor;o.background=`linear-gradient(135deg, ${l}22 0%, #111827 50%, ${l}11 100%)`}else s.backgroundMode==="image"&&s.backgroundImageUrl&&(o.backgroundImage=`url(${s.backgroundImageUrl})`,o.backgroundSize="cover",o.backgroundPosition="center",o.backgroundRepeat="no-repeat",o.backgroundAttachment="fixed");return o}catch(o){return console.warn("Error generating custom styles:",o),{}}},a=()=>{try{const o=["customisation-provider"];return s.animationLevel==="low"?o.push("animations-low"):s.animationLevel==="high"?o.push("animations-high"):o.push("animations-medium"),s.density==="compact"?o.push("density-compact"):o.push("density-comfortable"),s.lightingMode==="mood"?o.push("lighting-mood"):s.lightingMode==="rgb-sync"&&s.rgbSyncEnabled&&o.push("lighting-rgb-sync"),o.join(" ")}catch(o){return console.warn("Error generating custom classes:",o),"customisation-provider"}};return ae.useEffect(()=>{try{if(typeof window<"u"&&s){const o=document.documentElement,l=s.accentColor;o.style.setProperty("--accent-color",l),o.style.setProperty("--accent-color-hover",l+"dd"),o.style.setProperty("--accent-color-light",l+"33"),o.style.setProperty("--accent-color-lighter",l+"1a"),o.style.setProperty("--accent-color-ultralight",l+"0d"),o.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${l}, ${l}dd)`),o.style.setProperty("--accent-glow",`0 0 20px ${l}33`),o.style.setProperty("--accent-glow-strong",`0 0 40px ${l}66`),s.backgroundMode==="image"&&s.backgroundImageUrl?o.style.setProperty("--bg-overlay","rgba(0, 0, 0, 0.4)"):o.style.setProperty("--bg-overlay","transparent")}}catch(o){console.warn("Error setting CSS custom properties:",o)}},[s==null?void 0:s.accentColor,s==null?void 0:s.backgroundMode,s==null?void 0:s.backgroundImageUrl]),s?r.jsx("div",{className:a(),style:i(),"data-page-id":n,"data-animation-level":s.animationLevel,"data-density":s.density,"data-lighting-mode":s.lightingMode,children:e}):r.jsx("div",{className:"customisation-provider",children:e})}catch(n){return console.error("Error in CustomisationProvider:",n),r.jsx("div",{className:"customisation-provider",children:e})}},D_=()=>{const e=Zl(),{setGlobalSettings:t}=_o(),[n,s]=b.useState("global"),[i,a]=b.useState(""),o=b.useRef(null),l=[{id:"global",label:" Global Settings",icon:""},{id:"pages",label:" Page Specific",icon:""},{id:"presets",label:" Gaming Presets",icon:""},{id:"themes",label:" Themes & Backgrounds",icon:""},{id:"advanced",label:" Advanced",icon:""}],c=N=>t({fontFamily:N}),d=N=>t({fontSize:N}),u=N=>t({fontWeight:N}),m=N=>t({animationStyle:N}),h=N=>t({hoverEffects:N}),f=N=>t({loadingAnimations:N}),p=N=>t({soundTheme:N}),g=N=>t({soundEnabled:N}),y=N=>t({volume:N}),x=N=>t({theme:N}),v=N=>t({backgroundMode:N}),w=N=>t({accentColor:N}),j=N=>t({defaultBoxShape:N}),S=N=>t({defaultComponentStyle:N}),T=N=>t({borderRadius:N}),C=N=>t({borderWidth:N}),k=N=>t({shadowIntensity:N}),E=N=>t({glassOpacity:N}),P=N=>t({animationLevel:N}),R=N=>t({density:N}),$=N=>t({lightingMode:N}),U=N=>t({rgbSyncEnabled:N}),q=N=>{var A;const Y=(A=N.target.files)==null?void 0:A[0];if(Y&&Y.type.startsWith("image/")){const F=new FileReader;F.onload=L=>{var I;const G=(I=L.target)==null?void 0:I.result;t({backgroundImageUrl:G})},F.readAsDataURL(Y)}},ee=()=>{i.trim()&&(t({backgroundImageUrl:i.trim()}),a(""))};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:r.jsxs("div",{className:"container mx-auto px-6 py-10",children:[r.jsx("div",{className:"mb-10",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"Customisation"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Personalise your GamePilot experience"})]}),r.jsxs("button",{onClick:()=>alert("Page editor coming soon! This will allow you to customize the customisation page layout itself."),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium flex items-center gap-2 shadow-lg",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Edit Page"})]})]})}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:l.map(N=>r.jsxs("button",{onClick:()=>s(N.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${n===N.id?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/30":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[r.jsx("span",{className:"mr-2",children:N.icon}),N.label]},N.id))}),r.jsxs("div",{className:"space-y-8",children:[n==="global"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Typography"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Family"}),r.jsx("div",{className:"space-y-2",children:["inter","jetbrains-mono","space-mono","roboto","open-sans","poppins"].map(N=>r.jsx("button",{onClick:()=>c(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.fontFamily===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsx("span",{className:"text-white capitalize",style:{fontFamily:N==="jetbrains-mono"||N==="space-mono"?"monospace":"sans-serif"},children:N.replace("-"," ")})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Size"}),r.jsx("div",{className:"space-y-2",children:["xs","sm","base","lg","xl","2xl"].map(N=>r.jsx("button",{onClick:()=>d(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.fontSize===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="xs"?"12px":N==="sm"?"14px":N==="base"?"16px":N==="lg"?"18px":N==="xl"?"20px":"24px"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Weight"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"range",min:"100",max:"900",step:"100",value:e.fontWeight,onChange:N=>u(Number(N.target.value)),className:"w-full"}),r.jsx("div",{className:"text-center text-gray-400 text-sm",children:e.fontWeight})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Enhanced Animations"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Style"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["smooth","bounce","slide","fade","glow"].map(N=>r.jsx("button",{onClick:()=>m(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.animationStyle===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-4 h-4 ${N==="smooth"?"rounded-full bg-gaming-primary/20":N==="bounce"?"rounded-full bg-gaming-primary/40 animate-bounce":N==="slide"?"rounded bg-gaming-primary/20":N==="fade"?"rounded bg-gaming-primary/10":"rounded-full bg-gaming-primary/30 shadow-lg shadow-gaming-primary/50"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Effects"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Hover Effects"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Interactive hover animations"})]}),r.jsx("button",{onClick:()=>h(!e.hoverEffects),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.hoverEffects?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.hoverEffects?"translate-x-6":"translate-x-0.5"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Loading Animations"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Spinners and loading effects"})]}),r.jsx("button",{onClick:()=>f(!e.loadingAnimations),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.loadingAnimations?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.loadingAnimations?"translate-x-6":"translate-x-0.5"}`})})]})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sound Themes"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sound Theme"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["cyberpunk","retro","minimal","epic","nature"].map(N=>r.jsx("button",{onClick:()=>p(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.soundTheme===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${N==="cyberpunk"?"bg-pink-500":N==="retro"?"bg-amber-500":N==="minimal"?"bg-gray-500":N==="epic"?"bg-purple-500":"bg-green-500"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sound Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Enable Sounds"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"UI interaction sounds"})]}),r.jsx("button",{onClick:()=>g(!e.soundEnabled),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.soundEnabled?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.soundEnabled?"translate-x-6":"translate-x-0.5"}`})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Volume"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.volume,onChange:N=>y(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.volume,"%"]})]})]})]})]})]})]}),n==="presets"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Gaming Presets"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("button",{onClick:()=>{t({accentColor:"#ec4899",backgroundMode:"gradient",animationLevel:"high",lightingMode:"mood",animationStyle:"glow",hoverEffects:!0,soundTheme:"cyberpunk"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Cyberpunk"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Neon pink & purple"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#f59e0b",backgroundMode:"solid",animationLevel:"low",lightingMode:"none",animationStyle:"bounce",hoverEffects:!1,soundTheme:"retro"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Retro"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Classic amber tones"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#6b7280",backgroundMode:"solid",animationLevel:"low",lightingMode:"none",animationStyle:"smooth",hoverEffects:!1,soundTheme:"minimal"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Minimal"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Clean & simple"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#10b981",backgroundMode:"gradient",animationLevel:"medium",lightingMode:"mood",animationStyle:"fade",hoverEffects:!0,soundTheme:"nature"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Nature"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Calming greens"})]})})]})]}),n==="pages"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Page-Specific Overrides"})]}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:""}),r.jsx("p",{className:"text-xl text-white mb-2",children:"Page-Specific Customisation"}),r.jsx("p",{className:"text-gray-400",children:"Override global settings for specific pages"}),r.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"This feature allows you to customize individual pages differently from your global settings."})]})]}),n==="themes"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Theme"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["dark","light","system"].map(N=>r.jsx("button",{onClick:()=>x(N),className:`p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.theme===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-300 ${N==="dark"?"bg-gray-900":N==="light"?"bg-gray-100":"bg-gradient-to-r from-gray-900 to-gray-100"}`}),r.jsx("span",{className:"text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Background"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Mode"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["solid","gradient","image"].map(N=>r.jsx("button",{onClick:()=>v(N),className:`p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.backgroundMode===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-300 ${N==="solid"?"bg-gray-700":N==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),r.jsx("span",{className:"text-white capitalize",children:N})]})},N))})]}),e.backgroundMode==="image"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Image"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"file",ref:o,accept:"image/*",onChange:q,className:"hidden"}),r.jsx("button",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:" Choose File"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),placeholder:"Or enter image URL...",className:"flex-1 px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300"}),r.jsx("button",{onClick:ee,className:"px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:"Set URL"})]})]}),e.backgroundImageUrl&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Current background:"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-cover bg-center border border-white/20",style:{backgroundImage:`url(${e.backgroundImageUrl})`}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gaming-primary text-sm truncate",children:e.backgroundImageUrl}),r.jsx("button",{onClick:()=>t({backgroundImageUrl:void 0}),className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Remove"})]})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Accent Color"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"].map(N=>r.jsx("button",{onClick:()=>w(N),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.accentColor===N?"border-white scale-105":"border-gray-600 hover:border-gray-500"}`,style:{backgroundColor:N},title:`Select ${N} as accent color`,"aria-label":`Select ${N} as accent color`,children:e.accentColor===N&&r.jsx("div",{className:"w-6 h-6 bg-white rounded-full mx-auto"})},N))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{type:"color",value:e.accentColor,onChange:N=>w(N.target.value),className:"w-16 h-10 bg-gray-800/50 border border-gray-600 rounded cursor-pointer",title:"Choose custom accent color","aria-label":"Choose custom accent color"}),r.jsx("input",{type:"text",value:e.accentColor,onChange:N=>w(N.target.value),placeholder:"#3b82f6",className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none","aria-label":"Enter custom hex color code"})]})]})]}),n==="advanced"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Advanced Shapes & Styles"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Default Box Shape"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["rounded","square","hexagon","octagon","diamond","pill","circle"].map(N=>r.jsx("button",{onClick:()=>j(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.defaultBoxShape===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-6 h-6 ${N==="square"?"":N==="rounded"?"rounded-lg":N==="circle"?"rounded-full":N==="hexagon"||N==="diamond"?"rotate-45":N==="pill"?"rounded-full":""} bg-gaming-primary/20`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Component Style"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["glass-morphism","solid","outline","neon","minimal"].map(N=>r.jsx("button",{onClick:()=>S(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.defaultComponentStyle===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-6 h-6 ${N==="glass-morphism"?"bg-white/10 backdrop-blur-sm":N==="solid"?"bg-gray-700":N==="outline"?"border-2 border-gaming-primary":N==="neon"?"bg-transparent border-2 border-gaming-primary shadow-lg shadow-gaming-primary/50":"bg-transparent border border-gray-600"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N.replace("-"," ")})]})},N))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Border Radius"}),r.jsx("input",{type:"range",min:"0",max:"50",value:e.borderRadius,onChange:N=>T(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.borderRadius,"px"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Border Width"}),r.jsx("input",{type:"range",min:"0",max:"10",value:e.borderWidth,onChange:N=>C(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.borderWidth,"px"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Shadow Intensity"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.shadowIntensity,onChange:N=>k(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.shadowIntensity,"%"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Glass Opacity"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.glassOpacity,onChange:N=>E(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.glassOpacity,"%"]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Motion & Density"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Level"}),r.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(N=>r.jsx("button",{onClick:()=>P(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.animationLevel===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="low"?"Minimal animations":N==="medium"?"Balanced animations":"Full animations"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Layout Density"}),r.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(N=>r.jsx("button",{onClick:()=>R(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.density===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="compact"?"Tight spacing":"Comfortable spacing"})]})},N))})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lighting & RGB"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lighting Mode"}),r.jsx("div",{className:"space-y-2",children:["none","ambient","mood"].map(N=>r.jsx("button",{onClick:()=>$(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.lightingMode===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="none"?"No lighting effects":N==="ambient"?"Subtle ambient light":N==="mood"?"Dynamic mood lighting":"Unknown mode"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"RGB Sync"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"RGB Sync"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Sync with RGB devices"})]}),r.jsx("button",{onClick:()=>U(!e.rgbSyncEnabled),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.rgbSyncEnabled?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.rgbSyncEnabled?"translate-x-6":"translate-x-0.5"}`})})]})})]})]})]})]}),n==="pages"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Page-Specific Overrides"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"home",name:"Home",icon:"",description:"Dashboard and quick actions"},{id:"library",name:"Library",icon:"",description:"Game collection management"},{id:"identity",name:"Identity",icon:"",description:"Gaming profile and stats"},{id:"recommendations",name:"Recommendations",icon:"",description:"Personalized game suggestions"},{id:"integrations",name:"Integrations",icon:"",description:"Connected platforms"},{id:"settings",name:"Settings",icon:"",description:"App configuration"}].map(N=>r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-600 hover:border-gaming-primary/50 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:N.icon}),r.jsx("h3",{className:"text-white font-medium",children:N.name})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:N.description}),r.jsxs("button",{onClick:()=>alert(`Page-specific customisation for ${N.name} coming soon!`),className:"w-full px-3 py-2 bg-gaming-primary/20 border border-gaming-primary/50 text-gaming-primary rounded-lg hover:bg-gaming-primary/30 transition-colors text-sm",children:["Customize ",N.name]})]},N.id))}),r.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-lg border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-white font-medium",children:"Page-Specific Customisation"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Override global settings for specific pages to create unique experiences throughout your GamePilot interface."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Different themes per page"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Unique layouts and components"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Page-specific animations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Custom color schemes"})]})]})]})]})]})]})})},F_=({onComplete:e})=>{b.useEffect(()=>{const s=setTimeout(()=>{e()},1800);return()=>clearTimeout(s)},[e]);const t={initial:{x:"-100vw",opacity:0,scale:.8},slide:{x:0,opacity:1,scale:1,transition:{x:{type:"spring",stiffness:100,damping:20,duration:.8},opacity:{duration:.6},scale:{type:"spring",stiffness:200,damping:15,duration:.4}}},settle:{scale:1.1,transition:{scale:{type:"spring",stiffness:300,damping:10,duration:.3}}},fadeOut:{opacity:0,scale:.9,transition:{duration:.5,ease:"easeInOut"}}},n={initial:{opacity:0},visible:{opacity:1,transition:{duration:.3}},fadeOut:{opacity:0,transition:{duration:.4,ease:"easeInOut"}}};return r.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",variants:n,initial:"initial",animate:"visible",exit:"fadeOut",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx(B.div,{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gaming-primary rounded-full blur-3xl opacity-20",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),r.jsx(B.div,{className:"absolute bottom-1/4 right-1/4 w-40 h-40 bg-gaming-secondary rounded-full blur-3xl opacity-20",animate:{scale:[1.2,1,1.2],opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1.5}})]}),r.jsxs(B.div,{className:"relative z-10 flex flex-col items-center space-y-6",variants:t,initial:"initial",animate:"slide",exit:"fadeOut",children:[r.jsxs(B.div,{className:"relative",variants:t,animate:["slide","settle"],children:[r.jsx(B.div,{className:"absolute inset-0 w-32 h-32 md:w-40 md:h-40 bg-gaming-primary rounded-full blur-2xl opacity-30",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),r.jsx(B.img,{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"relative w-32 h-32 md:w-40 md:h-40 object-contain filter drop-shadow-2xl",animate:{rotate:[0,2,-2,0],y:[0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),r.jsxs(B.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[r.jsx(B.h1,{className:"text-4xl md:text-6xl font-gaming font-bold bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",initial:{width:0},animate:{width:"auto"},transition:{delay:.8,duration:.6,ease:"easeOut"},children:"GamePilot"}),r.jsx(B.p,{className:"text-lg md:text-xl text-gray-300 mt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},children:"Your Gaming Journey Starts Here"})]}),r.jsx(B.div,{className:"flex space-x-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.3},children:[0,1,2].map(s=>r.jsx(B.div,{className:"w-2 h-2 bg-gaming-primary rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:s*.2,ease:"easeInOut"}},s))})]}),r.jsx(B.button,{className:"absolute bottom-8 right-8 px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.3},onClick:e,children:"Skip "})]})},wn=e=>{try{const t=new Audio;switch(e){case"click":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"success":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"transition":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"complete":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break}t.volume=.3,t.play().catch(()=>{})}catch{}},G_=({onComplete:e,skipOnboarding:t})=>{const[n,s]=b.useState(0),[i,a]=b.useState([]),o=on(),l=ii();b.useEffect(()=>{n>0&&wn("transition")},[n]);const c=[{id:"welcome",title:"Welcome to GamePilot Beta! ",description:"Thank you for joining our beta program! You're among the first to experience the future of game discovery.",content:r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[r.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-8xl mb-6",children:""}),r.jsx(B.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl font-bold text-white mb-4",children:"Welcome to GamePilot Beta!"}),r.jsx(B.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-lg text-gray-300 mb-6",children:"Thank you for joining our beta program! You're among the first to experience the future of game discovery."}),r.jsx(B.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400",children:"GamePilot uses AI to understand your gaming mood and recommend the perfect games from your library."}),r.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-500/30 rounded-xl p-6 backdrop-blur-sm",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-4 text-lg",children:" Beta Features:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[r.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Steam library integration"})]}),r.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Mood-based recommendations"})]}),r.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Gaming analytics dashboard"})]}),r.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Multi-platform support"})]})]})]})]})},{id:"steam-integration",title:"Connect Your Steam Library ",description:"Import your Steam games to get personalized recommendations based on your gaming mood.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Connect your Steam account to import your game library and unlock personalized recommendations."})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Why connect Steam?"}),r.jsxs("ul",{className:"text-sm space-y-2 text-gray-300",children:[r.jsx("li",{children:" Import your entire game library automatically"}),r.jsx("li",{children:" Get mood-based game recommendations"}),r.jsx("li",{children:" Track your gaming habits and patterns"}),r.jsx("li",{children:" Discover hidden gems in your collection"})]})]}),r.jsx("button",{onClick:()=>{wn("click"),o("/library"),l.showInfo('Click "Import Steam" in your library to connect!')},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Connect Steam Library"})]})},{id:"mood-recommendations",title:"Discover Games by Mood ",description:"Tell us how you feel and we'll recommend the perfect games for your current mood.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Our AI analyzes your gaming preferences and current mood to suggest the perfect games."})]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{mood:"Chill",emoji:"",color:"bg-green-600"},{mood:"Competitive",emoji:"",color:"bg-red-600"},{mood:"Story",emoji:"",color:"bg-purple-600"},{mood:"Creative",emoji:"",color:"bg-yellow-600"}].map(({mood:p,emoji:g,color:y})=>r.jsxs("div",{className:`${y} rounded-lg p-3 text-center`,children:[r.jsx("div",{className:"text-2xl mb-1",children:g}),r.jsx("div",{className:"text-sm font-semibold",children:p})]},p))}),r.jsx("button",{onClick:()=>{wn("click"),o("/recommendations")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Try Mood Recommendations"})]})},{id:"feedback",title:"Help Us Improve! ",description:"Your feedback is crucial for shaping the future of GamePilot.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"As a beta tester, your feedback helps us build the best game discovery platform."})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Ways to provide feedback:"}),r.jsxs("ul",{className:"text-sm space-y-2 text-gray-300",children:[r.jsx("li",{children:" Use the in-app feedback button"}),r.jsx("li",{children:" Report bugs and issues"}),r.jsx("li",{children:" Suggest new features"}),r.jsx("li",{children:" Share your experience on social media"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{l.showInfo("Feedback button will be available in the app!")},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Give Feedback"}),r.jsx("button",{onClick:()=>window.open("https://github.com/gamepilot/gamepilot/issues","_blank"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Report Bug"})]})]})},{id:"support",title:"Support & Follow Us ",description:"Help us grow GamePilot and stay connected with our community!",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Support our development and follow our journey as we build the ultimate game discovery platform!"})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support Our Development"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[r.jsxs("button",{onClick:()=>{wn("click"),window.open("https://patreon.com/GamePilot?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink","_blank")},className:"bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Support on Patreon"})]}),r.jsxs("button",{onClick:()=>{wn("click"),window.open("https://www.crowdfunder.co.uk/p/qr/VlDoA4dy?utm_campaign=sharemodal&utm_medium=referral&utm_source=shortlink","_blank")},className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Back on Crowdfundr"})]})]}),r.jsx("h4",{className:"text-white font-semibold mb-3",children:"Follow Our Journey"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("button",{onClick:()=>{wn("click"),window.open("https://youtube.com/@gamepilot-dev?si=lhi91Ro2rz0eDbV5","_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Subscribe on YouTube"})]})})]}),r.jsx("div",{className:"text-center text-sm text-gray-400 mt-4",children:r.jsx("p",{children:"Every support helps us build better features and reach more gamers! "})})]})},{id:"complete",title:"You're All Set! ",description:"Welcome to the GamePilot beta. Let's discover some amazing games!",content:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Beta Setup Complete!"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"You're now ready to explore GamePilot. Here are some quick actions to get you started:"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx("button",{onClick:()=>o("/library"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" View My Library"}),r.jsx("button",{onClick:()=>o("/recommendations"),className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" Get Recommendations"}),r.jsx("button",{onClick:()=>o("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" View Analytics"})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-900/30 border border-yellow-500/30 rounded-lg",children:r.jsxs("p",{className:"text-yellow-400 text-sm",children:[r.jsx("strong",{children:"Beta Tip:"})," Check back regularly for new features and improvements!"]})})]})}];b.useEffect(()=>{if(t){e();return}},[t,e]);const d=()=>{const p=c[n].id;i.includes(p)||a([...i,p]),n<c.length-1?s(n+1):(wn("complete"),e(),l.showSuccess("Steam account connected successfully!"))},u=()=>{wn("click"),n>0&&s(n-1)},m=()=>{wn("click"),e(),l.showInfo("Onboarding skipped. You can always access it later!")};if(t)return null;const h=c[n],f=(n+1)/c.length*100;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-4xl w-full",children:[r.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"GamePilot Setup"}),r.jsxs("span",{className:"text-gray-400",children:["Step ",n+1," of ",c.length]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx(B.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.5,ease:"easeInOut"}})}),r.jsx("div",{className:"flex justify-between mt-4",children:c.map((p,g)=>r.jsxs(B.div,{className:"flex flex-col items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:g*.1},children:[r.jsx("div",{className:`w-3 h-3 rounded-full mb-2 transition-colors ${g<=n?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gray-600"}`}),r.jsx("span",{className:`text-xs ${g===n?"text-white font-semibold":"text-gray-500"}`,children:p.title.split(" ")[0]})]},p.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",n+1," of ",c.length]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(f),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})})]}),r.jsx(L5,{mode:"wait",children:r.jsxs(B.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-gray-700/50 shadow-2xl",children:[r.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:h.title}),r.jsx("p",{className:"text-gray-400",children:h.description})]}),r.jsx("div",{className:"mb-8",children:h.content}),r.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-3",children:[n>0&&r.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:" Previous"}),r.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 px-6 rounded-lg transition-colors",children:"Skip Setup"})]}),r.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-lg transition-all shadow-lg",children:n===c.length-1?" Get Started":"Next Step "})]})]},n)}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-900/30 border border-yellow-500/30 rounded-full",children:[r.jsx("span",{className:"text-yellow-400 text-sm font-semibold",children:"BETA"}),r.jsx("span",{className:"text-yellow-400 text-sm",children:"v1.0"})]})})]})})},z_=({isOpen:e,onClose:t,userId:n})=>{const[s,i]=b.useState("general"),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,u]=b.useState(""),[m,h]=b.useState(!1),[f,p]=b.useState(!1),g=[{value:"bug",label:"Bug Report",icon:"",color:"bg-red-600"},{value:"feature",label:"Feature Request",icon:"",color:"bg-blue-600"},{value:"improvement",label:"Improvement",icon:"",color:"bg-green-600"},{value:"general",label:"General Feedback",icon:"",color:"bg-purple-600"}],y=async x=>{if(x.preventDefault(),!a.trim()||!l.trim()){kn.error("Please fill in all required fields");return}h(!0);try{const v={type:s,title:a.trim(),description:l.trim(),email:d.trim(),userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString(),userId:n};if((await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)p(!0),kn.success("Thank you for your feedback! "),setTimeout(()=>{p(!1),o(""),c(""),u(""),t()},2e3);else throw new Error("Failed to submit feedback")}catch(v){console.error("Feedback submission error:",v),kn.error("Failed to submit feedback. Please try again.")}finally{h(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Beta Feedback"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Help us improve GamePilot with your feedback"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",title:"Close feedback form","aria-label":"Close feedback form",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Feedback Submitted!"}),r.jsx("p",{className:"text-gray-300",children:"Thank you for helping us improve GamePilot. We'll review your feedback carefully."})]}):r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Feedback Type"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(({value:x,label:v,icon:w,color:j})=>r.jsx("button",{type:"button",onClick:()=>i(x),className:`p-3 rounded-lg border-2 transition-all ${s===x?`${j} border-transparent`:"bg-gray-700 border-gray-600 hover:border-gray-500"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:w}),r.jsx("span",{className:"text-sm font-medium",children:v})]})},x))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",id:"title",value:a,onChange:x=>o(x.target.value),placeholder:"Brief description of your feedback",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),r.jsx("textarea",{id:"description",value:l,onChange:x=>c(x.target.value),placeholder:"Please provide detailed information about your feedback...",rows:6,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 resize-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email (optional)"}),r.jsx("input",{type:"email",id:"email",value:d,onChange:x=>u(x.target.value),placeholder:"your@email.com",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"We'll only contact you if we need more information about your feedback"})]}),r.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Beta Program Info"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Your feedback helps us shape the future of GamePilot. We review all feedback carefully and use it to prioritize improvements and new features."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white font-semibold rounded-lg transition-colors",children:m?"Submitting...":"Submit Feedback"})]})]})})]})}):null},$_=({onClick:e})=>{const[t,n]=b.useState(!1);return r.jsx("button",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 hover:scale-110 z-40",title:"Send Feedback",children:r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-black text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:""}),t&&r.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap",children:["Send Beta Feedback",r.jsx("div",{className:"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})})};function B_(){const{games:e}=be.getState();if(console.log(" Game Data Debug Analysis"),console.log("=".repeat(50)),!e||e.length===0){console.log(" No games found in library");return}console.log(` Total Games: ${e.length}`),console.log(`
 Sample Game Data Structure:`),e.slice(0,3).forEach((o,l)=>{var c;console.log(`
Game ${l+1}: ${o.title}`),console.log(`  ID: ${o.id}`),console.log("  Genres:",o.genres),console.log("  Genres type:",typeof o.genres),console.log(`  Play Status: ${o.playStatus}`),console.log(`  Hours Played: ${o.hoursPlayed}`),console.log("  Tags:",o.tags),console.log("  Platforms:",(c=o.platforms)==null?void 0:c.map(d=>d.name))}),console.log(`
 Genre Analysis:`);const t={};e.forEach(o=>{const l=typeof o.genres;t[l]=(t[l]||0)+1,Array.isArray(o.genres)&&o.genres.forEach((c,d)=>{d<3&&console.log(`  "${o.title}" genre ${d}:`,typeof c,c)})}),console.log(`
 Genre Data Types:`,t),console.log(`
 Play Status Distribution:`);const n={};e.forEach(o=>{n[o.playStatus]=(n[o.playStatus]||0)+1}),console.log(n);const s=e.reduce((o,l)=>o+(l.hoursPlayed||0),0),i=s/e.length;console.log(`
  Playtime Analysis:`),console.log(`  Total: ${s} hours`),console.log(`  Average: ${i.toFixed(1)} hours per game`);const a=e.filter(o=>o.playStatus==="completed").length;console.log(`  Completion Rate: ${(a/e.length*100).toFixed(1)}%`),console.log(`
`+"=".repeat(50)),console.log(" Debug Complete!")}typeof window<"u"&&(window.debugGameData=B_,console.log(" Game data debug command available: debugGameData()"));function U_(){const{games:e,setGames:t}=be.getState();if(console.log(" Quick Genre Fix for Steam Games"),console.log("=".repeat(50)),!e||e.length===0){console.log(" No games found in library");return}console.log(` Processing ${e.length} games...`);let n=0;const s=e.map(i=>{if(i.genres.length===1&&(typeof i.genres[0]=="string"&&i.genres[0]==="unknown"||typeof i.genres[0]=="object"&&i.genres[0].name==="unknown")){n++;const o=i.title.toLowerCase(),l=[];if(o.includes("rpg")||o.includes("final fantasy")||o.includes("witcher")||o.includes("elder scrolls")||o.includes("dragon age")||o.includes("mass effect")){const c=Lt.find(d=>d.name.toLowerCase()==="rpg");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("shooter")||o.includes("fps")||o.includes("call of duty")||o.includes("counter strike")||o.includes("overwatch")||o.includes("apex")||o.includes("valorant")||o.includes("halo")||o.includes("doom")){const c=Lt.find(d=>d.name.toLowerCase()==="shooter");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("strategy")||o.includes("rts")||o.includes("civilization")||o.includes("starcraft")||o.includes("age of empires")){const c=Lt.find(d=>d.name.toLowerCase()==="strategy");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("action")||o.includes("devil may cry")||o.includes("bayonetta")||o.includes("god of war")){const c=Lt.find(d=>d.name.toLowerCase()==="action");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("adventure")||o.includes("zelda")||o.includes("tomb raider")||o.includes("uncharted")||o.includes("resident evil")){const c=Lt.find(d=>d.name.toLowerCase()==="adventure");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("racing")||o.includes("need for speed")||o.includes("gran turismo")||o.includes("forza")||o.includes("mario kart")){const c=Lt.find(d=>d.name.toLowerCase()==="racing");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("sports")||o.includes("fifa")||o.includes("nba")||o.includes("nfl")||o.includes("football")||o.includes("basketball")){const c=Lt.find(d=>d.name.toLowerCase()==="sports");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(l.length===0){const c=Lt.find(d=>d.name.toLowerCase()==="action");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}return console.log(` Updated: ${i.title}`),console.log(`   New genres: [${l.map(c=>c.name).join(", ")}]`),{...i,genres:l.slice(0,3)}}return i});t(s),console.log(`
`+"=".repeat(50)),console.log(" Genre fix complete!"),console.log(` Updated ${n} games`),console.log(` Total games: ${s.length}`),console.log(`
 Now run: testPersona() to see the improvements!`)}typeof window<"u"&&(window.quickGenreFix=U_,console.log(" Quick genre fix command available: quickGenreFix()"));const V_=b.lazy(()=>qx(()=>import("./Settings-57efc7a7.js"),["assets/Settings-57efc7a7.js","assets/emulatorLauncher-803a0f26.js"]).then(e=>({default:e.Settings}))),H_=new c2({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function W_(){const{isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}=Ss(),[i,a]=b.useState(!0),[o,l]=b.useState(!1),[c,d]=b.useState(!1);b.useEffect(()=>{s();const h=localStorage.getItem("beta_onboarding_completed");l(!0)},[]);const u=()=>{a(!1)},m=()=>{l(!1),localStorage.setItem("beta_onboarding_completed","true")};return r.jsx(Nh,{onError:(h,f)=>{console.error("Global App Error:",h,f)},children:r.jsx(u2,{client:H_,children:r.jsx(L_,{children:r.jsx(TT,{children:r.jsx(_S,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i?r.jsx(F_,{onComplete:u}):o?r.jsx(G_,{onComplete:m,skipOnboarding:!1}):r.jsxs(r.Fragment,{children:[r.jsx(Y_,{isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}),r.jsx(T_,{}),r.jsx(O_,{}),r.jsx($_,{onClick:()=>d(!0)}),r.jsx(z_,{isOpen:c,onClose:()=>d(!1),userId:t==null?void 0:t.id})]})})})})})})}function Y_({isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}){const[i,a]=b.useState(!1),{actions:o}=be();return b.useEffect(()=>{!n&&!t&&!i&&(a(!0),s())},[n,t,i,s]),b.useEffect(()=>{console.log(" Loading library..."),o.loadGames()},[o]),r.jsxs("div",{className:"min-h-screen",children:[r.jsx(Ww,{isAuthenticated:e,user:t}),r.jsxs(SS,{children:[r.jsx(Xe,{path:"/login",element:r.jsx(Ye,{children:r.jsx(k_,{})})}),r.jsx(Xe,{path:"/register",element:r.jsx(Ye,{children:r.jsx(C_,{})})}),r.jsx(Xe,{path:"/auth/callback/steam",element:r.jsx(Ye,{children:r.jsx(S_,{})})}),r.jsx(Xe,{path:"/donate",element:r.jsx(Ye,{children:r.jsx(N_,{})})}),r.jsx(Xe,{path:"/",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!0,children:r.jsx(Kt,{children:r.jsx($M,{})})})})})}),r.jsx(Xe,{path:"/library",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!0,children:r.jsx(Kt,{children:r.jsx(b0,{})})})})})}),r.jsx(Xe,{path:"/library/add",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(b0,{})})})})})}),r.jsx(Xe,{path:"/library/game/:gameId",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(pA,{})})})})})}),r.jsx(Xe,{path:"/identity",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(l_,{})})})})})}),r.jsx(Xe,{path:"/analytics",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(x_,{})})})})})}),r.jsx(Xe,{path:"/insights",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(j_,{})})})})})}),r.jsx(Xe,{path:"/integrations",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(m_,{})})})})})}),r.jsx(Xe,{path:"/settings",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(b.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(V_,{})})})})})})}),r.jsx(Xe,{path:"/customisation",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(D_,{})})})})})}),r.jsx(Xe,{path:"/help",element:r.jsx(Wt,{children:r.jsx(Ye,{children:r.jsx(Yt,{showNavigation:!1,children:r.jsx(Kt,{children:r.jsx(A_,{})})})})})}),r.jsx(Xe,{path:"*",element:r.jsx(rv,{to:"/",replace:!0})})]}),r.jsx(I_,{})]})}ad.createRoot(document.getElementById("root")).render(r.jsx(ae.StrictMode,{children:r.jsx(W_,{})}));export{Ee as M,_o as a,on as b,Dl as c,yv as d,Rw as e,be as f,xv as g,Xl as h,Zs as i,r as j,ii as k,Dw as l,B as m,Hm as p,b as r,Zl as u};
