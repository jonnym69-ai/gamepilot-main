import{a as q,b as ne,r as j,c as A,d as ie,f as ae,j as s,g as ce,e as oe}from"./index-e978a631.js";import{r as de,i as xe,f as w,c as T,a as K,p as ue,v as he,b as fe,d as pe,g as me,n as J,h as ge,s as ye,u as C,j as Q,k as Y,l as k,M as be,o as H,m as z,e as ve}from"./emulatorLauncher-304790fe.js";function je(e){const{games:t,intelligence:l}=q(),r=ne();return j.useMemo(()=>{try{const n=t.find(c=>c.id===e);if(!n)return console.warn(`Game ${e} not found in library`),A({signals:F(),moodEntry:r});const a=Ne(n);return A({signals:a,moodEntry:r})}catch(n){return console.warn(`Game persona calculation failed for ${e}, using fallback:`,n),A({signals:F(),moodEntry:r})}},[t,l,e,r])}function Ne(e){var y,S,i,u,m,b;const t={},l=e.hoursPlayed||0;l>0&&[...e.genres||[],...e.subgenres||[]].forEach(le=>{t[le]=l});const r=45,n=1,c=((y=e.tags)==null?void 0:y.some(x=>x.toLowerCase().includes("multiplayer")||x.toLowerCase().includes("co-op")||x.toLowerCase().includes("pvp")||x.toLowerCase().includes("online")))||((S=e.genres)==null?void 0:S.some(x=>x.toLowerCase().includes("multiplayer")||x.toLowerCase().includes("mmorpg")))?1:0;let o=.3;e.playStatus==="completed"?o=1:e.playStatus==="playing"?o=.5:e.playStatus==="backlog"&&(o=.1);let h="Normal";const d=(i=e.tags)==null?void 0:i.filter(x=>x.toLowerCase().includes("hard")||x.toLowerCase().includes("difficult")||x.toLowerCase().includes("challenging")||x.toLowerCase().includes("brutal")),f=(u=e.genres)==null?void 0:u.filter(x=>x.toLowerCase().includes("roguelike")||x.toLowerCase().includes("souls")||x.toLowerCase().includes("hardcore"));(d.length>0||f.length>0)&&(h="Hard");const g=(m=e.tags)==null?void 0:m.filter(x=>x.toLowerCase().includes("casual")||x.toLowerCase().includes("relaxed")||x.toLowerCase().includes("easy")),p=(b=e.genres)==null?void 0:b.filter(x=>x.toLowerCase().includes("casual")||x.toLowerCase().includes("puzzle")||x.toLowerCase().includes("simulation"));return(g.length>0||p.length>0)&&(h="Relaxed"),{playtimeByGenre:t,averageSessionLengthMinutes:r,sessionsPerWeek:n,difficultyPreference:h,multiplayerRatio:c,lateNightRatio:.2,completionRate:o}}function F(){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:1,difficultyPreference:"Normal",multiplayerRatio:.5,lateNightRatio:.2,completionRate:.5}}const M=new WeakMap;let v;const _=(e,t,l)=>(r,n)=>n&&n[0]?n[0][e+"Size"]:xe(r)&&"getBBox"in r?r.getBBox()[t]:r[l],we=_("inline","width","offsetWidth"),Le=_("block","height","offsetHeight");function Se({target:e,borderBoxSize:t}){var l;(l=M.get(e))==null||l.forEach(r=>{r(e,{get width(){return we(e,t)},get height(){return Le(e,t)}})})}function ke(e){e.forEach(Se)}function Ce(){typeof ResizeObserver>"u"||(v=new ResizeObserver(ke))}function Pe(e,t){v||Ce();const l=de(e);return l.forEach(r=>{let n=M.get(r);n||(n=new Set,M.set(r,n)),n.add(t),v==null||v.observe(r)}),()=>{l.forEach(r=>{const n=M.get(r);n==null||n.delete(t),n!=null&&n.size||v==null||v.unobserve(r)})}}const W=new Set;let L;function Ee(){L=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};W.forEach(t=>t(e))},window.addEventListener("resize",L)}function Me(e){return W.add(e),L||Ee(),()=>{W.delete(e),!W.size&&typeof L=="function"&&(window.removeEventListener("resize",L),L=void 0)}}function We(e,t){return typeof e=="function"?Me(e):Pe(e,t)}function Z(e,t){let l;const r=()=>{const{currentTime:n}=t,c=(n===null?0:n.value)/100;l!==c&&e(c),l=c};return w.preUpdate(r,!0),()=>T(r)}function Te(...e){const t=!Array.isArray(e[0]),l=t?0:-1,r=e[0+l],n=e[1+l],a=e[2+l],c=e[3+l],o=K(n,a,c);return t?o(r):o}const Ae=50,D=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),He=()=>({time:0,x:D(),y:D()}),ze={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function G(e,t,l,r){const n=l[t],{length:a,position:c}=ze[t],o=n.current,h=l.time;n.current=e[`scroll${c}`],n.scrollLength=e[`scroll${a}`]-e[`client${a}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=ue(0,n.scrollLength,n.current);const d=r-h;n.velocity=d>Ae?0:he(n.current-o,d)}function Be(e,t,l){G(e,"x",t,l),G(e,"y",t,l),t.time=l}function Re(e,t){const l={x:0,y:0};let r=e;for(;r&&r!==t;)if(fe(r))l.x+=r.offsetLeft,l.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const n=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();l.x+=n.left-a.left,l.y+=n.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:n,y:a}=r.getBBox();l.x+=n,l.y+=a;let c=null,o=r.parentNode;for(;!c;)o.tagName==="svg"&&(c=o),o=r.parentNode;r=c}else break;return l}const R={start:0,center:.5,end:1};function I(e,t,l=0){let r=0;if(e in R&&(e=R[e]),typeof e=="string"){const n=parseFloat(e);e.endsWith("px")?r=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?r=n/100*document.documentElement.clientWidth:e.endsWith("vh")?r=n/100*document.documentElement.clientHeight:e=n}return typeof e=="number"&&(r=t*e),l+r}const Ye=[0,0];function Fe(e,t,l,r){let n=Array.isArray(e)?e:Ye,a=0,c=0;return typeof e=="number"?n=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,R[e]?e:"0"]),a=I(n[0],l,r),c=I(n[1],t),a-c}const De={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Ge={x:0,y:0};function Ie(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Oe(e,t,l){const{offset:r=De.All}=l,{target:n=e,axis:a="y"}=l,c=a==="y"?"height":"width",o=n!==e?Re(n,e):Ge,h=n===e?{width:e.scrollWidth,height:e.scrollHeight}:Ie(n),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let f=!t[a].interpolate;const g=r.length;for(let p=0;p<g;p++){const y=Fe(r[p],d[c],h[c],o[a]);!f&&y!==t[a].interpolatorOffsets[p]&&(f=!0),t[a].offset[p]=y}f&&(t[a].interpolate=K(t[a].offset,pe(r),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=me(0,1,t[a].interpolate(t[a].current))}function $e(e,t=e,l){if(l.x.targetOffset=0,l.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)l.x.targetOffset+=r.offsetLeft,l.y.targetOffset+=r.offsetTop,r=r.offsetParent}l.x.targetLength=t===e?t.scrollWidth:t.clientWidth,l.y.targetLength=t===e?t.scrollHeight:t.clientHeight,l.x.containerLength=e.clientWidth,l.y.containerLength=e.clientHeight}function Ve(e,t,l,r={}){return{measure:n=>{$e(e,r.target,l),Be(e,l,n),(r.offset||r.target)&&Oe(e,l,r)},notify:()=>t(l)}}const N=new WeakMap,O=new WeakMap,B=new WeakMap,$=new WeakMap,P=new WeakMap,V=e=>e===document.scrollingElement?window:e;function ee(e,{container:t=document.scrollingElement,trackContentSize:l=!1,...r}={}){if(!t)return J;let n=B.get(t);n||(n=new Set,B.set(t,n));const a=He(),c=Ve(t,e,a,r);if(n.add(c),!N.has(t)){const h=()=>{for(const p of n)p.measure(ge.timestamp);w.preUpdate(d)},d=()=>{for(const p of n)p.notify()},f=()=>w.read(h);N.set(t,f);const g=V(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&O.set(t,We(t,f)),g.addEventListener("scroll",f,{passive:!0}),f()}if(l&&!P.has(t)){const h=N.get(t),d={width:t.scrollWidth,height:t.scrollHeight};$.set(t,d);const f=()=>{const p=t.scrollWidth,y=t.scrollHeight;(d.width!==p||d.height!==y)&&(h(),d.width=p,d.height=y)},g=w.read(f,!0);P.set(t,g)}const o=N.get(t);return w.read(o,!1,!0),()=>{var g;T(o);const h=B.get(t);if(!h||(h.delete(c),h.size))return;const d=N.get(t);N.delete(t),d&&(V(t).removeEventListener("scroll",d),(g=O.get(t))==null||g(),window.removeEventListener("resize",d));const f=P.get(t);f&&(T(f),P.delete(t)),$.delete(t)}}const U=new Map;function Ue(e){const t={value:0},l=ee(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:l}}function se({source:e,container:t,...l}){const{axis:r}=l;e&&(t=e);const n=U.get(t)??new Map;U.set(t,n);const a=l.target??"self",c=n.get(a)??{},o=r+(l.offset??[]).join(",");return c[o]||(c[o]=!l.target&&ye()?new ScrollTimeline({source:t,axis:r}):Ue({container:t,...l})),c[o]}function Xe(e,t){const l=se(t);return e.attachTimeline({timeline:t.target?void 0:l,observe:r=>(r.pause(),Z(n=>{r.time=r.iterationDuration*n},l))})}function qe(e){return e.length===2}function Ke(e,t){return qe(e)?ee(l=>{e(l[t.axis].progress,l)},t):Z(e,se(t))}function Je(e,{axis:t="y",container:l=document.scrollingElement,...r}={}){if(!l)return J;const n={axis:t,container:l,...r};return typeof e=="function"?Ke(e,n):Xe(e,n)}const Qe=()=>({scrollX:k(0),scrollY:k(0),scrollXProgress:k(0),scrollYProgress:k(0)}),E=e=>e?!e.current:!1;function _e({container:e,target:t,...l}={}){const r=C(Qe),n=j.useRef(null),a=j.useRef(!1),c=j.useCallback(()=>(n.current=Je((o,{x:h,y:d})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(d.current),r.scrollYProgress.set(d.progress)},{...l,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var o;(o=n.current)==null||o.call(n)}),[e,t,JSON.stringify(l.offset)]);return Q(()=>{if(a.current=!1,E(e)||E(t)){a.current=!0;return}else return c()},[c]),j.useEffect(()=>{if(a.current)return Y(!E(e),"Container ref is defined but not hydrated","use-scroll-ref"),Y(!E(t),"Target ref is defined but not hydrated","use-scroll-ref"),c()},[c]),r}function Ze(e){const t=C(()=>k(e)),{isStatic:l}=j.useContext(be);if(l){const[,r]=j.useState(e);j.useEffect(()=>t.on("change",r),[])}return t}function te(e,t){const l=Ze(t()),r=()=>l.set(t());return r(),Q(()=>{const n=()=>w.preRender(r,!1,!0),a=e.map(c=>c.on("change",n));return()=>{a.forEach(c=>c()),T(r)}}),l}function es(e){H.current=[],e();const t=te(H.current,e);return H.current=void 0,t}function re(e,t,l,r){if(typeof e=="function")return es(e);if(l!==void 0&&!Array.isArray(l)&&typeof t!="function")return ss(e,t,l,r);const c=typeof t=="function"?t:Te(t,l,r);return Array.isArray(e)?X(e,c):X([e],([o])=>c(o))}function X(e,t){const l=C(()=>[]);return te(e,()=>{l.length=0;const r=e.length;for(let n=0;n<r;n++)l[n]=e[n].get();return t(l)})}function ss(e,t,l,r){const n=C(()=>Object.keys(l)),a=C(()=>({}));for(const c of n)a[c]=re(e,t,l[c],r);return a}const ls=({game:e})=>{var p,y,S;const t=ie(),{games:l,actions:r}=q(),{addToast:n}=ae(),a=je(e.id),c=async()=>{var u,m;const i=(m=(u=e.platforms)==null?void 0:u[0])==null?void 0:m.code;if(i&&oe.isEmulatorPlatform(i))try{const b=await ve.launchGame(e,{fullscreen:!0});b.success?(n({type:"success",title:"Game Launched!",message:`${e.title} is now running`,duration:3e3}),r.updateGameStatus(e.id,"playing")):n({type:"error",title:"Launch Failed",message:b.error||"Failed to launch emulator game",duration:5e3})}catch{n({type:"error",title:"Launch Error",message:"An error occurred while launching the game",duration:5e3})}else e.appId?r.launchGame(e.appId):console.warn("No appId found for game:",e.title)},o=i=>{if(!i)return"0h";const u=Math.floor(i),m=Math.round((i-u)*60);return m>0?`${u}h ${m}m`:`${u}h`},h=i=>i?new Date(i).toLocaleDateString():"Never",d=(e==null?void 0:e.tags)||[],{scrollY:f}=_e(),g=re(f,[0,300],[0,-80]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:[s.jsxs("div",{className:"relative w-full h-[400px] mb-8 overflow-hidden",children:[s.jsxs(z.div,{style:{y:g},className:"absolute inset-0",children:[s.jsx("img",{src:((p=e.backgroundImages)==null?void 0:p[0])||e.coverImage||"https://via.placeholder.com/1920x400/1e3a8a/ffffff?text=Game+Background",alt:(e==null?void 0:e.title)||"Game",className:"w-full h-full object-cover scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-black/90"}),s.jsx(z.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-900/10 via-transparent to-blue-900/10",animate:{opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"mb-3",children:s.jsxs("span",{className:"px-3 py-1 bg-amber-500/20 border border-amber-500/30 rounded-full text-amber-300 text-xs font-medium backdrop-blur-sm",children:["ðŸ•°ï¸ From this era: ",(e==null?void 0:e.releaseYear)||"Classic"]})}),s.jsx("h1",{className:"text-5xl font-bold text-white drop-shadow-2xl mb-2",children:e==null?void 0:e.title}),s.jsxs("div",{className:"flex items-center gap-4 text-white/80 text-lg",children:[s.jsx("span",{children:((y=e==null?void 0:e.platforms)==null?void 0:y.map(i=>i.name).join(" â€¢ "))||"Unknown Platform"}),(e==null?void 0:e.hoursPlayed)&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"â±ï¸"}),Math.floor(e.hoursPlayed),"h played"]})]})]}),s.jsxs(z.button,{onClick:c,className:"px-8 py-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl font-bold text-lg transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-gaming-accent/50 flex items-center gap-3 backdrop-blur-sm border border-white/20",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx("span",{className:"text-2xl",children:"â–¶ï¸"}),s.jsx("span",{children:"Launch Game"})]})]})})})]}),s.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700",children:s.jsx("div",{className:"container mx-auto px-4 py-3",children:s.jsx("button",{onClick:()=>t("/library"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-bold",children:"â† Back to Library"})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"glass-morphism rounded-xl p-4 mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:"â±ï¸"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:o(e.hoursPlayed)}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Total Playtime"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:"ðŸŽ®"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:e.localSessionCount||0}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Sessions"})]})]}),e.lastLocalPlayedAt&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:"ðŸ“…"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:h(e.lastLocalPlayedAt)}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Last Played"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{className:"p-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors group relative",title:"Add Tags",children:[s.jsx("span",{className:"text-xl",children:"ðŸ·ï¸"}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Add Tags"})]}),s.jsxs("button",{className:"p-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors group relative",title:"Add to Shelf",children:[s.jsx("span",{className:"text-xl",children:"ðŸ“š"}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Add to Shelf"})]}),s.jsxs("button",{className:"p-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors group relative",title:"Mark as Completed",children:[s.jsx("span",{className:"text-xl",children:"âœ…"}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Mark as Completed"})]}),s.jsxs("button",{className:"p-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors group relative",title:"Rate Mood",children:[s.jsx("span",{className:"text-xl",children:"â­"}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Rate Mood"})]}),s.jsxs("button",{className:"p-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors group relative",title:"Edit Metadata",children:[s.jsx("span",{className:"text-xl",children:"âœï¸"}),s.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Edit Metadata"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:"ðŸŽ­"}),"Identity & Mood"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Current Mood Tags"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:d.length>0?d.map(i=>s.jsxs("span",{className:"px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30 rounded-full text-sm text-purple-200 backdrop-blur-sm",children:[i==="Chill"&&"ðŸ˜Œ Chill",i==="Competitive"&&"ðŸ† Competitive",i==="Story"&&"ðŸ“– Story",i==="Creative"&&"ðŸŽ¨ Creative",i==="Social"&&"ðŸ‘¥ Social",i==="Dark"&&"ðŸŒ™ Dark",i==="Fast-Paced"&&"âš¡ Fast-Paced",i]},i)):s.jsx("span",{className:"text-gray-400",children:"No mood tags assigned"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"What this game says about you"}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:s.jsxs("p",{className:"text-gray-300 leading-relaxed",children:[d.includes("Competitive")&&"You're driven by achievement and enjoy testing your skills against others. ",d.includes("Story")&&"You appreciate deep narratives and emotional storytelling experiences. ",d.includes("Creative")&&"You love self-expression and building unique experiences. ",d.includes("Social")&&"You value connection and shared experiences with others. ",d.includes("Chill")&&"You prefer relaxed, stress-free gaming sessions. ",d.includes("Dark")&&"You're drawn to mysterious and atmospheric experiences. ",d.includes("Fast-Paced")&&"You thrive on adrenaline and quick decision-making. ",!d.length&&"This game's personality is waiting to be discovered through your playstyle."]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"When you usually play this"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e!=null&&e.hoursPlayed&&e.hoursPlayed>20?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-blue-300 text-sm font-medium",children:"Weekend"}),s.jsx("div",{className:"text-blue-100 text-xs mt-1",children:"Deep Sessions"})]}),s.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-purple-300 text-sm font-medium",children:"Evening"}),s.jsx("div",{className:"text-purple-100 text-xs mt-1",children:"Wind Down"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-green-300 text-sm font-medium",children:"Quick Breaks"}),s.jsx("div",{className:"text-green-100 text-xs mt-1",children:"Short Sessions"})]}),s.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 text-center",children:[s.jsx("div",{className:"text-yellow-300 text-sm font-medium",children:"Exploring"}),s.jsx("div",{className:"text-yellow-100 text-xs mt-1",children:"First Time"})]})]})})]})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:"ðŸŽ®"}),"Game Details"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"relative w-64 h-96 rounded-xl overflow-hidden cinematic-shadow",children:[s.jsx("img",{src:e.coverImage||"https://via.placeholder.com/300x400/8b5cf6/ffffff?text=Game+Cover",alt:e.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:e.title}),s.jsx(ce,{persona:a})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.playStatus==="playing"?"bg-green-500 text-white":e.playStatus==="completed"?"bg-blue-500 text-white":e.playStatus==="backlog"?"bg-yellow-500 text-white":"bg-gray-500 text-white"}`,children:[e.playStatus==="playing"&&"â–¶ï¸ Playing",e.playStatus==="completed"&&"âœ… Completed",e.playStatus==="backlog"&&"ðŸ“‹ Backlog",e.playStatus==="paused"&&"â¸ï¸ Paused",e.playStatus==="abandoned"&&"ðŸš« Abandoned"]})}),s.jsxs("div",{className:"text-gray-300",children:[s.jsx("p",{className:"mb-2",children:((S=e.platforms)==null?void 0:S.map(i=>i.name).join(" â€¢ "))||"Unknown Platform"}),e.hoursPlayed&&s.jsxs("p",{className:"mb-2",children:["Playtime: ",Math.floor(e.hoursPlayed),"h"]}),e.releaseYear&&s.jsxs("p",{className:"mb-2",children:["Released: ",e.releaseYear]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Genres & Tags"}),s.jsxs("div",{className:"space-y-2",children:[e.genres&&e.genres.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:e.genres.map((i,u)=>s.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary text-xs rounded-full",children:i.description||i.name},u))}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.slice(0,8).map((i,u)=>s.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full",children:i},u))})]})]})]})]}),e.description&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"About"}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.description})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:"ðŸ“š"}),"Shelves"]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:"ðŸ•°ï¸"}),"From This Era"]}),s.jsxs("div",{className:"space-y-3",children:[l.filter(i=>i.id!==(e==null?void 0:e.id)&&i.releaseYear===(e==null?void 0:e.releaseYear)).slice(0,3).map(i=>{var u,m;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer",onClick:()=>t(`/library/game/${i.id}`),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:i.coverImage||"https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game",alt:i.title,className:"w-12 h-16 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:i.title}),s.jsxs("p",{className:"text-sm text-gray-400",children:[i.releaseYear," â€¢ ",(m=(u=i.platforms)==null?void 0:u[0])==null?void 0:m.name]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-xs text-gaming-accent",children:"Same Era"})})]},i.id)}),l.filter(i=>i.id!==(e==null?void 0:e.id)&&i.releaseYear===(e==null?void 0:e.releaseYear)).length===0&&s.jsx("p",{className:"text-gray-400 text-center py-4",children:"No other games from this era"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{children:"ðŸŽ­"}),"Similar Vibes"]}),s.jsxs("div",{className:"space-y-3",children:[l.filter(i=>i.id!==(e==null?void 0:e.id)&&i.tags&&(e==null?void 0:e.tags)&&i.tags.some(u=>e.tags.includes(u))).slice(0,3).map(i=>{var u;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer",onClick:()=>t(`/library/game/${i.id}`),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:i.coverImage||"https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game",alt:i.title,className:"w-12 h-16 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:i.title}),s.jsx("p",{className:"text-sm text-gray-400",children:(u=i.tags)==null?void 0:u.filter(m=>{var b;return(b=e==null?void 0:e.tags)==null?void 0:b.includes(m)}).slice(0,2).join(", ")})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-xs text-gaming-accent",children:"Similar Mood"})})]},i.id)}),l.filter(i=>i.id!==(e==null?void 0:e.id)&&i.tags&&(e==null?void 0:e.tags)&&i.tags.some(u=>e.tags.includes(u))).length===0&&s.jsx("p",{className:"text-gray-400 text-center py-4",children:"No games with similar vibes found"})]})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1 space-y-8",children:s.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),"Stats & History"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-gray-300 text-sm",children:"Total Playtime"}),s.jsx("span",{className:"text-white font-bold text-lg",children:o(e.hoursPlayed)})]}),e.lastLocalPlayedAt&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300 text-sm",children:"Last Played"}),s.jsx("span",{className:"text-gray-400 text-sm",children:h(e.lastLocalPlayedAt)})]})]}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300 text-sm",children:"Total Sessions"}),s.jsx("span",{className:"text-white font-bold text-lg",children:e.localSessionCount||0})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Sessions"}),s.jsxs("div",{className:"space-y-3",children:[e.lastLocalPlayedAt&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 text-sm font-medium",children:h(e.lastLocalPlayedAt)}),s.jsxs("div",{className:"text-gray-400 text-xs",children:[o(e.hoursPlayed)," session"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-300 text-sm font-medium",children:"First played"}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Added to library"})]})]})]})]})]})]})})]})]})]})};export{ls as GameDetailsLayout};
