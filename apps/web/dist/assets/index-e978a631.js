var Bg=Object.defineProperty;var Hg=(e,t,r)=>t in e?Bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>(Hg(e,typeof t!="symbol"?t+"":t,r),r),Yi=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var C=(e,t,r)=>(Yi(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$=(e,t,r,n)=>(Yi(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Js=(e,t,r,n)=>({set _(a){$(e,t,a,r)},get _(){return C(e,t,n)}}),Pe=(e,t,r)=>(Yi(e,t,"access private method"),r);function Vg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gm={exports:{}},fi={},fm={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),Wg=Symbol.for("react.portal"),Yg=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),Qg=Symbol.for("react.profiler"),qg=Symbol.for("react.provider"),Jg=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ef=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),ld=Symbol.iterator;function rf(e){return e===null||typeof e!="object"?null:(e=ld&&e[ld]||e["@@iterator"],typeof e=="function"?e:null)}var ym={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,vm={};function Ln(e,t,r){this.props=e,this.context=t,this.refs=vm,this.updater=r||ym}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=Ln.prototype;function $l(e,t,r){this.props=e,this.context=t,this.refs=vm,this.updater=r||ym}var Ul=$l.prototype=new bm;Ul.constructor=$l;xm(Ul,Ln.prototype);Ul.isPureReactComponent=!0;var cd=Array.isArray,wm=Object.prototype.hasOwnProperty,Bl={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wm.call(t,n)&&!jm.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$s,type:e,key:i,ref:o,props:a,_owner:Bl.current}}function nf(e,t){return{$$typeof:$s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===$s}function sf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dd=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sf(""+e.key):t.toString(36)}function wa(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $s:case Wg:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ki(o,0):n,cd(a)?(r="",e!=null&&(r=e.replace(dd,"$&/")+"/"),wa(a,t,r,"",function(d){return d})):a!=null&&(Hl(a)&&(a=nf(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(dd,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",cd(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ki(i,l);o+=wa(i,t,r,c,a)}else if(c=rf(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ki(i,l++),o+=wa(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xs(e,t,r){if(e==null)return e;var n=[],a=0;return wa(e,n,"","",function(i){return t.call(r,i,a++)}),n}function af(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},ja={transition:null},of={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ja,ReactCurrentOwner:Bl};function Sm(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Xs,forEach:function(e,t,r){Xs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xs(e,function(){t++}),t},toArray:function(e){return Xs(e,function(t){return t})||[]},only:function(e){if(!Hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Ln;W.Fragment=Yg;W.Profiler=Qg;W.PureComponent=$l;W.StrictMode=Kg;W.Suspense=Zg;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=of;W.act=Sm;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xm({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wm.call(t,c)&&!jm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:$s,type:e.type,key:a,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:Jg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qg,_context:e},e.Consumer=e};W.createElement=Nm;W.createFactory=function(e){var t=Nm.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Xg,render:e}};W.isValidElement=Hl;W.lazy=function(e){return{$$typeof:tf,_payload:{_status:-1,_result:e},_init:af}};W.memo=function(e,t){return{$$typeof:ef,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ja.transition;ja.transition={};try{e()}finally{ja.transition=t}};W.unstable_act=Sm;W.useCallback=function(e,t){return Ue.current.useCallback(e,t)};W.useContext=function(e){return Ue.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ue.current.useEffect(e,t)};W.useId=function(){return Ue.current.useId()};W.useImperativeHandle=function(e,t,r){return Ue.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ue.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ue.current.useReducer(e,t,r)};W.useRef=function(e){return Ue.current.useRef(e)};W.useState=function(e){return Ue.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ue.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ue.current.useTransition()};W.version="18.3.1";fm.exports=W;var w=fm.exports;const zn=hm(w),lf=Vg({__proto__:null,default:zn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=w,df=Symbol.for("react.element"),uf=Symbol.for("react.fragment"),mf=Object.prototype.hasOwnProperty,pf=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hf={key:!0,ref:!0,__self:!0,__source:!0};function km(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mf.call(t,n)&&!hf.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:df,type:e,key:i,ref:o,props:a,_owner:pf.current}}fi.Fragment=uf;fi.jsx=km;fi.jsxs=km;gm.exports=fi;var s=gm.exports,Ro={},Cm={exports:{}},st={},Em={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,O){var L=D.length;D.push(O);e:for(;0<L;){var U=L-1>>>1,Y=D[U];if(0<a(Y,O))D[U]=O,D[L]=Y,L=U;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var O=D[0],L=D.pop();if(L!==O){D[0]=L;e:for(var U=0,Y=D.length,we=Y>>>1;U<we;){var de=2*(U+1)-1,B=D[de],z=de+1,qt=D[z];if(0>a(B,L))z<Y&&0>a(qt,B)?(D[U]=qt,D[z]=L,U=z):(D[U]=B,D[de]=L,U=de);else if(z<Y&&0>a(qt,L))D[U]=qt,D[z]=L,U=z;else break e}}return O}function a(D,O){var L=D.sortIndex-O.sortIndex;return L!==0?L:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],p=1,u=null,m=3,x=!1,h=!1,v=!1,f=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var O=r(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=D)n(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function j(D){if(v=!1,b(D),!h)if(r(c)!==null)h=!0,ee(N);else{var O=r(d);O!==null&&Fe(j,O.startTime-D)}}function N(D,O){h=!1,v&&(v=!1,g(P),P=-1),x=!0;var L=m;try{for(b(O),u=r(c);u!==null&&(!(u.expirationTime>O)||D&&!F());){var U=u.callback;if(typeof U=="function"){u.callback=null,m=u.priorityLevel;var Y=U(u.expirationTime<=O);O=e.unstable_now(),typeof Y=="function"?u.callback=Y:u===r(c)&&n(c),b(O)}else n(c);u=r(c)}if(u!==null)var we=!0;else{var de=r(d);de!==null&&Fe(j,de.startTime-O),we=!1}return we}finally{u=null,m=L,x=!1}}var E=!1,k=null,P=-1,T=5,M=-1;function F(){return!(e.unstable_now()-M<T)}function V(){if(k!==null){var D=e.unstable_now();M=D;var O=!0;try{O=k(!0,D)}finally{O?se():(E=!1,k=null)}}else E=!1}var se;if(typeof y=="function")se=function(){y(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Je=X.port2;X.port1.onmessage=V,se=function(){Je.postMessage(null)}}else se=function(){f(V,0)};function ee(D){k=D,E||(E=!0,se())}function Fe(D,O){P=f(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){h||x||(h=!0,ee(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var L=m;m=O;try{return D()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=m;m=D;try{return O()}finally{m=L}},e.unstable_scheduleCallback=function(D,O,L){var U=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=L+Y,D={id:p++,callback:O,priorityLevel:D,startTime:L,expirationTime:Y,sortIndex:-1},L>U?(D.sortIndex=L,t(d,D),r(c)===null&&D===r(d)&&(v?(g(P),P=-1):v=!0,Fe(j,L-U))):(D.sortIndex=Y,t(c,D),h||x||(h=!0,ee(N))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var O=m;return function(){var L=m;m=O;try{return D.apply(this,arguments)}finally{m=L}}}})(Pm);Em.exports=Pm;var gf=Em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=w,nt=gf;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm=new Set,fs={};function qr(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(fs[e]=t,e=0;e<t.length;e++)Tm.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=Object.prototype.hasOwnProperty,yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},md={};function xf(e){return Io.call(md,e)?!0:Io.call(ud,e)?!1:yf.test(e)?md[e]=!0:(ud[e]=!0,!1)}function vf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bf(e,t,r,n){if(t===null||typeof t>"u"||vf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function Wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vl,Wl);Ee[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vl,Wl);Ee[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vl,Wl);Ee[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yl(e,t,r,n){var a=Ee.hasOwnProperty(t)?Ee[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bf(t,r,a,n)&&(r=null),n||a===null?xf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kt=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),Kl=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),Rm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),Ql=Symbol.for("react.forward_ref"),Do=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),ql=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),pd=Symbol.iterator;function Wn(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Qi;function ns(e){if(Qi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qi=t&&t[1]||""}return`
`+Qi+e}var qi=!1;function Ji(e,t){if(!e||qi)return"";qi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ns(e):""}function wf(e){switch(e.tag){case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return e=Ji(e.type,!1),e;case 11:return e=Ji(e.type.render,!1),e;case 1:return e=Ji(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rn:return"Fragment";case tn:return"Portal";case Mo:return"Profiler";case Kl:return"StrictMode";case Do:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Im:return(e.displayName||"Context")+".Consumer";case Rm:return(e._context.displayName||"Context")+".Provider";case Ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ql:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function jf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===Kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nf(e){var t=Dm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=Nf(e))}function Am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _o(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fm(e,t){t=t.checked,t!=null&&Yl(e,"checked",t,!1)}function Oo(e,t){Fm(e,t);var r=jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lo(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lo(e,t,r){(t!=="number"||La(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ss=Array.isArray;function hn(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function zo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(ss(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jr(r)}}function _m(e,t){var r=jr(t.value),n=jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,Lm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(e){Sf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),os[t]=os[e]})});function zm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||os.hasOwnProperty(e)&&os[e]?(""+t).trim():t+"px"}function Gm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(e,t){if(t){if(kf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function Jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ho=null,gn=null,fn=null;function xd(e){if(e=Hs(e)){if(typeof Ho!="function")throw Error(I(280));var t=e.stateNode;t&&(t=wi(t),Ho(e.stateNode,e.type,t))}}function $m(e){gn?fn?fn.push(e):fn=[e]:gn=e}function Um(){if(gn){var e=gn,t=fn;if(fn=gn=null,xd(e),t)for(e=0;e<t.length;e++)xd(t[e])}}function Bm(e,t){return e(t)}function Hm(){}var Xi=!1;function Vm(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return Bm(e,t,r)}finally{Xi=!1,(gn!==null||fn!==null)&&(Hm(),Um())}}function xs(e,t){var r=e.stateNode;if(r===null)return null;var n=wi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Vo=!1;if(Ht)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Vo=!1}function Cf(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(p){this.onError(p)}}var ls=!1,za=null,Ga=!1,Wo=null,Ef={onError:function(e){ls=!0,za=e}};function Pf(e,t,r,n,a,i,o,l,c){ls=!1,za=null,Cf.apply(Ef,arguments)}function Tf(e,t,r,n,a,i,o,l,c){if(Pf.apply(this,arguments),ls){if(ls){var d=za;ls=!1,za=null}else throw Error(I(198));Ga||(Ga=!0,Wo=d)}}function Jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(Jr(e)!==e)throw Error(I(188))}function Rf(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return vd(a),e;if(i===n)return vd(a),t;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Ym(e){return e=Rf(e),e!==null?Km(e):null}function Km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Km(e);if(t!==null)return t;e=e.sibling}return null}var Qm=nt.unstable_scheduleCallback,bd=nt.unstable_cancelCallback,If=nt.unstable_shouldYield,Mf=nt.unstable_requestPaint,ue=nt.unstable_now,Df=nt.unstable_getCurrentPriorityLevel,Xl=nt.unstable_ImmediatePriority,qm=nt.unstable_UserBlockingPriority,$a=nt.unstable_NormalPriority,Af=nt.unstable_LowPriority,Jm=nt.unstable_IdlePriority,yi=null,Mt=null;function Ff(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(yi,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Lf,_f=Math.log,Of=Math.LN2;function Lf(e){return e>>>=0,e===0?32:31-(_f(e)/Of|0)|0}var ra=64,na=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ua(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=as(l):(i&=o,i!==0&&(n=as(i)))}else o=r&~a,o!==0?n=as(o):i!==0&&(n=as(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bt(t),a=1<<r,n|=e[r],t&=~a;return n}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-bt(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=zf(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xm(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function Zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=r}function $f(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Zl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var J=0;function Zm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ep,ec,tp,rp,np,Ko=!1,sa=[],pr=null,hr=null,gr=null,vs=new Map,bs=new Map,tr=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Kn(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Hs(t),t!==null&&ec(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Bf(e,t,r,n,a){switch(t){case"focusin":return pr=Kn(pr,e,t,r,n,a),!0;case"dragenter":return hr=Kn(hr,e,t,r,n,a),!0;case"mouseover":return gr=Kn(gr,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return vs.set(i,Kn(vs.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,bs.set(i,Kn(bs.get(i)||null,e,t,r,n,a)),!0}return!1}function sp(e){var t=Ir(e.target);if(t!==null){var r=Jr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wm(r),t!==null){e.blockedOn=t,np(e.priority,function(){tp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bo=n,r.target.dispatchEvent(n),Bo=null}else return t=Hs(r),t!==null&&ec(t),e.blockedOn=r,!1;t.shift()}return!0}function jd(e,t,r){Na(e)&&r.delete(t)}function Hf(){Ko=!1,pr!==null&&Na(pr)&&(pr=null),hr!==null&&Na(hr)&&(hr=null),gr!==null&&Na(gr)&&(gr=null),vs.forEach(jd),bs.forEach(jd)}function Qn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Hf)))}function ws(e){function t(a){return Qn(a,e)}if(0<sa.length){Qn(sa[0],e);for(var r=1;r<sa.length;r++){var n=sa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pr!==null&&Qn(pr,e),hr!==null&&Qn(hr,e),gr!==null&&Qn(gr,e),vs.forEach(t),bs.forEach(t),r=0;r<tr.length;r++)n=tr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)sp(r),r.blockedOn===null&&tr.shift()}var yn=Kt.ReactCurrentBatchConfig,Ba=!0;function Vf(e,t,r,n){var a=J,i=yn.transition;yn.transition=null;try{J=1,tc(e,t,r,n)}finally{J=a,yn.transition=i}}function Wf(e,t,r,n){var a=J,i=yn.transition;yn.transition=null;try{J=4,tc(e,t,r,n)}finally{J=a,yn.transition=i}}function tc(e,t,r,n){if(Ba){var a=Qo(e,t,r,n);if(a===null)co(e,t,n,Ha,r),wd(e,n);else if(Bf(a,e,t,r,n))n.stopPropagation();else if(wd(e,n),t&4&&-1<Uf.indexOf(e)){for(;a!==null;){var i=Hs(a);if(i!==null&&ep(i),i=Qo(e,t,r,n),i===null&&co(e,t,n,Ha,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else co(e,t,n,null,r)}}var Ha=null;function Qo(e,t,r,n){if(Ha=null,e=Jl(n),e=Ir(e),e!==null)if(t=Jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ha=e,null}function ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Df()){case Xl:return 1;case qm:return 4;case $a:case Af:return 16;case Jm:return 536870912;default:return 16}default:return 16}}var cr=null,rc=null,Sa=null;function ip(){if(Sa)return Sa;var e,t=rc,r=t.length,n,a="value"in cr?cr.value:cr.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Sa=a.slice(e,1<n?1-n:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aa(){return!0}function Nd(){return!1}function at(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?aa:Nd,this.isPropagationStopped=Nd,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=at(Gn),Bs=oe({},Gn,{view:0,detail:0}),Yf=at(Bs),eo,to,qn,xi=oe({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(eo=e.screenX-qn.screenX,to=e.screenY-qn.screenY):to=eo=0,qn=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Sd=at(xi),Kf=oe({},xi,{dataTransfer:0}),Qf=at(Kf),qf=oe({},Bs,{relatedTarget:0}),ro=at(qf),Jf=oe({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=at(Jf),Zf=oe({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e0=at(Zf),t0=oe({},Gn,{data:0}),kd=at(t0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s0[e])?!!t[e]:!1}function sc(){return a0}var i0=oe({},Bs,{key:function(e){if(e.key){var t=r0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=at(i0),l0=oe({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=at(l0),c0=oe({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),d0=at(c0),u0=oe({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),m0=at(u0),p0=oe({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h0=at(p0),g0=[9,13,27,32],ac=Ht&&"CompositionEvent"in window,cs=null;Ht&&"documentMode"in document&&(cs=document.documentMode);var f0=Ht&&"TextEvent"in window&&!cs,op=Ht&&(!ac||cs&&8<cs&&11>=cs),Ed=String.fromCharCode(32),Pd=!1;function lp(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function y0(e,t){switch(e){case"compositionend":return cp(t);case"keypress":return t.which!==32?null:(Pd=!0,Ed);case"textInput":return e=t.data,e===Ed&&Pd?null:e;default:return null}}function x0(e,t){if(nn)return e==="compositionend"||!ac&&lp(e,t)?(e=ip(),Sa=rc=cr=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return op&&t.locale!=="ko"?null:t.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v0[e.type]:t==="textarea"}function dp(e,t,r,n){$m(n),t=Va(t,"onChange"),0<t.length&&(r=new nc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ds=null,js=null;function b0(e){wp(e,0)}function vi(e){var t=on(e);if(Am(t))return e}function w0(e,t){if(e==="change")return t}var up=!1;if(Ht){var no;if(Ht){var so="oninput"in document;if(!so){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),so=typeof Rd.oninput=="function"}no=so}else no=!1;up=no&&(!document.documentMode||9<document.documentMode)}function Id(){ds&&(ds.detachEvent("onpropertychange",mp),js=ds=null)}function mp(e){if(e.propertyName==="value"&&vi(js)){var t=[];dp(t,js,e,Jl(e)),Vm(b0,t)}}function j0(e,t,r){e==="focusin"?(Id(),ds=t,js=r,ds.attachEvent("onpropertychange",mp)):e==="focusout"&&Id()}function N0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(js)}function S0(e,t){if(e==="click")return vi(t)}function k0(e,t){if(e==="input"||e==="change")return vi(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:C0;function Ns(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Io.call(t,a)||!Nt(e[a],t[a]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var r=Md(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Md(r)}}function pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hp(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=La(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E0(e){var t=hp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pp(r.ownerDocument.documentElement,r)){if(n!==null&&ic(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Dd(r,i);var o=Dd(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P0=Ht&&"documentMode"in document&&11>=document.documentMode,sn=null,qo=null,us=null,Jo=!1;function Ad(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jo||sn==null||sn!==La(n)||(n=sn,"selectionStart"in n&&ic(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),us&&Ns(us,n)||(us=n,n=Va(qo,"onSelect"),0<n.length&&(t=new nc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function ia(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var an={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},ao={},gp={};Ht&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function bi(e){if(ao[e])return ao[e];if(!an[e])return e;var t=an[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in gp)return ao[e]=t[r];return e}var fp=bi("animationend"),yp=bi("animationiteration"),xp=bi("animationstart"),vp=bi("transitionend"),bp=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){bp.set(e,t),qr(t,[e])}for(var io=0;io<Fd.length;io++){var oo=Fd[io],T0=oo.toLowerCase(),R0=oo[0].toUpperCase()+oo.slice(1);Sr(T0,"on"+R0)}Sr(fp,"onAnimationEnd");Sr(yp,"onAnimationIteration");Sr(xp,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(vp,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function _d(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Tf(n,t,void 0,e),e.currentTarget=null}function wp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;_d(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;_d(a,l,d),i=c}}}if(Ga)throw e=Wo,Ga=!1,Wo=null,e}function te(e,t){var r=t[rl];r===void 0&&(r=t[rl]=new Set);var n=e+"__bubble";r.has(n)||(jp(t,e,2,!1),r.add(n))}function lo(e,t,r){var n=0;t&&(n|=4),jp(r,e,n,t)}var oa="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[oa]){e[oa]=!0,Tm.forEach(function(r){r!=="selectionchange"&&(I0.has(r)||lo(r,!1,e),lo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oa]||(t[oa]=!0,lo("selectionchange",!1,t))}}function jp(e,t,r,n){switch(ap(t)){case 1:var a=Vf;break;case 4:a=Wf;break;default:a=tc}r=a.bind(null,t,r,e),a=void 0,!Vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function co(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ir(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Vm(function(){var d=i,p=Jl(r),u=[];e:{var m=bp.get(e);if(m!==void 0){var x=nc,h=e;switch(e){case"keypress":if(ka(r)===0)break e;case"keydown":case"keyup":x=o0;break;case"focusin":h="focus",x=ro;break;case"focusout":h="blur",x=ro;break;case"beforeblur":case"afterblur":x=ro;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=d0;break;case fp:case yp:case xp:x=Xf;break;case vp:x=m0;break;case"scroll":x=Yf;break;case"wheel":x=h0;break;case"copy":case"cut":case"paste":x=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Cd}var v=(t&4)!==0,f=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var y=d,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=xs(y,g),j!=null&&v.push(ks(y,j,b)))),f)break;y=y.return}0<v.length&&(m=new x(m,h,null,r,p),u.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&r!==Bo&&(h=r.relatedTarget||r.fromElement)&&(Ir(h)||h[Vt]))break e;if((x||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,x?(h=r.relatedTarget||r.toElement,x=d,h=h?Ir(h):null,h!==null&&(f=Jr(h),h!==f||h.tag!==5&&h.tag!==6)&&(h=null)):(x=null,h=d),x!==h)){if(v=Sd,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Cd,j="onPointerLeave",g="onPointerEnter",y="pointer"),f=x==null?m:on(x),b=h==null?m:on(h),m=new v(j,y+"leave",x,r,p),m.target=f,m.relatedTarget=b,j=null,Ir(p)===d&&(v=new v(g,y+"enter",h,r,p),v.target=b,v.relatedTarget=f,j=v),f=j,x&&h)t:{for(v=x,g=h,y=0,b=v;b;b=Zr(b))y++;for(b=0,j=g;j;j=Zr(j))b++;for(;0<y-b;)v=Zr(v),y--;for(;0<b-y;)g=Zr(g),b--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Zr(v),g=Zr(g)}v=null}else v=null;x!==null&&Od(u,m,x,v,!1),h!==null&&f!==null&&Od(u,f,h,v,!0)}}e:{if(m=d?on(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var N=w0;else if(Td(m))if(up)N=k0;else{N=N0;var E=j0}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=S0);if(N&&(N=N(e,d))){dp(u,N,r,p);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Lo(m,"number",m.value)}switch(E=d?on(d):window,e){case"focusin":(Td(E)||E.contentEditable==="true")&&(sn=E,qo=d,us=null);break;case"focusout":us=qo=sn=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Ad(u,r,p);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":Ad(u,r,p)}var k;if(ac)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else nn?lp(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(op&&r.locale!=="ko"&&(nn||P!=="onCompositionStart"?P==="onCompositionEnd"&&nn&&(k=ip()):(cr=p,rc="value"in cr?cr.value:cr.textContent,nn=!0)),E=Va(d,P),0<E.length&&(P=new kd(P,e,null,r,p),u.push({event:P,listeners:E}),k?P.data=k:(k=cp(r),k!==null&&(P.data=k)))),(k=f0?y0(e,r):x0(e,r))&&(d=Va(d,"onBeforeInput"),0<d.length&&(p=new kd("onBeforeInput","beforeinput",null,r,p),u.push({event:p,listeners:d}),p.data=k))}wp(u,t)})}function ks(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Va(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=xs(e,r),i!=null&&n.unshift(ks(e,i,a)),i=xs(e,t),i!=null&&n.push(ks(e,i,a))),e=e.return}return n}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Od(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=xs(r,i),c!=null&&o.unshift(ks(r,c,l))):a||(c=xs(r,i),c!=null&&o.push(ks(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var M0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function Ld(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(D0,"")}function la(e,t,r){if(t=Ld(t),Ld(e)!==t&&r)throw Error(I(425))}function Wa(){}var Xo=null,Zo=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,zd=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof zd<"u"?function(e){return zd.resolve(null).then(e).catch(_0)}:tl;function _0(e){setTimeout(function(){throw e})}function uo(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ws(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ws(t)}function fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $n=Math.random().toString(36).slice(2),It="__reactFiber$"+$n,Cs="__reactProps$"+$n,Vt="__reactContainer$"+$n,rl="__reactEvents$"+$n,O0="__reactListeners$"+$n,L0="__reactHandles$"+$n;function Ir(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vt]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gd(e);e!==null;){if(r=e[It])return r;e=Gd(e)}return t}e=r,r=e.parentNode}return null}function Hs(e){return e=e[It]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function wi(e){return e[Cs]||null}var nl=[],ln=-1;function kr(e){return{current:e}}function re(e){0>ln||(e.current=nl[ln],nl[ln]=null,ln--)}function Z(e,t){ln++,nl[ln]=e.current,e.current=t}var Nr={},De=kr(Nr),Ye=kr(!1),Hr=Nr;function Rn(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ke(e){return e=e.childContextTypes,e!=null}function Ya(){re(Ye),re(De)}function $d(e,t,r){if(De.current!==Nr)throw Error(I(168));Z(De,t),Z(Ye,r)}function Np(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(I(108,jf(e)||"Unknown",a));return oe({},r,n)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Hr=De.current,Z(De,e),Z(Ye,Ye.current),!0}function Ud(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Np(e,t,Hr),n.__reactInternalMemoizedMergedChildContext=e,re(Ye),re(De),Z(De,e)):re(Ye),Z(Ye,r)}var zt=null,ji=!1,mo=!1;function Sp(e){zt===null?zt=[e]:zt.push(e)}function z0(e){ji=!0,Sp(e)}function Cr(){if(!mo&&zt!==null){mo=!0;var e=0,t=J;try{var r=zt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zt=null,ji=!1}catch(a){throw zt!==null&&(zt=zt.slice(e+1)),Qm(Xl,Cr),a}finally{J=t,mo=!1}}return null}var cn=[],dn=0,Qa=null,qa=0,ot=[],lt=0,Vr=null,$t=1,Ut="";function Tr(e,t){cn[dn++]=qa,cn[dn++]=Qa,Qa=e,qa=t}function kp(e,t,r){ot[lt++]=$t,ot[lt++]=Ut,ot[lt++]=Vr,Vr=e;var n=$t;e=Ut;var a=32-bt(n)-1;n&=~(1<<a),r+=1;var i=32-bt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$t=1<<32-bt(t)+a|r<<a|n,Ut=i+e}else $t=1<<i|r<<a|n,Ut=e}function oc(e){e.return!==null&&(Tr(e,1),kp(e,1,0))}function lc(e){for(;e===Qa;)Qa=cn[--dn],cn[dn]=null,qa=cn[--dn],cn[dn]=null;for(;e===Vr;)Vr=ot[--lt],ot[lt]=null,Ut=ot[--lt],ot[lt]=null,$t=ot[--lt],ot[lt]=null}var rt=null,tt=null,ne=!1,vt=null;function Cp(e,t){var r=ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,tt=fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vr!==null?{id:$t,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rt=e,tt=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(ne){var t=tt;if(t){var r=t;if(!Bd(e,t)){if(sl(e))throw Error(I(418));t=fr(r.nextSibling);var n=rt;t&&Bd(e,t)?Cp(n,r):(e.flags=e.flags&-4097|2,ne=!1,rt=e)}}else{if(sl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ne=!1,rt=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function ca(e){if(e!==rt)return!1;if(!ne)return Hd(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=tt)){if(sl(e))throw Ep(),Error(I(418));for(;t;)Cp(e,t),t=fr(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tt=fr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=rt?fr(e.stateNode.nextSibling):null;return!0}function Ep(){for(var e=tt;e;)e=fr(e.nextSibling)}function In(){tt=rt=null,ne=!1}function cc(e){vt===null?vt=[e]:vt.push(e)}var G0=Kt.ReactCurrentBatchConfig;function Jn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function da(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Pp(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=br(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,j){return y===null||y.tag!==6?(y=vo(b,g.mode,j),y.return=g,y):(y=a(y,b),y.return=g,y)}function c(g,y,b,j){var N=b.type;return N===rn?p(g,y,b.props.children,j,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&Vd(N)===y.type)?(j=a(y,b.props),j.ref=Jn(g,y,b),j.return=g,j):(j=Ma(b.type,b.key,b.props,null,g.mode,j),j.ref=Jn(g,y,b),j.return=g,j)}function d(g,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=bo(b,g.mode,j),y.return=g,y):(y=a(y,b.children||[]),y.return=g,y)}function p(g,y,b,j,N){return y===null||y.tag!==7?(y=Ur(b,g.mode,j,N),y.return=g,y):(y=a(y,b),y.return=g,y)}function u(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vo(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zs:return b=Ma(y.type,y.key,y.props,null,g.mode,b),b.ref=Jn(g,null,y),b.return=g,b;case tn:return y=bo(y,g.mode,b),y.return=g,y;case Zt:var j=y._init;return u(g,j(y._payload),b)}if(ss(y)||Wn(y))return y=Ur(y,g.mode,b,null),y.return=g,y;da(g,y)}return null}function m(g,y,b,j){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(g,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zs:return b.key===N?c(g,y,b,j):null;case tn:return b.key===N?d(g,y,b,j):null;case Zt:return N=b._init,m(g,y,N(b._payload),j)}if(ss(b)||Wn(b))return N!==null?null:p(g,y,b,j,null);da(g,b)}return null}function x(g,y,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(y,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zs:return g=g.get(j.key===null?b:j.key)||null,c(y,g,j,N);case tn:return g=g.get(j.key===null?b:j.key)||null,d(y,g,j,N);case Zt:var E=j._init;return x(g,y,b,E(j._payload),N)}if(ss(j)||Wn(j))return g=g.get(b)||null,p(y,g,j,N,null);da(y,j)}return null}function h(g,y,b,j){for(var N=null,E=null,k=y,P=y=0,T=null;k!==null&&P<b.length;P++){k.index>P?(T=k,k=null):T=k.sibling;var M=m(g,k,b[P],j);if(M===null){k===null&&(k=T);break}e&&k&&M.alternate===null&&t(g,k),y=i(M,y,P),E===null?N=M:E.sibling=M,E=M,k=T}if(P===b.length)return r(g,k),ne&&Tr(g,P),N;if(k===null){for(;P<b.length;P++)k=u(g,b[P],j),k!==null&&(y=i(k,y,P),E===null?N=k:E.sibling=k,E=k);return ne&&Tr(g,P),N}for(k=n(g,k);P<b.length;P++)T=x(k,g,P,b[P],j),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?P:T.key),y=i(T,y,P),E===null?N=T:E.sibling=T,E=T);return e&&k.forEach(function(F){return t(g,F)}),ne&&Tr(g,P),N}function v(g,y,b,j){var N=Wn(b);if(typeof N!="function")throw Error(I(150));if(b=N.call(b),b==null)throw Error(I(151));for(var E=N=null,k=y,P=y=0,T=null,M=b.next();k!==null&&!M.done;P++,M=b.next()){k.index>P?(T=k,k=null):T=k.sibling;var F=m(g,k,M.value,j);if(F===null){k===null&&(k=T);break}e&&k&&F.alternate===null&&t(g,k),y=i(F,y,P),E===null?N=F:E.sibling=F,E=F,k=T}if(M.done)return r(g,k),ne&&Tr(g,P),N;if(k===null){for(;!M.done;P++,M=b.next())M=u(g,M.value,j),M!==null&&(y=i(M,y,P),E===null?N=M:E.sibling=M,E=M);return ne&&Tr(g,P),N}for(k=n(g,k);!M.done;P++,M=b.next())M=x(k,g,P,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?P:M.key),y=i(M,y,P),E===null?N=M:E.sibling=M,E=M);return e&&k.forEach(function(V){return t(g,V)}),ne&&Tr(g,P),N}function f(g,y,b,j){if(typeof b=="object"&&b!==null&&b.type===rn&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zs:e:{for(var N=b.key,E=y;E!==null;){if(E.key===N){if(N=b.type,N===rn){if(E.tag===7){r(g,E.sibling),y=a(E,b.props.children),y.return=g,g=y;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zt&&Vd(N)===E.type){r(g,E.sibling),y=a(E,b.props),y.ref=Jn(g,E,b),y.return=g,g=y;break e}r(g,E);break}else t(g,E);E=E.sibling}b.type===rn?(y=Ur(b.props.children,g.mode,j,b.key),y.return=g,g=y):(j=Ma(b.type,b.key,b.props,null,g.mode,j),j.ref=Jn(g,y,b),j.return=g,g=j)}return o(g);case tn:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=a(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=bo(b,g.mode,j),y.return=g,g=y}return o(g);case Zt:return E=b._init,f(g,y,E(b._payload),j)}if(ss(b))return h(g,y,b,j);if(Wn(b))return v(g,y,b,j);da(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,b),y.return=g,g=y):(r(g,y),y=vo(b,g.mode,j),y.return=g,g=y),o(g)):r(g,y)}return f}var Mn=Pp(!0),Tp=Pp(!1),Ja=kr(null),Xa=null,un=null,dc=null;function uc(){dc=un=Xa=null}function mc(e){var t=Ja.current;re(Ja),e._currentValue=t}function il(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xn(e,t){Xa=e,dc=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(dc!==e)if(e={context:e,memoizedValue:t,next:null},un===null){if(Xa===null)throw Error(I(308));un=e,Xa.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return t}var Mr=null;function pc(e){Mr===null?Mr=[e]:Mr.push(e)}function Rp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,pc(t)):(r.next=a.next,a.next=r),t.interleaved=r,Wt(e,n)}function Wt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var er=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Wt(e,r)}return a=n.interleaved,a===null?(t.next=t,pc(n)):(t.next=a.next,a.next=t),n.interleaved=t,Wt(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}function Wd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Za(e,t,r,n){var a=e.updateQueue;er=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,p=d=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((n&m)===m){p!==null&&(p=p.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,v=l;switch(m=t,x=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){u=h.call(x,u,m);break e}u=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,m=typeof h=="function"?h.call(x,u,m):h,m==null)break e;u=oe({},u,m);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=x,c=u):p=p.next=x,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(p===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yr|=o,e.lanes=o,e.memoizedState=u}}function Yd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(I(191,a));a.call(n)}}}var Vs={},Dt=kr(Vs),Es=kr(Vs),Ps=kr(Vs);function Dr(e){if(e===Vs)throw Error(I(174));return e}function gc(e,t){switch(Z(Ps,t),Z(Es,e),Z(Dt,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Go(t,e)}re(Dt),Z(Dt,t)}function Dn(){re(Dt),re(Es),re(Ps)}function Mp(e){Dr(Ps.current);var t=Dr(Dt.current),r=Go(t,e.type);t!==r&&(Z(Es,e),Z(Dt,r))}function fc(e){Es.current===e&&(re(Dt),re(Es))}var ae=kr(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function yc(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var Ea=Kt.ReactCurrentDispatcher,ho=Kt.ReactCurrentBatchConfig,Wr=0,ie=null,ge=null,ve=null,ti=!1,ms=!1,Ts=0,$0=0;function Te(){throw Error(I(321))}function xc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nt(e[r],t[r]))return!1;return!0}function vc(e,t,r,n,a,i){if(Wr=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?V0:W0,e=r(n,a),ms){i=0;do{if(ms=!1,Ts=0,25<=i)throw Error(I(301));i+=1,ve=ge=null,t.updateQueue=null,Ea.current=Y0,e=r(n,a)}while(ms)}if(Ea.current=ri,t=ge!==null&&ge.next!==null,Wr=0,ve=ge=ie=null,ti=!1,t)throw Error(I(300));return e}function bc(){var e=Ts!==0;return Ts=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ie.memoizedState=ve=e:ve=ve.next=e,ve}function mt(){if(ge===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ve===null?ie.memoizedState:ve.next;if(t!==null)ve=t,ge=e;else{if(e===null)throw Error(I(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?ie.memoizedState=ve=e:ve=ve.next=e}return ve}function Rs(e,t){return typeof t=="function"?t(e):t}function go(e){var t=mt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=ge,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var p=d.lane;if((Wr&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var u={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=n):c=c.next=u,ie.lanes|=p,Yr|=p}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Nt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ie.lanes|=i,Yr|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fo(e){var t=mt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Nt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Dp(){}function Ap(e,t){var r=ie,n=mt(),a=t(),i=!Nt(n.memoizedState,a);if(i&&(n.memoizedState=a,We=!0),n=n.queue,wc(Op.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Is(9,_p.bind(null,r,n,a,t),void 0,null),be===null)throw Error(I(349));Wr&30||Fp(r,t,a)}return a}function Fp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _p(e,t,r,n){t.value=r,t.getSnapshot=n,Lp(t)&&zp(e)}function Op(e,t,r){return r(function(){Lp(t)&&zp(e)})}function Lp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nt(e,r)}catch{return!0}}function zp(e){var t=Wt(e,1);t!==null&&wt(t,e,1,-1)}function Kd(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=H0.bind(null,ie,e),[t.memoizedState,e]}function Is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gp(){return mt().memoizedState}function Pa(e,t,r,n){var a=Et();ie.flags|=e,a.memoizedState=Is(1|t,r,void 0,n===void 0?null:n)}function Ni(e,t,r,n){var a=mt();n=n===void 0?null:n;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,n!==null&&xc(n,o.deps)){a.memoizedState=Is(t,r,i,n);return}}ie.flags|=e,a.memoizedState=Is(1|t,r,i,n)}function Qd(e,t){return Pa(8390656,8,e,t)}function wc(e,t){return Ni(2048,8,e,t)}function $p(e,t){return Ni(4,2,e,t)}function Up(e,t){return Ni(4,4,e,t)}function Bp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hp(e,t,r){return r=r!=null?r.concat([e]):null,Ni(4,4,Bp.bind(null,t,e),r)}function jc(){}function Vp(e,t){var r=mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wp(e,t){var r=mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yp(e,t,r){return Wr&21?(Nt(r,t)||(r=Xm(),ie.lanes|=r,Yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function U0(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=ho.transition;ho.transition={};try{e(!1),t()}finally{J=r,ho.transition=n}}function Kp(){return mt().memoizedState}function B0(e,t,r){var n=vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qp(e))qp(t,r);else if(r=Rp(e,t,r,n),r!==null){var a=$e();wt(r,e,n,a),Jp(r,t,n)}}function H0(e,t,r){var n=vr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qp(e))qp(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Nt(l,o)){var c=t.interleaved;c===null?(a.next=a,pc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Rp(e,t,a,n),r!==null&&(a=$e(),wt(r,e,n,a),Jp(r,t,n))}}function Qp(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function qp(e,t){ms=ti=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Jp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zl(e,r)}}var ri={readContext:ut,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},V0={readContext:ut,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Qd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,Bp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=Et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Et();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=B0.bind(null,ie,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Kd,useDebugValue:jc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Kd(!1),t=e[0];return e=U0.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ie,a=Et();if(ne){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),be===null)throw Error(I(349));Wr&30||Fp(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Qd(Op.bind(null,n,i,e),[e]),n.flags|=2048,Is(9,_p.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Et(),t=be.identifierPrefix;if(ne){var r=Ut,n=$t;r=(n&~(1<<32-bt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W0={readContext:ut,useCallback:Vp,useContext:ut,useEffect:wc,useImperativeHandle:Hp,useInsertionEffect:$p,useLayoutEffect:Up,useMemo:Wp,useReducer:go,useRef:Gp,useState:function(){return go(Rs)},useDebugValue:jc,useDeferredValue:function(e){var t=mt();return Yp(t,ge.memoizedState,e)},useTransition:function(){var e=go(Rs)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Dp,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1},Y0={readContext:ut,useCallback:Vp,useContext:ut,useEffect:wc,useImperativeHandle:Hp,useInsertionEffect:$p,useLayoutEffect:Up,useMemo:Wp,useReducer:fo,useRef:Gp,useState:function(){return fo(Rs)},useDebugValue:jc,useDeferredValue:function(e){var t=mt();return ge===null?t.memoizedState=e:Yp(t,ge.memoizedState,e)},useTransition:function(){var e=fo(Rs)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Dp,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ol(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Si={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$e(),a=vr(e),i=Bt(n,a);i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,a),t!==null&&(wt(t,e,a,n),Ca(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$e(),a=vr(e),i=Bt(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=yr(e,i,a),t!==null&&(wt(t,e,a,n),Ca(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$e(),n=vr(e),a=Bt(r,n);a.tag=2,t!=null&&(a.callback=t),t=yr(e,a,n),t!==null&&(wt(t,e,n,r),Ca(t,e,n))}};function qd(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ns(r,n)||!Ns(a,i):!0}function Xp(e,t,r){var n=!1,a=Nr,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(a=Ke(t)?Hr:De.current,n=t.contextTypes,i=(n=n!=null)?Rn(e,a):Nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ut(i):(i=Ke(t)?Hr:De.current,a.context=Rn(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ol(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Si.enqueueReplaceState(a,a.state,null),Za(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var r="",n=t;do r+=wf(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function yo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function Zp(e,t,r){r=Bt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){si||(si=!0,vl=n),cl(e,t)},r}function eh(e,t,r){r=Bt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cl(e,t),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Xd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new K0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=ly.bind(null,e,t,r),t.then(e,e))}function Zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eu(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bt(-1,1),t.tag=2,yr(r,t,1))),r.lanes|=1),e)}var Q0=Kt.ReactCurrentOwner,We=!1;function ze(e,t,r,n){t.child=e===null?Tp(t,null,r,n):Mn(t,e.child,r,n)}function tu(e,t,r,n,a){r=r.render;var i=t.ref;return xn(t,a),n=vc(e,t,r,n,i,a),r=bc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yt(e,t,a)):(ne&&r&&oc(t),t.flags|=1,ze(e,t,n,a),t.child)}function ru(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Rc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,th(e,t,i,n,a)):(e=Ma(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ns,r(o,n)&&e.ref===t.ref)return Yt(e,t,a)}return t.flags|=1,e=br(i,n),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ns(i,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Yt(e,t,a)}return dl(e,t,r,n,a)}function rh(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(pn,et),et|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(pn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(pn,et),et|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(pn,et),et|=n;return ze(e,t,a,r),t.child}function nh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dl(e,t,r,n,a){var i=Ke(r)?Hr:De.current;return i=Rn(t,i),xn(t,a),r=vc(e,t,r,n,i,a),n=bc(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Yt(e,t,a)):(ne&&n&&oc(t),t.flags|=1,ze(e,t,r,a),t.child)}function nu(e,t,r,n,a){if(Ke(r)){var i=!0;Ka(t)}else i=!1;if(xn(t,a),t.stateNode===null)Ta(e,t),Xp(t,r,n),ll(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ut(d):(d=Ke(r)?Hr:De.current,d=Rn(t,d));var p=r.getDerivedStateFromProps,u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Jd(t,o,n,d),er=!1;var m=t.memoizedState;o.state=m,Za(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Ye.current||er?(typeof p=="function"&&(ol(t,r,p,n),c=t.memoizedState),(l=er||qd(t,r,l,n,m,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ip(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ht(t.type,l),o.props=d,u=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Ke(r)?Hr:De.current,c=Rn(t,c));var x=r.getDerivedStateFromProps;(p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||m!==c)&&Jd(t,o,n,c),er=!1,m=t.memoizedState,o.state=m,Za(t,n,o,a);var h=t.memoizedState;l!==u||m!==h||Ye.current||er?(typeof x=="function"&&(ol(t,r,x,n),h=t.memoizedState),(d=er||qd(t,r,d,n,m,h,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ul(e,t,r,n,i,a)}function ul(e,t,r,n,a,i){nh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ud(t,r,!1),Yt(e,t,i);n=t.stateNode,Q0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Mn(t,e.child,null,i),t.child=Mn(t,null,l,i)):ze(e,t,l,i),t.memoizedState=n.state,a&&Ud(t,r,!0),t.child}function sh(e){var t=e.stateNode;t.pendingContext?$d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$d(e,t.context,!1),gc(e,t.containerInfo)}function su(e,t,r,n,a){return In(),cc(a),t.flags|=256,ze(e,t,r,n),t.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,r){var n=t.pendingProps,a=ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Z(ae,a&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ei(o,n,0,null),e=Ur(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pl(r),t.memoizedState=ml,e):Nc(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return q0(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=br(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=br(l,i):(i=Ur(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?pl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ml,n}return i=e.child,e=i.sibling,n=br(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nc(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ua(e,t,r,n){return n!==null&&cc(n),Mn(t,e.child,null,r),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q0(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=yo(Error(I(422))),ua(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ei({mode:"visible",children:n.children},a,0,null),i=Ur(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Mn(t,e.child,null,o),t.child.memoizedState=pl(o),t.memoizedState=ml,i);if(!(t.mode&1))return ua(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(I(419)),n=yo(i,n,void 0),ua(e,t,o,n)}if(l=(o&e.childLanes)!==0,We||l){if(n=be,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wt(e,a),wt(n,e,a,-1))}return Tc(),n=yo(Error(I(421))),ua(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cy.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,tt=fr(a.nextSibling),rt=t,ne=!0,vt=null,e!==null&&(ot[lt++]=$t,ot[lt++]=Ut,ot[lt++]=Vr,$t=e.id,Ut=e.overflow,Vr=t),t=Nc(t,n.children),t.flags|=4096,t)}function au(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),il(e.return,t,r)}function xo(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function ih(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ze(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&au(e,r,t);else if(e.tag===19)au(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ae,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ei(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),xo(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ei(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}xo(t,!0,r,null,i);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function J0(e,t,r){switch(t.tag){case 3:sh(t),In();break;case 5:Mp(t);break;case 1:Ke(t.type)&&Ka(t);break;case 4:gc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Z(Ja,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?ah(e,t,r):(Z(ae,ae.current&1),e=Yt(e,t,r),e!==null?e.sibling:null);Z(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ih(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Z(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,rh(e,t,r)}return Yt(e,t,r)}var oh,hl,lh,ch;oh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hl=function(){};lh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dr(Dt.current);var i=null;switch(r){case"input":a=_o(e,a),n=_o(e,n),i=[];break;case"select":a=oe({},a,{value:void 0}),n=oe({},n,{value:void 0}),i=[];break;case"textarea":a=zo(e,a),n=zo(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wa)}$o(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fs.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fs.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&te("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ch=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function X0(e,t,r){var n=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ke(t.type)&&Ya(),Re(t),null;case 3:return n=t.stateNode,Dn(),re(Ye),re(De),yc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(jl(vt),vt=null))),hl(e,t),Re(t),null;case 5:fc(t);var a=Dr(Ps.current);if(r=t.type,e!==null&&t.stateNode!=null)lh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Re(t),null}if(e=Dr(Dt.current),ca(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[It]=t,n[Cs]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<is.length;a++)te(is[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":hd(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":fd(n,i),te("invalid",n)}$o(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&la(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&la(n.textContent,l,e),a=["children",""+l]):fs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":ea(n),gd(n,i,!0);break;case"textarea":ea(n),yd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wa)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Om(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[It]=t,e[Cs]=n,oh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uo(r,n),r){case"dialog":te("cancel",e),te("close",e),a=n;break;case"iframe":case"object":case"embed":te("load",e),a=n;break;case"video":case"audio":for(a=0;a<is.length;a++)te(is[a],e);a=n;break;case"source":te("error",e),a=n;break;case"img":case"image":case"link":te("error",e),te("load",e),a=n;break;case"details":te("toggle",e),a=n;break;case"input":hd(e,n),a=_o(e,n),te("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":fd(e,n),a=zo(e,n),te("invalid",e);break;default:a=n}$o(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Gm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lm(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ys(e,c):typeof c=="number"&&ys(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&Yl(e,i,c,o))}switch(r){case"input":ea(e),gd(e,n,!1);break;case"textarea":ea(e),yd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hn(e,!!n.multiple,i,!1):n.defaultValue!=null&&hn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)ch(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Dr(Ps.current),Dr(Dt.current),ca(t)){if(n=t.stateNode,r=t.memoizedProps,n[It]=t,(i=n.nodeValue!==r)&&(e=rt,e!==null))switch(e.tag){case 3:la(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[It]=t,t.stateNode=n}return Re(t),null;case 13:if(re(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&tt!==null&&t.mode&1&&!(t.flags&128))Ep(),In(),t.flags|=98560,i=!1;else if(i=ca(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[It]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else vt!==null&&(jl(vt),vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?fe===0&&(fe=3):Tc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Dn(),hl(e,t),e===null&&Ss(t.stateNode.containerInfo),Re(t),null;case 10:return mc(t.type._context),Re(t),null;case 17:return Ke(t.type)&&Ya(),Re(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return Re(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xn(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ei(e),o!==null){for(t.flags|=128,Xn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Fn&&(t.flags|=128,n=!0,Xn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ei(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Re(t),null}else 2*ue()-i.renderingStartTime>Fn&&r!==1073741824&&(t.flags|=128,n=!0,Xn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,r=ae.current,Z(ae,n?r&1|2:r&1),t):(Re(t),null);case 22:case 23:return Pc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?et&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Z0(e,t){switch(lc(t),t.tag){case 1:return Ke(t.type)&&Ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(),re(Ye),re(De),yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fc(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return Dn(),null;case 10:return mc(t.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var ma=!1,Ie=!1,ey=typeof WeakSet=="function"?WeakSet:Set,A=null;function mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function gl(e,t,r){try{r()}catch(n){ce(e,t,n)}}var iu=!1;function ty(e,t){if(Xo=Ba,e=hp(),ic(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,p=0,u=e,m=null;t:for(;;){for(var x;u!==r||a!==0&&u.nodeType!==3||(l=o+a),u!==i||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(x=u.firstChild)!==null;)m=u,u=x;for(;;){if(u===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++p===n&&(c=o),(x=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zo={focusedElem:e,selectionRange:r},Ba=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,f=h.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),f);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return h=iu,iu=!1,h}function ps(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&gl(t,r,i)}a=a.next}while(a!==n)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dh(e){var t=e.alternate;t!==null&&(e.alternate=null,dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Cs],delete t[rl],delete t[O0],delete t[L0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uh(e){return e.tag===5||e.tag===3||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wa));else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xl(e,t,r),e=e.sibling;e!==null;)xl(e,t,r),e=e.sibling}var Se=null,xt=!1;function Jt(e,t,r){for(r=r.child;r!==null;)mh(e,t,r),r=r.sibling}function mh(e,t,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(yi,r)}catch{}switch(r.tag){case 5:Ie||mn(r,t);case 6:var n=Se,a=xt;Se=null,Jt(e,t,r),Se=n,xt=a,Se!==null&&(xt?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(xt?(e=Se,r=r.stateNode,e.nodeType===8?uo(e.parentNode,r):e.nodeType===1&&uo(e,r),ws(e)):uo(Se,r.stateNode));break;case 4:n=Se,a=xt,Se=r.stateNode.containerInfo,xt=!0,Jt(e,t,r),Se=n,xt=a;break;case 0:case 11:case 14:case 15:if(!Ie&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gl(r,t,o),a=a.next}while(a!==n)}Jt(e,t,r);break;case 1:if(!Ie&&(mn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ce(r,t,l)}Jt(e,t,r);break;case 21:Jt(e,t,r);break;case 22:r.mode&1?(Ie=(n=Ie)||r.memoizedState!==null,Jt(e,t,r),Ie=n):Jt(e,t,r);break;default:Jt(e,t,r)}}function lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ey),t.forEach(function(n){var a=dy.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function pt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,xt=!1;break e;case 3:Se=l.stateNode.containerInfo,xt=!0;break e;case 4:Se=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(Se===null)throw Error(I(160));mh(i,o,a),Se=null,xt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ce(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ph(t,e),t=t.sibling}function ph(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),kt(e),n&4){try{ps(3,e,e.return),ki(3,e)}catch(v){ce(e,e.return,v)}try{ps(5,e,e.return)}catch(v){ce(e,e.return,v)}}break;case 1:pt(t,e),kt(e),n&512&&r!==null&&mn(r,r.return);break;case 5:if(pt(t,e),kt(e),n&512&&r!==null&&mn(r,r.return),e.flags&32){var a=e.stateNode;try{ys(a,"")}catch(v){ce(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Fm(a,i),Uo(l,o);var d=Uo(l,i);for(o=0;o<c.length;o+=2){var p=c[o],u=c[o+1];p==="style"?Gm(a,u):p==="dangerouslySetInnerHTML"?Lm(a,u):p==="children"?ys(a,u):Yl(a,p,u,d)}switch(l){case"input":Oo(a,i);break;case"textarea":_m(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?hn(a,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?hn(a,!!i.multiple,i.defaultValue,!0):hn(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cs]=i}catch(v){ce(e,e.return,v)}}break;case 6:if(pt(t,e),kt(e),n&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){ce(e,e.return,v)}}break;case 3:if(pt(t,e),kt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(v){ce(e,e.return,v)}break;case 4:pt(t,e),kt(e);break;case 13:pt(t,e),kt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cc=ue())),n&4&&lu(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(d=Ie)||p,pt(t,e),Ie=d):pt(t,e),kt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(A=e,p=e.child;p!==null;){for(u=A=p;A!==null;){switch(m=A,x=m.child,m.tag){case 0:case 11:case 14:case 15:ps(4,m,m.return);break;case 1:mn(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){ce(n,r,v)}}break;case 5:mn(m,m.return);break;case 22:if(m.memoizedState!==null){du(u);continue}}x!==null?(x.return=m,A=x):du(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zm("display",o))}catch(v){ce(e,e.return,v)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(v){ce(e,e.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:pt(t,e),kt(e),n&4&&lu(e);break;case 21:break;default:pt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uh(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ys(a,""),n.flags&=-33);var i=ou(e);xl(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ou(e);yl(e,l,o);break;default:throw Error(I(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ry(e,t,r){A=e,hh(e)}function hh(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var a=A,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||ma;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ie;l=ma;var d=Ie;if(ma=o,(Ie=c)&&!d)for(A=a;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?uu(a):c!==null?(c.return=o,A=c):uu(a);for(;i!==null;)A=i,hh(i),i=i.sibling;A=a,ma=l,Ie=d}cu(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,A=i):cu(e)}}function cu(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||ki(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ie)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ht(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yd(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yd(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&ws(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ie||t.flags&512&&fl(t)}catch(m){ce(t,t.return,m)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function du(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function uu(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ki(4,t)}catch(c){ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ce(t,a,c)}}var i=t.return;try{fl(t)}catch(c){ce(t,i,c)}break;case 5:var o=t.return;try{fl(t)}catch(c){ce(t,o,c)}}}catch(c){ce(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var ny=Math.ceil,ni=Kt.ReactCurrentDispatcher,Sc=Kt.ReactCurrentOwner,dt=Kt.ReactCurrentBatchConfig,Q=0,be=null,pe=null,Ce=0,et=0,pn=kr(0),fe=0,Ms=null,Yr=0,Ci=0,kc=0,hs=null,Ve=null,Cc=0,Fn=1/0,Lt=null,si=!1,vl=null,xr=null,pa=!1,dr=null,ai=0,gs=0,bl=null,Ra=-1,Ia=0;function $e(){return Q&6?ue():Ra!==-1?Ra:Ra=ue()}function vr(e){return e.mode&1?Q&2&&Ce!==0?Ce&-Ce:G0.transition!==null?(Ia===0&&(Ia=Xm()),Ia):(e=J,e!==0||(e=window.event,e=e===void 0?16:ap(e.type)),e):1}function wt(e,t,r,n){if(50<gs)throw gs=0,bl=null,Error(I(185));Us(e,r,n),(!(Q&2)||e!==be)&&(e===be&&(!(Q&2)&&(Ci|=r),fe===4&&rr(e,Ce)),Qe(e,n),r===1&&Q===0&&!(t.mode&1)&&(Fn=ue()+500,ji&&Cr()))}function Qe(e,t){var r=e.callbackNode;Gf(e,t);var n=Ua(e,e===be?Ce:0);if(n===0)r!==null&&bd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bd(r),t===1)e.tag===0?z0(mu.bind(null,e)):Sp(mu.bind(null,e)),F0(function(){!(Q&6)&&Cr()}),r=null;else{switch(Zm(n)){case 1:r=Xl;break;case 4:r=qm;break;case 16:r=$a;break;case 536870912:r=Jm;break;default:r=$a}r=jh(r,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gh(e,t){if(Ra=-1,Ia=0,Q&6)throw Error(I(327));var r=e.callbackNode;if(vn()&&e.callbackNode!==r)return null;var n=Ua(e,e===be?Ce:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ii(e,n);else{t=n;var a=Q;Q|=2;var i=yh();(be!==e||Ce!==t)&&(Lt=null,Fn=ue()+500,$r(e,t));do try{iy();break}catch(l){fh(e,l)}while(1);uc(),ni.current=i,Q=a,pe!==null?t=0:(be=null,Ce=0,t=fe)}if(t!==0){if(t===2&&(a=Yo(e),a!==0&&(n=a,t=wl(e,a))),t===1)throw r=Ms,$r(e,0),rr(e,n),Qe(e,ue()),r;if(t===6)rr(e,n);else{if(a=e.current.alternate,!(n&30)&&!sy(a)&&(t=ii(e,n),t===2&&(i=Yo(e),i!==0&&(n=i,t=wl(e,i))),t===1))throw r=Ms,$r(e,0),rr(e,n),Qe(e,ue()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:Rr(e,Ve,Lt);break;case 3:if(rr(e,n),(n&130023424)===n&&(t=Cc+500-ue(),10<t)){if(Ua(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$e(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tl(Rr.bind(null,e,Ve,Lt),t);break}Rr(e,Ve,Lt);break;case 4:if(rr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-bt(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ny(n/1960))-n,10<n){e.timeoutHandle=tl(Rr.bind(null,e,Ve,Lt),n);break}Rr(e,Ve,Lt);break;case 5:Rr(e,Ve,Lt);break;default:throw Error(I(329))}}}return Qe(e,ue()),e.callbackNode===r?gh.bind(null,e):null}function wl(e,t){var r=hs;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=ii(e,t),e!==2&&(t=Ve,Ve=r,t!==null&&jl(t)),e}function jl(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function sy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Nt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rr(e,t){for(t&=~kc,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bt(t),n=1<<r;e[r]=-1,t&=~n}}function mu(e){if(Q&6)throw Error(I(327));vn();var t=Ua(e,0);if(!(t&1))return Qe(e,ue()),null;var r=ii(e,t);if(e.tag!==0&&r===2){var n=Yo(e);n!==0&&(t=n,r=wl(e,n))}if(r===1)throw r=Ms,$r(e,0),rr(e,t),Qe(e,ue()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,Ve,Lt),Qe(e,ue()),null}function Ec(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(Fn=ue()+500,ji&&Cr())}}function Kr(e){dr!==null&&dr.tag===0&&!(Q&6)&&vn();var t=Q;Q|=1;var r=dt.transition,n=J;try{if(dt.transition=null,J=1,e)return e()}finally{J=n,dt.transition=r,Q=t,!(Q&6)&&Cr()}}function Pc(){et=pn.current,re(pn)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,A0(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(lc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ya();break;case 3:Dn(),re(Ye),re(De),yc();break;case 5:fc(n);break;case 4:Dn();break;case 13:re(ae);break;case 19:re(ae);break;case 10:mc(n.type._context);break;case 22:case 23:Pc()}r=r.return}if(be=e,pe=e=br(e.current,null),Ce=et=t,fe=0,Ms=null,kc=Ci=Yr=0,Ve=hs=null,Mr!==null){for(t=0;t<Mr.length;t++)if(r=Mr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Mr=null}return e}function fh(e,t){do{var r=pe;try{if(uc(),Ea.current=ri,ti){for(var n=ie.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ti=!1}if(Wr=0,ve=ge=ie=null,ms=!1,Ts=0,Sc.current=null,r===null||r.return===null){fe=1,Ms=t,pe=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=l,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Zd(o);if(x!==null){x.flags&=-257,eu(x,o,l,i,t),x.mode&1&&Xd(i,d,t),t=x,c=d;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){Xd(i,d,t),Tc();break e}c=Error(I(426))}}else if(ne&&l.mode&1){var f=Zd(o);if(f!==null){!(f.flags&65536)&&(f.flags|=256),eu(f,o,l,i,t),cc(An(c,l));break e}}i=c=An(c,l),fe!==4&&(fe=2),hs===null?hs=[i]:hs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Zp(i,c,t);Wd(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xr===null||!xr.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=eh(i,l,t);Wd(i,j);break e}}i=i.return}while(i!==null)}vh(r)}catch(N){t=N,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(1)}function yh(){var e=ni.current;return ni.current=ri,e===null?ri:e}function Tc(){(fe===0||fe===3||fe===2)&&(fe=4),be===null||!(Yr&268435455)&&!(Ci&268435455)||rr(be,Ce)}function ii(e,t){var r=Q;Q|=2;var n=yh();(be!==e||Ce!==t)&&(Lt=null,$r(e,t));do try{ay();break}catch(a){fh(e,a)}while(1);if(uc(),Q=r,ni.current=n,pe!==null)throw Error(I(261));return be=null,Ce=0,fe}function ay(){for(;pe!==null;)xh(pe)}function iy(){for(;pe!==null&&!If();)xh(pe)}function xh(e){var t=wh(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?vh(e):pe=t,Sc.current=null}function vh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Z0(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,pe=null;return}}else if(r=X0(r,t,et),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);fe===0&&(fe=5)}function Rr(e,t,r){var n=J,a=dt.transition;try{dt.transition=null,J=1,oy(e,t,r,n)}finally{dt.transition=a,J=n}return null}function oy(e,t,r,n){do vn();while(dr!==null);if(Q&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($f(e,i),e===be&&(pe=be=null,Ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pa||(pa=!0,jh($a,function(){return vn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=J;J=1;var l=Q;Q|=4,Sc.current=null,ty(e,r),ph(r,e),E0(Zo),Ba=!!Xo,Zo=Xo=null,e.current=r,ry(r),Mf(),Q=l,J=o,dt.transition=i}else e.current=r;if(pa&&(pa=!1,dr=e,ai=a),i=e.pendingLanes,i===0&&(xr=null),Ff(r.stateNode),Qe(e,ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(si)throw si=!1,e=vl,vl=null,e;return ai&1&&e.tag!==0&&vn(),i=e.pendingLanes,i&1?e===bl?gs++:(gs=0,bl=e):gs=0,Cr(),null}function vn(){if(dr!==null){var e=Zm(ai),t=dt.transition,r=J;try{if(dt.transition=null,J=16>e?16:e,dr===null)var n=!1;else{if(e=dr,dr=null,ai=0,Q&6)throw Error(I(331));var a=Q;for(Q|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(A=d;A!==null;){var p=A;switch(p.tag){case 0:case 11:case 15:ps(8,p,i)}var u=p.child;if(u!==null)u.return=p,A=u;else for(;A!==null;){p=A;var m=p.sibling,x=p.return;if(dh(p),p===d){A=null;break}if(m!==null){m.return=x,A=m;break}A=x}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var f=v.sibling;v.sibling=null,v=f}while(v!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ps(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var y=e.current;for(A=y;A!==null;){o=A;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,A=b;else e:for(o=y;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ki(9,l)}}catch(N){ce(l,l.return,N)}if(l===o){A=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,A=j;break e}A=l.return}}if(Q=a,Cr(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(yi,e)}catch{}n=!0}return n}finally{J=r,dt.transition=t}}return!1}function pu(e,t,r){t=An(r,t),t=Zp(e,t,1),e=yr(e,t,1),t=$e(),e!==null&&(Us(e,1,t),Qe(e,t))}function ce(e,t,r){if(e.tag===3)pu(e,e,r);else for(;t!==null;){if(t.tag===3){pu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){e=An(r,e),e=eh(t,e,1),t=yr(t,e,1),e=$e(),t!==null&&(Us(t,1,e),Qe(t,e));break}}t=t.return}}function ly(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&r,be===e&&(Ce&r)===r&&(fe===4||fe===3&&(Ce&130023424)===Ce&&500>ue()-Cc?$r(e,0):kc|=r),Qe(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var r=$e();e=Wt(e,t),e!==null&&(Us(e,t,r),Qe(e,r))}function cy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bh(e,r)}function dy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),bh(e,r)}var wh;wh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,J0(e,t,r);We=!!(e.flags&131072)}else We=!1,ne&&t.flags&1048576&&kp(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ta(e,t),e=t.pendingProps;var a=Rn(t,De.current);xn(t,r),a=vc(null,t,n,e,a,r);var i=bc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(n)?(i=!0,Ka(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hc(t),a.updater=Si,t.stateNode=a,a._reactInternals=t,ll(t,n,e,r),t=ul(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&oc(t),ze(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ta(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=my(n),e=ht(n,e),a){case 0:t=dl(null,t,n,e,r);break e;case 1:t=nu(null,t,n,e,r);break e;case 11:t=tu(null,t,n,e,r);break e;case 14:t=ru(null,t,n,ht(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ht(n,a),dl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ht(n,a),nu(e,t,n,a,r);case 3:e:{if(sh(t),e===null)throw Error(I(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Ip(e,t),Za(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=An(Error(I(423)),t),t=su(e,t,n,r,a);break e}else if(n!==a){a=An(Error(I(424)),t),t=su(e,t,n,r,a);break e}else for(tt=fr(t.stateNode.containerInfo.firstChild),rt=t,ne=!0,vt=null,r=Tp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(In(),n===a){t=Yt(e,t,r);break e}ze(e,t,n,r)}t=t.child}return t;case 5:return Mp(t),e===null&&al(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,el(n,a)?o=null:i!==null&&el(n,i)&&(t.flags|=32),nh(e,t),ze(e,t,o,r),t.child;case 6:return e===null&&al(t),null;case 13:return ah(e,t,r);case 4:return gc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mn(t,null,n,r):ze(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ht(n,a),tu(e,t,n,a,r);case 7:return ze(e,t,t.pendingProps,r),t.child;case 8:return ze(e,t,t.pendingProps.children,r),t.child;case 12:return ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Z(Ja,n._currentValue),n._currentValue=o,i!==null)if(Nt(i.value,o)){if(i.children===a.children&&!Ye.current){t=Yt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Bt(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),il(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),il(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xn(t,r),a=ut(a),n=n(a),t.flags|=1,ze(e,t,n,r),t.child;case 14:return n=t.type,a=ht(n,t.pendingProps),a=ht(n.type,a),ru(e,t,n,a,r);case 15:return th(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ht(n,a),Ta(e,t),t.tag=1,Ke(n)?(e=!0,Ka(t)):e=!1,xn(t,r),Xp(t,n,a),ll(t,n,a,r),ul(null,t,n,!0,e,r);case 19:return ih(e,t,r);case 22:return rh(e,t,r)}throw Error(I(156,t.tag))};function jh(e,t){return Qm(e,t)}function uy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,r,n){return new uy(e,t,r,n)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return Rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ql)return 11;if(e===ql)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ma(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Rc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rn:return Ur(r.children,a,i,t);case Kl:o=8,a|=8;break;case Mo:return e=ct(12,r,t,a|2),e.elementType=Mo,e.lanes=i,e;case Do:return e=ct(13,r,t,a),e.elementType=Do,e.lanes=i,e;case Ao:return e=ct(19,r,t,a),e.elementType=Ao,e.lanes=i,e;case Mm:return Ei(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rm:o=10;break e;case Im:o=9;break e;case Ql:o=11;break e;case ql:o=14;break e;case Zt:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ct(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ur(e,t,r,n){return e=ct(7,e,n,t),e.lanes=r,e}function Ei(e,t,r,n){return e=ct(22,e,n,t),e.elementType=Mm,e.lanes=r,e.stateNode={isHidden:!1},e}function vo(e,t,r){return e=ct(6,e,null,t),e.lanes=r,e}function bo(e,t,r){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function py(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ic(e,t,r,n,a,i,o,l,c){return e=new py(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(i),e}function hy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Nh(e){if(!e)return Nr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Ke(r))return Np(e,r,t)}return t}function Sh(e,t,r,n,a,i,o,l,c){return e=Ic(r,n,!0,e,a,i,o,l,c),e.context=Nh(null),r=e.current,n=$e(),a=vr(r),i=Bt(n,a),i.callback=t??null,yr(r,i,a),e.current.lanes=a,Us(e,a,n),Qe(e,n),e}function Pi(e,t,r,n){var a=t.current,i=$e(),o=vr(a);return r=Nh(r),t.context===null?t.context=r:t.pendingContext=r,t=Bt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yr(a,t,o),e!==null&&(wt(e,a,o,i),Ca(e,a,o)),o}function oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mc(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function gy(){return null}var kh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}Ti.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Pi(e,t,null,null)};Ti.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){Pi(null,e,null,null)}),t[Vt]=null}};function Ti(e){this._internalRoot=e}Ti.prototype.unstable_scheduleHydration=function(e){if(e){var t=rp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tr.length&&t!==0&&t<tr[r].priority;r++);tr.splice(r,0,e),r===0&&sp(e)}};function Ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ri(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gu(){}function fy(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=oi(o);i.call(d)}}var o=Sh(t,n,e,0,null,!1,!1,"",gu);return e._reactRootContainer=o,e[Vt]=o.current,Ss(e.nodeType===8?e.parentNode:e),Kr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=oi(c);l.call(d)}}var c=Ic(e,0,!1,null,null,!1,!1,"",gu);return e._reactRootContainer=c,e[Vt]=c.current,Ss(e.nodeType===8?e.parentNode:e),Kr(function(){Pi(t,c,r,n)}),c}function Ii(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=oi(o);l.call(c)}}Pi(t,o,e,a)}else o=fy(r,t,e,a,n);return oi(o)}ep=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=as(t.pendingLanes);r!==0&&(Zl(t,r|1),Qe(t,ue()),!(Q&6)&&(Fn=ue()+500,Cr()))}break;case 13:Kr(function(){var n=Wt(e,1);if(n!==null){var a=$e();wt(n,e,1,a)}}),Mc(e,1)}};ec=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var r=$e();wt(t,e,134217728,r)}Mc(e,134217728)}};tp=function(e){if(e.tag===13){var t=vr(e),r=Wt(e,t);if(r!==null){var n=$e();wt(r,e,t,n)}Mc(e,t)}};rp=function(){return J};np=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};Ho=function(e,t,r){switch(t){case"input":if(Oo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wi(n);if(!a)throw Error(I(90));Am(n),Oo(n,a)}}}break;case"textarea":_m(e,r);break;case"select":t=r.value,t!=null&&hn(e,!!r.multiple,t,!1)}};Bm=Ec;Hm=Kr;var yy={usingClientEntryPoint:!1,Events:[Hs,on,wi,$m,Um,Ec]},Zn={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xy={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ym(e),e===null?null:e.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{yi=ha.inject(xy),Mt=ha}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;st.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ac(t))throw Error(I(200));return hy(e,t,null,r)};st.createRoot=function(e,t){if(!Ac(e))throw Error(I(299));var r=!1,n="",a=kh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ic(e,1,!1,null,null,r,!1,n,a),e[Vt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new Dc(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Ym(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Kr(e)};st.hydrate=function(e,t,r){if(!Ri(t))throw Error(I(200));return Ii(null,e,t,!0,r)};st.hydrateRoot=function(e,t,r){if(!Ac(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=kh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Sh(t,null,e,1,r??null,a,!1,i,o),e[Vt]=t.current,Ss(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ti(t)};st.render=function(e,t,r){if(!Ri(t))throw Error(I(200));return Ii(null,e,t,!1,r)};st.unmountComponentAtNode=function(e){if(!Ri(e))throw Error(I(40));return e._reactRootContainer?(Kr(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};st.unstable_batchedUpdates=Ec;st.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ri(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ii(e,t,r,!1,n)};st.version="18.3.1-next-f1338f8080-20240426";function Ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ch)}catch(e){console.error(e)}}Ch(),Cm.exports=st;var Mi=Cm.exports,fu=Mi;Ro.createRoot=fu.createRoot,Ro.hydrateRoot=fu.hydrateRoot;const vy="modulepreload",by=function(e){return"/"+e},yu={},Eh=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=by(i),i in yu)return;yu[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let p=a.length-1;p>=0;p--){const u=a[p];if(u.href===i&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":vy,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((p,u)=>{d.addEventListener("load",p),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ds.apply(this,arguments)}var ur;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ur||(ur={}));const xu="popstate";function wy(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Nl("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:li(a)}return Ny(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jy(){return Math.random().toString(36).substr(2,8)}function vu(e,t){return{usr:e.state,key:e.key,idx:t}}function Nl(e,t,r,n){return r===void 0&&(r=null),Ds({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Un(t):t,{state:r,key:t&&t.key||n||jy()})}function li(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Un(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ny(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ur.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(Ds({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function u(){l=ur.Pop;let f=p(),g=f==null?null:f-d;d=f,c&&c({action:l,location:v.location,delta:g})}function m(f,g){l=ur.Push;let y=Nl(v.location,f,g);r&&r(y,f),d=p()+1;let b=vu(y,d),j=v.createHref(y);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function x(f,g){l=ur.Replace;let y=Nl(v.location,f,g);r&&r(y,f),d=p();let b=vu(y,d),j=v.createHref(y);o.replaceState(b,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function h(f){let g=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof f=="string"?f:li(f);return y=y.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return l},get location(){return e(a,o)},listen(f){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xu,u),c=f,()=>{a.removeEventListener(xu,u),c=null}},createHref(f){return t(a,f)},createURL:h,encodeLocation(f){let g=h(f);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:x,go(f){return o.go(f)}};return v}var bu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bu||(bu={}));function Sy(e,t,r){return r===void 0&&(r="/"),ky(e,t,r,!1)}function ky(e,t,r,n){let a=typeof t=="string"?Un(t):t,i=_c(a.pathname||"/",r);if(i==null)return null;let o=Ph(e);Cy(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Oy(i);l=Fy(o[c],d,n)}return l}function Ph(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=wr([n,c.relativePath]),p=r.concat(c);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ph(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Dy(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Th(i.path))a(i,o,c)}),t}function Th(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Th(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Cy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ay(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ey=/^:[\w-]+$/,Py=3,Ty=2,Ry=1,Iy=10,My=-2,wu=e=>e==="*";function Dy(e,t){let r=e.split("/"),n=r.length;return r.some(wu)&&(n+=My),t&&(n+=Ty),r.filter(a=>!wu(a)).reduce((a,i)=>a+(Ey.test(i)?Py:i===""?Ry:Iy),n)}function Ay(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Fy(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",u=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),m=c.route;if(!u&&d&&r&&!n[n.length-1].route.index&&(u=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:wr([i,u.pathname]),pathnameBase:Uy(wr([i,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(i=wr([i,u.pathnameBase]))}return o}function ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_y(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,p,u)=>{let{paramName:m,isOptional:x}=p;if(m==="*"){let v=l[u]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const h=l[u];return x&&!h?d[m]=void 0:d[m]=(h||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function _y(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Fc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Oy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _c(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zy=e=>Ly.test(e);function Gy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Un(e):e,i;if(r)if(zy(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Fc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Nu(r.substring(1),"/"):i=Nu(r,t)}else i=t;return{pathname:i,search:By(n),hash:Hy(a)}}function Nu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function wo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $y(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Oc(e,t){let r=$y(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Lc(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Un(e):(a=Ds({},e),me(!a.pathname||!a.pathname.includes("?"),wo("?","pathname","search",a)),me(!a.pathname||!a.pathname.includes("#"),wo("#","pathname","hash",a)),me(!a.search||!a.search.includes("#"),wo("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let u=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),u-=1;a.pathname=m.join("/")}l=u>=0?t[u]:"/"}let c=Gy(a,l),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const wr=e=>e.join("/").replace(/\/\/+/g,"/"),Uy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),By=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rh=["post","put","patch","delete"];new Set(Rh);const Wy=["get",...Rh];new Set(Wy);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}const zc=w.createContext(null),Yy=w.createContext(null),Er=w.createContext(null),Di=w.createContext(null),Qt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Ih=w.createContext(null);function Ky(e,t){let{relative:r}=t===void 0?{}:t;Bn()||me(!1);let{basename:n,navigator:a}=w.useContext(Er),{hash:i,pathname:o,search:l}=Dh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:wr([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Bn(){return w.useContext(Di)!=null}function Pr(){return Bn()||me(!1),w.useContext(Di).location}function Mh(e){w.useContext(Er).static||w.useLayoutEffect(e)}function At(){let{isDataRoute:e}=w.useContext(Qt);return e?lx():Qy()}function Qy(){Bn()||me(!1);let e=w.useContext(zc),{basename:t,future:r,navigator:n}=w.useContext(Er),{matches:a}=w.useContext(Qt),{pathname:i}=Pr(),o=JSON.stringify(Oc(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return Mh(()=>{l.current=!0}),w.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let u=Lc(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:wr([t,u.pathname])),(p.replace?n.replace:n.push)(u,p.state,p)},[t,n,o,i,e])}function qy(){let{matches:e}=w.useContext(Qt),t=e[e.length-1];return t?t.params:{}}function Dh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(Er),{matches:a}=w.useContext(Qt),{pathname:i}=Pr(),o=JSON.stringify(Oc(a,n.v7_relativeSplatPath));return w.useMemo(()=>Lc(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Jy(e,t){return Xy(e,t)}function Xy(e,t,r,n){Bn()||me(!1);let{navigator:a}=w.useContext(Er),{matches:i}=w.useContext(Qt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Pr(),p;if(t){var u;let f=typeof t=="string"?Un(t):t;c==="/"||(u=f.pathname)!=null&&u.startsWith(c)||me(!1),p=f}else p=d;let m=p.pathname||"/",x=m;if(c!=="/"){let f=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(f.length).join("/")}let h=Sy(e,{pathname:x}),v=nx(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:wr([c,a.encodeLocation?a.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:wr([c,a.encodeLocation?a.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,r,n);return t&&v?w.createElement(Di.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ur.Pop}},v):v}function Zy(){let e=ox(),t=Vy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,i)}const ex=w.createElement(Zy,null);class tx extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Qt.Provider,{value:this.props.routeContext},w.createElement(Ih.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rx(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(zc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Qt.Provider,{value:t},n)}function nx(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let p=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);p>=0||me(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<o.length;p++){let u=o[p];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=p),u.route.id){let{loaderData:m,errors:x}=r,h=u.route.loader&&m[u.route.id]===void 0&&(!x||x[u.route.id]===void 0);if(u.route.lazy||h){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,u,m)=>{let x,h=!1,v=null,f=null;r&&(x=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||ex,c&&(d<0&&m===0?(cx("route-fallback",!1),h=!0,f=null):d===m&&(h=!0,f=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,m+1)),y=()=>{let b;return x?b=v:h?b=f:u.route.Component?b=w.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=p,w.createElement(rx,{match:u,routeContext:{outlet:p,matches:g,isDataRoute:r!=null},children:b})};return r&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?w.createElement(tx,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Ah=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ah||{}),ci=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ci||{});function sx(e){let t=w.useContext(zc);return t||me(!1),t}function ax(e){let t=w.useContext(Yy);return t||me(!1),t}function ix(e){let t=w.useContext(Qt);return t||me(!1),t}function Fh(e){let t=ix(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function ox(){var e;let t=w.useContext(Ih),r=ax(ci.UseRouteError),n=Fh(ci.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lx(){let{router:e}=sx(Ah.UseNavigateStable),t=Fh(ci.UseNavigateStable),r=w.useRef(!1);return Mh(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,As({fromRouteId:t},i)))},[e,t])}const Su={};function cx(e,t,r){!t&&!Su[e]&&(Su[e]=!0)}function dx(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function _h(e){let{to:t,replace:r,state:n,relative:a}=e;Bn()||me(!1);let{future:i,static:o}=w.useContext(Er),{matches:l}=w.useContext(Qt),{pathname:c}=Pr(),d=At(),p=Lc(t,Oc(l,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(p);return w.useEffect(()=>d(JSON.parse(u),{replace:r,state:n,relative:a}),[d,u,a,r,n]),null}function He(e){me(!1)}function ux(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ur.Pop,navigator:i,static:o=!1,future:l}=e;Bn()&&me(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:i,static:o,future:As({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Un(n));let{pathname:p="/",search:u="",hash:m="",state:x=null,key:h="default"}=n,v=w.useMemo(()=>{let f=_c(p,c);return f==null?null:{location:{pathname:f,search:u,hash:m,state:x,key:h},navigationType:a}},[c,p,u,m,x,h,a]);return v==null?null:w.createElement(Er.Provider,{value:d},w.createElement(Di.Provider,{children:r,value:v}))}function mx(e){let{children:t,location:r}=e;return Jy(Sl(t),r)}new Promise(()=>{});function Sl(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Sl(n.props.children,i));return}n.type!==He&&me(!1),!n.props.index||!n.props.children||me(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function px(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function hx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gx(e,t){return e.button===0&&(!t||t==="_self")&&!hx(e)}function Cl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function fx(e,t){let r=Cl(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const yx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xx="6";try{window.__reactRouterVersion=xx}catch{}const vx="startTransition",ku=lf[vx];function bx(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=wy({window:a,v5Compat:!0}));let o=i.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},p=w.useCallback(u=>{d&&ku?ku(()=>c(u)):c(u)},[c,d]);return w.useLayoutEffect(()=>o.listen(p),[o,p]),w.useEffect(()=>dx(n),[n]),w.createElement(ux,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mr=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:p,viewTransition:u}=t,m=px(t,yx),{basename:x}=w.useContext(Er),h,v=!1;if(typeof d=="string"&&jx.test(d)&&(h=d,wx))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=_c(j.pathname,x);j.origin===b.origin&&N!=null?d=N+j.search+j.hash:v=!0}catch{}let f=Ky(d,{relative:a}),g=Nx(d,{replace:o,state:l,target:c,preventScrollReset:p,relative:a,viewTransition:u});function y(b){n&&n(b),b.defaultPrevented||g(b)}return w.createElement("a",kl({},m,{href:h||f,onClick:v||i?n:y,ref:r,target:c}))});var Cu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cu||(Cu={}));var Eu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eu||(Eu={}));function Nx(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=At(),d=Pr(),p=Dh(e,{relative:o});return w.useCallback(u=>{if(gx(u,r)){u.preventDefault();let m=n!==void 0?n:li(d)===li(p);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,p,n,a,r,e,i,o,l])}function Oh(e){let t=w.useRef(Cl(e)),r=w.useRef(!1),n=Pr(),a=w.useMemo(()=>fx(n.search,r.current?null:t.current),[n.search]),i=At(),o=w.useCallback((l,c)=>{const d=Cl(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var Ai=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sx={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},nr,Gl,am,kx=(am=class{constructor(){K(this,nr,Sx);K(this,Gl,!1)}setTimeoutProvider(e){$(this,nr,e)}setTimeout(e,t){return C(this,nr).setTimeout(e,t)}clearTimeout(e){C(this,nr).clearTimeout(e)}setInterval(e,t){return C(this,nr).setInterval(e,t)}clearInterval(e){C(this,nr).clearInterval(e)}},nr=new WeakMap,Gl=new WeakMap,am),El=new kx;function Cx(e){setTimeout(e,0)}var Fi=typeof window>"u"||"Deno"in globalThis;function gt(){}function Ex(e,t){return typeof e=="function"?e(t):e}function Px(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pl(e,t){return typeof e=="function"?e(t):e}function Rx(e,t){return typeof e=="function"?e(t):e}function Pu(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Gc(o,t.options))return!1}else if(!_s(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Tu(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Fs(t.options.mutationKey)!==Fs(i))return!1}else if(!_s(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Gc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Fs)(e)}function Fs(e){return JSON.stringify(e,(t,r)=>Tl(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function _s(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>_s(e[r],t[r])):!1}var Ix=Object.prototype.hasOwnProperty;function Lh(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=Ru(e)&&Ru(t);if(!n&&!(Tl(e)&&Tl(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let d=0;for(let p=0;p<l;p++){const u=n?p:o[p],m=e[u],x=t[u];if(m===x){c[u]=m,(n?p<i:Ix.call(e,u))&&d++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){c[u]=x;continue}const h=Lh(m,x,r+1);c[u]=h,h===m&&d++}return i===l&&d===i?e:c}function Ru(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tl(e){if(!Iu(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Iu(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Iu(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mx(e){return new Promise(t=>{El.setTimeout(t,e)})}function Dx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Lh(e,t):t}function Ax(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Fx(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var $c=Symbol();function zh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$c?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _x(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Fr,sr,wn,im,Ox=(im=class extends Ai{constructor(){super();K(this,Fr,void 0);K(this,sr,void 0);K(this,wn,void 0);$(this,wn,t=>{if(!Fi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,sr)||this.setEventListener(C(this,wn))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,sr))==null||t.call(this),$(this,sr,void 0))}setEventListener(t){var r;$(this,wn,t),(r=C(this,sr))==null||r.call(this),$(this,sr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,Fr)!==t&&($(this,Fr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,Fr)=="boolean"?C(this,Fr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fr=new WeakMap,sr=new WeakMap,wn=new WeakMap,im),Gh=new Ox;function Lx(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var zx=Cx;function Gx(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=zx;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ge=Gx(),jn,ar,Nn,om,$x=(om=class extends Ai{constructor(){super();K(this,jn,!0);K(this,ar,void 0);K(this,Nn,void 0);$(this,Nn,t=>{if(!Fi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,ar)||this.setEventListener(C(this,Nn))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ar))==null||t.call(this),$(this,ar,void 0))}setEventListener(t){var r;$(this,Nn,t),(r=C(this,ar))==null||r.call(this),$(this,ar,t(this.setOnline.bind(this)))}setOnline(t){C(this,jn)!==t&&($(this,jn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,jn)}},jn=new WeakMap,ar=new WeakMap,Nn=new WeakMap,om),di=new $x;function Ux(e){return Math.min(1e3*2**e,3e4)}function $h(e){return(e??"online")==="online"?di.isOnline():!0}var Rl=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uh(e){let t=!1,r=0,n;const a=Lx(),i=()=>a.status!=="pending",o=v=>{var f;if(!i()){const g=new Rl(v);m(g),(f=e.onCancel)==null||f.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Gh.isFocused()&&(e.networkMode==="always"||di.isOnline())&&e.canRun(),p=()=>$h(e.networkMode)&&e.canRun(),u=v=>{i()||(n==null||n(),a.resolve(v))},m=v=>{i()||(n==null||n(),a.reject(v))},x=()=>new Promise(v=>{var f;n=g=>{(i()||d())&&v(g)},(f=e.onPause)==null||f.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),h=()=>{if(i())return;let v;const f=r===0?e.initialPromise:void 0;try{v=f??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(u).catch(g=>{var E;if(i())return;const y=e.retry??(Fi?0:3),b=e.retryDelay??Ux,j=typeof b=="function"?b(r,g):b,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,g);if(t||!N){m(g);return}r++,(E=e.onFail)==null||E.call(e,r,g),Mx(j).then(()=>d()?void 0:x()).then(()=>{t?m(g):h()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?h():x().then(h),a)}}var _r,lm,Bh=(lm=class{constructor(){K(this,_r,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Px(this.gcTime)&&$(this,_r,El.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fi?1/0:5*60*1e3))}clearGcTimeout(){C(this,_r)&&(El.clearTimeout(C(this,_r)),$(this,_r,void 0))}},_r=new WeakMap,lm),Or,Sn,it,Lr,xe,Ls,zr,ft,Ot,cm,Bx=(cm=class extends Bh{constructor(t){super();K(this,ft);K(this,Or,void 0);K(this,Sn,void 0);K(this,it,void 0);K(this,Lr,void 0);K(this,xe,void 0);K(this,Ls,void 0);K(this,zr,void 0);$(this,zr,!1),$(this,Ls,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,Lr,t.client),$(this,it,C(this,Lr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,Or,Du(this.options)),this.state=t.state??C(this,Or),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,xe))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Ls),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Du(this.options);r.data!==void 0&&(this.setState(Mu(r.data,r.dataUpdatedAt)),$(this,Or,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,it).remove(this)}setData(t,r){const n=Dx(this.state.data,t,this.options);return Pe(this,ft,Ot).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pe(this,ft,Ot).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=C(this,xe))==null?void 0:n.promise;return(a=C(this,xe))==null||a.cancel(t),r?r.then(gt).catch(gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Or))}isActive(){return this.observers.some(t=>Rx(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$c||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tx(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,xe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,xe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,it).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,xe)&&(C(this,zr)?C(this,xe).cancel({revert:!0}):C(this,xe).cancelRetry()),this.scheduleGc()),C(this,it).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,ft,Ot).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,p,u,m,x,h,v,f,g,y,b;if(this.state.fetchStatus!=="idle"&&((c=C(this,xe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,xe))return C(this,xe).continueRetry(),C(this,xe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>($(this,zr,!0),n.signal)})},i=()=>{const j=zh(this.options,r),E=(()=>{const k={client:C(this,Lr),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return $(this,zr,!1),this.options.persister?this.options.persister(j,E,this):j(E)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,Lr),state:this.state,fetchFn:i};return a(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),$(this,Sn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&Pe(this,ft,Ot).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta}),$(this,xe,Uh({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Rl&&j.revert&&this.setState({...C(this,Sn),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{Pe(this,ft,Ot).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Pe(this,ft,Ot).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ft,Ot).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await C(this,xe).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(x=(m=C(this,it).config).onSuccess)==null||x.call(m,j,this),(v=(h=C(this,it).config).onSettled)==null||v.call(h,j,this.state.error,this),j}catch(j){if(j instanceof Rl){if(j.silent)return C(this,xe).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Pe(this,ft,Ot).call(this,{type:"error",error:j}),(g=(f=C(this,it).config).onError)==null||g.call(f,j,this),(b=(y=C(this,it).config).onSettled)==null||b.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},Or=new WeakMap,Sn=new WeakMap,it=new WeakMap,Lr=new WeakMap,xe=new WeakMap,Ls=new WeakMap,zr=new WeakMap,ft=new WeakSet,Ot=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hx(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Mu(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $(this,Sn,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,it).notify({query:this,type:"updated",action:t})})},cm);function Hx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$h(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mu(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Du(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Au(e){return{onFetch:(t,r)=>{var p,u,m,x,h;const n=t.options,a=(m=(u=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const f=b=>{_x(b,()=>t.signal,()=>v=!0)},g=zh(t.options,t.fetchOptions),y=async(b,j,N)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return f(F),F})(),P=await g(k),{maxPages:T}=t.options,M=N?Fx:Ax;return{pages:M(b.pages,P,T),pageParams:M(b.pageParams,j,T)}};if(a&&i.length){const b=a==="backward",j=b?Vx:Fu,N={pages:i,pageParams:o},E=j(n,N);l=await y(N,E,b)}else{const b=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:Fu(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,f;return(f=(v=t.options).persister)==null?void 0:f.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Fu(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Vx(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zs,Pt,Le,Gr,Tt,Xt,dm,Wx=(dm=class extends Bh{constructor(t){super();K(this,Tt);K(this,zs,void 0);K(this,Pt,void 0);K(this,Le,void 0);K(this,Gr,void 0);$(this,zs,t.client),this.mutationId=t.mutationId,$(this,Le,t.mutationCache),$(this,Pt,[]),this.state=t.state||Yx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Pt).includes(t)||(C(this,Pt).push(t),this.clearGcTimeout(),C(this,Le).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,Pt,C(this,Pt).filter(r=>r!==t)),this.scheduleGc(),C(this,Le).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Pt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Le).remove(this))}continue(){var t;return((t=C(this,Gr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,p,u,m,x,h,v,f,g,y,b,j,N,E,k,P,T;const r=()=>{Pe(this,Tt,Xt).call(this,{type:"continue"})},n={client:C(this,zs),meta:this.options.meta,mutationKey:this.options.mutationKey};$(this,Gr,Uh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(M,F)=>{Pe(this,Tt,Xt).call(this,{type:"failed",failureCount:M,error:F})},onPause:()=>{Pe(this,Tt,Xt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Le).canRun(this)}));const a=this.state.status==="pending",i=!C(this,Gr).canStart();try{if(a)r();else{Pe(this,Tt,Xt).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=C(this,Le).config).onMutate)==null?void 0:l.call(o,t,this,n));const F=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));F!==this.state.context&&Pe(this,Tt,Xt).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const M=await C(this,Gr).start();return await((u=(p=C(this,Le).config).onSuccess)==null?void 0:u.call(p,M,t,this.state.context,this,n)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,M,t,this.state.context,n)),await((v=(h=C(this,Le).config).onSettled)==null?void 0:v.call(h,M,null,this.state.variables,this.state.context,this,n)),await((g=(f=this.options).onSettled)==null?void 0:g.call(f,M,null,t,this.state.context,n)),Pe(this,Tt,Xt).call(this,{type:"success",data:M}),M}catch(M){try{await((b=(y=C(this,Le).config).onError)==null?void 0:b.call(y,M,t,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((N=(j=this.options).onError)==null?void 0:N.call(j,M,t,this.state.context,n))}catch(F){Promise.reject(F)}try{await((k=(E=C(this,Le).config).onSettled)==null?void 0:k.call(E,void 0,M,this.state.variables,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((T=(P=this.options).onSettled)==null?void 0:T.call(P,void 0,M,t,this.state.context,n))}catch(F){Promise.reject(F)}throw Pe(this,Tt,Xt).call(this,{type:"error",error:M}),M}finally{C(this,Le).runNext(this)}}},zs=new WeakMap,Pt=new WeakMap,Le=new WeakMap,Gr=new WeakMap,Tt=new WeakSet,Xt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ge.batch(()=>{C(this,Pt).forEach(n=>{n.onMutationUpdate(t)}),C(this,Le).notify({mutation:this,type:"updated",action:t})})},dm);function Yx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gt,yt,Gs,um,Kx=(um=class extends Ai{constructor(t={}){super();K(this,Gt,void 0);K(this,yt,void 0);K(this,Gs,void 0);this.config=t,$(this,Gt,new Set),$(this,yt,new Map),$(this,Gs,0)}build(t,r,n){const a=new Wx({client:t,mutationCache:this,mutationId:++Js(this,Gs)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){C(this,Gt).add(t);const r=ga(t);if(typeof r=="string"){const n=C(this,yt).get(r);n?n.push(t):C(this,yt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Gt).delete(t)){const r=ga(t);if(typeof r=="string"){const n=C(this,yt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&C(this,yt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ga(t);if(typeof r=="string"){const n=C(this,yt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=ga(t);if(typeof r=="string"){const a=(n=C(this,yt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{C(this,Gt).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Gt).clear(),C(this,yt).clear()})}getAll(){return Array.from(C(this,Gt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Tu(r,n))}findAll(t={}){return this.getAll().filter(r=>Tu(t,r))}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ge.batch(()=>Promise.all(t.map(r=>r.continue().catch(gt))))}},Gt=new WeakMap,yt=new WeakMap,Gs=new WeakMap,um);function ga(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Rt,mm,Qx=(mm=class extends Ai{constructor(t={}){super();K(this,Rt,void 0);this.config=t,$(this,Rt,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Gc(a,r);let o=this.get(i);return o||(o=new Bx({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){C(this,Rt).has(t.queryHash)||(C(this,Rt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Rt).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Rt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Rt).get(t)}getAll(){return[...C(this,Rt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Pu(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Pu(t,n)):r}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rt=new WeakMap,mm),le,ir,or,kn,Cn,lr,En,Pn,pm,qx=(pm=class{constructor(e={}){K(this,le,void 0);K(this,ir,void 0);K(this,or,void 0);K(this,kn,void 0);K(this,Cn,void 0);K(this,lr,void 0);K(this,En,void 0);K(this,Pn,void 0);$(this,le,e.queryCache||new Qx),$(this,ir,e.mutationCache||new Kx),$(this,or,e.defaultOptions||{}),$(this,kn,new Map),$(this,Cn,new Map),$(this,lr,0)}mount(){Js(this,lr)._++,C(this,lr)===1&&($(this,En,Gh.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,le).onFocus())})),$(this,Pn,di.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,le).onOnline())})))}unmount(){var e,t;Js(this,lr)._--,C(this,lr)===0&&((e=C(this,En))==null||e.call(this),$(this,En,void 0),(t=C(this,Pn))==null||t.call(this),$(this,Pn,void 0))}isFetching(e){return C(this,le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,ir).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,le).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,le).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,le).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=C(this,le).get(n.queryHash),i=a==null?void 0:a.state.data,o=Ex(t,i);if(o!==void 0)return C(this,le).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ge.batch(()=>C(this,le).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,le).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,le);Ge.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,le);return Ge.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ge.batch(()=>C(this,le).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(gt).catch(gt)}invalidateQueries(e,t={}){return Ge.batch(()=>(C(this,le).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ge.batch(()=>C(this,le).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(gt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(gt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,le).build(this,t);return r.isStaleByTime(Pl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gt).catch(gt)}fetchInfiniteQuery(e){return e.behavior=Au(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gt).catch(gt)}ensureInfiniteQueryData(e){return e.behavior=Au(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return di.isOnline()?C(this,ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,le)}getMutationCache(){return C(this,ir)}getDefaultOptions(){return C(this,or)}setDefaultOptions(e){$(this,or,e)}setQueryDefaults(e,t){C(this,kn).set(Fs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,kn).values()],r={};return t.forEach(n=>{_s(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Cn).set(Fs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Cn).values()],r={};return t.forEach(n=>{_s(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,or).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$c&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,or).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,le).clear(),C(this,ir).clear()}},le=new WeakMap,ir=new WeakMap,or=new WeakMap,kn=new WeakMap,Cn=new WeakMap,lr=new WeakMap,En=new WeakMap,Pn=new WeakMap,pm),Jx=w.createContext(void 0),Xx=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Jx.Provider,{value:e,children:t}));const _u=e=>{let t;const r=new Set,n=(p,u)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const x=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(h=>h(t,x))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>d,subscribe:p=>(r.add(p),()=>r.delete(p)),destroy:()=>{r.clear()}},d=t=e(n,a,c);return c},Zx=e=>e?_u(e):_u;var Hh={exports:{}},Vh={},Wh={exports:{}},Yh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=w;function ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tv=typeof Object.is=="function"?Object.is:ev,rv=_n.useState,nv=_n.useEffect,sv=_n.useLayoutEffect,av=_n.useDebugValue;function iv(e,t){var r=t(),n=rv({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return sv(function(){a.value=r,a.getSnapshot=t,jo(a)&&i({inst:a})},[e,r,t]),nv(function(){return jo(a)&&i({inst:a}),e(function(){jo(a)&&i({inst:a})})},[e]),av(r),r}function jo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tv(e,r)}catch{return!0}}function ov(e,t){return t()}var lv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ov:iv;Yh.useSyncExternalStore=_n.useSyncExternalStore!==void 0?_n.useSyncExternalStore:lv;Wh.exports=Yh;var cv=Wh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=w,dv=cv;function uv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mv=typeof Object.is=="function"?Object.is:uv,pv=dv.useSyncExternalStore,hv=_i.useRef,gv=_i.useEffect,fv=_i.useMemo,yv=_i.useDebugValue;Vh.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=hv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fv(function(){function c(x){if(!d){if(d=!0,p=x,x=n(x),a!==void 0&&o.hasValue){var h=o.value;if(a(h,x))return u=h}return u=x}if(h=u,mv(p,x))return h;var v=n(x);return a!==void 0&&a(h,v)?(p=x,h):(p=x,u=v)}var d=!1,p,u,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=pv(e,i[0],i[1]);return gv(function(){o.hasValue=!0,o.value=l},[l]),yv(l),l};Hh.exports=Vh;var xv=Hh.exports;const vv=hm(xv),{useDebugValue:bv}=zn,{useSyncExternalStoreWithSelector:wv}=vv;const jv=e=>e;function Nv(e,t=jv,r){const n=wv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return bv(n),n}const Ou=e=>{const t=typeof e=="function"?Zx(e):e,r=(n,a)=>Nv(t,n,a);return Object.assign(r,t),r},Oi=e=>e?Ou(e):Ou,Kh=w.createContext(void 0);let Xe=null;const Sv=()=>{const e=w.useContext(Kh);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},kv=({children:e})=>{const[t,r]=w.useState([]),n=w.useCallback(o=>{const l=Math.random().toString(36).substr(2,9),c={...o,id:l,duration:o.duration??5e3};r(d=>[...d,c]),c.duration&&c.duration>0&&setTimeout(()=>{a(l)},c.duration)},[]),a=w.useCallback(o=>{r(l=>l.filter(c=>c.id!==o))},[]),i=w.useCallback(()=>{r([])},[]);return Xe={addToast:n},s.jsx(Kh.Provider,{value:{toasts:t,addToast:n,removeToast:a,clearToasts:i},children:e})},Cv=()=>{const{toasts:e,removeToast:t}=Sv(),r=a=>`fixed top-4 right-4 max-w-sm w-full p-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out z-50 ${{success:"bg-green-500 text-white border-green-600",error:"bg-red-500 text-white border-red-600",warning:"bg-yellow-500 text-black border-yellow-600",info:"bg-blue-500 text-white border-blue-600"}[a]}`,n=a=>({success:"",error:"",warning:"",info:""})[a];return s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map((a,i)=>s.jsx("div",{className:`${r(a.type)} ${i===0?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{animation:i===0?"slideIn 0.3s ease-out":void 0},children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"text-xl mr-3",children:n(a.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:a.title}),a.message&&s.jsx("p",{className:"text-sm mt-1 opacity-90",children:a.message})]}),s.jsx("button",{onClick:()=>t(a.id),className:"ml-3 text-lg hover:opacity-70 transition-opacity","aria-label":"Close toast",children:""})]})},a.id))})},Ze={success:(e,t,r)=>{Xe==null||Xe.addToast({type:"success",title:e,message:t,duration:r})},error:(e,t,r)=>{Xe==null||Xe.addToast({type:"error",title:e,message:t,duration:r})},warning:(e,t,r)=>{Xe==null||Xe.addToast({type:"warning",title:e,message:t,duration:r})},info:(e,t,r)=>{Xe==null||Xe.addToast({type:"info",title:e,message:t,duration:r})}};class Il{static async getOwnedGames(t,r){try{const n=`${this.API_BASE_URL}/steam/games?steamId=${encodeURIComponent(t)}&apiKey=${encodeURIComponent(r)}`,a=await fetch(n);if(!a.ok)return console.error("Backend API Error:",a.status,a.statusText),[];const i=await a.json();return i.response&&i.response.games?i.response.games.filter(o=>o.name&&o.appid):[]}catch(n){return console.error("Steam API Error:",n),[]}}static async getGameDetails(t){var r;try{const n=`${this.BASE_APP_URL}?appids=${t}&format=json`;return(r=(await(await fetch(n)).json())[t])==null?void 0:r.data}catch(n){return console.error("Steam App Details Error:",n),null}}static transformSteamApiGame(t){return{appId:t.appid,name:t.name,steamId:"",playtimeForever:t.playtime_forever,playtimeWindows:t.playtime_windows_forever,playtimeMac:t.playtime_mac_forever,playtimeLinux:t.playtime_linux_forever,imgIconUrl:t.img_icon_url,imgLogoUrl:t.img_logo_url,hasCommunityVisibleStats:t.has_community_visible_stats,playtimeLastTwoWeeks:0,playtimeAtLastUpdate:new Date,headerImage:"",shortDescription:"",supportedLanguages:[],developers:[],publishers:[],genres:[],categories:[],releaseDate:new Date,metacriticScore:void 0,recommendations:0,isFree:!1,priceOverview:void 0,platforms:[]}}static convertSteamGameToGame(t){return{title:t.name,launcherId:t.appId.toString(),platforms:["STEAM"],status:"backlog",playtime:Math.floor(t.playtimeForever/60),coverImage:t.imgLogoUrl||t.imgIconUrl,genres:[],tags:[],achievements:{unlocked:0,total:0}}}}Ne(Il,"BASE_APP_URL","https://store.steampowered.com/api/appdetails/"),Ne(Il,"API_BASE_URL",{}.VITE_API_URL||"/api");const Ev=async(e,t)=>{const{setIsLoading:r}=Ae.getState(),{setGames:n}=Ae.getState().actions;let a=[];try{return r(!0),a=(await Il.getOwnedGames(e,t)).map(o=>{const l=o.img_logo_url?`https://media.steampowered.com/steamcommunity/public/images/apps/${o.appid}/${o.img_logo_url}.jpg`:o.img_icon_url?`https://media.steampowered.com/steamcommunity/public/images/apps/${o.appid}/${o.img_icon_url}.jpg`:"";return{id:`steam-${o.appid}`,title:o.name,description:void 0,coverImage:l,genres:[],subgenres:[],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:[],playStatus:"backlog",hoursPlayed:Math.floor(o.playtime_forever/60),addedAt:new Date,isFavorite:!1,tags:[],releaseYear:new Date().getFullYear()}}),{success:a.length>0,gameCount:a.length,games:a}}catch(i){return console.error("Steam import failed:",i),{success:!1,gameCount:0,games:[]}}finally{r(!1),a.length>0&&n(a)}},Ae=Oi()((e,t)=>({games:[],currentSession:null,isLoading:!1,filters:{genre:null,platform:null,status:null,search:""},intelligence:{selectedMood:"",selectedSessionLength:"",selectedGenres:[],selectedSorting:"",preferredGenres:[],preferredMoods:[],preferredSessionStyle:null},setIsLoading:r=>e({isLoading:r}),actions:{addGame:r=>{e(n=>({games:[...n.games,r]})),Ze.success(`Added ${r.title} to your library`)},removeGame:r=>{e(n=>({games:n.games.filter(a=>a.id!==r)})),Ze.info("Game removed from library")},updateGame:(r,n)=>{e(a=>({games:a.games.map(i=>i.id===r?{...i,...n}:i)}))},bulkUpdateStatus:(r,n)=>{e(a=>({games:a.games.map(i=>r.includes(i.id)?{...i,playStatus:n}:i)})),Ze.success(`Updated ${r.length} games`)},bulkExport:()=>{const r=JSON.stringify(t().games,null,2),n=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download="game-library.json",i.click(),URL.revokeObjectURL(a),Ze.success("Library exported successfully")},bulkImport:r=>{const n=r.map(a=>({...a,id:crypto.randomUUID(),addedAt:new Date}));e(a=>({games:[...a.games,...n]})),Ze.success(`Imported ${n.length} games`)},importSteamLibrary:Ev,bulkAddToCategory:(r,n)=>{e(a=>({games:a.games.map(i=>r.includes(i.id)?{...i,tags:Array.from(new Set([...i.tags||[],n]))}:i)})),Ze.success(`Added ${r.length} games to ${n}`)},deduplicateGames:()=>{e(r=>({games:r.games.filter((a,i,o)=>i===o.findIndex(l=>l.title.toLowerCase()===a.title.toLowerCase()))}))},bulkDelete:r=>{e(n=>({games:n.games.filter(a=>!r.includes(a.id))})),Ze.success(`Deleted ${r.length} games`)},launchGame:r=>{const n=t().games.find(a=>a.id===r);if(n)if(e({currentSession:{gameId:n.id,startedAt:Date.now()}}),n.appId&&n.platforms.some(a=>a.code==="steam")){const a=`steam://rungameid/${n.appId}`;window.location.href=a,Ze.success(`Launching ${n.title}`,"Opening via Steam..."),setTimeout(()=>{document.visibilityState==="visible"&&Ze.warning("Launch Failed","Steam may not be installed or running. Please check Steam is available.")},3e3)}else Ze.info(`Launching ${n.title}`,"Game launch initiated...")},endCurrentSession:()=>{const r=t();if(!r.currentSession)return;const n=Date.now()-r.currentSession.startedAt,a=Math.floor(n/6e4);e(i=>({games:i.games.map(o=>{var l;return o.id===((l=i.currentSession)==null?void 0:l.gameId)?{...o,hoursPlayed:(o.hoursPlayed||0)+a/60,lastPlayed:new Date}:o}),currentSession:null}))},setFilter:(r,n)=>{e(a=>({filters:{...a.filters,[r]:n}}))},clearFilters:()=>{e({filters:{genre:null,platform:null,status:null,search:""}})},setGames:r=>e({games:r}),updateGameStatus:(r,n)=>{e(a=>({games:a.games.map(i=>i.id===r?{...i,playStatus:n}:i)}))},updateGamePlaytime:(r,n)=>{e(a=>({games:a.games.map(i=>i.id===r?{...i,hoursPlayed:n}:i)}))},setPreferredGenres:r=>{e(n=>({intelligence:{...n.intelligence,preferredGenres:r}}))},setPreferredMoods:r=>{e(n=>({intelligence:{...n.intelligence,preferredMoods:r}}))},setPreferredSessionStyle:r=>{e(n=>({intelligence:{...n.intelligence,preferredSessionStyle:r}}))}},setIntelligenceState:r=>{e(n=>({intelligence:{...n.intelligence,...r}}))}})),Ml=new Map,fa=e=>{const t=Ml.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},Pv=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=Ml.get(r.name);if(n)return{type:"tracked",store:e,...n};const a={connection:t.connect(r),stores:{}};return Ml.set(r.name,a),{type:"tracked",store:e,...a}},Tv=(e,t={})=>(r,n,a)=>{const{enabled:i,anonymousActionType:o,store:l,...c}=t;let d;try{d=(i??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(r,n,a);const{connection:p,...u}=Pv(l,d,c);let m=!0;a.setState=(v,f,g)=>{const y=r(v,f);if(!m)return y;const b=g===void 0?{type:o||"anonymous"}:typeof g=="string"?{type:g}:g;return l===void 0?(p==null||p.send(b,n()),y):(p==null||p.send({...b,type:`${l}/${b.type}`},{...fa(c.name),[l]:a.getState()}),y)};const x=(...v)=>{const f=m;m=!1,r(...v),m=f},h=e(a.setState,n,a);if(u.type==="untracked"?p==null||p.init(h):(u.stores[u.store]=a,p==null||p.init(Object.fromEntries(Object.entries(u.stores).map(([v,f])=>[v,v===u.store?h:f.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let v=!1;const f=a.dispatch;a.dispatch=(...g)=>{f(...g)}}return p.subscribe(v=>{var f;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return No(v.payload,g=>{if(g.type==="__setState"){if(l===void 0){x(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=g.state[l];if(y==null)return;JSON.stringify(a.getState())!==JSON.stringify(y)&&x(y);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(g)});case"DISPATCH":switch(v.payload.type){case"RESET":return x(h),l===void 0?p==null?void 0:p.init(a.getState()):p==null?void 0:p.init(fa(c.name));case"COMMIT":if(l===void 0){p==null||p.init(a.getState());return}return p==null?void 0:p.init(fa(c.name));case"ROLLBACK":return No(v.state,g=>{if(l===void 0){x(g),p==null||p.init(a.getState());return}x(g[l]),p==null||p.init(fa(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return No(v.state,g=>{if(l===void 0){x(g);return}JSON.stringify(a.getState())!==JSON.stringify(g[l])&&x(g[l])});case"IMPORT_STATE":{const{nextLiftedState:g}=v.payload,y=(f=g.computedStates.slice(-1)[0])==null?void 0:f.state;if(!y)return;x(l===void 0?y:y[l]),p==null||p.send(null,g);return}case"PAUSE_RECORDING":return m=!m}return}}),h},Qh=Tv,No=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)};function Rv(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,t==null?void 0:t.replacer)),removeItem:a=>r.removeItem(a)}}const Os=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Os(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Os(n)(r)}}}},Iv=(e,t)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,g)=>({...g,...f}),...t},o=!1;const l=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...f)},n,a);const p=Os(i.serialize),u=()=>{const f=i.partialize({...n()});let g;const y=p({state:f,version:i.version}).then(b=>d.setItem(i.name,b)).catch(b=>{g=b});if(g)throw g;return y},m=a.setState;a.setState=(f,g)=>{m(f,g),u()};const x=e((...f)=>{r(...f),u()},n,a);let h;const v=()=>{var f;if(!d)return;o=!1,l.forEach(y=>y(n()));const g=((f=i.onRehydrateStorage)==null?void 0:f.call(i,n()))||void 0;return Os(d.getItem.bind(d))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return h=i.merge(y,(b=n())!=null?b:x),r(h,!0),u()}).then(()=>{g==null||g(h,void 0),o=!0,c.forEach(y=>y(h))}).catch(y=>{g==null||g(void 0,y)})};return a.persist={setOptions:f=>{i={...i,...f},f.getStorage&&(d=f.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},v(),h||x},Mv=(e,t)=>(r,n,a)=>{let i={storage:Rv(()=>localStorage),partialize:v=>v,version:0,merge:(v,f)=>({...f,...v}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,a);const p=()=>{const v=i.partialize({...n()});return d.setItem(i.name,{state:v,version:i.version})},u=a.setState;a.setState=(v,f)=>{u(v,f),p()};const m=e((...v)=>{r(...v),p()},n,a);a.getInitialState=()=>m;let x;const h=()=>{var v,f;if(!d)return;o=!1,l.forEach(y=>{var b;return y((b=n())!=null?b:m)});const g=((f=i.onRehydrateStorage)==null?void 0:f.call(i,(v=n())!=null?v:m))||void 0;return Os(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[j,N]=y;if(x=i.merge(N,(b=n())!=null?b:m),r(x,!0),j)return p()}).then(()=>{g==null||g(x,void 0),x=n(),o=!0,c.forEach(y=>y(x))}).catch(y=>{g==null||g(void 0,y)})};return a.persist={setOptions:v=>{i={...i,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||h(),x||m},Dv=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?Iv(e,t):Mv(e,t),Uc=Dv,Av=Oi()(Qh(Uc((e,t)=>({games:[],libraryLoading:!1,libraryError:null,integrations:{steam:{connected:!1},discord:{connected:!1},youtube:{connected:!1}},integrationLoading:!1,userPreferences:{theme:"dark",animations:!0,reducedMotion:!1,language:"en",notifications:{achievements:!0,friendActivity:!0,gameRecommendations:!0}},setGames:r=>e({games:r}),addGame:r=>e(n=>({games:[...n.games,r]})),updateGame:(r,n)=>e(a=>({games:a.games.map(i=>i.id===r?{...i,...n}:i)})),removeGame:r=>e(n=>({games:n.games.filter(a=>a.id!==r)})),setIntegrationStatus:(r,n)=>e(a=>({integrations:{...a.integrations,[r]:{...a.integrations[r],...n}}})),setSteamId:r=>e({currentSteamId:r}),updateUserPreferences:r=>e(n=>({userPreferences:{...n.userPreferences,...r}})),getGamesByStatus:r=>{const{games:n}=t();return n.filter(a=>a.playStatus===r)},getTotalPlaytime:()=>{const{games:r}=t();return r.reduce((n,a)=>n+(a.hoursPlayed||0),0)},getRecentlyPlayed:(r=5)=>{const{games:n}=t();return n.filter(a=>a.lastPlayed).sort((a,i)=>{var o,l;return(((o=i.lastPlayed)==null?void 0:o.getTime())||0)-(((l=a.lastPlayed)==null?void 0:l.getTime())||0)}).slice(0,r)}}),{name:"gamepilot-store",partialize:e=>({games:e.games,userPreferences:e.userPreferences,integrations:e.integrations,currentSteamId:e.currentSteamId})}),{name:"GamePilotStore"})),qh=Oi()(Uc((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,loginWithSteam:()=>{window.location.href="https://gamepilot.com/api/auth/steam"},logout:async()=>{try{if(e({isLoading:!0,error:null}),(await fetch("https://gamepilot.com/api/auth/logout",{method:"GET",credentials:"include"})).ok)e({user:null,isAuthenticated:!1,isLoading:!1,error:null}),window.location.href="/";else throw new Error("Logout failed")}catch(r){console.error(" Logout error:",r),e({error:r instanceof Error?r.message:"Logout failed",isLoading:!1})}},fetchCurrentUser:async()=>{try{e({isLoading:!0,error:null});const r=localStorage.getItem("sessionToken");if(!r){e({user:null,isAuthenticated:!1,isLoading:!1,error:null});return}const n=await fetch("/api/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include"});if(n.ok){const a=await n.json();a.user?e({user:a.user,isAuthenticated:!0,isLoading:!1,error:null}):e({user:null,isAuthenticated:!1,isLoading:!1,error:null})}else throw new Error("Failed to fetch current user")}catch(r){console.error(" Fetch current user error:",r),e({error:r instanceof Error?r.message:"Failed to fetch user",isLoading:!1})}},clearError:()=>{e({error:null})},setUser:r=>{e({user:r})},setAuthenticated:r=>{e({isAuthenticated:r}),localStorage.setItem("isAuthenticated",r.toString())},initializeAuth:()=>{t().fetchCurrentUser()},updateProfile:r=>{const n=t().user;if(n){const a={...n,...r};e({user:a})}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),Li=()=>{const e=qh();return{user:e.user,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,error:e.error,loginWithSteam:e.loginWithSteam,logout:e.logout,fetchCurrentUser:e.fetchCurrentUser,clearError:e.clearError,setUser:e.setUser,setAuthenticated:e.setAuthenticated,initializeAuth:e.initializeAuth,updateProfile:e.updateProfile}};class Bc extends w.Component{constructor(r){super(r);Ne(this,"logErrorToService",(r,n)=>{const a={errorId:this.state.errorId,error:r.message,stack:r.stack,componentStack:n.componentStack,errorBoundary:!0,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getUserId(),sessionId:this.getSessionId()};console.log("Error details:",a)});Ne(this,"getUserId",()=>{try{const r=localStorage.getItem("user");return r?JSON.parse(r).id:"anonymous"}catch{return"anonymous"}});Ne(this,"getSessionId",()=>{let r=sessionStorage.getItem("error_session_id");return r||(r=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("error_session_id",r)),r});Ne(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorId:void 0}),Ze.info("Retrying","Attempting to recover from the error...")});this.state={hasError:!1}}static getDerivedStateFromError(r){const n=`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:r,errorId:n}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),Ze.error("Something went wrong","An unexpected error occurred. Please try refreshing the page."),this.props.onError&&this.props.onError(r,n),this.logErrorToService(r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:s.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-300 mb-6",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred while loading this page."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:this.handleRetry,className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Try Again"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors",children:" Reload Page"}),s.jsx(mr,{to:"/",className:"block w-full px-6 py-3 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-colors text-center",children:" Go Home"})]}),!1]})})}):this.props.children}}const ke=({children:e})=>s.jsx(Bc,{fallback:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:s.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Page Load Error"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"This page couldn't be loaded properly. Please try refreshing or go back to the home page."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Refresh Page"}),s.jsx(mr,{to:"/",className:"block w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors text-center",children:" Go Home"})]})]})})}),children:e}),en=({children:e,componentName:t="Component"})=>s.jsx(Bc,{fallback:s.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-red-500/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:[t," Error"]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"This component encountered an error and couldn't be displayed."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors text-sm",children:" Reload"})]})}),children:e}),Fv=({recommendedGame:e,onRefresh:t})=>{const[r,n]=w.useState(!1),a=async()=>{n(!0),await new Promise(i=>setTimeout(i,500)),t==null||t(),n(!1)};return e?s.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),s.jsxs("button",{onClick:a,disabled:r,className:"px-4 py-2 bg-gaming-accent/20 hover:bg-gaming-accent/30 text-gaming-accent rounded-lg font-medium transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:`transition-transform duration-500 ${r?"animate-spin":""}`,children:""}),r?"Refreshing...":"Refresh"]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 animate-fade-in",children:[s.jsx("div",{className:"lg:w-1/3",children:s.jsxs("div",{className:"relative overflow-hidden rounded-lg group",children:[s.jsx("img",{src:e.game.coverImage,alt:e.game.name,className:"w-full h-48 object-cover rounded-lg transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.game.price&&s.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-gaming-accent/90 rounded-full backdrop-blur-sm",children:s.jsx("span",{className:"text-white text-sm font-bold",children:e.game.price})}),s.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-green-500/90 rounded-full backdrop-blur-sm",children:s.jsxs("span",{className:"text-white text-sm font-bold",children:[Math.round(e.score),"% Match"]})})]})}),s.jsxs("div",{className:"lg:w-2/3 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:e.game.name}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.game.genres.slice(0,4).map((i,o)=>s.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 rounded text-xs text-gaming-primary",children:i},o))}),s.jsx("div",{className:"p-4 bg-gaming-accent/10 rounded-lg border border-gaming-accent/30 mb-4",children:s.jsxs("p",{className:"text-gaming-accent text-sm",children:[" ",s.jsx("strong",{children:"Why this game?"})," ",e.explanation]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded",children:[s.jsx("div",{className:"text-gray-400",children:"Difficulty"}),s.jsx("div",{className:"text-white font-medium",children:e.game.difficulty})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded",children:[s.jsx("div",{className:"text-gray-400",children:"Session"}),s.jsx("div",{className:"text-white font-medium capitalize",children:e.game.sessionSuitability})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded",children:[s.jsx("div",{className:"text-gray-400",children:"Narrative"}),s.jsx("div",{className:"text-white font-medium capitalize",children:e.game.narrativeStyle})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded",children:[s.jsx("div",{className:"text-gray-400",children:"Match"}),s.jsxs("div",{className:"text-white font-medium",children:[Math.round(e.score),"%"]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("a",{href:e.game.steamUrl,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-gaming-accent hover:bg-gaming-primary text-white rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center gap-2",children:[s.jsx("span",{children:""}),"View on Steam"]}),s.jsx("button",{onClick:()=>{window.location.href="/analytics?view=game-compare"},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold transition-colors",children:" Compare"})]})]})]})]}):s.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-xl mb-4",children:""}),s.jsx("p",{className:"text-gray-300 mb-4",children:"No recommendations available"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Add more games to your library to get personalized recommendations"})]})]})};function _v(e){const t=Ov(e),r=Lv(e),n=zv(e),a=Gv(e),i=$v(e),o=Uv(e);return{archetypeId:t,intensity:r,pacing:n,riskProfile:a,socialStyle:i,confidence:o}}function Ov(e){const{completionRate:t,playtimeByGenre:r,multiplayerRatio:n,difficultyPreference:a}=e;if(t>.7)return"Specialist";const i=r.Strategy||0,o=Object.values(r).reduce((c,d)=>c+d,0);if(o>0&&i/o>.4)return"Strategist";if(n>.6)return"Socializer";const l=(r.Adventure||0)+(r["Open World"]||0);return o>0&&l/o>.4?"Explorer":a==="Brutal"?"Competitor":"Achiever"}function Lv(e){const{sessionsPerWeek:t,averageSessionLengthMinutes:r}=e;return t>=5||r>=120?"High":t<=2&&r<60?"Low":"Medium"}function zv(e){const{averageSessionLengthMinutes:t}=e;return t<45?"Burst":t>120?"Marathon":"Flow"}function Gv(e){const{difficultyPreference:t}=e;switch(t){case"Relaxed":return"Comfort";case"Normal":return"Balanced";case"Hard":case"Brutal":return"Experimental";default:return"Balanced"}}function $v(e){const{multiplayerRatio:t}=e;return t<.2?"Solo":t>.7?"Competitive":"Coop"}function Uv(e){const t=[e.playtimeByGenre,e.averageSessionLengthMinutes,e.sessionsPerWeek,e.difficultyPreference,e.multiplayerRatio,e.completionRate],n=t.filter(a=>a!=null&&(typeof a!="object"||Object.keys(a).length>0)).length/t.length;return Math.max(.3,Math.min(1,n))}function Bv(e,t){if(!t)return{traits:e,mood:null};const r={moodId:t.moodId,intensity:t.intensity,timestamp:t.timestamp};return{traits:e,mood:r}}function Hv(e){const{traits:t,mood:r}=e,n=Vv(r);return{summary:Wv(t,r),tone:n}}function Vv(e){if(!e)return"Reflective";const{moodId:t}=e;return["chill","story","creative"].includes(t)?"Calm":["energetic","social","exploratory"].includes(t)?"Hyped":["competitive","focused"].includes(t)?"Competitive":"Comfort"}function Wv(e,t){const{archetypeId:r,pacing:n,riskProfile:a}=e,i=Yv(r),o=Kv(n),l=Qv(a),c=t?qv(t.moodId):null;return c?`You're a ${i} who prefers ${o} sessions. Currently feeling ${c}, you lean toward ${l} choices.`:`You're a ${i} who thrives in ${o} sessions with a ${l} approach to gaming.`}function Yv(e){return{Achiever:"goal-oriented achiever",Explorer:"curious explorer",Socializer:"social gamer",Competitor:"competitive player",Strategist:"strategic thinker",Creative:"creative builder",Casual:"relaxed gamer",Specialist:"dedicated specialist"}[e]||"versatile player"}function Kv(e){return{Burst:"short, intense",Flow:"steady, balanced",Marathon:"long, immersive"}[e]||"moderate"}function Qv(e){return{Comfort:"comfortable and familiar",Balanced:"balanced and varied",Experimental:"experimental and bold"}[e]||"thoughtful"}function qv(e){return{chill:"chill and relaxed",competitive:"competitive and driven",story:"story-focused and immersed",creative:"creative and inspired",social:"social and connected",focused:"focused and determined",energetic:"energetic and excited",exploratory:"exploratory and curious"}[e]||"in a thoughtful mood"}function ui(e){if(!e.signals)throw new Error("PersonaSnapshotInput.signals is required");Jv(e.signals);try{const t=_v(e.signals),{mood:r}=Bv(t,e.moodEntry||void 0),n=Hv({traits:t,mood:r}),a=t.confidence;return{traits:t,mood:r,narrative:n,confidence:a}}catch(t){throw new Error(`Failed to build persona snapshot: ${t instanceof Error?t.message:"Unknown error"}`)}}function Jv(e){const t=["playtimeByGenre","averageSessionLengthMinutes","sessionsPerWeek","difficultyPreference","multiplayerRatio","completionRate"];for(const n of t)if(!(n in e))throw new Error(`Missing required field: ${n}`);if(typeof e.playtimeByGenre!="object"||e.playtimeByGenre===null)throw new Error("playtimeByGenre must be a valid object");if(typeof e.averageSessionLengthMinutes!="number"||e.averageSessionLengthMinutes<0)throw new Error("averageSessionLengthMinutes must be a non-negative number");if(typeof e.sessionsPerWeek!="number"||e.sessionsPerWeek<0)throw new Error("sessionsPerWeek must be a non-negative number");const r=["Relaxed","Normal","Hard","Brutal"];if(!r.includes(e.difficultyPreference))throw new Error(`difficultyPreference must be one of: ${r.join(", ")}`);if(typeof e.multiplayerRatio!="number"||e.multiplayerRatio<0||e.multiplayerRatio>1)throw new Error("multiplayerRatio must be a number between 0 and 1");if(typeof e.completionRate!="number"||e.completionRate<0||e.completionRate>1)throw new Error("completionRate must be a number between 0 and 1")}function Jh(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xv}=Object.prototype,{getPrototypeOf:Hc}=Object,{iterator:zi,toStringTag:Xh}=Symbol,Gi=(e=>t=>{const r=Xv.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),St=e=>(e=e.toLowerCase(),t=>Gi(t)===e),$i=e=>t=>typeof t===e,{isArray:Hn}=Array,On=$i("undefined");function Ws(e){return e!==null&&!On(e)&&e.constructor!==null&&!On(e.constructor)&&qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zh=St("ArrayBuffer");function Zv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zh(e.buffer),t}const eb=$i("string"),qe=$i("function"),eg=$i("number"),Ys=e=>e!==null&&typeof e=="object",tb=e=>e===!0||e===!1,Da=e=>{if(Gi(e)!=="object")return!1;const t=Hc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xh in e)&&!(zi in e)},rb=e=>{if(!Ys(e)||Ws(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},nb=St("Date"),sb=St("File"),ab=St("Blob"),ib=St("FileList"),ob=e=>Ys(e)&&qe(e.pipe),lb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||qe(e.append)&&((t=Gi(e))==="formdata"||t==="object"&&qe(e.toString)&&e.toString()==="[object FormData]"))},cb=St("URLSearchParams"),[db,ub,mb,pb]=["ReadableStream","Request","Response","Headers"].map(St),hb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ks(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Hn(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ws(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function tg(e,t){if(Ws(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ar=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rg=e=>!On(e)&&e!==Ar;function Dl(){const{caseless:e,skipUndefined:t}=rg(this)&&this||{},r={},n=(a,i)=>{const o=e&&tg(r,i)||i;Da(r[o])&&Da(a)?r[o]=Dl(r[o],a):Da(a)?r[o]=Dl({},a):Hn(a)?r[o]=a.slice():(!t||!On(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ks(arguments[a],n);return r}const gb=(e,t,r,{allOwnKeys:n}={})=>(Ks(t,(a,i)=>{r&&qe(a)?e[i]=Jh(a,r):e[i]=a},{allOwnKeys:n}),e),fb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yb=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},xb=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Hc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},bb=e=>{if(!e)return null;if(Hn(e))return e;let t=e.length;if(!eg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hc(Uint8Array)),jb=(e,t)=>{const n=(e&&e[zi]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Nb=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Sb=St("HTMLFormElement"),kb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Lu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Cb=St("RegExp"),ng=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ks(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},Eb=e=>{ng(e,(t,r)=>{if(qe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(qe(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pb=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Hn(e)?n(e):n(String(e).split(t)),r},Tb=()=>{},Rb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ib(e){return!!(e&&qe(e.append)&&e[Xh]==="FormData"&&e[zi])}const Mb=e=>{const t=new Array(10),r=(n,a)=>{if(Ys(n)){if(t.indexOf(n)>=0)return;if(Ws(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Hn(n)?[]:{};return Ks(n,(o,l)=>{const c=r(o,a+1);!On(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},Db=St("AsyncFunction"),Ab=e=>e&&(Ys(e)||qe(e))&&qe(e.then)&&qe(e.catch),sg=((e,t)=>e?setImmediate:t?((r,n)=>(Ar.addEventListener("message",({source:a,data:i})=>{a===Ar&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ar.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",qe(Ar.postMessage)),Fb=typeof queueMicrotask<"u"?queueMicrotask.bind(Ar):typeof process<"u"&&process.nextTick||sg,_b=e=>e!=null&&qe(e[zi]),S={isArray:Hn,isArrayBuffer:Zh,isBuffer:Ws,isFormData:lb,isArrayBufferView:Zv,isString:eb,isNumber:eg,isBoolean:tb,isObject:Ys,isPlainObject:Da,isEmptyObject:rb,isReadableStream:db,isRequest:ub,isResponse:mb,isHeaders:pb,isUndefined:On,isDate:nb,isFile:sb,isBlob:ab,isRegExp:Cb,isFunction:qe,isStream:ob,isURLSearchParams:cb,isTypedArray:wb,isFileList:ib,forEach:Ks,merge:Dl,extend:gb,trim:hb,stripBOM:fb,inherits:yb,toFlatObject:xb,kindOf:Gi,kindOfTest:St,endsWith:vb,toArray:bb,forEachEntry:jb,matchAll:Nb,isHTMLForm:Sb,hasOwnProperty:Lu,hasOwnProp:Lu,reduceDescriptors:ng,freezeMethods:Eb,toObjectSet:Pb,toCamelCase:kb,noop:Tb,toFiniteNumber:Rb,findKey:tg,global:Ar,isContextDefined:rg,isSpecCompliantForm:Ib,toJSONObject:Mb,isAsyncFn:Db,isThenable:Ab,setImmediate:sg,asap:Fb,isIterable:_b};function H(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}S.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}});const ag=H.prototype,ig={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ig[e]={value:e}});Object.defineProperties(H,ig);Object.defineProperty(ag,"isAxiosError",{value:!0});H.from=(e,t,r,n,a,i)=>{const o=Object.create(ag);S.toFlatObject(e,o,function(p){return p!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return H.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Ob=null;function Al(e){return S.isPlainObject(e)||S.isArray(e)}function og(e){return S.endsWith(e,"[]")?e.slice(0,-2):e}function zu(e,t,r){return e?e.concat(t).map(function(a,i){return a=og(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Lb(e){return S.isArray(e)&&!e.some(Al)}const zb=S.toFlatObject(S,{},null,function(t){return/^is[A-Z]/.test(t)});function Ui(e,t,r){if(!S.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=S.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,f){return!S.isUndefined(f[v])});const n=r.metaTokens,a=r.visitor||p,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(t);if(!S.isFunction(a))throw new TypeError("visitor must be a function");function d(h){if(h===null)return"";if(S.isDate(h))return h.toISOString();if(S.isBoolean(h))return h.toString();if(!c&&S.isBlob(h))throw new H("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(h)||S.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function p(h,v,f){let g=h;if(h&&!f&&typeof h=="object"){if(S.endsWith(v,"{}"))v=n?v:v.slice(0,-2),h=JSON.stringify(h);else if(S.isArray(h)&&Lb(h)||(S.isFileList(h)||S.endsWith(v,"[]"))&&(g=S.toArray(h)))return v=og(v),g.forEach(function(b,j){!(S.isUndefined(b)||b===null)&&t.append(o===!0?zu([v],j,i):o===null?v:v+"[]",d(b))}),!1}return Al(h)?!0:(t.append(zu(f,v,i),d(h)),!1)}const u=[],m=Object.assign(zb,{defaultVisitor:p,convertValue:d,isVisitable:Al});function x(h,v){if(!S.isUndefined(h)){if(u.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));u.push(h),S.forEach(h,function(g,y){(!(S.isUndefined(g)||g===null)&&a.call(t,g,S.isString(y)?y.trim():y,v,m))===!0&&x(g,v?v.concat(y):[y])}),u.pop()}}if(!S.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Gu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vc(e,t){this._pairs=[],e&&Ui(e,this,t)}const lg=Vc.prototype;lg.append=function(t,r){this._pairs.push([t,r])};lg.toString=function(t){const r=t?function(n){return t.call(this,n,Gu)}:Gu;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Gb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cg(e,t,r){if(!t)return e;const n=r&&r.encode||Gb;S.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=S.isURLSearchParams(t)?t.toString():new Vc(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class $b{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){S.forEach(this.handlers,function(n){n!==null&&t(n)})}}const $u=$b,dg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ub=typeof URLSearchParams<"u"?URLSearchParams:Vc,Bb=typeof FormData<"u"?FormData:null,Hb=typeof Blob<"u"?Blob:null,Vb={isBrowser:!0,classes:{URLSearchParams:Ub,FormData:Bb,Blob:Hb},protocols:["http","https","file","blob","url","data"]},Wc=typeof window<"u"&&typeof document<"u",Fl=typeof navigator=="object"&&navigator||void 0,Wb=Wc&&(!Fl||["ReactNative","NativeScript","NS"].indexOf(Fl.product)<0),Yb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kb=Wc&&window.location.href||"http://localhost",Qb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wc,hasStandardBrowserEnv:Wb,hasStandardBrowserWebWorkerEnv:Yb,navigator:Fl,origin:Kb},Symbol.toStringTag,{value:"Module"})),Me={...Qb,...Vb};function qb(e,t){return Ui(e,new Me.classes.URLSearchParams,{visitor:function(r,n,a,i){return Me.isNode&&S.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Jb(e){return S.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Xb(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function ug(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&S.isArray(a)?a.length:o,c?(S.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!S.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&S.isArray(a[o])&&(a[o]=Xb(a[o])),!l)}if(S.isFormData(e)&&S.isFunction(e.entries)){const r={};return S.forEachEntry(e,(n,a)=>{t(Jb(n),a,r,0)}),r}return null}function Zb(e,t,r){if(S.isString(e))try{return(t||JSON.parse)(e),S.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Yc={transitional:dg,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=S.isObject(t);if(i&&S.isHTMLForm(t)&&(t=new FormData(t)),S.isFormData(t))return a?JSON.stringify(ug(t)):t;if(S.isArrayBuffer(t)||S.isBuffer(t)||S.isStream(t)||S.isFile(t)||S.isBlob(t)||S.isReadableStream(t))return t;if(S.isArrayBufferView(t))return t.buffer;if(S.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qb(t,this.formSerializer).toString();if((l=S.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ui(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Zb(t)):t}],transformResponse:[function(t){const r=this.transitional||Yc.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(S.isResponse(t)||S.isReadableStream(t))return t;if(t&&S.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?H.from(l,H.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],e=>{Yc.headers[e]={}});const Kc=Yc,ew=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tw=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&ew[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Uu=Symbol("internals");function es(e){return e&&String(e).trim().toLowerCase()}function Aa(e){return e===!1||e==null?e:S.isArray(e)?e.map(Aa):String(e)}function rw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const nw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function So(e,t,r,n,a){if(S.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!S.isString(t)){if(S.isString(n))return t.indexOf(n)!==-1;if(S.isRegExp(n))return n.test(t)}}function sw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function aw(e,t){const r=S.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}class Bi{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const p=es(c);if(!p)throw new Error("header name must be a non-empty string");const u=S.findKey(a,p);(!u||a[u]===void 0||d===!0||d===void 0&&a[u]!==!1)&&(a[u||c]=Aa(l))}const o=(l,c)=>S.forEach(l,(d,p)=>i(d,p,c));if(S.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(S.isString(t)&&(t=t.trim())&&!nw(t))o(tw(t),r);else if(S.isObject(t)&&S.isIterable(t)){let l={},c,d;for(const p of t){if(!S.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[d=p[0]]=(c=l[d])?S.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=es(t),t){const n=S.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return rw(a);if(S.isFunction(r))return r.call(this,a,n);if(S.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=es(t),t){const n=S.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||So(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=es(o),o){const l=S.findKey(n,o);l&&(!r||So(n,n[l],l,r))&&(delete n[l],a=!0)}}return S.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||So(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return S.forEach(this,(a,i)=>{const o=S.findKey(n,i);if(o){r[o]=Aa(a),delete r[i];return}const l=t?sw(i):String(i).trim();l!==i&&delete r[i],r[l]=Aa(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return S.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&S.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Uu]=this[Uu]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=es(o);n[l]||(aw(a,o),n[l]=!0)}return S.isArray(t)?t.forEach(i):i(t),this}}Bi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(Bi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});S.freezeMethods(Bi);const jt=Bi;function ko(e,t){const r=this||Kc,n=t||r,a=jt.from(n.headers);let i=n.data;return S.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function mg(e){return!!(e&&e.__CANCEL__)}function Vn(e,t,r){H.call(this,e??"canceled",H.ERR_CANCELED,t,r),this.name="CanceledError"}S.inherits(Vn,H,{__CANCEL__:!0});function pg(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new H("Request failed with status code "+r.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function iw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ow(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),p=n[i];o||(o=d),r[a]=c,n[a]=d;let u=i,m=0;for(;u!==a;)m+=r[u++],u=u%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const x=p&&d-p;return x?Math.round(m*1e3/x):void 0}}function lw(e,t){let r=0,n=1e3/t,a,i;const o=(d,p=Date.now())=>{r=p,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const p=Date.now(),u=p-r;u>=n?o(d,p):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-u)))},()=>a&&o(a)]}const mi=(e,t,r=3)=>{let n=0;const a=ow(50,250);return lw(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),p=o<=l;n=o;const u={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},r)},Bu=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Hu=e=>(...t)=>S.asap(()=>e(...t)),cw=Me.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Me.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Me.origin),Me.navigator&&/(msie|trident)/i.test(Me.navigator.userAgent)):()=>!0,dw=Me.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];S.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),S.isString(n)&&l.push(`path=${n}`),S.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),S.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function uw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hg(e,t,r){let n=!uw(t);return e&&(n||r==!1)?mw(e,t):t}const Vu=e=>e instanceof jt?{...e}:e;function Qr(e,t){t=t||{};const r={};function n(d,p,u,m){return S.isPlainObject(d)&&S.isPlainObject(p)?S.merge.call({caseless:m},d,p):S.isPlainObject(p)?S.merge({},p):S.isArray(p)?p.slice():p}function a(d,p,u,m){if(S.isUndefined(p)){if(!S.isUndefined(d))return n(void 0,d,u,m)}else return n(d,p,u,m)}function i(d,p){if(!S.isUndefined(p))return n(void 0,p)}function o(d,p){if(S.isUndefined(p)){if(!S.isUndefined(d))return n(void 0,d)}else return n(void 0,p)}function l(d,p,u){if(u in t)return n(d,p);if(u in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,u)=>a(Vu(d),Vu(p),u,!0)};return S.forEach(Object.keys({...e,...t}),function(p){const u=c[p]||a,m=u(e[p],t[p],p);S.isUndefined(m)&&u!==l||(r[p]=m)}),r}const gg=e=>{const t=Qr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=jt.from(o),t.url=cg(hg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),S.isFormData(r)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(S.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([p,u])=>{d.includes(p.toLowerCase())&&o.set(p,u)})}}if(Me.hasStandardBrowserEnv&&(n&&S.isFunction(n)&&(n=n(t)),n||n!==!1&&cw(t.url))){const c=a&&i&&dw.read(i);c&&o.set(a,c)}return t},pw=typeof XMLHttpRequest<"u",hw=pw&&function(e){return new Promise(function(r,n){const a=gg(e);let i=a.data;const o=jt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,p,u,m,x,h;function v(){x&&x(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let f=new XMLHttpRequest;f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout;function g(){if(!f)return;const b=jt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:b,config:e,request:f};pg(function(k){r(k),v()},function(k){n(k),v()},N),f=null}"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(g)},f.onabort=function(){f&&(n(new H("Request aborted",H.ECONNABORTED,e,f)),f=null)},f.onerror=function(j){const N=j&&j.message?j.message:"Network Error",E=new H(N,H.ERR_NETWORK,e,f);E.event=j||null,n(E),f=null},f.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||dg;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new H(j,N.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,f)),f=null},i===void 0&&o.setContentType(null),"setRequestHeader"in f&&S.forEach(o.toJSON(),function(j,N){f.setRequestHeader(N,j)}),S.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),l&&l!=="json"&&(f.responseType=a.responseType),d&&([m,h]=mi(d,!0),f.addEventListener("progress",m)),c&&f.upload&&([u,x]=mi(c),f.upload.addEventListener("progress",u),f.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(p=b=>{f&&(n(!b||b.type?new Vn(null,e,f):b),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const y=iw(a.url);if(y&&Me.protocols.indexOf(y)===-1){n(new H("Unsupported protocol "+y+":",H.ERR_BAD_REQUEST,e));return}f.send(i||null)})},gw=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const p=d instanceof Error?d:this.reason;n.abort(p instanceof H?p:new Vn(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,i(new H(`timeout ${t} of ms exceeded`,H.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>S.asap(l),c}},fw=gw,yw=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},xw=async function*(e,t){for await(const r of vw(e))yield*yw(r,t)},vw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Wu=(e,t,r,n)=>{const a=xw(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:p}=await a.next();if(d){l(),c.close();return}let u=p.byteLength;if(r){let m=i+=u;r(m)}c.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Yu=64*1024,{isFunction:ya}=S,bw=(({Request:e,Response:t})=>({Request:e,Response:t}))(S.global),{ReadableStream:Ku,TextEncoder:Qu}=S.global,qu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ww=e=>{e=S.merge.call({skipUndefined:!0},bw,e);const{fetch:t,Request:r,Response:n}=e,a=t?ya(t):typeof fetch=="function",i=ya(r),o=ya(n);if(!a)return!1;const l=a&&ya(Ku),c=a&&(typeof Qu=="function"?(h=>v=>h.encode(v))(new Qu):async h=>new Uint8Array(await new r(h).arrayBuffer())),d=i&&l&&qu(()=>{let h=!1;const v=new r(Me.origin,{body:new Ku,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),p=o&&l&&qu(()=>S.isReadableStream(new n("").body)),u={stream:p&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!u[h]&&(u[h]=(v,f)=>{let g=v&&v[h];if(g)return g.call(v);throw new H(`Response type '${h}' is not supported`,H.ERR_NOT_SUPPORT,f)})});const m=async h=>{if(h==null)return 0;if(S.isBlob(h))return h.size;if(S.isSpecCompliantForm(h))return(await new r(Me.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(S.isArrayBufferView(h)||S.isArrayBuffer(h))return h.byteLength;if(S.isURLSearchParams(h)&&(h=h+""),S.isString(h))return(await c(h)).byteLength},x=async(h,v)=>{const f=S.toFiniteNumber(h.getContentLength());return f??m(v)};return async h=>{let{url:v,method:f,data:g,signal:y,cancelToken:b,timeout:j,onDownloadProgress:N,onUploadProgress:E,responseType:k,headers:P,withCredentials:T="same-origin",fetchOptions:M}=gg(h),F=t||fetch;k=k?(k+"").toLowerCase():"text";let V=fw([y,b&&b.toAbortSignal()],j),se=null;const X=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let Je;try{if(E&&d&&f!=="get"&&f!=="head"&&(Je=await x(P,g))!==0){let U=new r(v,{method:"POST",body:g,duplex:"half"}),Y;if(S.isFormData(g)&&(Y=U.headers.get("content-type"))&&P.setContentType(Y),U.body){const[we,de]=Bu(Je,mi(Hu(E)));g=Wu(U.body,Yu,we,de)}}S.isString(T)||(T=T?"include":"omit");const ee=i&&"credentials"in r.prototype,Fe={...M,signal:V,method:f.toUpperCase(),headers:P.normalize().toJSON(),body:g,duplex:"half",credentials:ee?T:void 0};se=i&&new r(v,Fe);let D=await(i?F(se,M):F(v,Fe));const O=p&&(k==="stream"||k==="response");if(p&&(N||O&&X)){const U={};["status","statusText","headers"].forEach(B=>{U[B]=D[B]});const Y=S.toFiniteNumber(D.headers.get("content-length")),[we,de]=N&&Bu(Y,mi(Hu(N),!0))||[];D=new n(Wu(D.body,Yu,we,()=>{de&&de(),X&&X()}),U)}k=k||"text";let L=await u[S.findKey(u,k)||"text"](D,h);return!O&&X&&X(),await new Promise((U,Y)=>{pg(U,Y,{data:L,headers:jt.from(D.headers),status:D.status,statusText:D.statusText,config:h,request:se})})}catch(ee){throw X&&X(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,h,se),{cause:ee.cause||ee}):H.from(ee,ee&&ee.code,h,se)}}},jw=new Map,fg=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,d,p=jw;for(;l--;)c=i[l],d=p.get(c),d===void 0&&p.set(c,d=l?new Map:ww(t)),p=d;return d};fg();const Qc={http:Ob,xhr:hw,fetch:{get:fg}};S.forEach(Qc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ju=e=>`- ${e}`,Nw=e=>S.isFunction(e)||e===null||e===!1;function Sw(e,t){e=S.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!Nw(n)&&(a=Qc[(l=String(n)).toLowerCase()],a===void 0))throw new H(`Unknown adapter '${l}'`);if(a&&(S.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Ju).join(`
`):" "+Ju(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const yg={getAdapter:Sw,adapters:Qc};function Co(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn(null,e)}function Xu(e){return Co(e),e.headers=jt.from(e.headers),e.data=ko.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yg.getAdapter(e.adapter||Kc.adapter,e)(e).then(function(n){return Co(e),n.data=ko.call(e,e.transformResponse,n),n.headers=jt.from(n.headers),n},function(n){return mg(n)||(Co(e),n&&n.response&&(n.response.data=ko.call(e,e.transformResponse,n.response),n.response.headers=jt.from(n.response.headers))),Promise.reject(n)})}const xg="1.13.2",Hi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Zu={};Hi.transitional=function(t,r,n){function a(i,o){return"[Axios v"+xg+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new H(a(o," has been removed"+(r?" in "+r:"")),H.ERR_DEPRECATED);return r&&!Zu[o]&&(Zu[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Hi.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function kw(e,t,r){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new H("option "+i+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new H("Unknown option "+i,H.ERR_BAD_OPTION)}}const Fa={assertOptions:kw,validators:Hi},Ct=Fa.validators;class pi{constructor(t){this.defaults=t||{},this.interceptors={request:new $u,response:new $u}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Qr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Fa.assertOptions(n,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),a!=null&&(S.isFunction(a)?r.paramsSerializer={serialize:a}:Fa.assertOptions(a,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fa.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&S.merge(i.common,i[r.method]);i&&S.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),r.headers=jt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let p,u=0,m;if(!c){const h=[Xu.bind(this),void 0];for(h.unshift(...l),h.push(...d),m=h.length,p=Promise.resolve(r);u<m;)p=p.then(h[u++],h[u++]);return p}m=l.length;let x=r;for(;u<m;){const h=l[u++],v=l[u++];try{x=h(x)}catch(f){v.call(this,f);break}}try{p=Xu.call(this,x)}catch(h){return Promise.reject(h)}for(u=0,m=d.length;u<m;)p=p.then(d[u++],d[u++]);return p}getUri(t){t=Qr(this.defaults,t);const r=hg(t.baseURL,t.url,t.allowAbsoluteUrls);return cg(r,t.params,t.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(t){pi.prototype[t]=function(r,n){return this.request(Qr(n||{},{method:t,url:r,data:(n||{}).data}))}});S.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Qr(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}pi.prototype[t]=r(),pi.prototype[t+"Form"]=r(!0)});const _a=pi;class qc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Vn(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new qc(function(a){t=a}),cancel:t}}}const Cw=qc;function Ew(e){return function(r){return e.apply(null,r)}}function Pw(e){return S.isObject(e)&&e.isAxiosError===!0}const _l={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_l).forEach(([e,t])=>{_l[t]=e});const Tw=_l;function vg(e){const t=new _a(e),r=Jh(_a.prototype.request,t);return S.extend(r,_a.prototype,t,{allOwnKeys:!0}),S.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return vg(Qr(e,a))},r}const he=vg(Kc);he.Axios=_a;he.CanceledError=Vn;he.CancelToken=Cw;he.isCancel=mg;he.VERSION=xg;he.toFormData=Ui;he.AxiosError=H;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=Ew;he.isAxiosError=Pw;he.mergeConfig=Qr;he.AxiosHeaders=jt;he.formToJSON=e=>ug(S.isHTMLForm(e)?new FormData(e):e);he.getAdapter=yg.getAdapter;he.HttpStatusCode=Tw;he.default=he;const Eo=he;class Rw{constructor(){Ne(this,"baseUrl");Ne(this,"isDevelopment");typeof window<"u"&&window.location.hostname==="localhost"?this.baseUrl="http://localhost:3000/api":this.baseUrl={}.VITE_API_URL||"https://api.gamepilot.app/api",this.isDevelopment=typeof window<"u"&&window.location.hostname==="localhost"}async getMoodForecast(t){if(this.isDevelopment)return console.log(" Development mode: Using fallback mood forecast data"),{primaryForecast:{predictedMood:"chill",confidence:.85,reasoning:"Development mode fallback forecast"},alternativeForecasts:[{mood:"creative",confidence:.75,reasoning:"Alternative based on genre preferences"},{mood:"focused",confidence:.65,reasoning:"Alternative based on session patterns"}],forecastPeriod:"next_week",generatedAt:new Date().toISOString()};try{return(await Eo.get(`${this.baseUrl}/mood/forecast`,{params:{userId:t}})).data}catch(r){return console.error("Failed to fetch mood forecast:",r),{primaryForecast:{predictedMood:"chill",confidence:.7,reasoning:"Fallback forecast due to API error"},alternativeForecasts:[],forecastPeriod:"next_week",generatedAt:new Date().toISOString()}}}async getMoodResonance(t){if(this.isDevelopment)return console.log(" Development mode: Using fallback mood resonance data"),{moodAccuracy:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},confidenceAdjustments:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},sessionPatterns:{chill:{avgDuration:45,avgEngagement:80},energetic:{avgDuration:60,avgEngagement:90},competitive:{avgDuration:75,avgEngagement:95},social:{avgDuration:90,avgEngagement:85},creative:{avgDuration:120,avgEngagement:75},focused:{avgDuration:90,avgEngagement:88},story:{avgDuration:150,avgEngagement:82},exploratory:{avgDuration:120,avgEngagement:78}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:80,energetic:90,competitive:95,social:85,creative:75,focused:88,story:82,exploratory:78}}};try{return(await Eo.get(`${this.baseUrl}/mood/resonance`,{params:{userId:t}})).data}catch(r){return console.error("Failed to fetch mood resonance:",r),{moodAccuracy:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},confidenceAdjustments:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},sessionPatterns:{chill:{avgDuration:45,avgEngagement:75},energetic:{avgDuration:60,avgEngagement:85},competitive:{avgDuration:75,avgEngagement:90},social:{avgDuration:90,avgEngagement:80},creative:{avgDuration:120,avgEngagement:70},focused:{avgDuration:90,avgEngagement:85},story:{avgDuration:150,avgEngagement:80},exploratory:{avgDuration:120,avgEngagement:75}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:75,energetic:85,competitive:90,social:80,creative:70,focused:85,story:80,exploratory:75}}}}}async getMoodRecommendations(t){if(this.isDevelopment)return console.log(" Development mode: Using fallback mood recommendations data"),{recommendations:[{gameId:"game1",gameTitle:"Zen Puzzle Master",score:.95,reasoning:"Perfect match for current chill mood",moodAlignment:.9,genreMatch:.95,confidence:.85}],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy","adventure"],energetic:["action","shooter","racing","sports","platformer"],competitive:["action","shooter","strategy","fighting","racing"],social:["multiplayer","party","mmorpg","co-op","simulation"],creative:["sandbox","building","puzzle","simulation","adventure"],focused:["strategy","puzzle","rpg","turn-based","card"],story:["rpg","adventure","visual-novel","interactive-movie","simulation"],exploratory:["adventure","open-world","sandbox","survival","simulation"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()};try{return(await Eo.get(`${this.baseUrl}/mood/recommendations`,{params:{userId:t}})).data}catch(r){return console.error("Failed to fetch mood recommendations:",r),{recommendations:[],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy"],energetic:["action","shooter","racing","sports"],competitive:["action","shooter","strategy","fighting"],social:["multiplayer","party","mmorpg","co-op"],creative:["sandbox","building","puzzle","simulation"],focused:["strategy","puzzle","rpg","turn-based"],story:["rpg","adventure","visual-novel","interactive-movie"],exploratory:["adventure","open-world","sandbox","survival"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()}}}}const Br=new Rw;class Ol{static computeMoodProfile(t){if(!t||t.length===0)return this.getDefaultProfile();const r=this.analyzeGenreDistribution(t),n=this.analyzePlaytime(t),a=this.computeMoodScores(t,r),i=this.computePersonalityTraits(a,n);return{primaryMood:Object.entries(a).reduce((l,c)=>a[l[0]]>a[c[0]]?l:c)[0],moodScores:a,genreDistribution:r,playtimeAnalysis:n,personalityTraits:i,lastComputed:new Date}}static analyzeGenreDistribution(t){const r={};let n=0;t.forEach(i=>{var o;(o=i.genres)==null||o.forEach(l=>{const c=l.name.toLowerCase();r[c]=(r[c]||0)+1,n++})});const a={};return Object.entries(r).forEach(([i,o])=>{a[i]=n>0?o/n:0}),a}static analyzePlaytime(t){const r=t.reduce((c,d)=>c+(d.hoursPlayed||0),0),n=t.filter(c=>(c.hoursPlayed||0)>0),a=n.length>0?r/n.length:0,i={};t.forEach(c=>{var p;const d=c.hoursPlayed||0;d>0&&((p=c.genres)==null||p.forEach(u=>{const m=u.name.toLowerCase();i[m]=(i[m]||0)+d}))});const o=Object.entries(i).sort((c,d)=>d[1]-c[1]).slice(0,3).map(([c])=>c),l=this.identifyGamingPatterns(t,r,a);return{totalHours:r,averageSession:a,favoriteGenres:o,gamingPatterns:l}}static identifyGamingPatterns(t,r,n){const a=[];r>1e3?a.push("hardcore-gamer"):r>500?a.push("regular-gamer"):r>100?a.push("casual-gamer"):a.push("new-gamer"),n>10?a.push("long-sessions"):n<2?a.push("short-sessions"):a.push("moderate-sessions");const i=new Set(t.flatMap(o=>{var l;return((l=o.genres)==null?void 0:l.map(c=>c.name.toLowerCase()))||[]})).size;return i>10?a.push("genre-explorer"):i<5&&a.push("genre-specialist"),a}static computeMoodScores(t,r){const n={competitive:0,social:0,creative:0,exploratory:0,focused:0,storyDriven:0,chill:0,energetic:0};t.forEach(i=>{var c,d,p;const o=Math.min((i.hoursPlayed||0)/50,1),l=1/(((c=i.genres)==null?void 0:c.length)||1);(d=i.genres)==null||d.forEach(u=>{const m=u.name.toLowerCase(),x=this.GENRE_MOOD_MAP[m]||[],h=o*l;x.forEach(v=>{n[v]=(n[v]||0)+h})}),(p=i.tags)==null||p.forEach(u=>{const m=u.toLowerCase(),x=this.TAG_MOOD_MAP[m]||[],h=o*.5;x.forEach(v=>{n[v]=(n[v]||0)+h})})});const a=Math.max(...Object.values(n));return a>0&&Object.keys(n).forEach(i=>{n[i]=n[i]/a}),n}static computePersonalityTraits(t,r){const n={...t};r.gamingPatterns.includes("hardcore-gamer")&&(n.competitive*=1.2,n.focused*=1.1),r.gamingPatterns.includes("genre-explorer")&&(n.exploratory*=1.2,n.creative*=1.1),r.gamingPatterns.includes("social-gamer")&&(n.social*=1.3);const a=Math.max(...Object.values(n));return a>1&&Object.keys(n).forEach(i=>{n[i]/=a}),n}static getDefaultProfile(){return{primaryMood:"chill",moodScores:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},genreDistribution:{},playtimeAnalysis:{totalHours:0,averageSession:0,favoriteGenres:[],gamingPatterns:["new-gamer"]},personalityTraits:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},lastComputed:new Date}}static getMoodRecommendations(t,r,n=10){return t.filter(o=>(o.hoursPlayed||0)<2).map(o=>{var c,d,p;let l=0;return(c=o.genres)==null||c.forEach(u=>{const m=u.name.toLowerCase();(this.GENRE_MOOD_MAP[m]||[]).includes(r.primaryMood)&&(l+=2)}),(d=o.tags)==null||d.forEach(u=>{const m=u.toLowerCase();(this.TAG_MOOD_MAP[m]||[]).includes(r.primaryMood)&&(l+=1)}),(p=o.genres)==null||p.forEach(u=>{const m=u.name.toLowerCase();(this.GENRE_MOOD_MAP[m]||[]).forEach(h=>{l+=r.personalityTraits[h]||0})}),o.globalRating&&(l+=o.globalRating/10),{game:o,score:l}}).sort((o,l)=>l.score-o.score).slice(0,n).map(o=>o.game)}}Ne(Ol,"GENRE_MOOD_MAP",{action:["energetic","competitive","focused"],adventure:["exploratory","storyDriven","chill"],rpg:["storyDriven","focused","exploratory"],strategy:["focused","competitive","creative"],puzzle:["focused","creative","chill"],simulation:["creative","chill","exploratory"],sports:["energetic","competitive","social"],racing:["energetic","competitive","focused"],shooter:["competitive","energetic","focused"],platformer:["energetic","focused","exploratory"],fighting:["competitive","energetic","focused"],mmo:["social","exploratory","competitive"],casual:["chill","creative","social"],indie:["creative","exploratory","chill"],horror:["focused","storyDriven","chill"],stealth:["focused","exploratory","competitive"],survival:["exploratory","focused","creative"],music:["creative","chill","energetic"],party:["social","energetic","chill"],board:["social","focused","competitive"],card:["focused","competitive","creative"]}),Ne(Ol,"TAG_MOOD_MAP",{multiplayer:["social","competitive"],"single-player":["storyDriven","focused","exploratory"],"co-op":["social","chill","competitive"],achievements:["competitive","focused"],trading:["creative","social"],"free-to-play":["social","chill"],action:["energetic","competitive"],adventure:["exploratory","storyDriven"],rpg:["storyDriven","focused"],strategy:["focused","competitive"],simulation:["creative","chill"],sports:["energetic","competitive"],racing:["energetic","competitive"],puzzle:["focused","creative"],horror:["focused","storyDriven"],survival:["exploratory","focused"]});const Iw=Ol;function Vi(){const[e,t]=w.useState(null),{games:r}=Ae();return w.useEffect(()=>{const n=async()=>{var i;try{if(r&&r.length>0){const c=Iw.computeMoodProfile(r),d={moodId:c.primaryMood,intensity:Math.round(c.moodScores[c.primaryMood]*10),timestamp:c.lastComputed,confidence:.85,source:"steam-data"};t(d),console.log(" Mood computed from Steam data:",d.moodId,"Intensity:",d.intensity);return}console.log(" No Steam data available, using API service");const o="current-user",l=await Br.getMoodForecast(o);if((i=l==null?void 0:l.primaryForecast)!=null&&i.predictedMood){const c={moodId:l.primaryForecast.predictedMood,intensity:Math.round(l.primaryForecast.confidence*10),timestamp:new Date(l.generatedAt||Date.now()),confidence:l.primaryForecast.confidence,source:"api"};t(c)}else t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}catch(o){console.warn("Failed to compute mood, using fallback:",o),t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}};n();const a=setInterval(n,5*60*1e3);return()=>clearInterval(a)},[r]),e}function Xr(){const{games:e}=Ae(),t=Vi();return w.useMemo(()=>{try{const r=Mw(e);return ui({signals:r,moodEntry:t})}catch(r){return console.warn("Persona snapshot calculation failed, using fallback:",r),ui({signals:Dw(),moodEntry:t})}},[e,t])}function Mw(e){const t=e.reduce((h,v)=>{const f=v.hoursPlayed||0;return f>0&&[...v.genres||[],...v.tags||[]].map(y=>typeof y=="string"?y:y.name||y.description||"").filter(Boolean).forEach(y=>{const b=y.toLowerCase();h[b]=(h[b]||0)+f}),h},{}),r=e.reduce((h,v)=>h+(v.hoursPlayed||0),0),n=e.filter(h=>h.lastPlayed&&new Date(h.lastPlayed).getTime()>Date.now()-30*24*60*60*1e3).length,a=n>0?Math.max(30,Math.min(180,r*60/Math.max(1,n*2))):60,i=n>0?Math.min(14,Math.max(1,Math.round(n/4))):3,o=e.filter(h=>{var y;const f=(h.tags||[]).map(b=>b.toLowerCase()).some(b=>b.includes("multiplayer")||b.includes("co-op")||b.includes("pvp")||b.includes("online")),g=(y=h.platforms)==null?void 0:y.some(b=>b.code==="steam");return f||g}).length,l=e.length>0?o/e.length:.3,c=e.filter(h=>h.playStatus==="completed").length,d=e.length>0?c/e.length:.5,p=e.filter(h=>{if(!h.lastPlayed)return!1;const v=new Date(h.lastPlayed).getHours();return v>=22||v<=6}).length,u=e.length>0?p/e.length:.2,m=Object.keys(t);let x="Normal";return m.some(h=>h.includes("souls")||h.includes("hardcore")||h.includes("brutal"))?x="Brutal":m.some(h=>h.includes("hard")||h.includes("difficult"))?x="Hard":m.some(h=>h.includes("casual")||h.includes("puzzle")||h.includes("relaxed"))&&(x="Relaxed"),{playtimeByGenre:t,averageSessionLengthMinutes:a,sessionsPerWeek:i,difficultyPreference:x,multiplayerRatio:l,lateNightRatio:u,completionRate:d}}function Dw(){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:2,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.25,completionRate:.3}}function Aw(){const{games:e,intelligence:t}=Ae(),r=Vi();return w.useMemo(()=>{try{const n=Fw(e,t);return ui({signals:n,moodEntry:r})}catch(n){return console.warn("Library persona calculation failed, using fallback:",n),ui({signals:_w(),moodEntry:r})}},[e,t,r])}function Fw(e,t){const r=e.reduce((u,m)=>{const x=m.hoursPlayed||0;return x>0&&[...m.genres||[],...m.subgenres||[]].forEach(v=>{u[v]=(u[v]||0)+x}),u},{}),n=e.reduce((u,m)=>u+(m.hoursPlayed||0),0),a=e.reduce((u,m)=>u+(m.localSessionCount||0),0);let i=60;t.selectedSessionLength?i={short:30,medium:60,long:120}[t.selectedSessionLength]||60:a>0&&(i=n*60/a);const o=a>0?Math.min(7,Math.max(1,Math.round(a/4))):3,l=e.filter(u=>{var h,v;const m=(h=u.tags)==null?void 0:h.some(f=>f.toLowerCase().includes("multiplayer")||f.toLowerCase().includes("co-op")||f.toLowerCase().includes("pvp")||f.toLowerCase().includes("online")),x=(v=u.genres)==null?void 0:v.some(f=>f.toLowerCase().includes("multiplayer")||f.toLowerCase().includes("mmorpg"));return m||x}).length,c=e.length>0?l/e.length:.3,d=e.filter(u=>u.playStatus==="completed").length,p=e.length>0?d/e.length:.5;return{playtimeByGenre:r,averageSessionLengthMinutes:i,sessionsPerWeek:o,difficultyPreference:"Normal",multiplayerRatio:c,lateNightRatio:.2,completionRate:p}}function _w(){return{playtimeByGenre:{},averageSessionLengthMinutes:75,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.3,lateNightRatio:.15,completionRate:.4}}const Ow=[{id:"bg3",name:"Baldur's Gate 3",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/1086940/header.jpg",steamUrl:"https://store.steampowered.com/app/1086940",price:"$59.99",genres:["RPG","Adventure","Strategy"],moodTags:["immersive","strategic","social","creative"],difficulty:"Normal",playstyleTags:["story-driven","strategic","social"],narrativeStyle:"deep",sessionSuitability:"long"},{id:"cyberpunk",name:"Cyberpunk 2077",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/1091500/header.jpg",steamUrl:"https://store.steampowered.com/app/1091500",price:"$29.99",genres:["RPG","Action","Open World"],moodTags:["energetic","immersive","competitive","creative"],difficulty:"Normal",playstyleTags:["explorer","competitive","story-driven"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"stardew",name:"Stardew Valley",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/413150/header.jpg",steamUrl:"https://store.steampowered.com/app/413150",price:"$14.99",genres:["Simulation","RPG","Farming"],moodTags:["chill","creative","social","relaxed"],difficulty:"Relaxed",playstyleTags:["casual","creative","social"],narrativeStyle:"light",sessionSuitability:"short"},{id:"hades",name:"Hades",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/1145360/header.jpg",steamUrl:"https://store.steampowered.com/app/1145360",price:"$24.99",genres:["Roguelike","Action","Indie"],moodTags:["energetic","competitive","focused","challenging"],difficulty:"Hard",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"moderate",sessionSuitability:"short"},{id:"disco",name:"Disco Elysium",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/646920/header.jpg",steamUrl:"https://store.steampowered.com/app/646920",price:"$19.99",genres:["RPG","Indie","Turn-Based"],moodTags:["creative","immersive","thoughtful","relaxed"],difficulty:"Normal",playstyleTags:["story-driven","explorer","creative"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"vampire",name:"Vampire Survivors",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/1794680/header.jpg",steamUrl:"https://store.steampowered.com/app/1794680",price:"$4.99",genres:["Action","Roguelike","Survival"],moodTags:["energetic","competitive","focused","addictive"],difficulty:"Normal",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"elden",name:"Elden Ring",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/1245620/header.jpg",steamUrl:"https://store.steampowered.com/app/1245620",price:"$59.99",genres:["RPG","Action","Open World"],moodTags:["challenging","immersive","focused","competitive"],difficulty:"Brutal",playstyleTags:["explorer","achiever","competitive"],narrativeStyle:"moderate",sessionSuitability:"long"},{id:"hollow",name:"Hollow Knight",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/367520/header.jpg",steamUrl:"https://store.steampowered.com/app/367520",price:"$14.99",genres:["Metroidvania","Action","Indie"],moodTags:["challenging","focused","immersive","exploratory"],difficulty:"Hard",playstyleTags:["explorer","achiever","focused"],narrativeStyle:"light",sessionSuitability:"medium"},{id:"slay",name:"Slay the Spire",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/646570/header.jpg",steamUrl:"https://store.steampowered.com/app/646570",price:"$16.99",genres:["Roguelike","Strategy","Card Game"],moodTags:["strategic","thoughtful","competitive","challenging"],difficulty:"Hard",playstyleTags:["strategic","competitive","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"minecraft",name:"Minecraft",coverImage:"https://cdn.cloudflare.steamstatic.com/steam/apps/239140/header.jpg",steamUrl:"https://store.steampowered.com/app/239140",price:"$29.99",genres:["Sandbox","Survival","Creative"],moodTags:["creative","relaxed","social","exploratory"],difficulty:"Relaxed",playstyleTags:["creative","explorer","social","casual"],narrativeStyle:"minimal",sessionSuitability:"flexible"}];function Lw(e){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.2,completionRate:.5}}function zw(e,t=Ow,r){if(!e)return{game:t[Math.floor(Math.random()*3)],explanation:"Based on general trends and popularity",score:50};const n=r||Lw(),a=t.map(l=>{let c=0;const d=[],p=Gw(l.genres,n.playtimeByGenre);c+=p.points,p.points>0&&d.push(p.reason);const u=$w(l.moodTags,n);c+=u.points,u.points>0&&d.push(u.reason);const m=Uw(l.playstyleTags,e.traits.archetypeId);c+=m.points,m.points>0&&d.push(m.reason);const x=Bw(l.difficulty,n.difficultyPreference);c+=x.points,x.points>0&&d.push(x.reason);const h=Hw(l.sessionSuitability,n.averageSessionLengthMinutes);return c+=h.points,h.points>0&&d.push(h.reason),{...l,score:c,reasons:d}});a.sort((l,c)=>c.score-l.score);const i=a[0];if(!i||i.score===0)return{game:t[0],explanation:"Based on general trends and popularity",score:50};const o=i.reasons.length>0?i.reasons.slice(0,3).join("  "):"This game matches your gaming preferences";return{game:{id:i.id,name:i.name,coverImage:i.coverImage,steamUrl:i.steamUrl,price:i.price,genres:i.genres,moodTags:i.moodTags,difficulty:i.difficulty,playstyleTags:i.playstyleTags,narrativeStyle:i.narrativeStyle,sessionSuitability:i.sessionSuitability},explanation:o,score:i.score}}function Gw(e,t){let r=0,n="";return e.forEach(a=>{const i=a.toLowerCase();if(t[i]){const o=t[i];o>50?(r+=30,n=a):o>20?(r+=20,n=a):o>5&&(r+=10,n=a)}}),{points:r,reason:r>0?`You love ${n} games`:""}}function $w(e,t){let r=0,n="";return e.includes("energetic")&&t.sessionsPerWeek>5&&(r+=15,n="Matches your energetic gaming style"),e.includes("relaxed")&&t.sessionsPerWeek<=3&&(r+=15,n="Perfect for your relaxed gaming pace"),e.includes("focused")&&t.averageSessionLengthMinutes>90&&(r+=10,n="Great for your focused gaming sessions"),e.includes("social")&&t.multiplayerRatio>.5&&(r+=10,n="Matches your social gaming preferences"),{points:r,reason:n}}function Uw(e,t){let r=0,n="";return t==="Specialist"&&e.includes("achiever")&&(r+=20,n="Perfect for your achievement-oriented playstyle"),t==="Socialite"&&e.includes("social")&&(r+=20,n="Great for your social gaming preferences"),t==="Casual"&&e.includes("casual")&&(r+=15,n="Matches your casual gaming style"),{points:r,reason:n}}function Bw(e,t){const r=["Relaxed","Normal","Hard","Brutal"],n=r.indexOf(e),a=r.indexOf(t),i=Math.abs(n-a);return i===0?{points:15,reason:"Perfect difficulty match for your skill level"}:i===1?{points:8,reason:"Good difficulty match for you"}:{points:0,reason:""}}function Hw(e,t){let r=0,n="";return e==="short"&&t<=60?(r=10,n="Perfect for your quick gaming sessions"):e==="medium"&&t>60&&t<=120?(r=10,n="Great for your medium gaming sessions"):e==="long"&&t>120?(r=10,n="Perfect for your long gaming sessions"):e==="flexible"&&(r=5,n="Flexible gaming that fits your schedule"),{points:r,reason:n}}function Vw(){const e=Xr();return w.useMemo(()=>{try{return zw(e)}catch(r){return console.error("Failed to generate persona recommendation:",r),null}},[e])}const Ww=({predictedMood:e,confidence:t,trend:r,reasoning:n,onMoodClick:a})=>{const i=At(),o=()=>{switch(r){case"rising":return"";case"stable":return"";case"declining":return"";default:return""}},l=()=>t>=.8?"text-green-400":t>=.6?"text-yellow-400":"text-red-400",c=()=>{a?a(e):i(`/library?mood=${e}`)};return s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mood Forecast"}),s.jsx("span",{className:"text-2xl",children:o()})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:c,className:"text-2xl font-bold text-white capitalize hover:text-gaming-primary transition-colors cursor-pointer group",title:`Filter library by ${e} mood`,children:[e,s.jsx("span",{className:"ml-2 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-sm font-medium ${l()}`,children:[Math.round(t*100),"%"]}),s.jsx("div",{className:"text-xs text-gray-400",children:"confidence"})]})]}),n&&s.jsx("div",{className:"pt-3 border-t border-white/10",children:s.jsx("p",{className:"text-sm text-gray-300",children:n})}),s.jsx("div",{className:"pt-3 border-t border-white/10",children:s.jsxs("button",{onClick:c,className:"w-full px-3 py-2 bg-gaming-primary/20 text-gaming-primary rounded-lg hover:bg-gaming-primary/30 transition-colors text-sm font-medium",children:["View ",e," Games "]})})]})]})},Yw=({games:e,loading:t=!1,onGameSelect:r,onQuickPlay:n})=>{const a=At(),i=l=>{r?r(l):a(`/library?game=${l.id}`)},o=(l,c)=>{l.stopPropagation(),n?n(c):a(`/library?game=${c.id}`)};return t?s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recommended Games"}),s.jsx("div",{className:"flex gap-4 overflow-x-auto",children:[1,2,3,4,5].map(l=>s.jsx("div",{className:"flex-shrink-0 w-32 h-40 bg-gray-700/50 rounded-lg animate-pulse"},l))})]}):e.length===0?s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recommended Games"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No recommendations available"})]}):s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recommended Games"}),s.jsx("button",{onClick:()=>a("/library"),className:"text-sm text-gaming-primary hover:text-gaming-accent transition-colors",children:"View All "})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:e.map(l=>s.jsx("div",{className:"flex-shrink-0 w-40",children:s.jsxs("div",{className:"bg-gray-800/50 rounded-lg overflow-hidden border border-white/10 hover:border-gaming-primary/50 transition-all duration-200 cursor-pointer group",onClick:()=>i(l),children:[l.coverImage?s.jsx("img",{src:l.coverImage,alt:l.title,className:"w-full h-24 object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-24 bg-gradient-to-br from-gaming-primary/20 to-gaming-accent/20 flex items-center justify-center group-hover:from-gaming-primary/30 group-hover:to-gaming-accent/30 transition-all duration-200",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsxs("div",{className:"p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate group-hover:text-gaming-primary transition-colors",children:l.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:l.reason}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 bg-gaming-primary/20 rounded text-gaming-primary",children:[Math.round(l.moodAlignment*100),"%"]}),s.jsxs("span",{className:"text-xs px-2 py-1 bg-gaming-accent/20 rounded text-gaming-accent",children:[Math.round(l.genreMatch*100),"%"]})]}),s.jsx("button",{onClick:c=>o(c,l),className:"mt-2 w-full px-2 py-1 bg-gaming-primary text-white text-xs rounded hover:bg-gaming-accent transition-colors",children:"Quick Play"})]})]})},l.id))})]})},Po=({insight:e,type:t,value:r,onClick:n})=>{const a=At(),i=()=>{switch(t){case"accuracy":return"bg-green-500/20 text-green-400 border-green-500/30 hover:bg-green-500/30";case"pattern":return"bg-blue-500/20 text-blue-400 border-blue-500/30 hover:bg-blue-500/30";case"recommendation":return"bg-purple-500/20 text-purple-400 border-purple-500/30 hover:bg-purple-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30 hover:bg-gray-500/30"}},o=()=>{switch(t){case"accuracy":return"";case"pattern":return"";case"recommendation":return"";default:return""}},l=()=>{if(n)n();else switch(t){case"accuracy":a("/analytics?view=mood-accuracy");break;case"pattern":a("/analytics?view=mood-patterns");break;case"recommendation":a("/library?filter=recommended");break;default:a("/analytics")}};return s.jsxs("button",{onClick:l,className:`inline-flex items-center gap-2 px-3 py-2 rounded-full border text-sm transition-all duration-200 cursor-pointer hover:scale-105 ${i()}`,title:`Click to explore ${t} insights`,children:[s.jsx("span",{children:o()}),s.jsx("span",{children:e}),r!==void 0&&s.jsxs("span",{className:"font-medium",children:[Math.round(r*100),"%"]}),s.jsx("span",{className:"text-xs opacity-70",children:""})]})},bg=({className:e="",variant:t="button",onSurprise:r})=>{var f;const[n,a]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState([]),d=[{id:"game1",title:"Zen Puzzle Master",genres:["puzzle","casual"],emotionalTags:["chill","relaxing"],playtime:120},{id:"game2",title:"Battle Arena Pro",genres:["action","shooter"],emotionalTags:["competitive","intense"],playtime:45},{id:"game3",title:"Creative Builder",genres:["sandbox","building"],emotionalTags:["creative","building"],playtime:180},{id:"game4",title:"Social Hub",genres:["multiplayer","party"],emotionalTags:["social","multiplayer"],playtime:90},{id:"game5",title:"Epic Quest RPG",genres:["rpg","adventure"],emotionalTags:["story","exploratory"],playtime:300},{id:"game6",title:"Strategic Mind",genres:["strategy","puzzle"],emotionalTags:["focused","strategic"],playtime:150},{id:"game7",title:"Racing Thunder",genres:["racing","sports"],emotionalTags:["energetic","competitive"],playtime:30},{id:"game8",title:"Mystery Detective",genres:["adventure","puzzle"],emotionalTags:["focused","mystery"],playtime:200},{id:"game9",title:"Music Maker",genres:["creative","simulation"],emotionalTags:["creative","expressive"],playtime:60},{id:"game10",title:"Space Explorer",genres:["adventure","simulation"],emotionalTags:["exploratory","wonder"],playtime:240}],p=(g,y)=>{var j;const b={"mood-based":`Perfect for your current mood - ${((j=g.emotionalTags)==null?void 0:j[0])||"relaxing"} vibes`,"time-based":`Great for ${u()} gaming session`,"genre-based":`Something different from your usual ${m()} games`,random:"Why not try something completely new?","history-based":"Based on your recent gaming patterns"};return b[y]||b.random},u=()=>{const g=new Date().getHours();return g<12?"morning":g<17?"afternoon":g<21?"evening":"night"},m=()=>{const g=["action","puzzle","rpg","strategy"];return g[Math.floor(Math.random()*g.length)]},x=async()=>{a(!0);try{await new Promise(N=>setTimeout(N,1500));let g=[...d];g=g.filter(N=>!l.includes(N.id)),g.length===0&&(c([]),g=[...d]);let y;const b=u();if(b==="morning"){const N=g.filter(E=>{var k,P;return((k=E.emotionalTags)==null?void 0:k.includes("chill"))||((P=E.emotionalTags)==null?void 0:P.includes("creative"))||E.playtime<120});y=N.length>0?N[Math.floor(Math.random()*N.length)]:g[Math.floor(Math.random()*g.length)]}else if(b==="night"){const N=g.filter(E=>{var k,P;return((k=E.emotionalTags)==null?void 0:k.includes("story"))||((P=E.emotionalTags)==null?void 0:P.includes("exploratory"))||E.playtime>120});y=N.length>0?N[Math.floor(Math.random()*N.length)]:g[Math.floor(Math.random()*g.length)]}else y=g[Math.floor(Math.random()*g.length)];c(N=>[...N.slice(-4),y.id]),o(y);let j=p(y,"random");(b==="morning"&&y.playtime<120||b==="night"&&y.playtime>120)&&(j=p(y,"time-based")),y.surpriseReason=j}catch(g){console.error("Error generating surprise:",g)}finally{a(!1)}},h=()=>{if(r&&i)r(i);else if(i){const g=`/game/${i.id}`;window.location.href=g}else x()},v=()=>{o(null),x()};return w.useEffect(()=>{x()},[]),t==="button"?s.jsxs("button",{onClick:h,disabled:n,className:`relative overflow-hidden group ${e}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 group-hover:from-purple-600/30 group-hover:to-pink-600/30 transition-all duration-300"}),s.jsx("div",{className:"relative flex items-center gap-2 px-4 py-2 bg-gaming-primary/20 border border-gaming-primary/50 rounded-lg hover:bg-gaming-primary/30 transition-all duration-200",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gaming-primary border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-gaming-primary font-medium",children:"Finding surprise..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-gaming-primary font-medium group-hover:text-gaming-accent transition-colors",children:"Surprise Me"})]})})]}):s.jsxs("div",{className:`glass-morphism rounded-xl p-6 border border-white/10 ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Surprise Me"]}),s.jsx("button",{onClick:v,disabled:n,className:"text-sm text-gaming-primary hover:text-gaming-accent transition-colors disabled:opacity-50",children:" New Surprise"})]}),n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Finding the perfect game for you..."})]}):i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-white/10",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gaming-primary/20 to-gaming-accent/20 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-medium text-lg",children:i.title}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:(f=i.genres)==null?void 0:f.join(", ")}),s.jsxs("p",{className:"text-gaming-primary text-sm mt-2",children:[" ",i.surpriseReason]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-accent transition-colors font-medium",children:"Play Now"}),s.jsx("button",{onClick:v,disabled:n,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium disabled:opacity-50",children:" Different"})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-400",children:"Click to get a surprise game recommendation!"})})]})},Kw={Achiever:{name:"Achiever",icon:"",gradient:"from-yellow-500 to-amber-600",description:"Goal-oriented completionist"},Explorer:{name:"Explorer",icon:"",gradient:"from-green-500 to-emerald-600",description:"Curious discoverer"},Socializer:{name:"Socializer",icon:"",gradient:"from-blue-500 to-cyan-600",description:"Community player"},Competitor:{name:"Competitor",icon:"",gradient:"from-red-500 to-orange-600",description:"Victory-driven"},Strategist:{name:"Strategist",icon:"",gradient:"from-indigo-500 to-purple-600",description:"Tactical thinker"},Creative:{name:"Creative",icon:"",gradient:"from-purple-500 to-pink-600",description:"Imaginative builder"},Casual:{name:"Casual",icon:"",gradient:"from-teal-500 to-cyan-600",description:"Relaxed gamer"},Specialist:{name:"Specialist",icon:"",gradient:"from-pink-500 to-rose-600",description:"Focused expert"}},Qw={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},qw={sm:"text-sm",md:"text-base",lg:"text-lg"},wg=({archetypeId:e,size:t="md",showName:r=!0,className:n=""})=>{const a=Kw[e];return a?s.jsxs("div",{className:`
        inline-flex items-center gap-1.5
        bg-gradient-to-r ${a.gradient}
        text-white font-medium
        rounded-full
        shadow-lg
        transition-all duration-200
        hover:shadow-xl hover:scale-105
        ${Qw[t]}
        ${n}
      `,title:a.description,children:[s.jsx("span",{className:qw[t],children:a.icon}),r&&s.jsx("span",{className:"font-semibold",children:a.name})]}):null},Jw={Calm:"bg-blue-500",Hyped:"bg-yellow-500",Competitive:"bg-red-500",Reflective:"bg-purple-500",Comfort:"bg-green-500"},Xw={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"},Zw={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function ej(e){const r={chill:"Calm",story:"Calm",creative:"Calm",energetic:"Hyped",social:"Hyped",exploratory:"Hyped",competitive:"Competitive",focused:"Competitive",nostalgic:"Reflective",melancholic:"Reflective",cozy:"Comfort",relaxed:"Comfort"}[e]||"Comfort";return Jw[r]}const jg=({mood:e,size:t="md",className:r=""})=>{const n=e?ej(e.moodId):"bg-gray-400",a=Xw[t],i=Zw[t];return s.jsxs("div",{className:`relative ${r}`,children:[e&&s.jsx("div",{className:`
            absolute inset-0 ${n}
            rounded-full opacity-30
            animate-ping
            ${i}
          `}),s.jsx("div",{className:`
          relative z-10
          ${n}
          ${a}
          rounded-full
          shadow-md
          transition-colors duration-300
        `,title:e?`${e.moodId} (Intensity: ${e.intensity})`:"No mood data"}),e&&e.intensity>=7&&s.jsx("div",{className:`
            absolute top-0 right-0
            w-1.5 h-1.5
            bg-white
            rounded-full
            animate-pulse
          `})]})};function tj(e){return e.charAt(0).toUpperCase()+e.slice(1)}function rj({confidence:e}){const t=Math.round(e*100),r=t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500";return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full ${r} transition-all duration-500 ease-out`,style:{width:`${t}%`}})}),s.jsxs("span",{className:"text-xs text-gray-400 font-medium min-w-[3rem] text-right",children:[t,"%"]})]})}function xa({trait:e,value:t}){const n={pacing:"from-blue-500 to-cyan-500",riskProfile:"from-purple-500 to-pink-500",socialStyle:"from-green-500 to-emerald-500",intensity:"from-orange-500 to-red-500"}[e]||"from-gray-500 to-gray-600";return s.jsx("div",{className:`
        px-2 py-1
        bg-gradient-to-r ${n}
        text-white text-xs
        rounded-full
        font-medium
        shadow-sm
      `,children:tj(t)})}const Ng=({persona:e,className:t=""})=>{const{traits:r,mood:n,narrative:a,confidence:i}=e;return!r||!a?s.jsx("div",{className:`
        glass-morphism rounded-xl p-6
        border border-gray-700
        ${t}
      `,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full animate-pulse"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-6 bg-gray-700 rounded animate-pulse w-32"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-24"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-3/4"}),s.jsx("div",{className:"h-2 bg-gray-700 rounded animate-pulse w-full"})]})]})}):s.jsxs("div",{className:`
      glass-morphism rounded-xl p-6
      border border-gray-700
      shadow-xl
      hover:shadow-2xl
      transition-all duration-300
      ${t}
    `,children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx(wg,{archetypeId:r.archetypeId,size:"lg",showName:!0}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx(jg,{mood:n,size:"lg"}),a&&s.jsx("span",{className:"text-xs text-gray-400 font-medium bg-gray-800 px-2 py-1 rounded-full",children:a.tone})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-200 text-sm leading-relaxed italic",children:['"',a.summary,'"']})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(xa,{trait:"pacing",value:r.pacing}),s.jsx(xa,{trait:"riskProfile",value:r.riskProfile}),s.jsx(xa,{trait:"socialStyle",value:r.socialStyle}),s.jsx(xa,{trait:"intensity",value:r.intensity})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400 font-medium uppercase tracking-wide",children:"Confidence"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Based on data completeness"})]}),s.jsx(rj,{confidence:i})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"Persona Engine v1.0"}),s.jsx("span",{children:"Updated in real-time"})]})})]})};function ts(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nj=({persona:e,compact:t=!1,className:r=""})=>{const{traits:n,mood:a,narrative:i}=e;return n?s.jsxs("div",{className:`flex items-center gap-3 ${r}`,children:[s.jsx(wg,{archetypeId:n.archetypeId,size:t?"sm":"md",showName:!t}),s.jsx(jg,{mood:a,size:t?"sm":"md"}),!t&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("span",{className:"font-medium",children:ts(n.pacing)}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("span",{className:"font-medium",children:ts(n.riskProfile)}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("span",{className:"font-medium",children:ts(n.socialStyle)})]}),t&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-300",children:[s.jsx("span",{children:ts(n.pacing)}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("span",{children:ts(n.riskProfile)})]}),!t&&i&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-purple-500 to-pink-500"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:i.tone})]})]}):s.jsxs("div",{className:`flex items-center gap-3 text-gray-400 ${r}`,children:[s.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm",children:"Loading persona..."})]})},sj=[{id:"dark-souls-remastered",title:"Dark Souls Remastered",description:"The acclaimed dark fantasy action RPG returns. Master brutal combat and intricate level design.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B0000/FFFFFF?text=Dark+Souls",releaseDate:new Date("2018-05-25"),developer:"FromSoftware",publisher:"Bandai Namco Entertainment",genres:["action","rpg"],subgenres:["soulslike","dark-fantasy"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Focused"],userRating:9,globalRating:8.5,playStatus:"completed",hoursPlayed:127,lastPlayed:new Date("2024-01-15"),addedAt:new Date("2023-06-10"),notes:"Amazing challenging experience",isFavorite:!0,releaseYear:2018,achievements:{unlocked:42,total:43}},{id:"hades",title:"Hades",description:"Defy the god of the dead as you hack and slash out of the Underworld in this rogue-like dungeon crawler.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B4513/FFFFFF?text=Hades",releaseDate:new Date("2020-09-17"),developer:"Supergiant Games",publisher:"Supergiant Games",genres:["action","roguelike"],subgenres:["rogue-lite","indie"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Energetic"],userRating:9.5,globalRating:9.2,playStatus:"playing",hoursPlayed:89,lastPlayed:new Date("2024-01-20"),addedAt:new Date("2023-08-15"),notes:"Addictive gameplay loop",isFavorite:!0,releaseYear:2020,achievements:{unlocked:38,total:50}},{id:"portal-2",title:"Portal 2",description:"The highly anticipated sequel to 2007's Game of the Year, Portal 2 is a hilariously mind-bending adventure.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FF6B35/FFFFFF?text=Portal+2",releaseDate:new Date("2011-04-19"),developer:"Valve",publisher:"Valve",genres:["puzzle","platformer"],subgenres:["physics-puzzle","comedy"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Chill","Creative"],userRating:9.8,globalRating:9.5,playStatus:"completed",hoursPlayed:12,lastPlayed:new Date("2023-12-01"),addedAt:new Date("2023-05-20"),notes:"Brilliant puzzles and story",isFavorite:!1,releaseYear:2011,achievements:{unlocked:50,total:50}},{id:"final-fantasy-xiv",title:"Final Fantasy XIV Online",description:"Take part in an epic and ever-changing FINAL FANTASY as you adventure and explore with friends.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/4169E1/FFFFFF?text=FFXIV",releaseDate:new Date("2013-08-27"),developer:"Square Enix",publisher:"Square Enix",genres:["mmorpg","rpg"],subgenres:["fantasy","online-multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Social","Story"],userRating:9,globalRating:8.8,playStatus:"playing",hoursPlayed:456,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2022-03-15"),notes:"Best MMO experience",isFavorite:!0,releaseYear:2013,achievements:{unlocked:245,total:500}},{id:"counter-strike-2",title:"Counter-Strike 2",description:"Counter-Strike 2 is a free upgrade to CS:GO, building on the tactical foundation.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FFA500/FFFFFF?text=CS2",releaseDate:new Date("2023-09-27"),developer:"Valve",publisher:"Valve",genres:["fps","competitive"],subgenres:["tactical-shooter","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Energetic"],userRating:8.5,globalRating:8.2,playStatus:"playing",hoursPlayed:234,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2023-10-01"),notes:"Intense competitive matches",isFavorite:!1,releaseYear:2023,achievements:{unlocked:15,total:30}},{id:"it-takes-two",title:"It Takes Two",description:"Embark on the craziest journey of your life in It Takes Two, a genre-bending platform adventure.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FF69B4/FFFFFF?text=It+Takes+Two",releaseDate:new Date("2021-03-26"),developer:"Hazelight Studios",publisher:"Electronic Arts",genres:["adventure","platformer"],subgenres:["co-op","comedy"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Social","Chill"],userRating:9.2,globalRating:8.9,playStatus:"completed",hoursPlayed:14,lastPlayed:new Date("2023-11-15"),addedAt:new Date("2023-09-01"),notes:"Perfect co-op experience",isFavorite:!0,releaseYear:2021,achievements:{unlocked:35,total:35}},{id:"civilization-vi",title:"Civilization VI",description:"Build an empire to stand the test of time in this turn-based strategy classic.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B4513/FFFFFF?text=Civ+VI",releaseDate:new Date("2016-10-21"),developer:"Firaxis Games",publisher:"2K Games",genres:["strategy","turn-based"],subgenres:["4x","historical"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Focused","Creative"],userRating:8.8,globalRating:8.7,playStatus:"playing",hoursPlayed:189,lastPlayed:new Date("2024-01-19"),addedAt:new Date("2022-01-10"),notes:"Deep strategic gameplay",isFavorite:!1,releaseYear:2016,achievements:{unlocked:89,total:150}},{id:"the-witcher-3",title:"The Witcher 3: Wild Hunt",description:"You are Geralt of Rivia, mercenary monster slayer. Before you stands a war-torn world.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B0000/FFFFFF?text=Witcher+3",releaseDate:new Date("2015-05-19"),developer:"CD Projekt Red",publisher:"CD Projekt Red",genres:["rpg","open-world"],subgenres:["fantasy","story-rich"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Story","Focused"],userRating:9.7,globalRating:9.5,playStatus:"completed",hoursPlayed:156,lastPlayed:new Date("2023-10-20"),addedAt:new Date("2022-06-15"),notes:"Incredible storytelling",isFavorite:!0,releaseYear:2015,achievements:{unlocked:67,total:78}},{id:"stardew-valley",title:"Stardew Valley",description:"You've inherited your grandfather's old farm plot in Stardew Valley. Armed with hand-me-down tools.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/90EE90/FFFFFF?text=Stardew+Valley",releaseDate:new Date("2016-02-26"),developer:"ConcernedApe",publisher:"ConcernedApe",genres:["simulation","casual"],subgenres:["farming","relaxing"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Chill","Creative"],userRating:9.5,globalRating:9.3,playStatus:"playing",hoursPlayed:78,lastPlayed:new Date("2024-01-20"),addedAt:new Date("2023-07-20"),notes:"Relaxing and addictive",isFavorite:!0,releaseYear:2016,achievements:{unlocked:23,total:40}},{id:"resident-evil-8",title:"Resident Evil 8 Village",description:"Experience survival horror like never before in the eighth major installment.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/000000/FFFFFF?text=RE8",releaseDate:new Date("2021-05-07"),developer:"Capcom",publisher:"Capcom",genres:["horror","survival"],subgenres:["third-person-shooter","zombies"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Focused"],userRating:8.2,globalRating:8,playStatus:"paused",hoursPlayed:8,lastPlayed:new Date("2024-01-10"),addedAt:new Date("2023-11-01"),notes:"Too scary for me",isFavorite:!1,releaseYear:2021,achievements:{unlocked:12,total:30}},{id:"forza-horizon-5",title:"Forza Horizon 5",description:"Your Ultimate Horizon Adventure awaits! Explore the vibrant open world of Mexico.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FF4500/FFFFFF?text=Forza+5",releaseDate:new Date("2021-11-09"),developer:"Playground Games",publisher:"Xbox Game Studios",genres:["racing","open-world"],subgenres:["arcade-racing","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Energetic","Competitive"],userRating:8.7,globalRating:8.5,playStatus:"playing",hoursPlayed:45,lastPlayed:new Date("2024-01-18"),addedAt:new Date("2023-12-15"),notes:"Beautiful open world",isFavorite:!1,releaseYear:2021,achievements:{unlocked:56,total:100}},{id:"celeste",title:"Celeste",description:"Help Madeline survive her inner demons on her journey to the top of Celeste Mountain.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FFB6C1/FFFFFF?text=Celeste",releaseDate:new Date("2018-01-25"),developer:"Maddy Makes Games",publisher:"Maddy Makes Games",genres:["platformer","indie"],subgenres:["precision-platformer","story-rich"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Chill"],userRating:9.3,globalRating:9.1,playStatus:"completed",hoursPlayed:23,lastPlayed:new Date("2023-09-10"),addedAt:new Date("2023-05-25"),notes:"Challenging but fair",isFavorite:!0,releaseYear:2018,achievements:{unlocked:25,total:25}},{id:"apex-legends",title:"Apex Legends",description:"Conquer with character in Apex Legends, a free-to-play hero shooter.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FF0000/FFFFFF?text=Apex+Legends",releaseDate:new Date("2019-02-04"),developer:"Respawn Entertainment",publisher:"Electronic Arts",genres:["fps","battle-royale"],subgenres:["hero-shooter","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Energetic"],userRating:8.4,globalRating:8.2,playStatus:"playing",hoursPlayed:167,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2022-02-14"),notes:"Fast-paced action",isFavorite:!1,releaseYear:2019,achievements:{unlocked:45,total:100}},{id:"cities-skylines",title:"Cities: Skylines",description:"Cities: Skylines is a modern take on the classic city simulation.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/4169E1/FFFFFF?text=Cities+Skylines",releaseDate:new Date("2015-03-10"),developer:"Colossal Order",publisher:"Paradox Interactive",genres:["simulation","strategy"],subgenres:["city-builder","management"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Creative","Focused"],userRating:9,globalRating:8.8,playStatus:"playing",hoursPlayed:98,lastPlayed:new Date("2024-01-17"),addedAt:new Date("2022-08-20"),notes:"Addictive city building",isFavorite:!1,releaseYear:2015,achievements:{unlocked:34,total:50}},{id:"diablo-4",title:"Diablo IV",description:"The legendary RPG returns. Darkness returns to Sanctuary.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B0000/FFFFFF?text=Diablo+4",releaseDate:new Date("2023-06-06"),developer:"Blizzard Entertainment",publisher:"Blizzard Entertainment",genres:["action","rpg","hack-and-slash"],subgenres:["dungeon-crawler","dark-fantasy"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Energetic"],userRating:8.6,globalRating:8.4,playStatus:"playing",hoursPlayed:67,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2023-06-10"),notes:"Dark and satisfying",isFavorite:!0,releaseYear:2023,achievements:{unlocked:28,total:50}},{id:"fifa-24",title:"EA Sports FC 24",description:"EA Sports FC 24 brings you the world of football with over 19,000 players.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/00FF00/FFFFFF?text=FC+24",releaseDate:new Date("2023-09-29"),developer:"EA Vancouver",publisher:"EA Sports",genres:["sports","simulation"],subgenres:["football","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Social"],userRating:7.8,globalRating:7.5,playStatus:"playing",hoursPlayed:34,lastPlayed:new Date("2024-01-20"),addedAt:new Date("2023-10-15"),notes:"Football with friends",isFavorite:!1,releaseYear:2023,achievements:{unlocked:12,total:30}},{id:"minecraft",title:"Minecraft",description:"Explore infinite worlds and build everything from the simplest of homes to the grandest of castles.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/8B4513/FFFFFF?text=Minecraft",releaseDate:new Date("2011-11-18"),developer:"Mojang Studios",publisher:"Mojang Studios",genres:["sandbox","survival"],subgenres:["crafting","creative"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Creative","Chill"],userRating:9.4,globalRating:9.3,playStatus:"playing",hoursPlayed:234,lastPlayed:new Date("2024-01-19"),addedAt:new Date("2021-03-10"),notes:"Endless creativity",isFavorite:!0,releaseYear:2011,achievements:{unlocked:45,total:100}},{id:"metal-gear-solid-v",title:"Metal Gear Solid V: The Phantom Pain",description:"Ushering in a new era for the franchise with cutting-edge technology powered by Fox Engine.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/000080/FFFFFF?text=MGSV",releaseDate:new Date("2015-09-01"),developer:"Kojima Productions",publisher:"Konami",genres:["stealth","action"],subgenres:["tactical","open-world"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Focused","Chill"],userRating:8.9,globalRating:8.7,playStatus:"unplayed",hoursPlayed:0,lastPlayed:void 0,addedAt:new Date("2023-12-01"),notes:"Planning to play soon",isFavorite:!1,releaseYear:2015,achievements:{unlocked:0,total:50}},{id:"street-fighter-6",title:"Street Fighter 6",description:"Street Fighter 6 features groundbreaking crossplay technology.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FFD700/FFFFFF?text=SF6",releaseDate:new Date("2023-06-02"),developer:"Capcom",publisher:"Capcom",genres:["fighting","competitive"],subgenres:["arcade","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Energetic"],userRating:8.3,globalRating:8.1,playStatus:"playing",hoursPlayed:56,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2023-06-05"),notes:"Classic fighting",isFavorite:!1,releaseYear:2023,achievements:{unlocked:23,total:40}},{id:"life-is-strange",title:"Life is Strange",description:"Experience a bold new era in interactive entertainment with Life is Strange.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/87CEEB/FFFFFF?text=Life+is+Strange",releaseDate:new Date("2015-01-30"),developer:"Dontnod Entertainment",publisher:"Square Enix",genres:["adventure","visual-novel"],subgenres:["story-rich","choice-driven"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Story","Chill"],userRating:8.8,globalRating:8.6,playStatus:"completed",hoursPlayed:18,lastPlayed:new Date("2023-08-15"),addedAt:new Date("2023-04-10"),notes:"Emotional story",isFavorite:!0,releaseYear:2015,achievements:{unlocked:30,total:30}},{id:"bloons-td-6",title:"Bloons TD 6",description:"The Bloons are back and better than ever! Get ready for a massive 3D tower defense game.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FF69B4/FFFFFF?text=BTD6",releaseDate:new Date("2018-12-18"),developer:"Ninja Kiwi",publisher:"Ninja Kiwi",genres:["tower-defense","strategy"],subgenres:["casual","colorful"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Chill","Creative"],userRating:8.5,globalRating:8.3,playStatus:"playing",hoursPlayed:89,lastPlayed:new Date("2024-01-21"),addedAt:new Date("2022-11-20"),notes:"Fun tower defense",isFavorite:!1,releaseYear:2018,achievements:{unlocked:67,total:100}},{id:"hearthstone",title:"Hearthstone",description:"Hearthstone is a digital collectible card game set in the Warcraft universe.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/FFD700/FFFFFF?text=Hearthstone",releaseDate:new Date("2014-03-11"),developer:"Blizzard Entertainment",publisher:"Blizzard Entertainment",genres:["card-game","strategy"],subgenres:["digital-card-game","multiplayer"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Focused","Social"],userRating:8.2,globalRating:8,playStatus:"paused",hoursPlayed:145,lastPlayed:new Date("2023-12-15"),addedAt:new Date("2021-06-15"),notes:"Strategic card game",isFavorite:!1,releaseYear:2014,achievements:{unlocked:89,total:150}},{id:"hollow-knight",title:"Hollow Knight",description:"Forge your own path in Hollow Knight! An epic action adventure through a ruined kingdom.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/4B0082/FFFFFF?text=Hollow+Knight",releaseDate:new Date("2017-02-24"),developer:"Team Cherry",publisher:"Team Cherry",genres:["platformer","metroidvania"],subgenres:["indie","challenging"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Competitive","Chill"],userRating:9.4,globalRating:9.2,playStatus:"completed",hoursPlayed:67,lastPlayed:new Date("2023-10-05"),addedAt:new Date("2023-02-15"),notes:"Beautiful metroidvania",isFavorite:!0,releaseYear:2017,achievements:{unlocked:56,total:112}},{id:"two-point-hospital",title:"Two Point Hospital",description:"Design and build your own hospital in this management sim.",backgroundImages:[],coverImage:"https://via.placeholder.com/300x400/00CED1/FFFFFF?text=Two+Point+Hospital",releaseDate:new Date("2018-08-30"),developer:"Two Point Studios",publisher:"Sega",genres:["simulation","management"],subgenres:["hospital-sim","humorous"],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:["Creative","Chill"],userRating:8.7,globalRating:8.5,playStatus:"playing",hoursPlayed:34,lastPlayed:new Date("2024-01-18"),addedAt:new Date("2023-09-20"),notes:"Funny hospital sim",isFavorite:!1,releaseYear:2018,achievements:{unlocked:23,total:50}}],aj=({games:e,store:t,totalPlaytime:r,currentSession:n})=>{const[a,i]=w.useState(!1);return s.jsx("section",{className:"mb-12",children:s.jsxs("div",{className:"glass-morphism rounded-xl",children:[s.jsxs("button",{onClick:()=>i(!a),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-800/50 transition-colors",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx("span",{children:""}),"Debug Panel"]}),s.jsx("span",{className:"text-gray-400 transform transition-transform duration-200",style:{transform:a?"rotate(180deg)":"rotate(0deg)"},children:""})]}),a&&s.jsxs("div",{className:"p-4 border-t border-gray-700",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Games:"}),s.jsx("div",{className:"font-mono",children:(e==null?void 0:e.length)||0})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Total Playtime:"}),s.jsxs("div",{className:"font-mono",children:[Math.floor(r),"h"]})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Store Status:"}),s.jsx("div",{className:"font-mono",children:t?"OK":"NULL"})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Current Session:"}),s.jsx("div",{className:"font-mono",children:n?`Game ${n.gameId}`:"None"})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Session Started:"}),s.jsx("div",{className:"font-mono",children:n?new Date(n.startedAt).toLocaleTimeString():"N/A"})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"text-gray-400",children:"Session Duration:"}),s.jsx("div",{className:"font-mono",children:n?`${Math.floor((Date.now()-n.startedAt)/6e4)}m`:"N/A"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Sample Games with Session Data:"}),s.jsx("div",{className:"space-y-2 text-xs",children:e==null?void 0:e.slice(0,3).map(o=>s.jsxs("div",{className:"text-gray-300 font-mono",children:[o.title,":",s.jsxs("span",{className:"text-gaming-accent ml-2",children:[o.localSessionCount||0," sessions,",o.localSessionMinutes||0,"min total"]})]},o.id))})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsxs("h4",{className:"text-white font-medium mb-2 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Persona Engine (Experimental)"]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"text-gray-300",children:[s.jsx("div",{className:"font-mono text-gaming-accent mb-1",children:"Mock Persona Analysis:"}),s.jsx("div",{children:"Archetype: Explorer (Medium, Flow)"}),s.jsx("div",{children:"Risk: Balanced | Social: Coop"}),s.jsx("div",{children:"Confidence: 75% | Tone: Reflective"}),s.jsx("div",{className:"text-gray-400 italic mt-1",children:`"You're a curious explorer who prefers steady, balanced sessions with a balanced approach to gaming."`})]}),s.jsx("div",{className:"text-yellow-400 text-xs",children:" Persona Engine active - integration ready"})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Persona Identity Card (Live Demo)"]}),s.jsx(Ng,{persona:{traits:{archetypeId:"Explorer",intensity:"Medium",pacing:"Flow",riskProfile:"Balanced",socialStyle:"Solo",confidence:.75},mood:{moodId:"focused",intensity:7,timestamp:new Date},narrative:{summary:"You're a curious explorer who prefers steady, balanced sessions with a balanced approach to gaming.",tone:"Reflective"},confidence:.75}})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Persona Test Library"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"px-4 py-2 bg-gaming-primary hover:bg-gaming-secondary text-white rounded-lg transition-colors text-sm font-medium",onClick:()=>{Ae.getState().actions.setGames(sj)},children:"Load Persona Test Library (25 games)"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Loads a diverse synthetic library for persona stress-testing"})]})]})]})]})})},Sg=({onClick:e,isActive:t=!1})=>s.jsx("button",{onClick:e,className:`
        w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200
        ${t?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/50":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white"}
      `,title:"Customise this page","aria-label":"Customise this page",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),em={theme:"dark",accentColor:"#3b82f6",backgroundMode:"gradient",backgroundImageUrl:void 0,animationLevel:"medium",density:"comfortable",lightingMode:"none",rgbSyncEnabled:!1},kg=Oi()(Qh(Uc((e,t)=>({global:em,perPage:{},setGlobalSettings:r=>e(n=>({global:{...n.global,...r}})),setPageSettings:(r,n)=>e(a=>({perPage:{...a.perPage,[r]:n}})),resetPageSettings:r=>e(n=>{const a={...n.perPage};return delete a[r],{perPage:a}}),resetAllSettings:()=>e({global:em,perPage:{}}),getMergedSettings:r=>{const n=t(),a=r?n.perPage[r]:{};return{theme:n.global.theme,accentColor:(a==null?void 0:a.accentColor)??n.global.accentColor,backgroundMode:(a==null?void 0:a.backgroundMode)??n.global.backgroundMode,backgroundImageUrl:(a==null?void 0:a.backgroundImageUrl)??n.global.backgroundImageUrl,animationLevel:(a==null?void 0:a.animationLevel)??n.global.animationLevel,density:(a==null?void 0:a.density)??n.global.density,lightingMode:(a==null?void 0:a.lightingMode)??n.global.lightingMode,rgbSyncEnabled:n.global.rgbSyncEnabled}}}),{name:"gamepilot-customisation",version:1}),{name:"customisation-store"})),Jc=e=>kg().getMergedSettings(e),Ll=()=>{const e=kg();return{setGlobalSettings:e.setGlobalSettings,setPageSettings:e.setPageSettings,resetPageSettings:e.resetPageSettings,resetAllSettings:e.resetAllSettings}},ij=()=>{if(typeof window>"u"||typeof window.location>"u")return"default";const e=window.location.pathname;return e==="/"||e==="/home"?"home":e.startsWith("/library")?"library":e.startsWith("/analytics")?"analytics":e.startsWith("/identity")?"identity":e.startsWith("/settings")?"settings":e.startsWith("/customisation")?"customisation":"default"},Cg=({pageId:e,isOpen:t,onClose:r})=>{const n=Jc(e),{setPageSettings:a}=Ll(),[i,o]=w.useState(""),l=h=>{a(e,{backgroundMode:h})},c=()=>{i.trim()&&(a(e,{backgroundImageUrl:i.trim()}),o(""))},d=h=>{a(e,{accentColor:h})},p=h=>{a(e,{animationLevel:h})},u=h=>{a(e,{density:h})},m=h=>{a(e,{lightingMode:h})},x=()=>{const{resetPageSettings:h}=Ll();h(e)};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:r}),s.jsx("div",{className:"fixed right-0 top-0 h-full w-80 bg-gray-900/95 border-l border-white/10 z-50 overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Customise This Page"}),s.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-colors duration-200",title:"Close customisation panel","aria-label":"Close customisation panel",children:s.jsx("span",{className:"text-lg",children:""})})]}),s.jsxs("div",{className:"mb-6 p-3 bg-gray-800/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Customising:"}),s.jsx("p",{className:"text-white font-medium capitalize",children:e})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Background Mode"}),s.jsx("div",{className:"space-y-2",children:["solid","gradient","image"].map(h=>s.jsx("button",{onClick:()=>l(h),className:`w-full p-2 rounded-lg border-2 transition-all duration-200 text-left ${n.backgroundMode===h?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h==="solid"?"bg-gray-700":h==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),s.jsx("span",{className:"text-white text-sm capitalize",children:h})]})},h))})]}),n.backgroundMode==="image"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Background Image"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL...",className:"w-full px-3 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 text-sm focus:border-gaming-primary focus:outline-none","aria-label":"Enter background image URL"}),s.jsx("button",{onClick:c,className:"w-full px-3 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors duration-200 text-sm",children:"Set Image"}),n.backgroundImageUrl&&s.jsx("div",{className:"p-2 bg-gray-800/50 rounded-lg",children:s.jsx("p",{className:"text-gray-400 text-xs truncate",children:n.backgroundImageUrl})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Accent Color"}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"].map(h=>s.jsx("button",{onClick:()=>d(h),className:`w-full aspect-square rounded-lg border-2 transition-all duration-200 ${n.accentColor===h?"border-white scale-105":"border-gray-600 hover:border-gray-500"}`,style:{backgroundColor:h},title:`Select ${h} as accent color`,"aria-label":`Select ${h} as accent color`},h))}),s.jsx("input",{type:"color",value:n.accentColor,onChange:h=>d(h.target.value),className:"w-full h-8 bg-gray-800/50 border border-gray-600 rounded cursor-pointer",title:"Choose custom accent color","aria-label":"Choose custom accent color"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Animation Level"}),s.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(h=>s.jsx("button",{onClick:()=>p(h),className:`w-full p-2 rounded-lg border-2 transition-all duration-200 text-left ${n.animationLevel===h?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white text-sm capitalize",children:h}),s.jsx("span",{className:"text-gray-400 text-xs",children:h==="low"?"Minimal":h==="medium"?"Balanced":"Full"})]})},h))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Density"}),s.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(h=>s.jsx("button",{onClick:()=>u(h),className:`w-full p-2 rounded-lg border-2 transition-all duration-200 text-left ${n.density===h?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white text-sm capitalize",children:h}),s.jsx("span",{className:"text-gray-400 text-xs",children:h==="compact"?"Tight":"Comfortable"})]})},h))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Lighting Mode"}),s.jsx("div",{className:"space-y-2",children:["none","mood","rgb-sync"].map(h=>s.jsx("button",{onClick:()=>m(h),className:`w-full p-2 rounded-lg border-2 transition-all duration-200 text-left ${n.lightingMode===h?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h==="none"?"bg-gray-600":h==="mood"?"bg-purple-500":"bg-gradient-to-r from-red-500 to-green-500"}`}),s.jsx("span",{className:"text-white text-sm capitalize",children:h.replace("-"," ")})]})},h))})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:x,className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200 text-sm",children:"Reset to Global Settings"}),s.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors duration-200 text-sm",children:"Done"})]})]})})]}):null};function oj(){var m,x,h,v;const{user:e}=qh(),{games:t,actions:r}=Ae(),{integrations:n}=Av(),a=Xr(),i=Vw(),[o,l]=w.useState(!1),[c,d]=w.useState({forecast:null,recommendations:[],resonance:null,loading:!0});w.useEffect(()=>{(async()=>{try{const g="current-user",[y,b,j]=await Promise.all([Br.getMoodForecast(g),Br.getMoodResonance(g),Br.getMoodRecommendations(g)]);d({forecast:y,resonance:b,recommendations:j.recommendations.slice(0,5),loading:!1})}catch(g){console.error("Failed to fetch mood data:",g),d(y=>({...y,loading:!1}))}})()},[]);const p=(m=t||[])==null?void 0:m.slice(0,5).map(f=>({appId:(f==null?void 0:f.id)||"",name:(f==null?void 0:f.title)||"Unknown Game",headerImage:(f==null?void 0:f.coverImage)||"/api/placeholder/cover/default.jpg",playtimeRecent:Math.floor(Math.random()*120)})),u=()=>{window.location.reload()};return s.jsx(ke,{children:s.jsxs("div",{className:"flex flex-col gap-8 p-6",children:[s.jsx("section",{className:"mb-6",children:s.jsx(Ng,{persona:a})}),s.jsxs("header",{className:"flex items-center gap-4",children:[s.jsx("img",{src:(e==null?void 0:e.avatar)||(e!=null&&e.username?`/api/placeholder/avatar/${e.username}.jpg`:"/api/placeholder/avatar/default.jpg"),alt:(e==null?void 0:e.username)||(e==null?void 0:e.displayName)||"User",className:"w-16 h-16 rounded-full object-cover border-2 border-gaming-primary/50"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Welcome back, ",(e==null?void 0:e.username)||(e==null?void 0:e.displayName)||"Gamer"]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your gaming universe at a glance"})]}),s.jsx(Sg,{onClick:()=>l(!o),isActive:o})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Mood Intelligence"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[c.forecast&&s.jsx(Ww,{predictedMood:c.forecast.primaryForecast.predictedMood,confidence:c.forecast.primaryForecast.confidence,trend:"stable",reasoning:c.forecast.primaryForecast.reasoning,onMoodClick:f=>{window.location.href=`/library?mood=${f}`}}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Yw,{games:c.recommendations.map(f=>({id:f.gameId,title:f.gameTitle,reason:f.reasoning,moodAlignment:f.moodAlignment,genreMatch:f.genreMatch})),loading:c.loading,onGameSelect:f=>{window.location.href=`/library?game=${f.id}`},onQuickPlay:f=>{console.log("Quick play:",f.title),window.location.href=`/game/${f.id}`}})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[s.jsx(Po,{insight:"Prediction accuracy improving",type:"accuracy",value:.85,onClick:()=>{window.location.href="/analytics?view=mood-accuracy"}}),s.jsx(Po,{insight:"Best mood: creative sessions",type:"pattern",onClick:()=>{window.location.href="/analytics?view=mood-patterns"}}),s.jsx(Po,{insight:`${c.recommendations.length} new recommendations today`,type:"recommendation",onClick:()=>{window.location.href="/library?filter=recommended"}})]}),s.jsx(bg,{variant:"card",onSurprise:f=>{console.log("Surprise game selected:",f.title),window.location.href=`/library?game=${f.id}`}})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3 text-white",children:"Integrations"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(va,{name:"Steam",to:"/integrations/steam",icon:"",connected:((x=n==null?void 0:n.steam)==null?void 0:x.connected)||!1}),s.jsx(va,{name:"Discord",to:"/integrations/discord",icon:"",connected:((h=n==null?void 0:n.discord)==null?void 0:h.connected)||!1}),s.jsx(va,{name:"YouTube",to:"/integrations/youtube",icon:"",connected:((v=n==null?void 0:n.youtube)==null?void 0:v.connected)||!1}),s.jsx(va,{name:"Twitch",to:"/integrations/twitch",icon:"",connected:!1})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3 text-white",children:"Recently Played"}),p&&p.length>0&&s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:p.map(f=>s.jsxs("div",{className:"min-w-[160px] glass-morphism rounded-lg p-3 border border-white/10 cursor-pointer hover:border-gaming-primary/50 transition-all duration-200 hover:scale-105",onClick:()=>{window.location.href=`/library?game=${f==null?void 0:f.appId}`},children:[s.jsx("img",{src:(f==null?void 0:f.headerImage)||"/api/placeholder/cover/default.jpg",alt:(f==null?void 0:f.name)||"Game",className:"rounded mb-2 w-full h-20 object-cover"}),s.jsx("p",{className:"font-medium text-white",children:(f==null?void 0:f.name)||"Unknown Game"}),s.jsxs("p",{className:"text-xs text-gray-400",children:[(f==null?void 0:f.playtimeRecent)||0," mins recently"]})]},(f==null?void 0:f.appId)||Math.random()))}),(!p||p.length===0)&&s.jsx("div",{className:"glass-morphism rounded-lg p-6 border border-white/10 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No recently played games yet. Start playing some games to see them here!"})})]}),s.jsx("section",{children:s.jsx(Fv,{recommendedGame:i,onRefresh:u})}),s.jsx(aj,{games:t,store:{games:t,actions:r},totalPlaytime:t.reduce((f,g)=>f+(g.hoursPlayed||0),0),currentSession:null}),s.jsx(Cg,{pageId:"home",isOpen:o,onClose:()=>l(!1)})]})})}function va({name:e,to:t,icon:r,connected:n}){return s.jsxs(mr,{to:t,className:`glass-morphism hover:bg-white/10 transition-all duration-200 rounded-lg p-4 flex flex-col items-center justify-center font-medium text-white border ${n?"border-green-500/50 bg-green-500/10":"border-white/10"}`,children:[s.jsx("span",{className:"text-2xl mb-2",children:r}),s.jsx("span",{className:"text-sm",children:e}),n&&s.jsx("span",{className:"text-xs text-green-400 mt-1",children:"Connected"})]})}const lj=()=>s.jsx(oj,{});function cj(e,t={}){const r=w.useRef(null),n=w.useRef(new Set);return w.useEffect(()=>(r.current=new IntersectionObserver(e,{threshold:.1,rootMargin:"50px",...t}),()=>{r.current&&(r.current.disconnect(),r.current=null),n.current.clear()}),[e,t]),{observe:o=>{r.current&&o&&(r.current.observe(o),n.current.add(o))},unobserve:o=>{r.current&&o&&(r.current.unobserve(o),n.current.delete(o))}}}class dj{constructor(t=50){Ne(this,"cache",new Map);Ne(this,"maxSize");this.maxSize=t}get(t){const r=this.cache.get(t);return r?(this.cache.delete(t),this.cache.set(t,r),r):null}set(t,r){if(this.cache.size>=this.maxSize){const n=this.cache.keys().next().value;n&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}const tm=new dj;function uj(e){return new Promise((t,r)=>{const n=tm.get(e);if(n){t(n);return}const a=new Image;a.onload=()=>{tm.set(e,a),t(a)},a.onerror=r,a.src=e})}function mj(e,t=16){const r=w.useRef(0),n=w.useRef();return()=>{const a=Date.now();a-r.current>=t?(r.current=a,e()):(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{r.current=Date.now(),e()},t-(a-r.current)))}}function Eg({src:e,alt:t,className:r="",onLoad:n,onError:a}){const[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,p]=w.useState(!1),u=w.useRef(null),{observe:m,unobserve:x}=cj(f=>{f.forEach(g=>{g.isIntersecting&&(c(!0),u.current&&x(u.current))})},{threshold:.1,rootMargin:"50px"});w.useEffect(()=>(u.current&&m(u.current),()=>{u.current&&x(u.current)}),[m,x]);const h=()=>{o(!0),n==null||n()},v=()=>{p(!0),a==null||a()};return w.useEffect(()=>{l&&!d&&uj(e).then(h).catch(v)},[l,e,d]),s.jsxs("div",{ref:u,className:`relative overflow-hidden ${r}`,children:[s.jsx("div",{className:`
          absolute inset-0 bg-gradient-to-br from-gray-700 to-gray-800 
          flex items-center justify-center transition-opacity duration-300
          ${i?"opacity-0":"opacity-100"}
        `,children:s.jsx("span",{className:"text-4xl text-gray-600",children:""})}),l&&!d&&s.jsx("img",{src:e,alt:t,onLoad:h,onError:v,className:`
            w-full h-full object-cover transition-opacity duration-300
            ${i?"opacity-100":"opacity-0"}
          `}),d&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/20 to-red-800/20 flex items-center justify-center",children:s.jsx("span",{className:"text-3xl text-red-500",children:""})})]})}function Pg({items:e,onReorder:t,disabled:r=!1}){const[n,a]=w.useState(null),[i,o]=w.useState(null),l=w.useRef(0),c=w.useCallback((f,g)=>{if(r)return;const y=e[g];if(!y)return;a({id:y.id,index:g}),f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",JSON.stringify({id:y.id,index:g}));const b=f.target;b.classList.add("opacity-50");const j=b;f.dataTransfer.setDragImage(j,0,0)},[e,r]),d=w.useCallback(f=>{f.target.classList.remove("opacity-50"),a(null),o(null),l.current=0},[]),p=w.useCallback((f,g)=>{r||!n||(f.preventDefault(),f.dataTransfer.dropEffect="move",i!==g&&o(g))},[n,i,r]),u=w.useCallback(f=>{r||!n||(f.preventDefault(),l.current++)},[n,r]),m=w.useCallback(()=>{r||!n||(l.current--,l.current===0&&o(null))},[n,r]),x=w.useCallback((f,g)=>{if(!(r||!n)){f.preventDefault(),f.stopPropagation();try{const b=JSON.parse(f.dataTransfer.getData("text/plain")).index;if(b===g)return;t(b,g)}catch(y){console.error("Failed to parse drag data:",y)}o(null),l.current=0}},[n,t,r]),h=w.useCallback(f=>i===f,[i]),v=w.useCallback(f=>(n==null?void 0:n.index)===f,[n]);return{handleDragStart:c,handleDragEnd:d,handleDragOver:p,handleDragEnter:u,handleDragLeave:m,handleDrop:x,isDraggedOver:h,isDragging:v,draggedItem:n}}function Tg(e,t){return{opacity:t?.5:1,transform:e?"scale(1.02)":"scale(1)",transition:"all 0.2s ease",cursor:t?"grabbing":"grab",border:e?"2px solid rgb(168 85 247)":"none",borderRadius:e?"0.5rem":"0",boxShadow:e?"0 0 20px rgba(168, 85, 247, 0.3)":"none"}}var _=(e=>(e.STEAM="steam",e.XBOX="xbox",e.PLAYSTATION="playstation",e.NINTENDO="nintendo",e.EPIC="epic",e.GOG="gog",e.ORIGIN="origin",e.UPLAY="uplay",e.BATTLENET="battlenet",e.DISCORD="discord",e.ITCH="itch",e.HUMBLE="humble",e.CUSTOM="custom",e.RETROARCH="retroarch",e.DOLPHIN="dolphin",e.PROJECT64="project64",e.PCSX2="pcsx2",e.RPCS3="rpcs3",e.CEMU="cemu",e.YUZU="yuzu",e.RYUJINX="ryujinx",e.MAME="mame",e.DOSBOX="dosbox",e.SCUMMVM="scummvm",e.VITA3K="vita3k",e.XEMU="xemu",e.MELONDS="melonds",e.PPSSPP="ppsspp",e.CITRA="citra",e.DESMUME="desmume",e))(_||{});const Oe={[_.RETROARCH]:[".zip",".7z",".rar",".nes",".snes",".gb",".gbc",".gba",".nds",".n64",".psx",".ps2",".iso",".bin",".cue"],[_.DOLPHIN]:[".iso",".gcz",".gcm",".wbfs",".wad",".rvz"],[_.PROJECT64]:[".z64",".n64",".v64",".rom",".zip"],[_.PCSX2]:[".iso",".bin",".img",".mds",".z"],[_.RPCS3]:[".iso",".bin",".img",".ps3"],[_.CEMU]:[".wud",".wux",".iso",".rpx"],[_.YUZU]:[".nsp",".xci",".nca"],[_.RYUJINX]:[".nsp",".xci",".nca"],[_.MAME]:[".zip",".7z",".chd",".cue",".bin"],[_.DOSBOX]:[".exe",".com",".bat",".conf"],[_.SCUMMVM]:[".scummvm",".exe",".com"],[_.VITA3K]:[".vpk",".zip"],[_.XEMU]:[".iso",".xiso",".cso",".z"],[_.MELONDS]:[".nds",".zip",".7z"],[_.PPSSPP]:[".iso",".cso",".pbp",".elf"],[_.CITRA]:[".3ds",".3dsx",".cia",".cxi"],[_.DESMUME]:[".nds",".zip"],[_.STEAM]:[],[_.XBOX]:[],[_.PLAYSTATION]:[],[_.NINTENDO]:[],[_.EPIC]:[],[_.GOG]:[],[_.ORIGIN]:[],[_.UPLAY]:[],[_.BATTLENET]:[],[_.DISCORD]:[],[_.ITCH]:[],[_.HUMBLE]:[],[_.CUSTOM]:[]},To=[{platform:_.RETROARCH,name:"RetroArch",romExtensions:Oe[_.RETROARCH],supportedSystems:["NES","SNES","GB","GBC","GBA","N64","PS1","Genesis","Arcade"],defaultArgs:["--fullscreen"]},{platform:_.DOLPHIN,name:"Dolphin",romExtensions:Oe[_.DOLPHIN],supportedSystems:["GameCube","Wii"],defaultArgs:["-b","-e"]},{platform:_.PROJECT64,name:"Project64",romExtensions:Oe[_.PROJECT64],supportedSystems:["Nintendo 64"],defaultArgs:[]},{platform:_.PCSX2,name:"PCSX2",romExtensions:Oe[_.PCSX2],supportedSystems:["PlayStation 2"],defaultArgs:["--fullscreen"]},{platform:_.CEMU,name:"Cemu",romExtensions:Oe[_.CEMU],supportedSystems:["Wii U"],defaultArgs:["-f"]},{platform:_.YUZU,name:"Yuzu",romExtensions:Oe[_.YUZU],supportedSystems:["Nintendo Switch"],defaultArgs:[]},{platform:_.RYUJINX,name:"Ryujinx",romExtensions:Oe[_.RYUJINX],supportedSystems:["Nintendo Switch"],defaultArgs:[]},{platform:_.MAME,name:"MAME",romExtensions:Oe[_.MAME],supportedSystems:["Arcade"],defaultArgs:[]},{platform:_.DOSBOX,name:"DOSBox",romExtensions:Oe[_.DOSBOX],supportedSystems:["DOS"],defaultArgs:[]},{platform:_.SCUMMVM,name:"ScummVM",romExtensions:Oe[_.SCUMMVM],supportedSystems:["Point & Click Adventure"],defaultArgs:["--fullscreen"]},{platform:_.PPSSPP,name:"PPSSPP",romExtensions:Oe[_.PPSSPP],supportedSystems:["PlayStation Portable"],defaultArgs:[]},{platform:_.CITRA,name:"Citra",romExtensions:Oe[_.CITRA],supportedSystems:["Nintendo 3DS"],defaultArgs:[]},{platform:_.DESMUME,name:"DeSmuME",romExtensions:Oe[_.DESMUME],supportedSystems:["Nintendo DS"],defaultArgs:[]}];class pj{async scanDirectory(t,r){const n={games:[],errors:[],scannedFiles:0,foundGames:0};try{const a=await this.getFilesInDirectory(t);n.scannedFiles=a.length;const i=r||Object.keys(Oe);for(const o of a){const l=this.getFileExtension(o.name),c=this.detectPlatformForExtension(l,i);if(c){const d=await this.createGameFromRom(o,c);n.games.push(d),n.foundGames++}}}catch(a){n.errors.push(`Failed to scan directory: ${a}`)}return n}async getFilesInDirectory(t){return new DataTransfer().files}getFileExtension(t){const r=t.lastIndexOf(".");return r!==-1?t.substring(r).toLowerCase():""}detectPlatformForExtension(t,r){for(const n of r){const a=Oe[n];if(a&&a.includes(t))return n}return null}async createGameFromRom(t,r){const n=To.find(c=>c.platform===r),a=t.name.replace(/\.[^/.]+$/,""),i=this.extractGameMetadata(a);return{...{id:`${r}-${t.name}`,title:i.title||a,description:i.description||`A ${(n==null?void 0:n.supportedSystems[0])||r} game`,platforms:[{code:r,name:(n==null?void 0:n.name)||r,icon:`/platforms/${r}.png`}],genres:i.genres||[],tags:i.tags||["Retro",(n==null?void 0:n.supportedSystems[0])||"Emulated"],coverImage:i.coverImage||"/assets/default-rom-cover.jpg",playStatus:"unplayed",isFavorite:!1,addedAt:new Date,hoursPlayed:0,userRating:void 0,globalRating:void 0,releaseYear:i.releaseYear,subgenres:[],emotionalTags:[]},romPath:t.path||"",emulatorConfig:n,fileSize:t.size}}extractGameMetadata(t){const r=t.replace(/\((USA|EUR|JPN|World|NTSC|PAL)\)/gi,"").replace(/\(Rev\s*[0-9]+\)/gi,"").replace(/\[.*?\]/g,"").replace(/\.(v[0-9]+|Rev\s*[0-9]+|Beta|Alpha|Demo)/gi,"").trim(),n=r.match(/\((19|20)\d{2}\)/),a=n?parseInt(n[0].slice(1,-1)):void 0;return{title:r.replace(/\(\d{4}\)/g,"").trim(),releaseYear:a,tags:["Retro","Emulated"]}}getEmulatorConfig(t){return To.find(r=>r.platform===t)}getSupportedPlatforms(){return To.map(t=>t.platform)}isEmulatorPlatform(t){return this.getSupportedPlatforms().includes(t)}}const Rg=new pj,hj=({game:e,isSelected:t=!1,isSelectable:r=!1,onSelect:n,capsuleImage:a,currentSession:i,onEdit:o,onDelete:l,index:c=0,onReorder:d,isDraggable:p=!1})=>{var L,U,Y,we,de;const[u,m]=w.useState(!1),[x,h]=w.useState(!1),v=At(),{actions:f}=Ae(),{handleDragStart:g,handleDragEnd:y,handleDragOver:b,handleDragEnter:j,handleDragLeave:N,handleDrop:E,isDraggedOver:k,isDragging:P}=Pg({items:[e],onReorder:d||(()=>{}),disabled:!p||!d}),T=c||0,M=!!P(T),F=Tg(k(T),M);w.useEffect(()=>{h(!0)},[]);const V=()=>{v(`/library/game/${e.id}`)},se=e.appId&&e.appId>0,X=(i==null?void 0:i.gameId)===e.id,Je=B=>{switch(B){case"playing":return"from-green-500 to-emerald-600";case"completed":return"from-blue-500 to-indigo-600";case"backlog":return"from-yellow-500 to-orange-600";case"abandoned":return"from-gray-500 to-gray-600";default:return"from-gray-500 to-gray-600"}},ee=(L=e.platforms)==null?void 0:L.some(B=>Rg.isEmulatorPlatform(B.code)),Fe=B=>{B.stopPropagation(),v(`/library/game/${e.id}`)},D=B=>{B.stopPropagation(),f.launchGame(e.id)},O=B=>{B.stopPropagation(),f.endCurrentSession()};return s.jsxs("div",{onClick:V,draggable:p,onDragStart:B=>g(B,T),onDragEnd:y,onDragOver:B=>b(B,T),onDragEnter:j,onDragLeave:N,onDrop:B=>E(B,T),style:F,className:`
        relative group cursor-pointer transition-all duration-500 transform
        ${t?"ring-4 ring-gaming-accent ring-offset-4 ring-offset-gaming-dark":""}
        ${x?"animate-fade-in":"opacity-0"}
        ${p?"cursor-grab active:cursor-grabbing":"cursor-pointer"}
      `,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[r&&s.jsx("div",{className:"absolute top-4 left-4 z-30",children:s.jsx("input",{type:"checkbox",checked:t,onChange:B=>{B.stopPropagation(),n==null||n(e,B.target.checked)},className:"w-6 h-6 rounded-lg border-2 border-gray-400 bg-gray-800/80 backdrop-blur-sm text-gaming-primary focus:ring-2 focus:ring-gaming-primary/50 cursor-pointer transition-all duration-200"})}),s.jsx("div",{className:`
        relative glass-morphism rounded-2xl overflow-hidden border border-gray-700/30 
        transition-all duration-500 transform
        ${u?"scale-105 border-gaming-primary/50 shadow-2xl shadow-gaming-primary/30":"scale-100"}
      `,children:s.jsxs("div",{className:"relative w-full h-80 overflow-hidden bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20",children:[a||e.coverImage||e.capsuleImage||e.headerImage||e.smallHeaderImage?s.jsx(Eg,{src:a||e.coverImage||e.capsuleImage||e.headerImage||e.smallHeaderImage,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:s.jsx("span",{className:"text-6xl text-gray-500",children:""})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.price&&e.price.discount_percent>0&&s.jsxs("div",{className:"absolute top-4 right-4 px-3 py-2 bg-red-500 rounded-lg text-white text-sm font-bold z-20 backdrop-blur-sm",children:["-",e.price.discount_percent,"%"]}),s.jsxs("div",{className:`
            absolute top-4 right-4 space-y-2 z-20 transition-all duration-300 transform
            ${u?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}
          `,children:[o&&s.jsx("button",{onClick:B=>{B.stopPropagation(),o(e)},className:"w-10 h-10 bg-blue-600/90 backdrop-blur-sm rounded-lg text-white hover:bg-blue-700 transition-all duration-200 hover:scale-110 border border-blue-500/30 flex items-center justify-center",children:""}),l&&s.jsx("button",{onClick:B=>{B.stopPropagation(),l(e)},className:"w-10 h-10 bg-red-600/90 backdrop-blur-sm rounded-lg text-white hover:bg-red-700 transition-all duration-200 hover:scale-110 border border-red-500/30 flex items-center justify-center",children:""})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[s.jsx("h3",{className:"text-white font-bold text-xl mb-3 line-clamp-2 transition-all duration-300 group-hover:text-gaming-primary leading-tight",children:e.title}),e.platforms&&e.platforms.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.platforms.slice(0,2).map(B=>s.jsx("span",{className:"px-3 py-1 bg-gray-800/90 backdrop-blur-sm rounded-lg text-xs text-gray-200 font-medium transition-all duration-200 hover:bg-gray-700 border border-gray-700/50",children:B.name},B.id)),ee&&s.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-lg text-xs text-purple-200 font-semibold border border-purple-500/30 flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Emulator"})]}),e.platforms&&e.platforms.length>2&&s.jsxs("span",{className:"px-3 py-1 bg-gray-700/70 backdrop-blur-sm rounded-lg text-xs text-gray-200 font-semibold border border-gray-600/40",children:["+",e.platforms.length-2]})]}),e.tags&&e.tags.length>0||e.genres&&e.genres.length>0?s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(e.tags||e.genres||[]).slice(0,2).map((B,z)=>{const qt=typeof B=="string"?B:B.name||B.description||"Unknown";return s.jsx("span",{className:"px-3 py-1 bg-gaming-accent/40 backdrop-blur-sm rounded-lg text-xs text-white font-semibold transition-all duration-200 hover:bg-gaming-accent/60 border border-gaming-accent/40",children:qt},z)}),((((U=e.tags)==null?void 0:U.length)||0)>2||(((Y=e.genres)==null?void 0:Y.length)||0)>2)&&s.jsxs("span",{className:"px-3 py-1 bg-gray-700/70 backdrop-blur-sm rounded-lg text-xs text-gray-200 font-semibold border border-gray-600/40",children:["+",Math.max(((we=e.tags)==null?void 0:we.length)||0,((de=e.genres)==null?void 0:de.length)||0)-2]})]}):null,s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:e.playStatus&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-900/50 backdrop-blur-sm rounded-lg",children:[s.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${Je(e.playStatus)} shadow-sm`}),s.jsx("span",{className:"text-xs text-white font-medium capitalize",children:e.playStatus})]})}),e.hoursPlayed!==void 0&&s.jsxs("span",{className:"text-xs text-gray-300 font-semibold bg-gray-900/50 backdrop-blur-sm px-3 py-1 rounded-lg",children:[Math.floor(e.hoursPlayed),"h"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Fe,className:"flex-1 px-4 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg text-sm font-semibold hover:opacity-90 transition-all duration-200 hover:scale-105 border border-gaming-primary/30",children:"Details"}),se&&s.jsx("button",{onClick:X?O:D,className:`px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-200 hover:scale-105 border ${X?"bg-red-600 text-white hover:bg-red-700 border-red-500/30":"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:opacity-90 border-green-500/30"}`,children:X?"End":"Play"})]})]})]})}),u&&s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-gaming-primary/20 to-gaming-secondary/20 blur-2xl -z-10 animate-pulse"})]})};function gj({items:e,itemHeight:t,containerHeight:r,renderItem:n,overscan:a=5,className:i=""}){const[o,l]=w.useState(0),c=w.useRef(null),d=w.useMemo(()=>{const h=Math.max(0,Math.floor(o/t)-a),v=Math.min(e.length-1,Math.ceil((o+r)/t)+a);return{startIndex:h,endIndex:v}},[o,t,r,a,e.length]),p=w.useCallback(()=>{c.current&&l(c.current.scrollTop)},[]),u=mj(p,16),m=e.length*t,x=w.useMemo(()=>e.slice(d.startIndex,d.endIndex+1),[e,d]);return s.jsx("div",{ref:c,className:`overflow-auto ${i}`,style:{height:r},onScroll:u,children:s.jsx("div",{style:{height:m,position:"relative"},children:x.map((h,v)=>{const f=d.startIndex+v,g=f*t;return s.jsx("div",{style:{position:"absolute",top:g,left:0,right:0,height:t},children:n(h,f)},f)})})})}function fj(e=600){const[t,r]=w.useState(e),n=w.useRef(null);return w.useEffect(()=>{const a=()=>{if(n.current){const i=n.current.getBoundingClientRect(),o=window.innerHeight-i.top-100;r(Math.max(400,o))}};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),{containerHeight:t,containerRef:n}}const yj=({game:e,isSelected:t=!1,isSelectable:r=!1,onSelect:n,capsuleImage:a,currentSession:i,onEdit:o,onDelete:l,index:c=0,onReorder:d,isDraggable:p=!1})=>{var U,Y,we,de,B;const[u,m]=w.useState(!1),[x,h]=w.useState(!1),v=At(),{actions:f}=Ae(),{handleDragStart:g,handleDragEnd:y,handleDragOver:b,handleDragEnter:j,handleDragLeave:N,handleDrop:E,isDraggedOver:k,isDragging:P}=Pg({items:[e],onReorder:d||(()=>{}),disabled:!p||!d}),T=c||0,M=!!P(T),F=Tg(k(T),M);Math.random()<.05&&console.log(` GameCard Debug: ${e.title}`,{tags:e.tags,platforms:e.platforms,hoursPlayed:e.hoursPlayed,playStatus:e.playStatus,genres:e.genres}),w.useEffect(()=>{h(!0)},[]);const V=()=>{v(`/library/game/${e.id}`)},se=e.appId&&e.appId>0,X=(i==null?void 0:i.gameId)===e.id,Je=z=>{switch(z){case"playing":return"from-green-500 to-emerald-600";case"completed":return"from-blue-500 to-indigo-600";case"backlog":return"from-yellow-500 to-orange-600";case"abandoned":return"from-gray-500 to-gray-600";default:return"from-gray-500 to-gray-600"}},ee=z=>{switch(z){case"playing":return"";case"completed":return"";case"backlog":return"";case"abandoned":return"";default:return""}},Fe=(U=e.platforms)==null?void 0:U.some(z=>Rg.isEmulatorPlatform(z.code)),D=z=>{z.stopPropagation(),v(`/library/game/${e.id}`)},O=z=>{z.stopPropagation(),f.launchGame(e.id)},L=z=>{z.stopPropagation(),f.endCurrentSession()};return s.jsxs("div",{onClick:V,draggable:p,onDragStart:z=>g(z,T),onDragEnd:y,onDragOver:z=>b(z,T),onDragEnter:j,onDragLeave:N,onDrop:z=>E(z,T),style:F,className:`
        relative group cursor-pointer transition-all duration-300 transform
        ${t?"ring-2 ring-gaming-accent ring-offset-2 ring-offset-gaming-dark":""}
        ${x?"animate-fade-in":"opacity-0"}
        hover:shadow-2xl hover:shadow-gaming-accent/40
        ${p?"cursor-grab":"cursor-pointer"}
      `,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[s.jsxs("div",{className:"glass-morphism rounded-2xl overflow-hidden border border-gray-700/30 transition-all duration-300 group-hover:border-gaming-primary/50 group-hover:shadow-2xl group-hover:shadow-gaming-accent/30",children:[r&&s.jsx("div",{className:"absolute top-3 left-3 z-20",children:s.jsx("input",{type:"checkbox",checked:t,onChange:z=>{z.stopPropagation(),n==null||n(e,z.target.checked)},className:"w-5 h-5 rounded border-2 border-gray-400 bg-gray-800 text-gaming-primary focus:ring-2 focus:ring-gaming-primary/50 cursor-pointer"})}),s.jsxs("div",{className:"relative w-full h-52 overflow-hidden bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20",children:[a||e.coverImage||e.capsuleImage||e.headerImage||e.smallHeaderImage?s.jsx(Eg,{src:a||e.coverImage||e.capsuleImage||e.headerImage||e.smallHeaderImage,alt:e.title,className:"w-full h-full"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800",children:s.jsx("span",{className:"text-4xl text-gray-500",children:""})}),e.price&&e.price.discount_percent>0&&s.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-red-500 rounded text-white text-xs font-bold z-10",children:["-",e.price.discount_percent,"%"]}),s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent p-5 flex flex-col justify-end",children:[s.jsx("h3",{className:"text-white font-bold text-lg mb-3 line-clamp-2 transition-all duration-200 group-hover:text-gaming-primary leading-tight",children:e.title}),e.platforms&&e.platforms.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[e.platforms.map(z=>s.jsx("span",{className:"px-2.5 py-1 bg-gray-800/90 backdrop-blur-sm rounded-md text-xs text-gray-200 font-medium transition-all duration-200 hover:bg-gray-700 border border-gray-700/50",children:z.name},z.id)),Fe&&s.jsxs("span",{className:"px-2.5 py-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-md text-xs text-purple-200 font-semibold border border-purple-500/30 flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Emulator"})]})]}),e.tags&&e.tags.length>0||e.genres&&e.genres.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[e.tags&&e.tags.length>0&&e.tags.slice(0,3).map(z=>s.jsx("span",{className:"px-2.5 py-1 bg-gaming-accent/40 backdrop-blur-sm rounded-md text-xs text-white font-semibold transition-all duration-200 hover:bg-gaming-accent/60 border border-gaming-accent/40 hover:scale-105",children:z},z)),(!e.tags||e.tags.length===0)&&e.genres&&e.genres.slice(0,3).map(z=>s.jsx("span",{className:"px-2.5 py-1 bg-blue-500/40 backdrop-blur-sm rounded-md text-xs text-white font-semibold transition-all duration-200 hover:bg-blue-500/60 border border-blue-400/40 hover:scale-105",children:typeof z=="string"?z:z.name||z.description||"Genre"},typeof z=="string"?z:z.name||z.description||"Genre")),((((Y=e.tags)==null?void 0:Y.length)||0)>3||(((we=e.genres)==null?void 0:we.length)||0)>3)&&s.jsxs("span",{className:"px-2.5 py-1 bg-gray-700/70 backdrop-blur-sm rounded-md text-xs text-gray-200 font-semibold border border-gray-600/40",children:["+",Math.max(((de=e.tags)==null?void 0:de.length)||0,((B=e.genres)==null?void 0:B.length)||0)-3]},"more-items")]}):s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:s.jsx("span",{className:"px-2.5 py-1 bg-gray-600/50 backdrop-blur-sm rounded-md text-xs text-gray-200 font-semibold border border-gray-500/40",children:"Action"},"action")}),s.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-700/30",children:[s.jsx("div",{className:"flex items-center gap-2",children:e.playStatus&&s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-gray-900/50 backdrop-blur-sm rounded-md",children:[s.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${Je(e.playStatus)} shadow-sm transition-all duration-200`}),s.jsx("span",{className:"text-xs text-white font-medium",children:ee(e.playStatus)}),s.jsx("span",{className:"text-xs text-gray-200 capitalize font-medium transition-all duration-200 group-hover:text-white",children:e.playStatus})]})}),e.hoursPlayed!==void 0&&s.jsx("span",{className:"text-xs text-gray-300 font-semibold bg-gray-900/50 backdrop-blur-sm px-2 py-1 rounded-md transition-all duration-200 group-hover:text-white",children:Math.floor(e.hoursPlayed)})]}),e.achievements&&e.achievements.total>0&&s.jsx("div",{className:"flex items-center gap-2 mb-3",children:s.jsxs("span",{className:"text-xs text-gray-300 bg-gray-900/50 backdrop-blur-sm px-2 py-1 rounded-md font-medium",children:[e.achievements.unlocked,"/",e.achievements.total," Achievements"]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:D,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg text-sm font-semibold hover:opacity-90 transition-all duration-200 hover:scale-105 hover:shadow-lg hover:shadow-gaming-primary/40 border border-gaming-primary/30 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-base",children:""}),s.jsx("span",{children:"Details"})]}),se&&s.jsxs("button",{onClick:X?L:O,className:`px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 hover:scale-105 flex items-center justify-center gap-2 border ${X?"bg-red-600 text-white hover:bg-red-700 hover:shadow-lg hover:shadow-red-600/40 border-red-500/30":"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:opacity-90 hover:shadow-lg hover:shadow-green-600/40 border-green-500/30"}`,children:[s.jsx("span",{className:"text-base",children:X?"":""}),s.jsx("span",{children:X?"End":"Play"})]})]}),(o||l)&&s.jsxs("div",{className:"flex gap-2",children:[o&&s.jsxs("button",{onClick:z=>{z.stopPropagation(),o(e)},className:"flex-1 px-3 py-2 bg-blue-600/90 backdrop-blur-sm rounded-lg text-xs text-white font-semibold hover:bg-blue-700 transition-all duration-200 hover:scale-105 border border-blue-500/30 hover:shadow-lg hover:shadow-blue-600/30 flex items-center justify-center gap-1.5",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Edit"})]}),l&&s.jsxs("button",{onClick:z=>{z.stopPropagation(),l(e)},className:"flex-1 px-3 py-2 bg-red-600/90 backdrop-blur-sm rounded-lg text-xs text-white font-semibold hover:bg-red-700 transition-all duration-200 hover:scale-105 border border-red-500/30 hover:shadow-lg hover:shadow-red-600/30 flex items-center justify-center gap-1.5",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Delete"})]})]})]})]})]})]}),u&&s.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-gaming-primary/20 to-gaming-secondary/20 blur-xl -z-10 animate-glow-pulse"})]})};function xj({games:e,isBulkSelectMode:t,selectedGames:r,onSelectGame:n,onEditGame:a,onDeleteGame:i,onReorderGame:o,isDraggable:l=!1,className:c=""}){const{containerHeight:d,containerRef:p}=fj(600),m=(()=>{if(typeof window>"u")return 3;const g=window.innerWidth;return g>=1536?4:g>=1024?3:g>=640?2:1})(),x=320,h=24,v=[];for(let g=0;g<e.length;g+=m)v.push(e.slice(g,g+m));const f=(g,y)=>s.jsxs("div",{className:"grid gap-6",style:{gridTemplateColumns:`repeat(${m}, minmax(0, 1fr))`,gap:`${h}px`},children:[g.map((b,j)=>s.jsx(yj,{game:b,index:y*m+j,isSelectable:t,isSelected:r.has(b.id),onSelect:n,onEdit:a,onDelete:i,onReorder:o,isDraggable:l},b.id)),g.length<m&&Array.from({length:m-g.length}).map((b,j)=>s.jsx("div",{className:"w-full"},`empty-${y}-${j}`))]});return e.length===0?s.jsx("div",{ref:p,className:"w-full",children:s.jsxs("div",{className:"glass-morphism rounded-2xl p-12 text-center border border-gray-700/30",children:[s.jsx("div",{className:"text-7xl mb-6 animate-float",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"No games found"}),s.jsx("p",{className:"text-gray-400 mb-8 text-base max-w-md mx-auto",children:"Try adjusting your search terms or filters"})]})}):s.jsx("div",{ref:p,className:`w-full ${c}`,children:s.jsx(gj,{items:v,itemHeight:x,containerHeight:d,renderItem:f,overscan:2,className:"w-full"})})}const vj=()=>s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/10 via-purple-900/5 to-pink-900/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-black/20 to-black/40"}),s.jsx("div",{className:"absolute inset-0",children:[...Array(8)].map((e,t)=>s.jsx("div",{className:"absolute w-1 h-1 bg-white/10 rounded-full animate-pulse",style:{left:`${10+t*12}%`,top:`${20+t%3*30}%`,animationDelay:`${t*.8}s`,animationDuration:"4s"}},t))}),s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"radial-gradient(ellipse at 30% 20%, rgba(99, 102, 241, 0.1) 0%, transparent 50%)",filter:"blur(60px)"}}),s.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:"radial-gradient(ellipse at 70% 80%, rgba(168, 85, 247, 0.1) 0%, transparent 50%)",filter:"blur(80px)"}})]}),s.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.1'/%3E%3C/svg%3E")`,backgroundSize:"100px 100px"}})]}),bj=({gamesCount:e,onAddGame:t,onImportSteam:r,onAddReview:n,onToggleBulkSelect:a,isBulkSelectMode:i,onSelectAll:o,onDeselectAll:l,selectedCount:c,totalCount:d,onDeleteSelected:p,onGenerateTestGames:u,hasGames:m})=>s.jsx("div",{className:"glass-morphism rounded-2xl p-6 mb-8 border border-gray-700/30",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold bg-gradient-to-r from-white via-gray-100 to-gray-300 bg-clip-text text-transparent",children:"Game Library"}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-400 text-base",children:[s.jsxs("span",{children:[e," ",e===1?"game":"games"," in your collection"]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-600",children:""}),s.jsxs("span",{className:"text-gaming-accent font-medium",children:[c," of ",d," selected"]})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:a,className:"px-4 py-3 bg-gray-700 text-gray-300 font-medium rounded-lg hover:bg-gray-600 transition-all duration-200",children:"Cancel"}),s.jsx("button",{onClick:c===d?l:o,className:"px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200",children:c===d?"Deselect All":"Select All"}),c>0&&s.jsxs("button",{onClick:p,className:"px-4 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-all duration-200",children:["Delete (",c,")"]})]}):s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white font-medium rounded-lg hover:opacity-90 hover:shadow-lg hover:shadow-gaming-primary/30 transition-all duration-200",children:"Add Game"}),s.jsx("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg hover:opacity-90 hover:shadow-lg hover:shadow-blue-600/30 transition-all duration-200 flex items-center gap-2",children:" Import Steam"}),s.jsx("button",{onClick:n,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:opacity-90 hover:shadow-lg hover:shadow-purple-600/30 transition-all duration-200 flex items-center gap-2",children:" Add Review"}),s.jsx(bg,{variant:"button",className:"w-auto",onSurprise:x=>{console.log("Surprise game selected:",x.title);const h=document.getElementById(`game-${x.id}`);h&&(h.scrollIntoView({behavior:"smooth",block:"center"}),h.classList.add("ring-4","ring-gaming-primary","ring-offset-4","ring-offset-gray-900"),setTimeout(()=>{h.classList.remove("ring-4","ring-gaming-primary","ring-offset-4","ring-offset-gray-900")},2e3))}}),s.jsx("button",{onClick:a,className:"px-4 py-3 bg-gray-700 text-gray-300 font-medium rounded-lg hover:bg-gray-600 transition-all duration-200",children:"Select"}),!m&&u&&s.jsx("button",{onClick:u,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-medium rounded-lg hover:opacity-90 hover:shadow-lg hover:shadow-purple-600/30 transition-all duration-200 flex items-center gap-2",children:" Generate Test Library"})]})})]})});class hi{static async searchGames(t,r=10){try{const n=`${this.SEARCH_URL}?query=${encodeURIComponent(t)}&limit=${r}&productType=game&sortBy=popularity&order=desc`,a=await fetch(n,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!a.ok)throw new Error(`GOG API Error: ${a.status}`);const i=await a.json();return i.products?i.products.map(this.transformGOGGame):[]}catch(n){return console.error("GOG Search Error:",n),[]}}static async getGameDetails(t){try{const r=`${this.BASE_URL}/products/${t}`,n=await fetch(r,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!n.ok)throw new Error(`GOG API Error: ${n.status}`);const a=await n.json();return this.transformGOGGame(a)}catch(r){return console.error("GOG Game Details Error:",r),null}}static getGOGStoreUrl(t){return`https://www.gog.com/game/${t}`}static getGOGLauncherUrl(t){return`goggalaxy://openGame/${t}`}static transformGOGGame(t){var r;return{id:t.id||t.slug,title:t.title||t.name,slug:t.slug,url:t.url||`https://www.gog.com/game/${t.slug}`,image:t.coverHorizontal||t.image||t.cover,price:((r=t.price)==null?void 0:r.amount)||"Free",developers:t.developers||[],genres:t.genres||[],platforms:t.platforms||[],releaseDate:t.releaseDate||t.release_date,description:t.description||t.summary||""}}static convertGOGGameToGame(t){return{title:t.title,launcherId:t.id,platforms:["GOG"],status:"backlog",playtime:0,coverImage:t.image,genres:t.genres,tags:[],achievements:{unlocked:0,total:0},description:t.description}}static extractGOGIdFromUrl(t){const r=t.match(/gog\.com\/game\/([^\/\?]+)/);return r?r[1]:null}static extractGOGIdFromStoreUrl(t){const r=t.match(/gog\.com\/en\/game\/([^\/\?]+)/);return r?r[1]:null}}Ne(hi,"BASE_URL","https://api.gog.com/v2"),Ne(hi,"SEARCH_URL","https://catalog.gog.com/v1/catalog");class zl{static async searchWithCache(t){const r=t.toLowerCase().trim();if(this.searchCache.has(r))return this.searchCache.get(r);const n=await hi.searchGames(t);return this.searchCache.set(r,n),setTimeout(()=>{this.searchCache.delete(r)},this.cacheTimeout),n}static clearCache(){this.searchCache.clear()}}Ne(zl,"searchCache",new Map),Ne(zl,"cacheTimeout",5*60*1e3);const wj=({onGameSelect:e,placeholder:t="Search GOG games..."})=>{const[r,n]=w.useState(""),[a,i]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1);w.useEffect(()=>{const x=setTimeout(async()=>{if(r.trim().length<2){i([]),d(!1);return}l(!0);try{const h=await zl.searchWithCache(r);i(h.slice(0,8)),d(!0)}catch(h){console.error("GOG search error:",h),i([])}finally{l(!1)}},300);return()=>clearTimeout(x)},[r]);const p=m=>{e(m),n(""),i([]),d(!1)},u=m=>{m.key==="Escape"&&d(!1)};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:r,onChange:m=>n(m.target.value),onFocus:()=>r.trim().length>=2&&d(!0),onKeyDown:u,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:t}),o&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gaming-accent"})})]}),c&&a.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:a.map(m=>s.jsxs("div",{onClick:()=>p(m),className:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer border-b border-gray-700 last:border-b-0",children:[s.jsx("img",{src:m.image,alt:m.title,className:"w-12 h-12 rounded object-cover",onError:x=>{x.currentTarget.src="https://via.placeholder.com/48x48/8b5cf6/ffffff?text=GOG"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-medium truncate",children:m.title}),s.jsx("p",{className:"text-gray-400 text-sm truncate",children:m.genres.slice(0,2).join(", ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-gaming-accent text-sm font-medium",children:m.price==="0"?"Free":`$${m.price}`}),s.jsx("div",{className:"text-gray-500 text-xs",children:m.platforms.slice(0,2).join(", ")})]})]},m.id))}),c&&r.trim().length>=2&&a.length===0&&!o&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4",children:s.jsxs("p",{className:"text-gray-400 text-center",children:['No GOG games found for "',r,'"']})})]})},gi=({options:e,selected:t,onChange:r,placeholder:n="Select options...",className:a=""})=>{const[i,o]=w.useState(!1),[l,c]=w.useState(""),d=w.useRef(null),p=e.filter(h=>h.toLowerCase().includes(l.toLowerCase())&&!t.includes(h));w.useEffect(()=>{const h=v=>{d.current&&!d.current.contains(v.target)&&(o(!1),c(""))};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const u=h=>{r([...t,h]),c("")},m=h=>{r(t.filter(v=>v!==h))},x=h=>{h.key==="Enter"&&i&&p.length>0?u(p[0]):h.key==="Escape"&&(o(!1),c(""))};return s.jsxs("div",{ref:d,className:`relative ${a}`,children:[s.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>o(!i),children:t.length===0?s.jsx("span",{className:"text-gray-400",children:n}):s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(h=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[h,s.jsx("button",{onClick:v=>{v.stopPropagation(),m(h)},className:"hover:text-gaming-secondary transition-colors",children:""})]},h))})}),i&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-gray-700",children:s.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:h=>c(h.target.value),onKeyDown:x,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),p.length===0?s.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:l?"No options found":"All options selected"}):p.map(h=>s.jsx("div",{onClick:()=>u(h),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:h},h))]})]})},Xc=[{id:"action",name:"Action",description:"Fast-paced games emphasizing physical challenges",color:"from-red-500 to-orange-600",tags:["fast-paced","intense","reflexes","combat"]},{id:"adventure",name:"Adventure",description:"Games focused on exploration and storytelling",color:"from-green-500 to-emerald-600",tags:["exploration","story","discovery","puzzle"]},{id:"rpg",name:"RPG",description:"Role-playing games with character progression",color:"from-purple-500 to-pink-600",tags:["character-development","story-rich","strategy","fantasy"]},{id:"strategy",name:"Strategy",description:"Games requiring tactical thinking and planning",color:"from-blue-500 to-indigo-600",tags:["tactical","planning","resource-management","thinking"]},{id:"simulation",name:"Simulation",description:"Games that simulate real-world activities",color:"from-yellow-500 to-amber-600",tags:["realistic","management","building","lifelike"]},{id:"sports",name:"Sports",description:"Games based on athletic competitions",color:"from-cyan-500 to-teal-600",tags:["competitive","athletic","team-based","physical"]},{id:"racing",name:"Racing",description:"Games focused on speed and vehicle control",color:"from-pink-500 to-rose-600",tags:["speed","vehicles","competition","precision"]},{id:"puzzle",name:"Puzzle",description:"Games that challenge problem-solving skills",color:"from-indigo-500 to-purple-600",tags:["brain-teaser","logic","problem-solving","clever"]},{id:"platformer",name:"Platformer",description:"Games involving jumping and navigating platforms",color:"from-orange-500 to-red-600",tags:["jumping","precision","navigation","skill-based"]},{id:"horror",name:"Horror",description:"Games designed to scare and unsettle players",color:"from-gray-700 to-gray-900",tags:["scary","atmospheric","suspense","dark"]},{id:"casual",name:"Casual",description:"Easy-to-play games for relaxation",color:"from-lime-500 to-green-600",tags:["relaxing","simple","accessible","time-filler"]},{id:"multiplayer",name:"Multiplayer",description:"Games designed for multiple players",color:"from-teal-500 to-cyan-600",tags:["social","teamwork","competitive","community"]}],Zc=[{id:"chill",name:"Chill",description:"Relaxed and laid-back gaming sessions",emoji:"",color:"from-blue-400 to-cyan-500",associatedGenres:["casual","simulation","puzzle"],intensity:"low"},{id:"competitive",name:"Competitive",description:"Intense gaming with focus on winning",emoji:"",color:"from-red-500 to-orange-600",associatedGenres:["action","sports","multiplayer"],intensity:"high"},{id:"story",name:"Story",description:"Immersive narrative experiences",emoji:"",color:"from-purple-500 to-pink-600",associatedGenres:["rpg","adventure"],intensity:"medium"},{id:"creative",name:"Creative",description:"Building and expressing creativity",emoji:"",color:"from-green-500 to-emerald-600",associatedGenres:["simulation","casual","puzzle"],intensity:"medium"},{id:"social",name:"Social",description:"Playing and connecting with others",emoji:"",color:"from-teal-500 to-cyan-600",associatedGenres:["multiplayer","sports","casual"],intensity:"medium"},{id:"focused",name:"Focused",description:"Deep concentration and strategic thinking",emoji:"",color:"from-indigo-500 to-purple-600",associatedGenres:["strategy","puzzle","rpg"],intensity:"high"},{id:"energetic",name:"Energetic",description:"High-energy, exciting gameplay",emoji:"",color:"from-yellow-500 to-orange-600",associatedGenres:["action","racing","platformer"],intensity:"high"},{id:"exploratory",name:"Exploratory",description:"Discovering new worlds and secrets",emoji:"",color:"from-green-500 to-teal-600",associatedGenres:["adventure","rpg","simulation"],intensity:"medium"}],jj=[{id:"cozy",name:"Cozy",category:"gameplay",description:"Comforting and relaxing gameplay",color:"text-amber-400"},{id:"sweaty",name:"Sweaty",category:"gameplay",description:"Intense and challenging gameplay",color:"text-red-400"},{id:"story-heavy",name:"Story-Heavy",category:"gameplay",description:"Rich narrative focus",color:"text-purple-400"},{id:"sandbox",name:"Sandbox",category:"gameplay",description:"Open-ended creative freedom",color:"text-green-400"},{id:"roguelike",name:"Roguelike",category:"gameplay",description:"Procedural generation with permadeath",color:"text-orange-400"},{id:"turn-based",name:"Turn-Based",category:"gameplay",description:"Strategic, non-real-time gameplay",color:"text-blue-400"},{id:"real-time",name:"Real-Time",category:"gameplay",description:"Continuous action gameplay",color:"text-red-500"},{id:"pixel-perfect",name:"Pixel-Perfect",category:"gameplay",description:"Precise platforming or controls",color:"text-pink-400"},{id:"atmospheric",name:"Atmospheric",category:"atmosphere",description:"Immersive and mood-setting",color:"text-indigo-400"},{id:"relaxing",name:"Relaxing",category:"atmosphere",description:"Calming and stress-free",color:"text-cyan-400"},{id:"intense",name:"Intense",category:"atmosphere",description:"High-stakes and exciting",color:"text-red-600"},{id:"mysterious",name:"Mysterious",category:"atmosphere",description:"Intriguing and enigmatic",color:"text-purple-600"},{id:"wholesome",name:"Wholesome",category:"atmosphere",description:"Heartwarming and positive",color:"text-pink-300"},{id:"dark",name:"Dark",category:"atmosphere",description:"Mature and serious themes",color:"text-gray-600"},{id:"easy",name:"Easy",category:"difficulty",description:"Accessible and forgiving",color:"text-green-500"},{id:"challenging",name:"Challenging",category:"difficulty",description:"Tests player skills",color:"text-orange-500"},{id:"brutal",name:"Brutal",category:"difficulty",description:"Extremely difficult",color:"text-red-700"},{id:"single-player",name:"Single-Player",category:"social",description:"Solo gaming experience",color:"text-blue-500"},{id:"co-op",name:"Co-op",category:"social",description:"Cooperative multiplayer",color:"text-teal-500"},{id:"pvp",name:"PvP",category:"social",description:"Player versus player",color:"text-red-500"},{id:"community-driven",name:"Community-Driven",category:"social",description:"Relies on player community",color:"text-purple-500"},{id:"fantasy",name:"Fantasy",category:"theme",description:"Magic and mythical settings",color:"text-purple-400"},{id:"sci-fi",name:"Sci-Fi",category:"theme",description:"Science fiction settings",color:"text-cyan-400"},{id:"modern",name:"Modern",category:"theme",description:"Contemporary settings",color:"text-gray-400"},{id:"historical",name:"Historical",category:"theme",description:"Historical periods",color:"text-amber-600"},{id:"post-apocalyptic",name:"Post-Apocalyptic",category:"theme",description:"End-of-world scenarios",color:"text-gray-700"}],Ig=({selected:e,onChange:t,placeholder:r="Select tags...",className:n=""})=>{const[a,i]=w.useState(!1),[o,l]=w.useState(""),[c,d]=w.useState(""),p=w.useRef(null),u=jj.filter(f=>f.name.toLowerCase().includes(o.toLowerCase())&&!e.includes(f.name));w.useEffect(()=>{const f=g=>{p.current&&!p.current.contains(g.target)&&(i(!1),l(""),d(""))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const m=f=>{t([...e,f]),l("")},x=f=>{t(e.filter(g=>g!==f))},h=()=>{const f=c.trim();f&&!e.includes(f)&&(t([...e,f]),d(""),l(""))},v=f=>{f.key==="Enter"?(f.preventDefault(),u.length===0&&c.trim()?h():u.length>0&&m(u[0].name)):f.key==="Escape"&&(i(!1),l(""),d(""))};return s.jsxs("div",{ref:p,className:`relative ${n}`,children:[s.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>i(!a),children:e.length===0?s.jsx("span",{className:"text-gray-400",children:r}):s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(f=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[f,s.jsx("button",{onClick:g=>{g.stopPropagation(),x(f)},className:"hover:text-gaming-secondary transition-colors",children:""})]},f))})}),a&&s.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-gray-700",children:s.jsx("input",{type:"text",placeholder:"Search or add custom tag...",value:c||o,onChange:f=>{const g=f.target.value;g.startsWith("+")||g.startsWith("#")?(d(g),l("")):(l(g),d(""))},onKeyDown:v,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),c&&s.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 border-b border-gray-700",children:['Press Enter to add custom tag: "',c,'"']}),u.length===0&&!c?s.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:o?"No tags found":"All tags selected"}):u.map(f=>s.jsxs("div",{onClick:()=>m(f.name),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:f.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${f.color} bg-gray-900`,children:f.category.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:f.description})]},f.id))]})]})},Nj=({isOpen:e,onClose:t,onAddGame:r})=>{const[n,a]=w.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"backlog",status:"backlog",coverImage:"",launcherId:""}),[i,o]=w.useState("manual"),l=p=>{var m;const u=hi.convertGOGGameToGame(p);a({title:u.title||"",genres:((m=u.genres)==null?void 0:m.map(x=>x.name))||[],moods:[],platforms:u.platforms||[],playStatus:"backlog",status:"backlog",tags:u.tags||[],coverImage:u.coverImage||"",launcherId:u.launcherId||""})},c=async p=>{p.preventDefault();try{const u={title:n.title,genres:n.genres.map(m=>({id:m.toLowerCase().replace(/\s+/g,"-"),name:m,color:"#"+Math.floor(Math.random()*16777215).toString(16),subgenres:[]})),platforms:n.platforms.map(m=>({id:m,name:m.charAt(0).toUpperCase()+m.slice(1),code:m,isConnected:!1})),playStatus:n.playStatus,tags:n.tags,coverImage:n.coverImage||"",hoursPlayed:0,userRating:void 0,achievements:{unlocked:0,total:0},launcherId:n.launcherId||void 0,addedAt:new Date,releaseYear:new Date().getFullYear(),subgenres:[],emotionalTags:n.moods.map(m=>m),isFavorite:!1,notes:"",globalRating:void 0,lastPlayed:void 0,totalPlaytime:0,averageRating:void 0,completionPercentage:void 0};console.log(" Adding game:",u),r(u),t()}catch(u){console.error(" Failed to add game:",u),Ze.error("Failed to add game. Please try again.")}},d=p=>{a(u=>({...u,platforms:u.platforms.includes(p)?u.platforms.filter(m=>m!==p):[...u.platforms,p]}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Game"}),s.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Add From Platform"}),s.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select platform to add game from",children:[s.jsx("option",{value:"manual",children:" Manual Entry"}),s.jsx("option",{value:"steam",children:" Steam Search"}),s.jsx("option",{value:"gog",children:" GOG Search"})]})]}),i==="gog"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search GOG Games"}),s.jsx(wj,{onGameSelect:l,placeholder:"Search GOG catalog..."})]}),i==="steam"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Steam Games"}),s.jsx("div",{className:"text-gray-400 text-sm p-3 bg-gray-800 rounded-lg",children:"Steam search coming soon! Use Steam Import for full library access."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),s.jsx("input",{type:"text",required:!0,value:n.title,onChange:p=>a(u=>({...u,title:p.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Enter game title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),s.jsx(gi,{options:Xc.map(p=>p.name),selected:n.genres,onChange:p=>a(u=>({...u,genres:p})),placeholder:"Select genres..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),s.jsx(gi,{options:Zc.map(p=>p.name),selected:n.moods,onChange:p=>a(u=>({...u,moods:p})),placeholder:"Select moods..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["steam","epic","gog"].map(p=>s.jsxs("label",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:n.platforms.includes(p),onChange:()=>d(p),className:"rounded border-gray-600 bg-gray-700 text-gaming-primary focus:ring-gaming-primary"}),s.jsx("span",{className:"text-sm capitalize",children:p})]},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:n.status,onChange:p=>a(u=>({...u,status:p.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select game status",children:[s.jsx("option",{value:"backlog",children:" Backlog"}),s.jsx("option",{value:"playing",children:" Playing"}),s.jsx("option",{value:"completed",children:" Completed"}),s.jsx("option",{value:"abandoned",children:" Abandoned"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Launcher ID"}),s.jsx("input",{type:"text",value:n.launcherId,onChange:p=>a(u=>({...u,launcherId:p.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Steam App ID, Epic Catalog ID, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),s.jsx(Ig,{selected:n.tags,onChange:p=>a(u=>({...u,tags:p})),placeholder:"Select or add tags..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),s.jsx("input",{type:"url",value:n.coverImage,onChange:p=>a(u=>({...u,coverImage:p.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"https://example.com/cover.jpg"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Add Game"})]})]})]})})}):null},Sj=({size:e="md",className:t=""})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return s.jsx("div",{className:`inline-block animate-spin ${r[e]} ${t}`,children:s.jsxs("svg",{className:"w-full h-full text-gaming-primary",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},bn=({children:e,message:t="Loading...",size:r="lg",fullScreen:n=!1,className:a=""})=>{const i=s.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${a}`,children:[s.jsx(Sj,{size:r}),t&&s.jsx("p",{className:"text-gray-300 text-center animate-pulse",children:t}),e]});return n?s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker z-50 flex items-center justify-center",children:s.jsx("div",{className:"glass-morphism rounded-xl p-8 border border-white/10",children:i})}):i},kj=({isOpen:e,onClose:t,game:r,onUpdateGame:n})=>{const[a,i]=w.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"unplayed",hoursPlayed:0,userRating:void 0,notes:"",coverImage:"",launcherId:"",isFavorite:!1,totalPlaytime:void 0,averageRating:void 0,completionPercentage:void 0}),[o,l]=w.useState(!1),[c,d]=w.useState(null);w.useEffect(()=>{var m,x,h;r&&i({title:r.title||"",genres:((m=r.genres)==null?void 0:m.map(v=>v.name))||[],moods:((x=r.emotionalTags)==null?void 0:x.map(v=>typeof v=="string"?v:v.name))||[],platforms:((h=r.platforms)==null?void 0:h.map(v=>v.code))||[],playStatus:r.playStatus||"unplayed",tags:r.tags||[],hoursPlayed:r.hoursPlayed||0,userRating:r.userRating||void 0,notes:r.notes||"",coverImage:r.coverImage||"",launcherId:r.launcherId||"",isFavorite:r.isFavorite||!1,totalPlaytime:r.totalPlaytime||void 0,averageRating:r.averageRating||void 0,completionPercentage:r.completionPercentage||void 0})},[r]);const p=async m=>{if(m.preventDefault(),!!r){l(!0),d(null);try{const x={title:a.title,genres:a.genres.map(h=>({id:h.toLowerCase().replace(/\s+/g,"-"),name:h,color:"#"+Math.floor(Math.random()*16777215).toString(16),subgenres:[]})),platforms:a.platforms.map(h=>({id:h,name:h,code:h,isConnected:!1})),playStatus:a.playStatus,tags:a.tags,hoursPlayed:a.hoursPlayed,userRating:a.userRating||0,notes:a.notes,isFavorite:a.isFavorite,emotionalTags:a.moods.map(h=>h)};await n(r.id,x),t()}catch(x){d(x instanceof Error?x.message:"Failed to update game")}finally{l(!1)}}},u=(m,x)=>{i(h=>({...h,[m]:x}))};return!e||!r?null:s.jsx(ke,{children:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Game"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),s.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[c&&s.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30",children:s.jsx("p",{className:"text-red-400 text-sm",children:c})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:a.title,onChange:m=>u("title",m.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"Enter game title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),s.jsx(gi,{options:Xc.map(m=>m.name),selected:a.genres,onChange:m=>u("genres",m),placeholder:"Select genres..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),s.jsx(gi,{options:Zc.map(m=>m.name),selected:a.moods,onChange:m=>u("moods",m),placeholder:"Select moods..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["steam","epic","gog","manual"].map(m=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.platforms.includes(m),onChange:x=>{const h=x.target.checked?[...a.platforms,m]:a.platforms.filter(v=>v!==m);u("platforms",h)},className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),s.jsx("span",{className:"text-sm text-gray-300 capitalize",children:m})]},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Play Status"}),s.jsxs("select",{value:a.playStatus,onChange:m=>u("playStatus",m.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-gaming-primary/50","aria-label":"Select game play status",children:[s.jsx("option",{value:"unplayed",children:"Unplayed"}),s.jsx("option",{value:"playing",children:"Playing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"abandoned",children:"Abandoned"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hours Played"}),s.jsx("input",{type:"number",min:"0",step:"0.1",value:a.hoursPlayed,onChange:m=>u("hoursPlayed",parseFloat(m.target.value)||0),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Rating"}),s.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(m=>s.jsx("button",{type:"button",onClick:()=>u("userRating",m),className:`w-8 h-8 rounded-full border-2 transition-all ${a.userRating&&a.userRating>=m?"border-gaming-primary bg-gaming-primary text-white":"border-white/20 bg-white/10 text-gray-400 hover:border-gaming-primary/50"}`,children:m},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),s.jsx(Ig,{selected:a.tags,onChange:m=>u("tags",m),placeholder:"Select or add tags..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),s.jsx("input",{type:"url",value:a.coverImage,onChange:m=>u("coverImage",m.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"https://example.com/cover.jpg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:a.notes,onChange:m=>u("notes",m.target.value),rows:3,className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50 resize-none",placeholder:"Your thoughts about this game..."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isFavorite",checked:a.isFavorite,onChange:m=>u("isFavorite",m.target.checked),className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),s.jsx("label",{htmlFor:"isFavorite",className:"text-sm text-gray-300 cursor-pointer",children:"Mark as Favorite"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o||!a.title.trim(),className:"px-6 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(bn,{message:"",size:"sm"}),"Saving..."]}):s.jsx(s.Fragment,{children:" Save Changes"})})]})]})]})})})},Cj=({isOpen:e,onClose:t,game:r,onDeleteGame:n})=>{var m;const[a,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(""),p=async()=>{if(r){i(!0),l(null);try{await n(r.id),t()}catch(x){l(x instanceof Error?x.message:"Failed to delete game")}finally{i(!1)}}},u=x=>{d(x.target.value)};return!e||!r?null:s.jsx(ke,{children:s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Delete Game"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),s.jsxs("div",{className:"p-6",children:[o&&s.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30 mb-4",children:s.jsx("p",{className:"text-red-400 text-sm",children:o})}),s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex-shrink-0 overflow-hidden",children:r.coverImage?s.jsx("img",{src:r.coverImage,alt:r.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:r.title}),s.jsx("p",{className:"text-sm text-gray-400",children:((m=r.genres)==null?void 0:m.map(x=>x.name).join(", "))||"No genres"}),r.hoursPlayed&&s.jsxs("p",{className:"text-sm text-gray-400",children:[r.hoursPlayed," hours played"]})]})]}),s.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-yellow-500/30 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"text-2xl text-yellow-400",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-400 font-medium mb-2",children:"This action cannot be undone!"}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"All game data, including playtime, ratings, and notes will be permanently deleted."})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Type ",s.jsx("span",{className:"text-gaming-primary font-bold",children:"DELETE"})," to confirm:"]}),s.jsx("input",{type:"text",value:c,onChange:u,placeholder:"Type DELETE to confirm",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50"})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:p,disabled:a||c!=="DELETE",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(bn,{message:"",size:"sm"}),"Deleting..."]}):s.jsx(s.Fragment,{children:" Delete Game"})})]})]})]})})})},Ej=({isOpen:e,onClose:t,onImportGames:r})=>{const[n,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(""),{actions:d,isLoading:p}=Ae(),{user:u}=Li();w.useEffect(()=>{u!=null&&u.steamId&&(a(u.steamId),console.log(" Auto-filled Steam ID from logged-in user:",u.steamId))},[u]);const m=async()=>{if(!n){o("Steam ID is required"),c("Please try logging in with Steam again");return}o("Fetching your Steam library..."),c("");try{const x="FBB124C9352519E8F9FE820ADF0DA87C",h=await d.importSteamLibrary(n,x);h.success&&h.gameCount>0?(o(`Successfully imported ${h.gameCount} games!`),r(h.games.map(v=>({...v,id:v.id}))),setTimeout(()=>{t(),o(""),c(""),a("")},2e3)):(o("No games found in your Steam library"),c("Make sure your Steam profile is public and you own games"))}catch(x){if(console.error("Import error:",x),x instanceof Error){const h=x.message;h.includes("Invalid Steam Web API key")?(o("Invalid API Key"),c("Please check your Steam Web API key and try again")):h.includes("Steam profile is private")?(o("Private Profile"),c("Please make your Steam profile public and set your game details to public")):h.includes("Invalid Steam ID")?(o("Invalid Steam ID"),c("Please check your Steam ID and ensure your profile is public")):h.includes("Failed to connect")?(o("Connection Error"),c("Please check your internet connection and try again")):h.includes("No games found")?(o("No Games Found"),c("Your Steam library appears to be empty or private")):(o("Import Failed"),c(h))}else o("Unknown Error"),c("An unexpected error occurred during import")}finally{}};return e?s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Import Steam Library"}),s.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Steam ID"}),s.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Your Steam ID (auto-filled from login)",disabled:p||!!(u!=null&&u.steamId)}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u!=null&&u.steamId?"Steam ID auto-filled from your login":"Find your Steam ID in your profile URL"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Import Your Steam Library"}),s.jsx("p",{className:"text-xs text-gray-400",children:'Click "Import Library" to fetch all games from your Steam account. This will import game titles, playtime, achievements, and cover images.'})]}),(i||l)&&s.jsxs("div",{className:`p-3 rounded-lg text-sm ${i.includes("Successfully")?"bg-green-600/20 text-green-400 border border-green-600/50":"bg-red-600/20 text-red-400 border border-red-600/50"}`,children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[p&&s.jsx(bn,{}),i]}),l&&s.jsx("div",{className:"text-xs mt-1 opacity-75",children:l})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,disabled:p,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:m,disabled:p||!n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Importing...":"Import Library"})]})]})]})})}):null};function Pj(){return s.jsx("div",{className:"relative group cursor-pointer transition-all duration-300 transform animate-pulse",children:s.jsxs("div",{className:"glass-morphism rounded-2xl overflow-hidden border border-gray-700/30 transition-all duration-300",children:[s.jsx("div",{className:"relative w-full h-52 overflow-hidden bg-gradient-to-br from-gray-700 to-gray-800",children:s.jsx("div",{className:"absolute inset-0 skeleton-shimmer"})}),s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent p-5 flex flex-col justify-end",children:[s.jsx("div",{className:"h-6 bg-gray-600 rounded mb-3 w-3/4 animate-pulse"}),s.jsxs("div",{className:"flex gap-1.5 mb-3",children:[s.jsx("div",{className:"h-5 bg-gray-700 rounded px-2.5 w-16 animate-pulse"}),s.jsx("div",{className:"h-5 bg-gray-700 rounded px-2.5 w-12 animate-pulse"})]}),s.jsxs("div",{className:"flex gap-1.5 mb-3",children:[s.jsx("div",{className:"h-5 bg-gray-700 rounded px-2.5 w-14 animate-pulse"}),s.jsx("div",{className:"h-5 bg-gray-700 rounded px-2.5 w-12 animate-pulse"}),s.jsx("div",{className:"h-5 bg-gray-700 rounded px-2.5 w-10 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-600 rounded-full animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-600 rounded w-16 animate-pulse"})]}),s.jsx("div",{className:"h-4 bg-gray-600 rounded w-8 animate-pulse"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 h-8 bg-gray-700 rounded-lg animate-pulse"}),s.jsx("div",{className:"w-12 h-8 bg-gray-700 rounded-lg animate-pulse"}),s.jsx("div",{className:"w-12 h-8 bg-gray-700 rounded-lg animate-pulse"}),s.jsx("div",{className:"w-20 h-8 bg-gray-700 rounded-lg animate-pulse"})]})]})]})})}function Tj({count:e=8}){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-6 lg:gap-8",children:Array.from({length:e}).map((t,r)=>s.jsx(Pj,{},r))})}function Rj({isSearchResult:e,onAddGame:t,onImportSteam:r,onGenerateTestGames:n,hasGames:a}){const[i,o]=w.useState(!1);return e?s.jsxs("div",{className:"glass-morphism rounded-2xl p-12 text-center border border-gray-700/30",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"No games found"}),s.jsx("p",{className:"text-gray-400 mb-8 text-base max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:s.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-700 text-white font-medium rounded-lg hover:bg-gray-600 transition-all duration-200",children:"Clear Search"})})]}):s.jsxs("div",{className:"glass-morphism rounded-2xl p-12 text-center border border-gray-700/30 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-8xl mb-6 animate-float",children:""}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Welcome to Your Game Library"}),s.jsx("p",{className:"text-gray-300 text-lg mb-8 max-w-2xl mx-auto",children:"Organize, track, and discover your gaming collection with powerful features designed for gamers."})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h4",{className:"text-xl font-semibold text-white mb-6",children:"Get Started Quickly"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("button",{onClick:r,className:"p-6 bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-xl hover:opacity-90 hover:shadow-lg hover:shadow-blue-600/30 transition-all duration-200 group",children:[s.jsx("div",{className:"text-3xl mb-3 group-hover:scale-110 transition-transform",children:""}),s.jsx("div",{className:"font-semibold mb-2",children:"Import Steam Library"}),s.jsx("div",{className:"text-sm opacity-90",children:"Connect your Steam account instantly"})]}),s.jsxs("button",{onClick:t,className:"p-6 bg-gradient-to-br from-gaming-primary to-gaming-secondary text-white rounded-xl hover:opacity-90 hover:shadow-lg hover:shadow-gaming-primary/30 transition-all duration-200 group",children:[s.jsx("div",{className:"text-3xl mb-3 group-hover:scale-110 transition-transform",children:""}),s.jsx("div",{className:"font-semibold mb-2",children:"Add Game Manually"}),s.jsx("div",{className:"text-sm opacity-90",children:"Add games from any platform"})]}),a===!1&&s.jsxs("button",{onClick:n,className:"p-6 bg-gradient-to-br from-purple-600 to-purple-700 text-white rounded-xl hover:opacity-90 hover:shadow-lg hover:shadow-purple-600/30 transition-all duration-200 group",children:[s.jsx("div",{className:"text-3xl mb-3 group-hover:scale-110 transition-transform",children:""}),s.jsx("div",{className:"font-semibold mb-2",children:"Generate Test Data"}),s.jsx("div",{className:"text-sm opacity-90",children:"Try with 100 sample games"})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>o(!i),className:"text-gaming-primary hover:text-gaming-secondary font-semibold mb-4 flex items-center gap-2 mx-auto transition-colors",children:[i?"Hide":"Show"," Library Features",s.jsx("span",{className:`transform transition-transform ${i?"rotate-180":""}`,children:""})]}),i&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-left",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold text-white mb-1",children:"Lightning Fast"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Virtual scrolling handles 1000+ games smoothly"})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold text-white mb-1",children:"Smart Search"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Search by title, genre, mood, or tags"})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold text-white mb-1",children:"Bulk Operations"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Select, edit, or delete multiple games"})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:""}),s.jsx("div",{className:"font-semibold text-white mb-1",children:"Keyboard Shortcuts"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Ctrl+A, Ctrl+F, Delete, Escape"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",s.jsx("strong",{children:"Pro tip:"})," Use ",s.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs",children:"Ctrl+F"})," to quickly focus search, or ",s.jsx("kbd",{className:"px-2 py-1 bg-gray-700 rounded text-xs",children:"Ctrl+A"})," to select all games"]})})]})}function Ij(e,t){const[r,n]=w.useState(e);return w.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function Mj(e){const t=w.useCallback(r=>{const n=r.target;if(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.contentEditable==="true")return;const a=e.find(i=>{const o=i.key.toLowerCase()===r.key.toLowerCase(),l=i.ctrlKey?r.ctrlKey:!r.ctrlKey,c=i.shiftKey?r.shiftKey:!r.shiftKey,d=i.altKey?r.altKey:!r.altKey;return o&&l&&c&&d});a&&(r.preventDefault(),a.action())},[e]);w.useEffect(()=>(document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)),[t])}const Dj=({onSelectAll:e,onDeselectAll:t,onDeleteSelected:r,onFocusSearch:n,onAddGame:a,onImportSteam:i,onEscape:o})=>[{key:"a",ctrlKey:!0,action:e,description:"Select all games"},{key:"d",ctrlKey:!0,action:t,description:"Deselect all games"},{key:"Delete",action:r,description:"Delete selected games"},{key:"f",ctrlKey:!0,action:n,description:"Focus search bar"},{key:"n",ctrlKey:!0,action:a,description:"Add new game"},{key:"i",ctrlKey:!0,action:i,description:"Import Steam library"},{key:"Escape",action:o,description:"Cancel current action"}];function Aj(e=100){const{actions:t}=Ae.getState(),r=["action","rpg","adventure","strategy","simulation","puzzle","fps","racing","sports","horror"],n=["action","rpg","adventure","strategy","simulation","puzzle","fps","racing","sports","horror"],a=["Competitive","Chill","Energetic","Social","Story","Creative","Focused"],i=["unplayed","playing","completed","paused","backlog"];for(let o=0;o<e;o++){const l=r.slice(0,Math.floor(Math.random()*3)+1),c=n.slice(0,Math.floor(Math.random()*2)+1),d=a.slice(0,Math.floor(Math.random()*2)+1),p={id:`test-game-${o+1}`,title:`Test Game ${o+1}`,description:`This is a test game for performance testing number ${o+1}`,backgroundImages:[],coverImage:`https://picsum.photos/seed/test-game-${o+1}/400/600.jpg`,releaseDate:new Date(2020+Math.floor(Math.random()*4),Math.floor(Math.random()*12),Math.floor(Math.random()*28)),developer:`Test Developer ${o+1}`,publisher:`Test Publisher ${o+1}`,genres:l,subgenres:c,platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:d,userRating:Math.floor(Math.random()*5)+5,globalRating:Math.floor(Math.random()*5)+5,playStatus:i[Math.floor(Math.random()*i.length)],hoursPlayed:Math.floor(Math.random()*500),lastPlayed:Math.random()>.3?new Date(Date.now()-Math.floor(Math.random()*30*24*60*60*1e3)):void 0,addedAt:new Date(Date.now()-Math.floor(Math.random()*365*24*60*60*1e3)),notes:`Test game ${o+1} for performance testing`,isFavorite:Math.random()>.8,releaseYear:2020+Math.floor(Math.random()*4),achievements:{unlocked:Math.floor(Math.random()*50),total:50+Math.floor(Math.random()*50)}};t.addGame(p)}return e}const Fj=["action","rpg","adventure"],_j=["competitive","strategy","multiplayer"],rm=[{id:"chill-puzzle",label:"Chill Puzzle Games",mood:"Chill",genre:"puzzle",emoji:""},{id:"high-energy-action",label:"High Energy Action",mood:"Energetic",genre:"action",emoji:""},{id:"calm-exploration",label:"Calm Exploration",mood:"Chill",genre:"adventure",emoji:""}],nm=()=>{const{games:e,isLoading:t,actions:r}=Ae(),n=Aw(),[a,i]=w.useState(""),o=Ij(a,300),[l,c]=w.useState(!1),[d,p]=w.useState("all"),[u,m]=w.useState("all"),[x,h]=w.useState("all"),[v,f]=w.useState(!1),[g,y]=w.useState("chill"),[b,j]=w.useState("energetic"),[N,E]=w.useState(["competitive","social","creative"]),[k,P]=w.useState(["puzzle","casual","simulation"]),[T,M]=w.useState(!1),[F,V]=w.useState(!1),[se,X]=w.useState(!1),[Je,ee]=w.useState(!1),[Fe,D]=w.useState(null),[O,L]=w.useState(new Set),[U,Y]=w.useState(!1),we=w.useRef(null),de=Array.from(new Set(e.flatMap(R=>(R.emotionalTags||[]).map(q=>typeof q=="string"?q:q.name||"")).filter(Boolean))),B=de.length>0?de:Zc.map(R=>R.name),z=Array.from(new Set(e.flatMap(R=>{const q=(R.genres||[]).map(_e=>typeof _e=="string"?_e:_e.name||_e.description||""),je=R.tags||[];return[...q,...je]}))),qt=z.length>0?z:Xc.map(R=>R.name),Ft=e.filter(R=>{var qs;const q=o.toLowerCase(),je=!o||((qs=R.title)==null?void 0:qs.toLowerCase().includes(q))||R.genres&&R.genres.some(G=>(typeof G=="string"?G:G.name||G.description||"").toLowerCase().includes(q))||R.tags&&R.tags.some(G=>G.toLowerCase().includes(q)),_e=d==="all"||d==="current-mood"&&R.emotionalTags&&R.emotionalTags.some(G=>(typeof G=="string"?G:G.name)===g)||d==="recommended-mood"&&R.emotionalTags&&R.emotionalTags.some(G=>(typeof G=="string"?G:G.name)===b)||d==="trending-moods"&&R.emotionalTags&&R.emotionalTags.some(G=>N.includes(typeof G=="string"?G:G.name))||R.emotionalTags&&R.emotionalTags.some(G=>(typeof G=="string"?G:G.name)===d),Wi=u==="all"||u==="mood-matched"&&R.genres&&R.genres.some(G=>{const ye=typeof G=="string"?G:G.name||G.description||"";return k.includes(ye.toLowerCase())})||u==="recently-played"&&R.genres&&R.genres.some(G=>{const ye=typeof G=="string"?G:G.name||G.description||"";return Fj.includes(ye.toLowerCase())})||u==="high-engagement"&&R.genres&&R.genres.some(G=>{const ye=typeof G=="string"?G:G.name||G.description||"";return _j.includes(ye.toLowerCase())})||R.genres&&R.genres.some(G=>(typeof G=="string"?G:G.name||G.description||"")===u)||R.tags&&R.tags.includes(u),Qs=x==="all"||rm.some(G=>x===G.id&&R.emotionalTags&&R.emotionalTags.some(ye=>(typeof ye=="string"?ye:ye.name)===G.mood)&&R.genres&&R.genres.some(ye=>(typeof ye=="string"?ye:ye.name||ye.description||"").toLowerCase()===G.genre.toLowerCase()));return je&&_e&&Wi&&Qs});w.useEffect(()=>{if(o||d!=="all"||u!=="all"||x!=="all"){c(!0);const R=setTimeout(()=>c(!1),500);return()=>clearTimeout(R)}else c(!1)},[o,d,u,x]);const _g=R=>{const q={...R,id:`game_${Date.now()}`,addedAt:new Date,lastPlayed:void 0,hoursPlayed:0,playStatus:"unplayed"};r.addGame(q),M(!1)},Og=(R,q)=>{r.updateGame(R,q),V(!1),D(null)},Lg=R=>{r.removeGame(R),X(!1),D(null)},zg=R=>{R.forEach(q=>{const je={...q,id:`steam_${q.appId||Date.now()}_${Math.random()}`,addedAt:new Date,lastPlayed:q.lastPlayed,hoursPlayed:q.hoursPlayed||0,playStatus:q.playStatus||"unplayed"};r.addGame(je)}),ee(!1)},Gg=()=>{console.log("Add Review clicked")},ed=(R,q)=>{L(je=>{const _e=new Set(je);return q?_e.add(R.id):_e.delete(R.id),_e})},$g=()=>{window.confirm(`Delete ${O.size} games? This action cannot be undone.`)&&(O.forEach(R=>{r.removeGame(R)}),L(new Set),Y(!1))},td=R=>{D(R),V(!0)},rd=R=>{D(R),X(!0)},nd=(R,q)=>{if(R===q)return;const je=[...Ft],[_e]=je.splice(R,1);je.splice(q,0,_e),r.setGames(je),console.log(`Reordered game from index ${R} to ${q}`)},sd=()=>{const R=Aj(100);console.log(`Added ${R} test games to library`)},ad=()=>{O.size===Ft.length?L(new Set):L(new Set(Ft.map(R=>R.id)))},id=()=>{L(new Set)},od=()=>{O.size>0&&$g()},Ug=Dj({onSelectAll:ad,onDeselectAll:id,onDeleteSelected:od,onFocusSearch:()=>{var R;(R=we.current)==null||R.focus()},onAddGame:()=>M(!0),onImportSteam:()=>ee(!0),onEscape:()=>{M(!1),V(!1),X(!1),ee(!1),D(null),U&&(Y(!1),L(new Set)),a&&i("")}});return Mj(Ug),w.useEffect(()=>{(async()=>{var q;f(!0);try{const je="current-user",[_e,Wi,Qs]=await Promise.all([Br.getMoodForecast(je),Br.getMoodResonance(je),Br.getMoodRecommendations(je)]);y(_e.primaryForecast.predictedMood);const qs=((q=Object.entries(Wi.confidenceAdjustments).sort(([,G],[,ye])=>ye-G)[0])==null?void 0:q[0])||"chill";j(qs),E(Qs.trendingMoods),P(Qs.moodToGenreMapping[_e.primaryForecast.predictedMood]||["puzzle","casual"])}catch(je){console.error("Failed to fetch mood data:",je)}finally{f(!1)}})()},[]),e?s.jsx(ke,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative",children:[s.jsx(vj,{}),s.jsxs("div",{className:"w-full px-6 lg:px-12 py-12 relative z-10",children:[s.jsx("div",{className:"mb-6",children:s.jsx(nj,{persona:n,compact:!0})}),s.jsx(bj,{gamesCount:e.length,onAddGame:()=>M(!0),onImportSteam:()=>ee(!0),onAddReview:Gg,onToggleBulkSelect:()=>Y(!U),isBulkSelectMode:U,onSelectAll:ad,onDeselectAll:id,selectedCount:O.size,totalCount:Ft.length,onDeleteSelected:od,onGenerateTestGames:e.length===0?sd:void 0,hasGames:e.length>0}),s.jsxs("div",{className:"mb-12 space-y-6",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{ref:we,type:"text",placeholder:"Search games...",value:a,onChange:R=>i(R.target.value),className:"w-full px-6 py-4 bg-gray-800/50 border border-gray-700/50 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-gaming-primary focus:bg-gray-800 transition-all duration-300 text-lg backdrop-blur-sm"})}),s.jsxs("div",{className:"glass-morphism rounded-2xl p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-end",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Mood"}),s.jsxs("select",{value:d,onChange:R=>p(R.target.value),className:"w-full px-4 py-3 bg-gray-800/70 border border-gray-700/50 rounded-xl text-white focus:outline-none focus:border-gaming-primary focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300 cursor-pointer hover:bg-gray-800 disabled:opacity-50","aria-label":"Filter by mood",disabled:v,children:[s.jsx("option",{value:"all",children:"All Moods"}),v?s.jsx("option",{value:"loading",children:"Loading mood data..."}):s.jsxs(s.Fragment,{children:[s.jsxs("option",{value:"current-mood",children:[" Current Mood (",g,")"]}),s.jsxs("option",{value:"recommended-mood",children:[" Recommended Mood (",b,")"]}),s.jsxs("option",{value:"trending-moods",children:[" Trending Moods (",N.length,")"]})]}),B.map(R=>s.jsx("option",{value:String(R),children:String(R)},String(R)))]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Genre"}),s.jsxs("select",{value:u,onChange:R=>m(R.target.value),className:"w-full px-4 py-3 bg-gray-800/70 border border-gray-700/50 rounded-xl text-white focus:outline-none focus:border-gaming-primary focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300 cursor-pointer hover:bg-gray-800","aria-label":"Filter by genre",children:[s.jsx("option",{value:"all",children:"All Genres"}),s.jsx("option",{value:"mood-matched",children:" Mood-Matched Genres"}),s.jsx("option",{value:"recently-played",children:" Recently Played"}),s.jsx("option",{value:"high-engagement",children:" High Engagement"}),qt.map(R=>s.jsx("option",{value:R,children:R},R))]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-400 font-medium whitespace-nowrap",children:[s.jsx("span",{className:"text-white font-semibold text-lg",children:Ft.length})," of ",e.length," games"]}),(d!=="all"||u!=="all"||x!=="all"||o)&&s.jsx("button",{onClick:()=>{p("all"),m("all"),h("all"),i("")},className:"px-6 py-3 text-sm bg-gray-700/50 hover:bg-gray-600 text-gray-300 hover:text-white rounded-xl transition-all duration-300 font-medium border border-gray-600/50 hover:border-gray-500",children:"Clear Filters"})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 uppercase tracking-wider",children:"Hybrid Filters"}),s.jsxs("select",{value:x,onChange:R=>h(R.target.value),className:"w-full px-4 py-3 bg-gray-800/70 border border-gray-700/50 rounded-xl text-white focus:outline-none focus:border-gaming-primary focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300 cursor-pointer hover:bg-gray-800","aria-label":"Filter by hybrid mood+genre combinations",children:[s.jsx("option",{value:"all",children:"All Combinations"}),rm.map(R=>s.jsxs("option",{value:R.id,children:[R.emoji," ",R.label]},R.id))]})]}),s.jsx("div",{}),s.jsx("div",{})]})})]})]}),t?s.jsx("div",{className:"flex justify-center items-center py-32",children:s.jsx(bn,{size:"xl"})}):l?s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center text-gray-400 mb-8",children:s.jsx(bn,{message:"Filtering games..."})}),s.jsx(Tj,{count:12})]}):s.jsx(en,{componentName:"Games Grid",children:Ft.length>50?s.jsx(xj,{games:Ft,isBulkSelectMode:U,selectedGames:O,onSelectGame:ed,onEditGame:td,onDeleteGame:rd,onReorderGame:nd,isDraggable:!0,className:"min-h-[800px]"}):s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(220px,1fr))] gap-8",children:Ft.map((R,q)=>s.jsx(en,{componentName:`Game: ${R.title}`,children:s.jsx("div",{id:`game-${R.id}`,children:s.jsx(hj,{game:R,index:q,isSelectable:U,isSelected:O.has(R.id),onSelect:ed,onEdit:td,onDelete:rd,onReorder:nd,isDraggable:!0})})},R.id))})}),Ft.length===0&&!t&&s.jsx(Rj,{isSearchResult:!!o,onAddGame:()=>M(!0),onImportSteam:()=>ee(!0),onGenerateTestGames:sd,hasGames:e.length>0}),T&&s.jsx(en,{componentName:"Add Game Modal",children:s.jsx(Nj,{isOpen:T,onClose:()=>M(!1),onAddGame:_g})}),Je&&s.jsx(en,{componentName:"Steam Import Modal",children:s.jsx(Ej,{isOpen:Je,onClose:()=>ee(!1),onImportGames:zg})}),F&&Fe&&s.jsx(en,{componentName:"Edit Game Modal",children:s.jsx(kj,{isOpen:F,onClose:()=>V(!1),game:Fe,onUpdateGame:Og})}),se&&Fe&&s.jsx(en,{componentName:"Delete Game Modal",children:s.jsx(Cj,{isOpen:se,onClose:()=>X(!1),game:Fe,onDeleteGame:Lg})})]})]})}):s.jsx(ke,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:s.jsx(bn,{message:"Loading library...",size:"xl"})})})},Oj=w.lazy(()=>Eh(()=>import("./GameDetailsLayout-6052c145.js"),["assets/GameDetailsLayout-6052c145.js","assets/emulatorLauncher-304790fe.js"]).then(e=>({default:e.GameDetailsLayout}))),Lj=()=>{const{gameId:e}=qy(),t=At(),{games:r}=Ae(),n=r.find(a=>a.id===e);return n?s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading game details..."})}),children:s.jsx(Oj,{game:n})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"The game you're looking for doesn't exist in your library."}),s.jsx("button",{onClick:()=>t("/library"),className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Back to Library"})]})})},sm=({children:e,className:t=""})=>s.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),zj=()=>{const e=Xr();if(!e)return s.jsx(sm,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("p",{children:"Loading playstyle data..."})]})});const t=o=>{switch(o){case"Achiever":return"You thrive on completing challenges and earning rewards";case"Explorer":return"You love discovering new worlds and hidden secrets";case"Socializer":return"You enjoy playing with others and building communities";case"Competitor":return"You seek victory and excel in competitive gameplay";case"Strategist":return"You excel at planning and tactical decision-making";case"Creative":return"You enjoy building, creating, and expressing yourself";case"Casual":return"You prefer relaxed, stress-free gaming experiences";case"Specialist":return"You focus on mastering specific genres or games";default:return"Your unique gaming style"}},r=o=>{switch(o){case"Achiever":return"";case"Explorer":return"";case"Socializer":return"";case"Competitor":return"";case"Strategist":return"";case"Creative":return"";case"Casual":return"";case"Specialist":return"";default:return""}},n=o=>{switch(o){case"Low":return"Prefers short, casual gaming sessions";case"Medium":return"Enjoys balanced gaming sessions";case"High":return"Thrives in intense, extended gameplay";default:return"Moderate gaming approach"}},a=o=>{switch(o){case"Burst":return"Short, intense gaming sessions";case"Flow":return"Moderate, steady gaming sessions";case"Marathon":return"Long, extended gaming sessions";default:return"Balanced gaming pace"}},i=o=>{switch(o){case"Solo":return"Prefers single-player experiences";case"Coop":return"Enjoys cooperative multiplayer";case"Competitive":return"Thrives in competitive multiplayer";default:return"Flexible social preferences"}};return s.jsx(sm,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Playstyle Archetype"})]}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:r(e.traits.archetypeId)}),s.jsx("h4",{className:"text-xl font-bold text-white capitalize mb-2",children:e.traits.archetypeId}),s.jsx("p",{className:"text-sm text-gray-300",children:t(e.traits.archetypeId)})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-300",children:"Intensity"}),s.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.intensity})]}),s.jsx("p",{className:"text-xs text-gray-400",children:n(e.traits.intensity)})]}),s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-300",children:"Pacing"}),s.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.pacing})]}),s.jsx("p",{className:"text-xs text-gray-400",children:a(e.traits.pacing)})]}),s.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-gray-300",children:"Social Style"}),s.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.socialStyle})]}),s.jsx("p",{className:"text-xs text-gray-400",children:i(e.traits.socialStyle)})]})]})]})})},Gj=({children:e,className:t=""})=>s.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),$j=()=>{const e=Vi(),{games:t}=Ae(),n=(()=>t.filter(l=>l.lastPlayed).sort((l,c)=>new Date(c.lastPlayed).getTime()-new Date(l.lastPlayed).getTime()).slice(0,5).map((l,c)=>{var d,p,u;return{id:`mood-${c}`,mood:(d=l.tags)!=null&&d.includes("competitive")?"Competitive":(p=l.tags)!=null&&p.includes("relaxing")?"Relaxed":(u=l.tags)!=null&&u.includes("creative")?"Creative":"Neutral",intensity:Math.floor(Math.random()*5)+1,timestamp:l.lastPlayed,gameTitle:l.title}}))(),a=o=>{switch(o.toLowerCase()){case"competitive":return"";case"relaxed":return"";case"creative":return"";case"neutral":return"";default:return""}},i=o=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(o);return s.jsx(Gj,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Mood History"})]}),e&&s.jsxs("div",{className:"p-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-300",children:"Current Mood"}),s.jsx("span",{className:"text-gaming-accent font-semibold capitalize",children:e.moodId})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:a(e.moodId)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-gray-400",children:"Intensity"}),s.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((o,l)=>s.jsx("div",{className:`h-2 flex-1 rounded-full ${l<e.intensity?"bg-gaming-accent":"bg-gray-700"}`},l))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-gray-300 text-sm",children:"Recent Moods"}),n.length>0?n.map(o=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:a(o.mood)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-white capitalize",children:o.mood}),s.jsx("div",{className:"text-xs text-gray-400",children:o.gameTitle})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-400",children:i(o.timestamp)}),s.jsxs("div",{className:"text-xs text-gaming-accent",children:["Intensity ",o.intensity,"/5"]})]})]},o.id)):s.jsxs("div",{className:"text-center text-gray-400 py-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("p",{className:"text-sm mt-2",children:"No mood history available"})]})]})]})})},Uj=({children:e,className:t=""})=>s.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),Bj=()=>{const{games:e}=Ae(),r=(()=>{const i={};let o=0;return e.forEach(c=>{var p;const d=c.hoursPlayed||0;o+=d,(p=c.genres)==null||p.forEach(u=>{const m=typeof u=="string"?u:u.name||u.description||"Unknown";i[m]=(i[m]||0)+d})}),Object.entries(i).map(([c,d])=>({name:c,hours:d,percentage:o>0?d/o*100:0,gameCount:e.filter(p=>{var u;return(u=p.genres)==null?void 0:u.some(m=>(typeof m=="string"?m:m.name||m.description||"")===c)}).length})).sort((c,d)=>d.hours-c.hours).slice(0,5)})(),n=i=>{const o=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500","from-red-500 to-pink-500"];return o[i%o.length]},a=i=>i<1?"< 1h":i<24?`${Math.floor(i)}h`:i<24*7?`${Math.floor(i/24)}d`:`${Math.floor(i/(24*7))}w`;return s.jsx(Uj,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Genre Breakdown"})]}),r.length>0?s.jsx("div",{className:"space-y-3",children:r.map((i,o)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${n(o)}`}),s.jsx("span",{className:"text-white font-medium",children:i.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-gaming-accent font-semibold",children:[i.percentage.toFixed(1),"%"]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[i.gameCount," games  ",a(i.hours)]})]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${n(o)} transition-all duration-1000 ease-out`,style:{width:`${i.percentage}%`},children:s.jsx("div",{className:"h-full bg-white/20 animate-pulse"})})})]},i.name))}):s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("span",{className:"text-4xl",children:""}),s.jsx("p",{className:"text-sm mt-2",children:"No genre data available"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add games to your library to see genre breakdown"})]}),r.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:r.length}),s.jsx("div",{className:"text-xs text-gray-400",children:"Genres"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:e.length}),s.jsx("div",{className:"text-xs text-gray-400",children:"Games"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:a(e.reduce((i,o)=>i+(o.hoursPlayed||0),0))}),s.jsx("div",{className:"text-xs text-gray-400",children:"Total Hours"})]})]})})]})})},Mg=({children:e,className:t="",onClick:r})=>s.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-xl ${t}`,onClick:r,children:e}),Hj=({insight:e,isExpanded:t,onToggle:r})=>{const n=l=>{switch(l){case"strength":return"border-green-500/30 bg-green-500/10";case"behaviour":return"border-blue-500/30 bg-blue-500/10";case"recommendation":return"border-purple-500/30 bg-purple-500/10";default:return"border-gray-500/30 bg-gray-500/10"}},a=l=>{switch(l){case"strength":return"text-green-400";case"behaviour":return"text-blue-400";case"recommendation":return"text-purple-400";default:return"text-gray-400"}},o=(()=>{switch(e.type){case"strength":return{details:"This strength reflects your natural gaming tendencies and core motivations. It influences how you approach challenges and what brings you the most satisfaction.",recommendations:"Lean into games that highlight this strength for maximum enjoyment and personal growth.",genres:e.title.includes("Discovery")?["Open World","Adventure","Exploration"]:e.title.includes("Goal")?["RPG","Action","Platformer"]:e.title.includes("Community")?["MMO","Co-op","Social"]:e.title.includes("Victory")?["Competitive","FPS","Sports"]:["Various"]};case"behaviour":return{details:"This behavioral pattern emerges from your consistent gaming habits and session preferences. Understanding it helps optimize your gaming experience.",recommendations:"Structure your gaming sessions around this natural rhythm for better balance and enjoyment.",genres:e.title.includes("Engagement")?["Strategy","RPG","Puzzle"]:e.title.includes("Balance")?["Casual","Puzzle","Simulation"]:["Various"]};case"recommendation":return{details:"This recommendation is based on your persona analysis and gaming patterns. Following these suggestions can enhance your overall experience.",recommendations:"Try exploring these game types to expand your horizons and discover new favorites.",genres:e.title.includes("Story")?["RPG","Narrative","Adventure"]:e.title.includes("Competitive")?["FPS","MOBA","Fighting"]:["Various"]};default:return{details:"This insight provides valuable information about your gaming preferences.",recommendations:"Use this knowledge to guide your future gaming choices.",genres:["Various"]}}})();return s.jsx(Mg,{className:`${n(e.type)} border transition-all duration-500 ${t?"md:col-span-3":""}`,onClick:r,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:`text-2xl ${a(e.type)} flex-shrink-0`,children:e.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-white font-semibold mb-1",children:e.title}),s.jsx("span",{className:"text-xs text-gray-400 ml-2",children:t?"Click to collapse":"Click to expand"})]}),s.jsx("p",{className:"text-sm text-gray-300",children:e.description}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ${t?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:s.jsxs("div",{className:"pt-4 border-t border-white/10 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-white font-medium mb-2",children:"Deep Analysis"}),s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:o.details})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-white font-medium mb-2",children:"Recommendations"}),s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:o.recommendations})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-white font-medium mb-2",children:"Suggested Genres"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.genres.map((l,c)=>s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a(e.type)} bg-white/10 border border-white/20`,children:l},c))})]})]})})]})]})})},Vj=()=>{const e=Xr(),[t,r]=w.useState(null),n=o=>{r(t===o?null:o)},i=(()=>{const o=[];if(!e)return o;switch(e.traits.archetypeId){case"Explorer":o.push({title:"Discovery Expert",description:"You excel at exploring new worlds and uncovering hidden secrets. Your curiosity drives you to venture into uncharted territories.",icon:"",type:"strength"});break;case"Achiever":o.push({title:"Goal Master",description:"You have a natural talent for completing challenges and earning rewards. Your determination pushes you to reach new heights.",icon:"",type:"strength"});break;case"Socializer":o.push({title:"Community Builder",description:"You build strong communities and forge meaningful connections. Your social nature creates lasting gaming relationships.",icon:"",type:"strength"});break;case"Competitor":o.push({title:"Victory Seeker",description:"You possess exceptional competitive skills and consistently strive for victory. Your competitive spirit drives continuous improvement.",icon:"",type:"strength"});break}const c=e.traits.intensity;c==="High"?o.push({title:"Deep Engagement",description:"You demonstrate remarkable focus and dedication during gaming sessions. Your ability to maintain high engagement is exceptional.",icon:"",type:"behaviour"}):c==="Low"&&o.push({title:"Balanced Approach",description:"You maintain a healthy balance between gaming and other life activities. Your moderate approach ensures sustainable enjoyment.",icon:"",type:"behaviour"});const d=e.traits.socialStyle;return d==="Solo"?o.push({title:"Story-Rich Experiences",description:"Consider exploring narrative-driven RPGs and single-player adventures. Your preference for solo play aligns perfectly with immersive storytelling.",icon:"",type:"recommendation"}):d==="Competitive"&&o.push({title:"Competitive Challenges",description:"Ranked modes and competitive games would suit your playstyle. Consider esports titles and competitive multiplayer experiences.",icon:"",type:"recommendation"}),o.slice(0,3)})();return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Personal Insights"})]}),i.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map((o,l)=>s.jsx(Hj,{insight:o,isExpanded:t===l,onToggle:()=>n(l)},l))}):s.jsx(Mg,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("span",{className:"text-4xl",children:""}),s.jsx("p",{className:"text-sm mt-2",children:"No insights available"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add more games to your library to generate personalized insights"})]})})]})},Wj=({isOpen:e,onClose:t,trait:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:s.jsxs("div",{className:"glass-morphism rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20",onClick:n=>n.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:r.icon}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:r.label}),s.jsx("p",{className:"text-gaming-accent font-medium",children:r.value})]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:""})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About This Trait"}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:r.fullDescription})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How We Discovered This"}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:r.inference})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Impact on Your Archetype"}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:r.archetypeEffect})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Perfect Game Types for You"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:r.suggestedGames.map((n,a)=>s.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer",children:s.jsx("div",{className:"text-gaming-accent font-medium",children:n})},a))})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:s.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Got it!"})})]})}):null,rs=({icon:e,label:t,value:r,description:n,theme:a})=>{const[i,o]=w.useState(!1),[l,c]=w.useState(!1),p=((u,m)=>{const x={Intensity:{fullDescription:"Intensity represents your energy level and engagement during gaming sessions. It reflects how deeply you immerse yourself in gameplay and how much mental and emotional energy you invest.",inference:"We analyze this from your average session length, game completion patterns, and the types of games that keep you engaged for extended periods.",archetypeEffect:"High intensity players often excel in competitive and challenging games, while lower intensity players prefer more relaxed experiences.",suggestedGames:m==="High"?["Souls-like","Competitive FPS","Strategy Games"]:["Casual Puzzle","Simulation","Story Games"]},Pacing:{fullDescription:"Pacing describes your preferred session duration and how you structure your gaming time. It reveals whether you prefer short bursts or extended gaming marathons.",inference:"This is determined by your typical play session lengths, frequency of gaming, and how you break up your gaming time.",archetypeEffect:"Your pacing affects which game types feel most natural and enjoyable, matching your lifestyle and gaming habits.",suggestedGames:m==="Burst"?["Mobile Games","Quick Match","Arcade"]:m==="Flow"?["RPG","Adventure","Open World"]:["MMO","Strategy","Sandbox"]},"Social Style":{fullDescription:"Social Style indicates your preference for multiplayer versus single-player experiences and how you interact with others in gaming environments.",inference:"We assess this from your multiplayer game preferences, community engagement, and social gaming patterns.",archetypeEffect:"This trait strongly influences which games will provide the most fulfilling experience based on your social needs.",suggestedGames:m==="Solo"?["Single-Player RPG","Story Games","Puzzle"]:m==="Coop"?["Co-op Campaigns","Team Games","MMO"]:["Competitive","FPS","Sports"]},Challenge:{fullDescription:"Challenge Tolerance reflects your comfort level with difficult gameplay mechanics and complex systems. It shows how much you enjoy being pushed to your limits.",inference:"This is measured by the difficulty levels you choose, your persistence with challenging games, and your preference for complex mechanics.",archetypeEffect:"Understanding your challenge tolerance helps recommend games that provide the right balance of difficulty and enjoyment.",suggestedGames:m==="Experimental"?["Roguelikes","Strategy","Puzzle"]:m==="Comfort"?["Casual","Simulation","Story"]:["Action-Adventure","RPG","Strategy"]},Narrative:{fullDescription:"Narrative Preference indicates how important story and character development are to your gaming experience. It reveals whether you prioritize plot or gameplay mechanics.",inference:"We analyze this from your game library composition, completion rates of story-driven games, and engagement with narrative elements.",archetypeEffect:"This trait helps determine whether story-rich games or gameplay-focused experiences will be more satisfying.",suggestedGames:["RPG","Visual Novel","Adventure","Action-Adventure"]}};return x[u]||x.Intensity})(t,r);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl ${i?a.bg:""} border border-white/10`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>c(!0),children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl mb-2 ${i?a.accent:"text-gray-400"} transition-colors`,children:e}),s.jsx("div",{className:"text-xs text-gray-400 mb-1 uppercase tracking-wider",children:t}),s.jsx("div",{className:`text-sm font-semibold ${i?"text-white":"text-gray-200"} mb-1 transition-colors`,children:r}),s.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:n})]})}),s.jsx(Wj,{isOpen:l,onClose:()=>c(!1),trait:{label:t,value:r,description:n,icon:e,...p}})]})},Yj=({isOpen:e,onClose:t,archetype:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:t,children:s.jsxs("div",{className:"glass-morphism rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/20",onClick:n=>n.stopPropagation(),children:[s.jsxs("div",{className:`bg-gradient-to-r ${r.theme.primary} rounded-2xl p-8 mb-8 text-center`,children:[s.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:r.symbol}),s.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:r.name.toUpperCase()}),s.jsx("p",{className:"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto",children:r.fullDescription})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Strengths"]}),s.jsx("ul",{className:"space-y-2",children:r.strengths.map((n,a)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gaming-accent mt-1",children:""}),s.jsx("span",{className:"text-gray-300 text-sm",children:n})]},a))})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Challenges"]}),s.jsx("ul",{className:"space-y-2",children:r.weaknesses.map((n,a)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-gaming-accent mt-1",children:""}),s.jsx("span",{className:"text-gray-300 text-sm",children:n})]},a))})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Mood Tendencies"]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:r.moodTendencies.map((n,a)=>s.jsx("span",{className:`px-4 py-2 rounded-full ${r.theme.bg} ${r.theme.accent} border border-white/20`,children:n},a))})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Perfect Game Genres"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:r.recommendedGenres.map((n,a)=>s.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer border border-white/10",children:s.jsx("div",{className:"text-gaming-accent font-medium",children:n})},a))})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),"Signature Traits"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.signatureTraits.map((n,a)=>s.jsx("div",{className:`glass-morphism rounded-lg p-4 ${r.theme.bg} border border-white/10`,children:s.jsx("div",{className:"text-gaming-accent font-medium mb-2",children:n})},a))})]}),s.jsx("div",{className:"flex gap-4",children:s.jsx("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Close"})})]})}):null,Kj=({primaryArchetype:e,currentMood:t})=>{const[r,n]=w.useState(0);w.useEffect(()=>{const d=setInterval(()=>{n(p=>(p+1)%4)},3e3);return()=>clearInterval(d)},[]);const a=d=>{const p={Achiever:{gradient:"from-yellow-600/20 via-amber-500/15 to-orange-500/10",pulseColor:"rgba(251, 191, 36, 0.3)",effect:"pulse",animation:"animate-pulse"},Explorer:{gradient:"from-teal-600/20 via-cyan-500/15 to-blue-500/10",pulseColor:"rgba(20, 184, 166, 0.3)",effect:"fog",animation:"animate-pulse"},Strategist:{gradient:"from-blue-800/20 via-indigo-600/15 to-purple-500/10",pulseColor:"rgba(59, 130, 246, 0.3)",effect:"geometric",animation:"animate-pulse"},Socializer:{gradient:"from-pink-500/20 via-rose-400/15 to-red-400/10",pulseColor:"rgba(236, 72, 153, 0.3)",effect:"ripple",animation:"animate-pulse"},Immersive:{gradient:"from-purple-700/20 via-violet-600/15 to-indigo-500/10",pulseColor:"rgba(147, 51, 234, 0.3)",effect:"vignette",animation:"animate-pulse"}};return p[d]||p.Explorer},i=d=>d?{Chill:{opacity:.6,blur:"blur-xl"},Focused:{opacity:.8,blur:"blur-md"},Energetic:{opacity:1,blur:"blur-sm"},Creative:{opacity:.9,blur:"blur-md"},Competitive:{opacity:.95,blur:"blur-sm"}}[d]||{}:{},o=a(e),l=i(t),c=()=>{switch(o.effect){case"pulse":return s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 70%)`,transform:`scale(${1+r*.1})`,transition:"transform 3s ease-in-out"}})});case"fog":return s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`linear-gradient(${45+r*45}deg, ${o.pulseColor} 0%, transparent 50%, ${o.pulseColor} 100%)`,opacity:.6,filter:"blur(40px)"}})});case"geometric":return s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`
                  conic-gradient(from ${r*90}deg at 50% 50%, 
                    ${o.pulseColor} 0deg, 
                    transparent 60deg, 
                    ${o.pulseColor} 120deg, 
                    transparent 180deg, 
                    ${o.pulseColor} 240deg, 
                    transparent 300deg, 
                    ${o.pulseColor} 360deg)
                `,opacity:.4,filter:"blur(30px)"}})});case"ripple":return s.jsx("div",{className:"absolute inset-0",children:[0,1,2].map(d=>s.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 60%)`,transform:`scale(${1+(r+d)*.3})`,opacity:.3-d*.1,transition:"transform 3s ease-in-out, opacity 3s ease-in-out"}},d))});case"vignette":return s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`radial-gradient(ellipse at center, transparent 30%, ${o.pulseColor} 100%)`,opacity:.7}})});default:return null}};return s.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 overflow-hidden",style:l,children:[s.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${o.gradient})`}}),c(),s.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((d,p)=>s.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-pulse",style:{left:`${20+p*15}%`,top:`${30+p%2*40}%`,animationDelay:`${p*.5}s`,animationDuration:"3s"}},p))})]})},Qj=({theme:e})=>{const t=Xr(),r=l=>{const{intensity:c,pacing:d,socialStyle:p,riskProfile:u}=l;return p==="Coop"&&c==="High"?"Socializer":u==="Experimental"&&d==="Flow"?"Explorer":c==="High"&&d==="Burst"?"Competitor":d==="Marathon"&&p==="Solo"?"Immersive":u==="Balanced"&&c==="Medium"?"Strategist":p==="Solo"&&c==="Low"?"Casual":c==="High"?"Achiever":p!=="Solo"?"Socializer":u==="Experimental"?"Explorer":"Strategist"},n=(l,c)=>{const d={"Achiever-Socializer":{name:"The Leader",symbol:"",description:"You drive others toward success while achieving your own goals. Your competitive spirit inspires teams to victory."},"Achiever-Strategist":{name:"The Tactician",symbol:"",description:"You combine goal-driven ambition with brilliant planning. Every achievement is a calculated step toward mastery."},"Achiever-Explorer":{name:"The Pioneer",symbol:"",description:"You conquer new territories while collecting achievements. Your drive pushes boundaries and discovers new paths."},"Explorer-Immersive":{name:"The Wanderer",symbol:"",description:"You lose yourself in vast worlds, discovering every secret while becoming one with the adventure."},"Explorer-Socializer":{name:"The Guide",symbol:"",description:"You lead others through new experiences, sharing discoveries and building communities around exploration."},"Socializer-Achiever":{name:"The Champion",symbol:"",description:"You rally teams to victory while celebrating every win. Your success is measured by the group's achievements."},"Strategist-Immersive":{name:"The Architect",symbol:"",description:"You design complex worlds and master their systems. Every detail is part of your grand vision."},"Immersive-Explorer":{name:"The Seeker",symbol:"",description:"You dive deep into worlds, uncovering their deepest secrets and becoming part of their stories."},"Competitor-Strategist":{name:"The Commander",symbol:"",description:"You outthink opponents while dominating the battlefield. Strategy and skill make you unstoppable."},"Casual-Explorer":{name:"The Wanderer",symbol:"",description:"You explore at your own pace, enjoying the journey without pressure. Every discovery is a pleasant surprise."}},p=`${l}-${c}`,u=`${c}-${l}`;return d[p]||d[u]||d["Achiever-Strategist"]};if(!t)return s.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("p",{className:"text-sm",children:"Loading hybrid identity..."})]})});const a=t.traits.archetypeId,i=r(t.traits),o=n(a,i);return s.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300 cursor-pointer",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"text-5xl mb-2",children:o.symbol})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:o.name}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:a}),s.jsx("span",{className:"text-gray-400",children:"+"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:i})]}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:o.description}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsxs("span",{className:"block mb-1",children:["Primary: ",a]}),s.jsxs("span",{className:"block",children:["Secondary: ",i]})]})})]})})},qj=({theme:e})=>{const[t,r]=w.useState(!1),n=[{day:"Mon",mood:"Focused",value:75},{day:"Tue",mood:"Energetic",value:85},{day:"Wed",mood:"Creative",value:70},{day:"Thu",mood:"Chill",value:60},{day:"Fri",mood:"Focused",value:80},{day:"Sat",mood:"Energetic",value:90},{day:"Sun",mood:"Chill",value:55}],a=[{genre:"RPG",current:35,previous:30},{genre:"Strategy",current:25,previous:20},{genre:"Action",current:20,previous:25},{genre:"Casual",current:15,previous:15},{genre:"Adventure",current:5,previous:10}],i=78,o=l=>({Focused:"bg-blue-500",Energetic:"bg-orange-500",Creative:"bg-purple-500",Chill:"bg-green-500"})[l]||"bg-gray-500";return s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Identity Evolution"})]}),s.jsx("button",{onClick:()=>r(!t),className:"text-gaming-accent hover:text-white transition-colors text-sm",children:t?"Collapse":"Expand"})]}),!t&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Mood Trend (7 days)"}),s.jsx("span",{className:"text-sm text-gaming-accent",children:" 12%"})]}),s.jsx("div",{className:"flex gap-1",children:n.slice(-5).map((l,c)=>s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-xs text-gray-400",children:l.day}),s.jsx("div",{className:`h-2 rounded-full ${o(l.mood)} mt-1`,style:{width:`${l.value}%`}})]},c))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Genre Preferences"}),s.jsx("span",{className:"text-sm text-gaming-accent",children:"Stable"})]}),s.jsx("div",{className:"space-y-1",children:a.slice(0,3).map((l,c)=>s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400",children:l.genre}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-500",children:[l.previous,"%"]}),s.jsx("span",{className:"text-gaming-accent",children:""}),s.jsxs("span",{className:"text-white",children:[l.current,"%"]})]})]},c))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Playstyle Stability"}),s.jsxs("span",{className:"text-sm text-gaming-accent",children:[i,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:s.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${i}%`}})})]})]}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Mood Evolution (Last 7 Days)"}),s.jsx("div",{className:"space-y-2",children:n.map((l,c)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-300 w-8",children:l.day}),s.jsx("span",{className:"text-sm text-white",children:l.mood})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${o(l.mood)} transition-all duration-300`,style:{width:`${l.value}%`}})}),s.jsxs("span",{className:"text-sm text-gaming-accent w-10 text-right",children:[l.value,"%"]})]})]},c))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Genre Preference Drift"}),s.jsx("div",{className:"space-y-3",children:a.map((l,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-300",children:l.genre}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Previous: ",l.previous,"%"]}),s.jsxs("span",{className:"text-xs text-gaming-accent",children:["Current: ",l.current,"%"]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:s.jsx("div",{className:"h-1 rounded-full bg-gray-500",style:{width:`${l.previous}%`}})}),s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:s.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${e.primary}`,style:{width:`${l.current}%`}})})]})]},c))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Playstyle Consistency"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Stability Score"}),s.jsxs("span",{className:"text-lg font-bold text-gaming-accent",children:[i,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${i}%`}})}),s.jsx("p",{className:"text-xs text-gray-400",children:"Moderately consistent with some variation"})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/10",children:s.jsx("button",{className:`w-full bg-gradient-to-r ${e.primary} text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity`,onClick:()=>console.log("View full evolution timeline"),children:"View Full Evolution Timeline"})})]})]})},Jj=()=>{const e=Xr(),t=Vi(),[r,n]=w.useState(!1),[a,i]=w.useState(!1);w.useEffect(()=>{const u=setTimeout(()=>n(!0),100);return()=>clearTimeout(u)},[]);const o=u=>{const m={Achiever:{primary:"from-yellow-500 to-amber-600",accent:"text-yellow-400",bg:"bg-yellow-500/10"},Explorer:{primary:"from-purple-500 to-indigo-600",accent:"text-purple-400",bg:"bg-purple-500/10"},Socializer:{primary:"from-blue-500 to-cyan-600",accent:"text-blue-400",bg:"bg-blue-500/10"},Competitor:{primary:"from-red-500 to-orange-600",accent:"text-red-400",bg:"bg-red-500/10"},Strategist:{primary:"from-emerald-500 to-teal-600",accent:"text-emerald-400",bg:"bg-emerald-500/10"},Creative:{primary:"from-pink-500 to-rose-600",accent:"text-pink-400",bg:"bg-pink-500/10"},Casual:{primary:"from-green-500 to-lime-600",accent:"text-green-400",bg:"bg-green-500/10"},Specialist:{primary:"from-indigo-500 to-purple-600",accent:"text-indigo-400",bg:"bg-indigo-500/10"}};return m[u]||m.Explorer},l=u=>({Achiever:"",Explorer:"",Socializer:"",Competitor:"",Strategist:"",Creative:"",Casual:"",Specialist:""})[u]||"",c=u=>{const m={Achiever:{fullDescription:"You are driven by goals, achievements, and the thrill of completion. Every challenge is an opportunity to prove your worth and climb higher.",strengths:["Goal-oriented mindset","High motivation","Persistent determination","Strategic thinking"],weaknesses:["May over-extend","Can be too competitive","Sometimes misses the journey","Perfectionist tendencies"],moodTendencies:["Focused","Determined","Competitive","Accomplished"],recommendedGenres:["RPG","Action","Platformer","Sports"],signatureTraits:["Completionist","Perfectionist","Competitive","Goal-driven"]},Explorer:{fullDescription:"You are driven by curiosity and the desire to discover new worlds. Every uncharted territory calls to your adventurous spirit.",strengths:["Curiosity-driven","Adaptable","Open-minded","Detail-oriented"],weaknesses:["Can get distracted","May not finish","Overly curious","Risk-taking"],moodTendencies:["Curious","Adventurous","Wonder-filled","Restless"],recommendedGenres:["Open World","Adventure","Exploration","Survival"],signatureTraits:["Curious","Adventurous","Detail-oriented","Open-minded"]},Socializer:{fullDescription:"You thrive on connections and shared experiences. Gaming is your way to build communities and forge lasting friendships.",strengths:["Empathetic","Team player","Communication skills","Community builder"],weaknesses:["May avoid solo content","Too accommodating","Social pressure","Distraction-prone"],moodTendencies:["Connected","Collaborative","Friendly","Engaged"],recommendedGenres:["MMO","Co-op","Social","Party Games"],signatureTraits:["Empathetic","Collaborative","Social","Community-focused"]},Competitor:{fullDescription:"You live for the thrill of victory and the challenge of opposition. Every match is a chance to prove your superiority.",strengths:["Competitive drive","Quick thinking","Strategic mind","Performance under pressure"],weaknesses:["Can be ruthless","Poor sportsmanship","Overly aggressive","Burnout risk"],moodTendencies:["Competitive","Focused","Intense","Victorious"],recommendedGenres:["FPS","MOBA","Fighting","Sports"],signatureTraits:["Competitive","Strategic","Intense","Victory-driven"]},Strategist:{fullDescription:"You see the bigger picture and excel at planning. Every game is a puzzle to be solved with perfect precision.",strengths:["Analytical thinking","Planning skills","Pattern recognition","Patience"],weaknesses:["Analysis paralysis","Over-planning","Slow adaptation","Perfectionism"],moodTendencies:["Analytical","Patient","Methodical","Strategic"],recommendedGenres:["Strategy","Turn-based","Puzzle","Management"],signatureTraits:["Analytical","Strategic","Methodical","Patient"]},Creative:{fullDescription:"You express yourself through creation and imagination. Every game is a canvas for your artistic vision.",strengths:["Creativity","Innovation","Expression","Imagination"],weaknesses:["Lack of focus","Perfectionism","Over-ambitious","Procrastination"],moodTendencies:["Inspired","Expressive","Imaginative","Artistic"],recommendedGenres:["Sandbox","Building","Art","Simulation"],signatureTraits:["Creative","Innovative","Expressive","Imaginative"]},Casual:{fullDescription:"You seek balance and enjoyment in gaming. Every session should be relaxing and stress-free.",strengths:["Balanced approach","Stress management","Consistency","Enjoyment-focused"],weaknesses:["Lack of challenge","Slow progress","Comfort zone","Limited growth"],moodTendencies:["Relaxed","Balanced","Content","Peaceful"],recommendedGenres:["Casual","Puzzle","Simulation","Story"],signatureTraits:["Balanced","Relaxed","Consistent","Enjoyment-focused"]},Specialist:{fullDescription:"You dedicate yourself to mastering specific genres or games. Excellence is your only acceptable standard.",strengths:["Expertise","Dedication","Mastery","Deep knowledge"],weaknesses:["Narrow focus","Resistance to change","Perfectionism","Burnout risk"],moodTendencies:["Focused","Dedicated","Expert","Mastery-driven"],recommendedGenres:["Specialized","Complex","Deep","Niche"],signatureTraits:["Specialized","Dedicated","Expert","Mastery-focused"]}};return m[u]||m.Explorer},d=(e==null?void 0:e.traits.archetypeId)||"Explorer",p=o(d);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative z-10",children:[s.jsx(Kj,{primaryArchetype:d,currentMood:t==null?void 0:t.moodId}),s.jsxs("div",{className:"container mx-auto px-4 py-8 pointer-events-auto relative z-10",children:[s.jsx("header",{className:`mb-16 ${r?"animate-fade-in":"opacity-0"}`,children:s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:`inline-block ${p.bg} px-8 py-4 rounded-2xl border border-white/10 backdrop-blur-sm mb-6 cursor-pointer hover:scale-105 transition-transform`,onClick:()=>i(!0),children:[s.jsx("h1",{className:`text-6xl md:text-7xl font-black ${p.accent} mb-2 tracking-tight`,children:d.toUpperCase()}),s.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:l(d)}),s.jsx("div",{className:"text-sm text-gray-400",children:"Click for detailed analysis"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto leading-relaxed font-light",children:c(d).fullDescription})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsx("div",{className:`mb-12 ${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"200ms"},children:s.jsx(Qj,{theme:p})}),s.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-5 gap-4 mb-12 ${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"300ms"},children:[s.jsx(rs,{icon:"",label:"Intensity",value:(e==null?void 0:e.traits.intensity)||"Medium",description:"Energy and engagement level",theme:p}),s.jsx(rs,{icon:"",label:"Pacing",value:(e==null?void 0:e.traits.pacing)||"Flow",description:"Session duration preference",theme:p}),s.jsx(rs,{icon:"",label:"Social Style",value:(e==null?void 0:e.traits.socialStyle)||"Solo",description:"Multiplayer preference",theme:p}),s.jsx(rs,{icon:"",label:"Challenge",value:(e==null?void 0:e.traits.riskProfile)||"Balanced",description:"Risk tolerance level",theme:p}),s.jsx(rs,{icon:"",label:"Narrative",value:"Story-driven",description:"Story preference",theme:p})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:`${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"200ms"},children:s.jsx(zj,{})}),s.jsx("div",{className:`${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"250ms"},children:s.jsx(qj,{theme:p})}),s.jsx("div",{className:`${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"300ms"},children:s.jsx($j,{})}),s.jsx("div",{className:`${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"400ms"},children:s.jsx(Bj,{})}),s.jsx("div",{className:`${r?"animate-slide-up":"opacity-0"}`,style:{animationDelay:"500ms"},children:s.jsx(Vj,{})})]})]})]}),s.jsx(Yj,{isOpen:a,onClose:()=>i(!1),archetype:{id:d,name:d,symbol:l(d),description:c(d).fullDescription,fullDescription:c(d).fullDescription,strengths:c(d).strengths,weaknesses:c(d).weaknesses,moodTendencies:c(d).moodTendencies,recommendedGenres:c(d).recommendedGenres,signatureTraits:c(d).signatureTraits,theme:p}})]})},Dg=document.createElement("style");Dg.textContent=`
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slide-up 0.6s ease-out forwards;
    opacity: 0;
  }
`;document.head.appendChild(Dg);const Xj=()=>{const[e,t]=w.useState([{id:"youtube",name:"YouTube",description:"Connect your YouTube channel to showcase gaming content and discover new creators",icon:"",color:"from-red-500 to-red-600",isConnected:!1,settings:{}},{id:"discord",name:"Discord",description:"Link your Discord account to join gaming communities and chat with friends",icon:"",color:"from-indigo-500 to-purple-600",isConnected:!1,settings:{}},{id:"spotify",name:"Spotify",description:"Sync your Spotify account to share gaming playlists and discover music",icon:"",color:"from-green-500 to-green-600",isConnected:!1,settings:{}}]);w.useEffect(()=>{const i=localStorage.getItem("gamepilot-integrations");if(i)try{t(JSON.parse(i))}catch(o){console.error("Error loading integrations:",o)}},[]);const r=i=>{i==="youtube"?window.open("https://youtube.com","_blank"):i==="discord"?window.open("https://discord.com","_blank"):i==="spotify"&&window.open("https://spotify.com","_blank");const o=e.map(l=>l.id===i?{...l,isConnected:!0,lastConnected:new Date().toISOString()}:l);t(o),localStorage.setItem("gamepilot-integrations",JSON.stringify(o))},n=i=>{const o=e.map(l=>l.id===i?{...l,isConnected:!1,settings:{}}:l);t(o),localStorage.setItem("gamepilot-integrations",JSON.stringify(o))},a=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("header",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent mb-2",children:"Community Integrations"}),s.jsx("p",{className:"text-gray-300",children:"Connect your favorite platforms and services to enhance your gaming experience"})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>s.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow hover:transform hover:scale-105 transition-all duration-300",onClick:()=>{i.id==="youtube"?window.open("https://youtube.com","_blank"):i.id==="discord"?window.open("https://discord.com","_blank"):i.id==="spotify"&&window.open("https://spotify.com","_blank")},children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center text-3xl bg-gradient-to-r ${i.color} ${i.isConnected?"ring-4 ring-white/20":""}`,children:s.jsx("span",{className:"text-3xl",children:i.icon})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:i.name}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-sm text-gray-400",children:i.isConnected?"Connected":"Not Connected"})})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-300",children:i.description})}),s.jsx("div",{className:"mb-4 p-3 bg-gray-800/50 rounded-lg",children:s.jsx("p",{className:"text-xs text-gray-400",children:i.isConnected&&i.lastConnected&&`Connected on ${a(i.lastConnected)}`})}),s.jsx("div",{className:"flex gap-3",children:i.isConnected?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{window.location.href=`/integrations/${i.id}`},className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r ${i.color} text-white hover:opacity-90 hover:shadow-lg`,children:"Settings"}),s.jsx("button",{onClick:()=>n(i.id),className:"px-4 py-3 rounded-lg font-medium transition-all duration-200 bg-gray-700 text-white hover:bg-gray-600",children:"Disconnect"})]}):s.jsx("button",{onClick:()=>r(i.id),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r ${i.color} text-white hover:opacity-90 hover:shadow-lg`,children:"Connect"})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${i.isConnected?"bg-green-500 animate-pulse":"bg-gray-500"}`}),s.jsx("span",{className:"text-sm text-gray-400",children:i.isConnected?"Active":"Inactive"})]}),s.jsx("div",{children:s.jsx("span",{className:"text-xs text-gaming-accent",children:i.isConnected?" Synced":""})})]})})]},i.id))}),s.jsxs("div",{className:"mt-12 glass-morphism rounded-xl p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Integration Benefits"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:" Enhanced Gaming"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Share gameplay clips instantly"}),s.jsx("li",{children:" Discover new content creators"}),s.jsx("li",{children:" Sync gaming playlists"}),s.jsx("li",{children:" Join gaming communities"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-medium text-white",children:" Privacy First"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Zero-setup connections"}),s.jsx("li",{children:" Local data storage"}),s.jsx("li",{children:" Granular permission controls"}),s.jsx("li",{children:" Easy disconnect anytime"})]})]})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Need help with integrations?"," ",s.jsx("button",{className:"text-gaming-accent hover:text-gaming-primary transition-colors",children:"Visit our help center"})]})})]})})},Zj=({isOpen:e,onClose:t,title:r,description:n,children:a,position:i="center"})=>{const[o,l]=w.useState(!1);if(w.useEffect(()=>{l(!!e)},[e]),!e)return null;const c=d=>{d.target===d.currentTarget&&t()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 animate-fade-in",onClick:c}),s.jsx("div",{className:`fixed z-50 ${i==="bottom"?"bottom-0 left-0 right-0":"inset-0 flex items-center justify-center"}`,children:s.jsxs("div",{className:`
            glass-morphism rounded-2xl border border-white/20 shadow-2xl
            ${i==="bottom"?"mx-4 mb-4":"mx-4 max-w-lg w-full"}
            ${o?"animate-scale-in":"animate-scale-out"}
            transition-all duration-300
          `,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:r}),s.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-colors duration-200",children:s.jsx("span",{className:"text-lg",children:""})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:n}),a&&s.jsx("div",{className:"mt-4",children:a})]})]})})]})},ba=({title:e,icon:t,value:r,subtitle:n,progress:a,progressColor:i="from-gaming-primary to-gaming-accent",onClick:o,children:l})=>s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:transform hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 cursor-pointer group",onClick:o,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e}),s.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-300",children:t})]}),s.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:n}),l,a!==void 0&&s.jsx("div",{className:"mt-4 w-full bg-gray-700/50 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${i} animate-pulse`,style:{width:`${Math.min(a,100)}%`}})}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),e1=({moodDistribution:e,totalTrends:t,getMoodEmoji:r,getMoodColor:n,onMoodClick:a})=>s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-2xl transition-all duration-300",children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:["Mood Distribution",s.jsx("span",{className:"text-sm text-gray-400",children:"Your emotional gaming patterns"})]}),s.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,i],[,o])=>o-i).map(([i,o],l)=>{const c=o/t*100;return s.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${l*100}ms`},onClick:()=>a==null?void 0:a(i,o,c),children:[s.jsxs("div",{className:"flex items-center gap-2 w-24",children:[s.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform duration-200",children:r(i)}),s.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:i})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[s.jsx("div",{className:`h-4 rounded-full ${n(i)} transition-all duration-1000 ease-out`,style:{width:`${c}%`,animationDelay:`${l*150}ms`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:o}),s.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(",Math.round(c),"%)"]})]})]},i)})})]}),t1=({genreAffinity:e,mostPlayedMood:t,onGenreClick:r})=>s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-2xl transition-all duration-300",children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:["Genre Affinity",s.jsx("span",{className:"text-sm text-gray-400",children:"Your gaming preferences"})]}),s.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,n],[,a])=>a-n).map(([n,a],i)=>s.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${i*100}ms`},onClick:()=>r==null?void 0:r(n,a),title:`You play this most when you're ${t}`,children:[s.jsx("div",{className:"w-24",children:s.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:n})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[s.jsx("div",{className:"h-4 rounded-full bg-gradient-to-r from-gaming-primary to-gaming-accent transition-all duration-1000 ease-out",style:{width:`${a*100}%`,animationDelay:`${i*150}ms`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:[Math.round(a*100),"%"]})})]},n))})]}),r1=({bestGamingTime:e,preferredSessionLength:t,topRecommendedMoods:r,getMoodEmoji:n,onInsightClick:a})=>s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Personal Insights"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>a==null?void 0:a("time"),children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Best Gaming Time"}),s.jsx("p",{className:"text-white capitalize",children:e}),s.jsx("p",{className:"text-gray-400 text-sm",children:"You perform best during this time"}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>a==null?void 0:a("session"),children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Preferred Session Length"}),s.jsxs("p",{className:"text-white",children:[t," minutes"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Your optimal gaming session duration"}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>a==null?void 0:a("moods"),children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Top Recommendation Moods"}),s.jsx("div",{className:"flex gap-2",children:r.map(i=>s.jsxs("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm capitalize",children:[n(i)," ",i]},i))}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Moods that work best for you"}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]})]})]}),n1=({analyticsData:e,getMoodEmoji:t,getMoodColor:r,AnimatedNumber:n,onCardClick:a,onMoodClick:i,onGenreClick:o,onInsightClick:l})=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in-up",style:{animationDelay:"0.6s"},children:[s.jsx(ba,{title:"Total Playtime",icon:"",value:s.jsx(n,{value:Math.round(e.gamingPatterns.totalPlaytime),suffix:"h"}),subtitle:s.jsxs(s.Fragment,{children:[s.jsx(n,{value:Math.round(e.gamingPatterns.averageSessionLength),suffix:"min"})," avg session"]}),progress:Math.min(e.gamingPatterns.totalPlaytime/100*100,100),onClick:()=>a==null?void 0:a("totalPlaytime",e.gamingPatterns)}),s.jsx(ba,{title:"Favorite Mood",icon:t(e.gamingPatterns.mostPlayedMood),value:e.gamingPatterns.mostPlayedMood,subtitle:s.jsxs(s.Fragment,{children:[s.jsx(n,{value:e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]})," sessions"]}),onClick:()=>a==null?void 0:a("favoriteMood",e.gamingPatterns),children:s.jsxs("div",{className:"mt-4 relative w-12 h-12 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 bg-gray-700/50 rounded-full"}),s.jsx("div",{className:`absolute inset-0 ${r(e.gamingPatterns.mostPlayedMood)} rounded-full animate-pulse`,style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]/e.moodTrends.length*100}% 0%, 50% 50%)`}})]})}),s.jsx(ba,{title:"Recommendation Success",icon:"",value:s.jsx(n,{value:e.recommendationMetrics.successRate,suffix:"%"}),subtitle:s.jsxs(s.Fragment,{children:[s.jsx(n,{value:e.recommendationMetrics.acceptedRecommendations})," of ",s.jsx(n,{value:e.recommendationMetrics.totalRecommendations})," accepted"]}),progress:e.recommendationMetrics.successRate,progressColor:"from-green-500 to-emerald-500",onClick:()=>a==null?void 0:a("recommendationSuccess",e.recommendationMetrics)}),s.jsx(ba,{title:"Mood Stability",icon:"",value:s.jsx(n,{value:Math.round(e.userInsights.moodStability*100),suffix:"%"}),subtitle:"Consistent mood patterns",progress:e.userInsights.moodStability*100,progressColor:"from-blue-500 to-purple-500",onClick:()=>a==null?void 0:a("moodStability",e.userInsights),children:s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-700/50 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse",style:{width:`${e.userInsights.moodStability*100}%`}})}),s.jsx("div",{className:`w-2 h-2 rounded-full ${e.userInsights.moodStability>.7?"bg-green-500":e.userInsights.moodStability>.4?"bg-yellow-500":"bg-red-500"} animate-pulse`})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in-up",style:{animationDelay:"0.8s"},children:[s.jsx(e1,{moodDistribution:e.gamingPatterns.moodDistribution,totalTrends:e.moodTrends.length,getMoodEmoji:t,getMoodColor:r,onMoodClick:i}),s.jsx(t1,{genreAffinity:e.userInsights.genreAffinity,mostPlayedMood:e.gamingPatterns.mostPlayedMood,onGenreClick:o})]}),s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"1.0s"},children:s.jsx(r1,{bestGamingTime:e.userInsights.bestGamingTime,preferredSessionLength:e.userInsights.preferredSessionLength,topRecommendedMoods:e.recommendationMetrics.topRecommendedMoods,getMoodEmoji:t,onInsightClick:l})})]}),s1=({value:e,suffix:t="",duration:r=1e3})=>{const[n,a]=w.useState(0);return w.useEffect(()=>{const i=Date.now(),o=0,l=e,c=()=>{const d=Date.now(),p=Math.min((d-i)/r,1),u=1-Math.pow(1-p,4),m=o+(l-o)*u;a(m),p<1&&requestAnimationFrame(c)};c()},[e,r]),s.jsxs(s.Fragment,{children:[Math.round(n),t]})},a1=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(!0),[a,i]=w.useState("week"),o=Xr(),[l,c]=w.useState(!1),[d,p]=w.useState({isOpen:!1,title:"",description:"",content:void 0}),u=()=>{var M;const j=new Date,N=[];for(let F=29;F>=0;F--){const V=new Date(j);V.setDate(V.getDate()-F);const se=["chill","energetic","competitive","social","creative","focused","story","exploratory"],X=se[Math.floor(Math.random()*se.length)];N.push({date:V.toISOString().split("T")[0],mood:X,confidence:.6+Math.random()*.4,sessionLength:30+Math.random()*120})}const E={};N.forEach(F=>{E[F.mood]=(E[F.mood]||0)+1});const k=N.reduce((F,V)=>F+V.sessionLength,0),P=k/N.length,T=((M=Object.entries(E).sort(([,F],[,V])=>V-F)[0])==null?void 0:M[0])||"chill";return{moodTrends:N,gamingPatterns:{totalPlaytime:k,averageSessionLength:P,mostPlayedMood:T,moodDistribution:E},recommendationMetrics:{totalRecommendations:45,acceptedRecommendations:32,successRate:71,topRecommendedMoods:["creative","chill","exploratory"]},userInsights:{bestGamingTime:"evening",preferredSessionLength:Math.round(P),moodStability:.75,genreAffinity:{puzzle:.85,adventure:.72,rpg:.68,action:.45,strategy:.62}}}};if(w.useEffect(()=>{(async()=>{n(!0);try{const N=u();t(N)}catch(N){console.error("Failed to fetch analytics data:",N)}finally{n(!1)}})()},[a]),r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading analytics..."})]})});if(!e)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-400",children:"No analytics data available"})})});const m=j=>({chill:"bg-blue-500",energetic:"bg-orange-500",competitive:"bg-red-500",social:"bg-purple-500",creative:"bg-green-500",focused:"bg-yellow-500",story:"bg-indigo-500",exploratory:"bg-teal-500"})[j]||"bg-gray-500",x=j=>({chill:"",energetic:"",competitive:"",social:"",creative:"",focused:"",story:"",exploratory:""})[j]||"",h=()=>{p(j=>({...j,isOpen:!1}))},v=(j,N,E)=>{p({isOpen:!0,title:j,description:N,content:E})},f=(j,N)=>{var E;switch(j){case"totalPlaytime":v("Total Playtime Analysis","You have accumulated significant gaming time with consistent session patterns.",s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Breakdown"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Short sessions (<30min)"}),s.jsx("span",{className:"text-white",children:"25%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Medium sessions (30-90min)"}),s.jsx("span",{className:"text-white",children:"60%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Long sessions (>90min)"}),s.jsx("span",{className:"text-white",children:"15%"})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Peak Gaming Hours"}),s.jsxs("p",{className:"text-gray-300",children:["You play most during ",N.bestGamingTime||"evening"," hours"]})]})]}));break;case"favoriteMood":v(`${N.mostPlayedMood} Mood Analysis`,`Your most frequent gaming mood is ${N.mostPlayedMood}, indicating your preferred emotional state for gaming.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Mood Triggers"}),s.jsxs("p",{className:"text-gray-300",children:["You enter ",N.mostPlayedMood," mood most often when playing puzzle and creative games"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Performance"}),s.jsxs("p",{className:"text-gray-300",children:["In ",N.mostPlayedMood," mood, you tend to play 20% longer sessions"]})]})]}));break;case"recommendationSuccess":v("Recommendation Success Analysis",`You have a ${N.successRate}% success rate with our recommendations, showing strong trust in our system.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Acceptance Patterns"}),s.jsxs("p",{className:"text-gray-300",children:["You most often accept recommendations in the ",((E=N.topRecommendedMoods)==null?void 0:E[0])||"creative"," mood"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Favorite Categories"}),s.jsx("p",{className:"text-gray-300",children:"Puzzle and adventure games get the highest acceptance rates"})]})]}));break;case"moodStability":v("Mood Stability Analysis",`Your mood stability is ${Math.round(N.moodStability*100)}%, indicating ${N.moodStability>.7?"very consistent":N.moodStability>.4?"moderately consistent":"variable"} gaming patterns.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Consistency Factors"}),s.jsxs("p",{className:"text-gray-300",children:["Your mood is most stable during ",N.bestGamingTime||"evening"," gaming sessions"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Improvement Tips"}),s.jsx("p",{className:"text-gray-300",children:"Try maintaining consistent gaming times for better mood stability"})]})]}));break}},g=(j,N,E)=>{v(`${j} Mood Deep Dive`,`You've experienced ${j} mood ${N} times (${Math.round(E)}% of your sessions).`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("h4",{className:"text-gaming-primary font-medium mb-2",children:["Top Games in ",j," Mood"]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-gray-300",children:" Zen Puzzle Master (12 sessions)"}),s.jsx("div",{className:"text-gray-300",children:" Creative Builder (8 sessions)"}),s.jsx("div",{className:"text-gray-300",children:" Story Explorer (6 sessions)"})]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Time-of-Day Correlation"}),s.jsxs("p",{className:"text-gray-300",children:["You feel ",j," most often during evening hours"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Length"}),s.jsxs("p",{className:"text-gray-300",children:["Average ",j," sessions last 45 minutes"]})]})]}))},y=(j,N)=>{v(`${j} Genre Analysis`,`You have a ${Math.round(N*100)}% affinity for ${j} games.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("h4",{className:"text-gaming-primary font-medium mb-2",children:["When You Play ",j]}),s.jsxs("p",{className:"text-gray-300",children:["You prefer ",j," games most during evening hours"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Typical Mood"}),s.jsxs("p",{className:"text-gray-300",children:["You're usually in a ",(e==null?void 0:e.gamingPatterns.mostPlayedMood)||"creative"," mood when playing ",j]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Duration"}),s.jsxs("p",{className:"text-gray-300",children:["Average ",j," sessions last ",(e==null?void 0:e.gamingPatterns.averageSessionLength)||60," minutes"]})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("h4",{className:"text-gaming-primary font-medium mb-2",children:["Top ",j," Games"]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-gray-300",children:" Game Title 1 (most played)"}),s.jsx("div",{className:"text-gray-300",children:" Game Title 2 (second)"}),s.jsx("div",{className:"text-gray-300",children:" Game Title 3 (third)"})]})]})]}))},b=j=>{switch(j){case"time":v("Best Gaming Time Analysis",`Your optimal gaming time is ${(e==null?void 0:e.userInsights.bestGamingTime)||"evening"}.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why Evening Works Best"}),s.jsx("p",{className:"text-gray-300",children:"Your mood stability is highest during evening hours, leading to better gaming performance and enjoyment."})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Performance Metrics"}),s.jsx("p",{className:"text-gray-300",children:"Evening sessions show 25% higher completion rates and better mood consistency."})]})]}));break;case"session":v("Optimal Session Length Analysis",`Your ideal session length is ${(e==null?void 0:e.userInsights.preferredSessionLength)||60} minutes.`,s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why This Length Works"}),s.jsx("p",{className:"text-gray-300",children:"This duration maximizes engagement while preventing fatigue, maintaining optimal focus and enjoyment."})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Patterns"}),s.jsx("p",{className:"text-gray-300",children:"Sessions longer than 90 minutes show decreased performance, while sessions under 30 minutes feel incomplete."})]})]}));break;case"moods":v("Top Recommendation Moods Analysis","These moods consistently lead to your best gaming experiences.",s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why These Moods Work"}),s.jsx("p",{className:"text-gray-300",children:"Creative, Chill, and Exploratory moods align with your playstyle, maximizing enjoyment and engagement."})]}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Recommendation Success"}),s.jsx("p",{className:"text-gray-300",children:"Games recommended during these moods have a 85% acceptance rate and higher satisfaction scores."})]})]}));break}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:s.jsxs("div",{className:"container mx-auto px-6 py-10",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-gaming-primary/30 rounded-full animate-pulse",style:{animationDelay:"0s"}}),s.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-gaming-accent/30 rounded-full animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute bottom-30 left-1/4 w-2 h-2 bg-purple-500/30 rounded-full animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute top-1/3 right-1/3 w-4 h-4 bg-blue-500/20 rounded-full animate-pulse",style:{animationDelay:"1.5s"}})]}),s.jsxs("div",{className:"mb-10 relative animate-fade-in-up",style:{animationDelay:"0.2s"},children:[s.jsx("div",{className:"absolute inset-0 -top-10 -left-10 w-96 h-96 bg-gradient-to-r from-gaming-primary/20 via-gaming-accent/10 to-purple-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute inset-0 -top-5 -right-5 w-72 h-72 bg-gradient-to-r from-purple-500/10 to-gaming-primary/20 rounded-full blur-2xl animate-pulse delay-1000"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-gray-100 to-gray-300 bg-clip-text text-transparent",children:"Mood Analytics"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gaming-primary/20 to-gaming-accent/20 blur-xl -z-10 scale-110"})]}),s.jsx("div",{className:"w-3 h-3 bg-gaming-accent rounded-full animate-pulse"}),s.jsx(Sg,{onClick:()=>c(!l),isActive:l})]}),s.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"Your gaming rhythm, decoded."}),o&&s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm font-medium border border-gaming-primary/30 hover:bg-gaming-primary/30 transition-colors duration-200",children:o.traits.archetypeId}),o.mood&&s.jsx("span",{className:"px-3 py-1 bg-gaming-accent/20 text-gaming-accent rounded-full text-sm font-medium border border-gaming-accent/30 capitalize hover:bg-gaming-accent/30 transition-colors duration-200",children:o.mood.moodId}),s.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm font-medium border border-purple-500/30 hover:bg-purple-500/30 transition-colors duration-200",children:[(e==null?void 0:e.userInsights.bestGamingTime)||"Evening"," Player"]})]})]})]}),s.jsx("div",{className:"mb-8 animate-fade-in-up",style:{animationDelay:"0.4s"},children:s.jsx("div",{className:"flex gap-2",children:["week","month","all"].map(j=>s.jsx("button",{onClick:()=>i(j),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:transform hover:-translate-y-1 ${a===j?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/50":"bg-gray-700/50 text-gray-300 hover:bg-gray-700"}`,children:j==="week"?"Last 7 Days":j==="month"?"Last 30 Days":"All Time"},j))})}),s.jsx(n1,{analyticsData:e,getMoodEmoji:x,getMoodColor:m,AnimatedNumber:s1,onCardClick:f,onMoodClick:g,onGenreClick:y,onInsightClick:b}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-10 animate-fade-in-up",style:{animationDelay:"1.2s"},children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:["Deep Insights",s.jsx("span",{className:"text-sm text-gray-400",children:"Your gaming identity, decoded"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h4",{className:"text-white font-medium",children:"Peak Performance"})]}),s.jsxs("p",{className:"text-gray-300 text-sm",children:["You perform best in the ",e.userInsights.bestGamingTime]}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent",children:"Based on your mood stability patterns"})]}),s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h4",{className:"text-white font-medium",children:"Optimal Sessions"})]}),s.jsxs("p",{className:"text-gray-300 text-sm",children:["Your optimal session length is around ",e.userInsights.preferredSessionLength," minutes"]}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent",children:"Matches your average session duration"})]}),s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h4",{className:"text-white font-medium",children:"Creative Power"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Creative and Chill moods lead to your best sessions"}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent",children:"Top recommendation moods for you"})]}),s.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500/20 to-red-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h4",{className:"text-white font-medium",children:"Recommendation Success"})]}),s.jsxs("p",{className:"text-gray-300 text-sm",children:[e.recommendationMetrics.successRate,"% recommendation success rate"]}),s.jsx("div",{className:"mt-2 text-xs text-gaming-accent",children:"You trust our suggestions"})]})]})]}),s.jsx(Zj,{isOpen:d.isOpen,onClose:h,title:d.title,description:d.description,children:d.content}),s.jsx(Cg,{pageId:"analytics",isOpen:l,onClose:()=>c(!1)})]})})};function _t({children:e}){const t=Pr(),r=!1,n=localStorage.getItem("sessionToken"),a=!!n;return console.log(" ProtectedRoute check:",{hasToken:!!n,isDevelopment:r,path:t.pathname,bypassed:r}),a?(console.log(" Session token found, rendering children"),s.jsx(s.Fragment,{children:e})):(console.log(" No session token found, redirecting to login"),s.jsx(_h,{to:"/login",state:{from:t},replace:!0}))}function i1(){const[e]=Oh(),t=At(),{setUser:r,setAuthenticated:n}=Li(),{actions:a}=Ae();return w.useEffect(()=>{const i=e.get("sessionToken"),o=e.get("userId"),l=e.get("steamId"),c=e.get("displayName"),d=e.get("avatar"),p=e.get("loginError");if(console.log(" Steam callback params:",{sessionToken:i,userId:o,steamId:l,displayName:c,avatar:d,error:p}),console.log(" Full URL params object:",e),console.log(" All available params:",Array.from(e.entries())),i&&o&&c){localStorage.setItem("sessionToken",i),console.log(" Stored session token:",i.substring(0,10)+"...");const u={id:o,username:c,displayName:c,avatar:d||"",steamId:l||o,personaName:c};localStorage.setItem("user",JSON.stringify(u)),console.log(" Stored user data:",u),r(u),n(!0),console.log(" Updated auth store with user data"),(async()=>{try{console.log(" Auto-importing Steam library for user:",o);const x="FBB124C9352519E8F9FE820ADF0DA87C",h=await a.importSteamLibrary(o,x);if(h.success&&h.gameCount>0){console.log(` Auto-imported ${h.gameCount} Steam games!`);const v=h.games.map(f=>({...f,id:f.steamAppId||f.id,platforms:f.platforms||["Steam"],genres:f.genres||[],coverImage:f.coverImage||f.header_image,playStatus:f.playStatus||"backlog",isFavorite:!1,addedAt:new Date,hoursPlayed:f.hoursPlayed||0,userRating:f.userRating,globalRating:f.globalRating,releaseYear:f.releaseYear}));a.setGames(v),console.log(" Steam games added to library:",v.length)}else console.log(" No Steam games found to import")}catch(x){console.error(" Auto-import failed:",x),console.log(" Navigating to library despite import error")}})(),console.log(" Steam callback processed successfully"),setTimeout(()=>{console.log(" Navigating to /library"),t("/library")},1e3)}else console.error(" Steam login failed:",p),t("/login?error="+(p||"unknown"))},[e,t,r,n,a]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg",children:"Processing Steam authentication..."})]})})}function o1(){const[e,t]=w.useState(null),[r,n]=w.useState(!1),a=async()=>{try{t(null),n(!0),console.log(" Login button clicked, redirecting to:","https://gamepilot.com/api/auth/steam"),window.location.href="https://gamepilot.com/api/auth/steam"}catch(i){console.error("Login error:",i),t("Failed to initiate login. Please try again."),n(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[s.jsx("h1",{className:"text-4xl font-gaming bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent mb-8",children:"GamePilot"}),s.jsx("p",{className:"text-gray-300 mb-8",children:"Your gaming identity platform"}),s.jsxs("div",{className:"space-y-4",children:[e&&s.jsx("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 text-red-400 px-4 py-3 rounded-lg mb-4",children:s.jsx("p",{className:"text-sm",children:e})}),s.jsx("button",{onClick:a,disabled:r,className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8 8 8 0 01-8 8 0 018 8z"})]}),s.jsx("span",{className:"ml-2",children:"Connecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M11.979 0C5.678 0 .511 5.254.5 11.577c0 2.347.744 4.521 2.009 6.298L.5 24l6.572-2.379c1.659.938 3.569 1.476 5.607 1.476 6.301 0 11.468-5.254 11.468-11.577C23.647 5.254 18.48 0 11.979 0zm6.489 14.5c-.318.879-1.732 1.637-3.492 1.822-1.76.185-3.492.185-4.713-.185-1.221-.37-2.068-1.113-2.068-1.856 0-.743.747-1.392 1.99-1.856 1.244-.464 2.975-.649 4.713-.649 1.739 0 3.492.185 4.713.649 1.221.464 1.99 1.113 1.99 1.856 0 .743-.747 1.486-2.068 1.856z"})}),s.jsx("span",{children:"Login with Steam"})]})}),s.jsxs("div",{className:"text-gray-500 text-sm",children:[s.jsx("p",{children:"More providers coming soon:"}),s.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[s.jsx("button",{disabled:!0,className:"px-3 py-1 bg-gray-700 text-gray-400 rounded cursor-not-allowed",children:"Discord"}),s.jsx("button",{disabled:!0,className:"px-3 py-1 bg-gray-700 text-gray-400 rounded cursor-not-allowed",children:"YouTube"}),s.jsx("button",{disabled:!0,className:"px-3 py-1 bg-gray-700 text-gray-400 rounded cursor-not-allowed",children:"Twitch"})]})]})]}),s.jsx("div",{className:"mt-8 text-gray-400 text-sm",children:s.jsx(mr,{to:"/",className:"hover:text-white transition-colors",children:"Back to Home"})})]})})}const Ag=({isAuthenticated:e,user:t})=>{var u,m;const[r,n]=w.useState(!1),[a,i]=w.useState(!1),o=Pr(),l=e;w.useEffect(()=>{const x=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]),w.useEffect(()=>{n(!1)},[o.pathname]);const c=[{path:"/",label:"Home",icon:""},{path:"/library",label:"Library",icon:""},{path:"/analytics",label:"Analytics",icon:""},{path:"/identity",label:"Identity",icon:""},{path:"/integrations",label:"Integrations",icon:""},{path:"/settings",label:"Settings",icon:""}],d=x=>x==="/"&&o.pathname==="/"?!0:o.pathname.startsWith(x)&&x!=="/";if(!l)return null;const p=t;return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`
        hidden md:block glass-morphism border-b border-white/10 fixed top-0 left-0 right-0 z-50 transition-all duration-300
        ${a?"py-2":"py-4"}
      `,children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsx(mr,{to:"/",className:"text-2xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:"GamePilot"}),s.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:c.map(x=>s.jsxs(mr,{to:x.path,className:`
                      flex items-center space-x-2 px-3 py-2 rounded-lg font-medium transition-all duration-200
                      ${d(x.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                    `,children:[s.jsx("span",{className:"text-lg",children:x.icon}),s.jsx("span",{children:x.label})]},x.path))})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"hidden sm:block",children:s.jsxs("span",{className:"text-white/70 text-sm",children:["Welcome, ",p==null?void 0:p.username]})}),s.jsx("button",{onClick:()=>n(!r),className:"lg:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Toggle menu",children:s.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[s.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${r?"rotate-45 translate-y-1.5":""}`}),s.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${r?"opacity-0":""}`}),s.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${r?"-rotate-45 -translate-y-1.5":""}`})]})})]})]})})}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>n(!1)}),s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 lg:hidden",children:s.jsx("div",{className:"glass-morphism border-b border-white/10",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(mr,{to:"/",className:"text-2xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"GamePilot"}),s.jsx("button",{onClick:()=>n(!1),className:"p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gaming-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:((m=(u=p==null?void 0:p.username)==null?void 0:u.charAt(0))==null?void 0:m.toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:p==null?void 0:p.username}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Welcome back!"})]})]})}),s.jsx("div",{className:"space-y-2",children:c.map(x=>s.jsxs(mr,{to:x.path,onClick:()=>n(!1),className:`
                        flex items-center space-x-3 w-full px-4 py-3 rounded-lg font-medium transition-all duration-200
                        ${d(x.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                      `,children:[s.jsx("span",{className:"text-xl",children:x.icon}),s.jsx("span",{className:"text-lg",children:x.label}),d(x.path)&&s.jsx("span",{className:"ml-auto",children:s.jsx("svg",{className:"w-5 h-5 text-gaming-primary",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]},x.path))})]})})})]}),l&&s.jsx("div",{className:"h-16 md:h-20"})]})},l1=({children:e,showNavigation:t=!0,className:r=""})=>{const{isAuthenticated:n,user:a}=Li();return s.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker ${r}`,children:[t&&n&&s.jsx(Ag,{isAuthenticated:n,user:a}),s.jsx("main",{className:"flex-1",children:s.jsx("div",{className:"container mx-auto px-4 py-6 sm:py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[s.jsx("div",{className:"lg:col-span-12 xl:col-span-9",children:s.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4 sm:p-6 lg:p-8",children:e})}),s.jsx("div",{className:"hidden xl:block xl:col-span-3",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Add Game"}),s.jsx("button",{className:"w-full px-4 py-2 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors",children:" View Stats"})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-green-400",children:""}),s.jsx("span",{children:"Played Cyberpunk 2077"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-blue-400",children:""}),s.jsx("span",{children:"Unlocked 5 achievements"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-purple-400",children:""}),s.jsx("span",{children:"Added 3 new games"})]})]})]})]})})]})})})}),n&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden",children:s.jsx("div",{className:"glass-morphism border-t border-white/10",children:s.jsx("div",{className:"grid grid-cols-5 gap-1 p-2",children:[{path:"/",icon:"",label:"Home"},{path:"/library",icon:"",label:"Library"},{path:"/identity",icon:"",label:"Identity"},{path:"/integrations",icon:"",label:"Links"},{path:"/settings",icon:"",label:"Settings"}].map(i=>s.jsxs("a",{href:i.path,className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200",children:[s.jsx("span",{className:"text-xl",children:i.icon}),s.jsx("span",{className:"text-xs",children:i.label})]},i.path))})})}),n&&s.jsx("div",{className:"h-20 lg:hidden"})]})},Oa=[{id:"getting-started",name:"Getting Started Tour",description:"Learn the basics of GamePilot and set up your profile",showOnFirstVisit:!0,steps:[{id:"welcome",title:"Welcome to GamePilot!",content:"Let's take a quick tour to help you get started with your personalized gaming experience.",target:"body",position:"center",showProgress:!0},{id:"navigation",title:"Navigation Menu",content:"This is your main navigation. Access your library, discover games, view your gaming identity, and manage settings.",target:'[data-testid="main-navigation"]',position:"bottom",showProgress:!0},{id:"home-dashboard",title:"Your Dashboard",content:"Your personalized dashboard shows mood-based recommendations, recent activity, and gaming stats.",target:'[data-testid="home-dashboard"]',position:"right",showProgress:!0},{id:"mood-selector",title:"Mood Selector",content:"Choose how you're feeling to get personalized game recommendations that match your current mood.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0,validation:()=>document.querySelector('[data-testid="mood-selector"] .mood-button.selected')!==null},{id:"recommendations",title:"Game Recommendations",content:"Based on your mood, we'll suggest games you might enjoy. Click on any game to learn more about it.",target:'[data-testid="game-recommendations"]',position:"left",showProgress:!0},{id:"library-access",title:"Game Library",content:"Access your complete game collection here. Import from Steam or add games manually.",target:'[data-testid="nav-library"]',position:"bottom",showProgress:!0},{id:"profile-setup",title:"Complete Your Profile",content:"Add your gaming preferences and connect accounts to get better recommendations.",target:'[data-testid="nav-settings"]',position:"bottom",showProgress:!0},{id:"tour-complete",title:"Tour Complete!",content:"You're all set! Explore GamePilot and discover your next favorite game. Help is always available in the settings.",target:"body",position:"center",showProgress:!0}]},{id:"library-features",name:"Library Features Tour",description:"Learn how to manage and organize your game library",startCondition:()=>window.location.pathname==="/library",steps:[{id:"library-overview",title:"Your Game Library",content:"This is your complete game collection. Let's explore the features available.",target:'[data-testid="game-library"]',position:"center",showProgress:!0},{id:"search-bar",title:"Search Games",content:"Search your library by title, genre, platform, or tags. Use advanced filters for precise results.",target:'[data-testid="game-search"]',position:"bottom",showProgress:!0},{id:"filter-options",title:"Filter Options",content:"Filter your games by platform, genre, play status, or custom tags to find exactly what you're looking for.",target:'[data-testid="game-filters"]',position:"left",showProgress:!0},{id:"sort-options",title:"Sort Games",content:"Sort your library by recently played, playtime, alphabetically, or custom criteria.",target:'[data-testid="game-sort"]',position:"left",showProgress:!0},{id:"add-game",title:"Add New Game",content:"Add games to your library. Import from Steam, enter manually, or scan barcode.",target:'[data-testid="add-game-button"]',position:"top",showProgress:!0},{id:"game-card",title:"Game Cards",content:"Each game card shows cover art, playtime, achievements, and status. Click to view details.",target:'[data-testid="game-card"]:first-child',position:"right",showProgress:!0},{id:"bulk-actions",title:"Bulk Actions",content:"Select multiple games to perform bulk operations like tagging, status updates, or deletion.",target:'[data-testid="bulk-actions"]',position:"top",showProgress:!0}]},{id:"mood-engine-features",name:"Mood Engine Tour",description:"Learn how to use the mood engine for personalized recommendations",startCondition:()=>document.querySelector('[data-testid="mood-selector"]')!==null,steps:[{id:"mood-overview",title:"Mood-Based Recommendations",content:"The Mood Engine analyzes how you're feeling to suggest perfect games for your current state.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0},{id:"mood-categories",title:"Mood Categories",content:"Choose from 8 different moods: Competitive, Chill, Story, Creative, Social, Focused, Energetic, or Exploratory.",target:'[data-testid="mood-selector"]',position:"bottom",showProgress:!0},{id:"mood-history",title:"Mood History",content:"Track your mood patterns over time to understand your gaming habits and preferences.",target:'[data-testid="mood-history"]',position:"left",showProgress:!0},{id:"recommendation-algorithm",title:"How Recommendations Work",content:"We analyze your mood, gaming history, and preferences to suggest games you'll love.",target:'[data-testid="recommendation-info"]',position:"bottom",showProgress:!0},{id:"save-recommendations",title:"Save for Later",content:"Save games you're interested in to your wishlist or backlog to play later.",target:'[data-testid="save-recommendation"]',position:"top",showProgress:!0}]},{id:"integrations-tour",name:"Integrations Tour",description:"Learn how to connect your gaming accounts",startCondition:()=>window.location.pathname==="/integrations",steps:[{id:"integrations-overview",title:"Connected Accounts",content:"Enhance your GamePilot experience by connecting your gaming accounts.",target:'[data-testid="integrations-page"]',position:"center",showProgress:!0},{id:"steam-integration",title:"Steam Integration",content:"Connect Steam to import your game library, track playtime, and sync achievements.",target:'[data-testid="steam-connect"]',position:"right",showProgress:!0},{id:"discord-integration",title:"Discord Integration",content:"Connect Discord to show your gaming status and join communities.",target:'[data-testid="discord-connect"]',position:"left",showProgress:!0},{id:"youtube-integration",title:"YouTube Integration",content:"Connect YouTube for gaming content recommendations and creator discovery.",target:'[data-testid="youtube-connect"]',position:"right",showProgress:!0},{id:"privacy-settings",title:"Privacy Controls",content:"Control what data you share with each integration and manage permissions.",target:'[data-testid="privacy-controls"]',position:"top",showProgress:!0}]}],c1=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(0),[a,i]=w.useState(!1),[o,l]=w.useState({top:0,left:0}),[c,d]=w.useState(null),p=w.useCallback(b=>{t(b),n(0),i(!0)},[]),u=w.useCallback(()=>{i(!1),e!=null&&e.endAction&&e.endAction(),setTimeout(()=>{t(null),n(0),d(null)},300)},[e]),m=w.useCallback(()=>{if(!e)return;const b=e.steps[r];b.validation&&!b.validation()||(b.action&&b.action(),r<e.steps.length-1?n(r+1):u())},[e,r,u]),x=w.useCallback(()=>{r>0&&n(r-1)},[r]),h=w.useCallback(()=>{u()},[u]),v=w.useCallback(()=>{if(!e||!a)return;const b=e.steps[r],j=document.querySelector(b.target);if(!j){console.warn(`Tour target element not found: ${b.target}`);return}const N=j.getBoundingClientRect(),E=window.scrollX,k=window.scrollY;let P=0,T=0;switch(b.position){case"top":P=N.top+k-120,T=N.left+E+N.width/2-200;break;case"bottom":P=N.bottom+k+20,T=N.left+E+N.width/2-200;break;case"left":P=N.top+k+N.height/2-60,T=N.left+E-420;break;case"right":P=N.top+k+N.height/2-60,T=N.right+E+20;break;case"center":P=window.innerHeight/2-100,T=window.innerWidth/2-200;break}T<E+20?T=E+20:T+400>E+window.innerWidth-20&&(T=E+window.innerWidth-420),P<k+20?P=k+20:P+200>k+window.innerHeight-20&&(P=k+window.innerHeight-220),l({top:P,left:T}),b.position!=="center"?d(j):d(null)},[e,r,a]);if(w.useEffect(()=>{a&&v()},[a,v]),w.useEffect(()=>{const b=()=>{a&&v()},j=()=>{a&&v()};return window.addEventListener("resize",b),window.addEventListener("scroll",j),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",j)}},[a,v]),w.useEffect(()=>{Oa.forEach(b=>{(b.autoStart||b.showOnFirstVisit)&&!localStorage.getItem(`tour-${b.id}-seen`)&&(!b.startCondition||b.startCondition())&&(setTimeout(()=>p(b),1e3),localStorage.setItem(`tour-${b.id}-seen`,"true"))})},[p]),!e||!a)return null;const f=e.steps[r],g=(r+1)/e.steps.length*100;return Mi.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:h}),c&&s.jsx("div",{className:"absolute z-40 border-4 border-purple-500 rounded-lg pointer-events-none",style:{top:`${c.getBoundingClientRect().top+window.scrollY-4}px`,left:`${c.getBoundingClientRect().left+window.scrollX-4}px`,width:`${c.getBoundingClientRect().width+8}px`,height:`${c.getBoundingClientRect().height+8}px`}}),s.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white p-6 rounded-xl shadow-2xl border border-gray-700 max-w-md",style:{top:`${o.top}px`,left:`${o.left}px`},children:[f.showProgress&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[s.jsxs("span",{children:["Step ",r+1," of ",e.steps.length]}),s.jsxs("span",{children:[Math.round(g),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:f.title}),s.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.content})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[r>0&&s.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Previous"}),f.skipable!==!1&&s.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Skip Tour"})]}),s.jsx("button",{onClick:m,className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium",children:r===e.steps.length-1?"Finish":"Next"})]}),s.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),document.body)},d1=()=>{const e=w.useCallback(i=>{const o=Oa.find(l=>l.id===i);o&&window.dispatchEvent(new CustomEvent("startTour",{detail:o}))},[]),t=w.useCallback(()=>{window.dispatchEvent(new CustomEvent("endTour"))},[]),r=w.useCallback(i=>{localStorage.removeItem(`tour-${i}-seen`)},[]),n=w.useCallback(i=>localStorage.getItem(`tour-${i}-seen`)==="true",[]),a=w.useCallback(()=>Oa.map(i=>({id:i.id,name:i.name,description:i.description,hasSeen:n(i.id)})),[n]);return{startTour:e,endTour:t,resetTourProgress:r,hasSeenTour:n,getAvailableTours:a,tourConfigs:Oa}},u1=()=>{const[e,t]=w.useState(null);return w.useEffect(()=>{const r=a=>{t(a.detail)},n=()=>{t(null)};return window.addEventListener("startTour",r),window.addEventListener("endTour",n),()=>{window.removeEventListener("startTour",r),window.removeEventListener("endTour",n)}},[]),e?s.jsx(c1,{}):null},m1=({children:e,className:t=""})=>s.jsx("div",{className:`bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6 ${t}`,children:e}),p1=()=>{const[e,t]=w.useState(""),[r,n]=w.useState("all"),[a,i]=w.useState(new Set),o=[{id:"getting-started",title:"Getting Started with GamePilot",description:"Learn the basics of GamePilot and set up your profile",content:`
# Getting Started with GamePilot

Welcome to GamePilot! This guide will help you get started with your personalized gaming experience.

## What is GamePilot?

GamePilot is your personal gaming companion that helps you:
- Discover new games based on your mood and preferences
- Track your gaming progress and achievements
- Connect with friends and share your experiences
- Get personalized recommendations

## First Steps

### 1. Complete Your Profile
- Add your display name and bio
- Select your favorite genres and platforms
- Set your gaming preferences

### 2. Connect Your Accounts
- Link Steam to import your game library
- Connect Discord for social features
- Add YouTube for gaming content

### 3. Explore Features
- Browse your game library
- Use the mood engine for recommendations
- Track your gaming statistics

## Tips for New Users

- Start with the mood selector to get personalized recommendations
- Import your existing game library from Steam
- Explore different moods to discover new games
- Join the community to share your experiences
      `,category:"basics",tags:["beginner","setup","profile"],relatedTopics:["profile-setup","integrations","mood-engine"]},{id:"profile-setup",title:"Setting Up Your Profile",description:"Customize your profile and privacy settings",content:`
# Setting Up Your Profile

Your profile is your gaming identity on GamePilot. Here's how to make it yours.

## Profile Information

### Display Name
- Choose a name that represents you
- Can be changed anytime
- Visible to other users based on privacy settings

### Bio
- Share your gaming interests and background
- Tell others about your favorite genres
- Mention your gaming goals or preferences

### Avatar
- Upload a profile picture
- Choose from default avatars
- Can be changed anytime

## Privacy Settings

### Profile Visibility
- **Public**: Anyone can see your profile
- **Friends**: Only friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
- **Playtime Statistics**: Share your gaming hours
- **Achievements**: Show off your gaming accomplishments
- **Game Library**: Display your game collection

## Gaming Preferences

### Favorite Genres
Select genres you enjoy:
- Action, Adventure, RPG
- Strategy, Simulation, Sports
- Horror, Sci-Fi, Fantasy
- And many more!

### Preferred Platforms
Choose your gaming platforms:
- Steam, Epic Games, GOG
- Xbox, PlayStation, Nintendo Switch
- Mobile gaming

### Playstyle
Define your gaming style:
- Competitive, Casual
- Story-driven, Exploration
- Creative, Social
- Achievement Hunter, Completionist

## Tips

- Be honest about your preferences for better recommendations
- Update your profile as your interests change
- Use privacy settings to control what you share
      `,category:"profile",tags:["profile","privacy","preferences"],relatedTopics:["getting-started","privacy-settings"]},{id:"mood-engine",title:"Using the Mood Engine",description:"Get personalized game recommendations based on your mood",content:`
# Using the Mood Engine

The Mood Engine is GamePilot's intelligent recommendation system that suggests games based on how you're feeling.

## What is the Mood Engine?

The Mood Engine analyzes your current mood and gaming preferences to recommend games that match your emotional state and playstyle.

## Available Moods

###  Competitive
- **Best for**: When you want to challenge yourself
- **Game types**: Competitive multiplayer, strategy games, FPS
- **Examples**: Valorant, Chess, StarCraft

###  Chill
- **Best for**: Relaxing and unwinding
- **Game types**: Casual games, simulation, creative
- **Examples**: Stardew Valley, Animal Crossing, Minecraft

###  Story
- **Best for**: Immersive narratives
- **Game types**: RPGs, adventure games, visual novels
- **Examples**: The Witcher 3, Life is Strange, Detroit: Become Human

###  Creative
- **Best for**: Expressing creativity
- **Game types**: Building games, sandbox, art games
- **Examples**: Minecraft Dreams, LittleBigPlanet, Dreams

###  Social
- **Best for**: Playing with others
- **Game types**: Co-op games, party games, MMOs
- **Examples: Among Us, Fall Guys, World of Warcraft**

###  Focused
- **Best for**: Deep concentration
- **Game types**: Puzzle games, strategy, single-player
- **Examples**: Portal, Civilization, Factorio**

###  Energetic
- **Best for**: High-energy gaming
- **Game types**: Action games, rhythm games, sports
- **Examples**: DOOM, Beat Saber, FIFA

###  Exploratory
- **Best for**: Discovery and adventure
- **Game types**: Open-world, exploration, mystery
- **Examples**: Zelda, No Man's Sky, Outer Wilds

## How to Use

1. **Select Your Mood**: Choose how you're feeling right now
2. **Get Recommendations**: Receive personalized game suggestions
3. **Filter Results**: Narrow down by genre, platform, or features
4. **Save Favorites**: Keep track of games you want to play

## Tips

- Be honest about your current mood for better recommendations
- Try different moods to discover new games
- Combine moods with filters for precise results
- Save games you like to your wishlist

## Advanced Features

### Mood History
- Track your mood patterns over time
- See how your gaming preferences change
- Get insights into your gaming habits

### Mood-Based Stats
- View playtime by mood
- See which moods you game in most
- Discover your gaming patterns

### Social Moods
- See what moods your friends are in
- Join mood-based gaming sessions
- Share your mood with the community
      `,category:"features",tags:["recommendations","mood","discovery"],relatedTopics:["game-discovery","recommendations","social-features"]},{id:"integrations",title:"Connecting External Accounts",description:"Link your gaming accounts for a complete experience",content:`
# Connecting External Accounts

Enhance your GamePilot experience by connecting your external gaming accounts.

## Supported Integrations

###  Steam
**What it does:**
- Imports your entire game library
- Tracks playtime and achievements
- Syncs game ownership status
- Provides game metadata and details

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Steam"
3. Sign in with your Steam account
4. Authorize GamePilot access
5. Wait for library import

**Benefits:**
- Automatic game library updates
- Playtime tracking
- Achievement synchronization
- Rich game metadata

###  Discord
**What it does:**
- Shows your Discord activity
- Displays gaming status
- Connects with Discord communities
- Enables social features

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Discord"
3. Sign in with Discord
4. Authorize required permissions
5. Customize privacy settings

**Benefits:**
- See what friends are playing
- Join gaming communities
- Share your gaming status
- Discord rich presence

###  YouTube
**What it does:**
- Imports gaming content
- Suggests relevant videos
- Tracks creator subscriptions
- Provides gaming news

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect YouTube"
3. Sign in with Google account
4. Authorize YouTube access
5. Select channels to follow

**Benefits:**
- Gaming content recommendations
- Creator suggestions
- Gaming news and updates
- Video integration

## Privacy & Security

### Data Protection
- All connections use secure OAuth
- Your passwords are never stored
- You control what data is shared
- Disconnect anytime

### Permission Control
- Choose what each integration can access
- Set privacy preferences per platform
- Control who sees your activity
- Manage data sharing settings

### Disconnecting Accounts
- Go to Settings > Integrations
- Click "Disconnect" next to any account
- Confirm the disconnection
- Data will be removed from GamePilot

## Troubleshooting

### Steam Issues
- **Library not importing**: Check Steam privacy settings
- **Missing games**: Ensure games are public in Steam
- **Sync errors**: Try reconnecting your account

### Discord Issues
- **Status not updating**: Check Discord permissions
- **Friends not showing**: Verify friend list visibility
- **Rich presence not working**: Enable Discord rich presence

### YouTube Issues
- **No content loading**: Check YouTube API limits
- **Channel not found**: Verify channel is public
- **Recommendations not working**: Update your preferences

## Best Practices

- Keep your accounts connected for the best experience
- Regularly review your privacy settings
- Disconnect accounts you no longer use
- Report any integration issues to support
      `,category:"integrations",tags:["steam","discord","youtube","connections"],relatedTopics:["privacy-settings","profile-setup"]},{id:"game-library",title:"Managing Your Game Library",description:"Organize and manage your game collection",content:`
# Managing Your Game Library

Your game library is your personal gaming collection. Learn how to organize, manage, and get the most out of it.

## Adding Games

### Automatic Import
- **Steam**: Automatically imports your Steam library
- **Other platforms**: Manual import or API integration
- **Bulk import**: Add multiple games at once

### Manual Entry
1. Click "Add Game" in your library
2. Enter game details (title, platform, etc.)
3. Add cover art and metadata
4. Save to your library

### Game Metadata
- **Title**: The game's name
- **Platform**: Where you play it
- **Genre**: Game category
- **Release date**: When it was released
- **Developer**: Who made it
- **Cover art**: Game's box art or screenshot

## Organizing Games

### Collections
Create custom collections to organize your games:
- **Currently Playing**: Games you're actively playing
- **Completed**: Games you've finished
- **Backlog**: Games you want to play
- **Favorites**: Your most-loved games
- **Custom**: Create your own categories

### Tags
Add tags to games for better organization:
- **Genre tags**: RPG, FPS, Strategy, etc.
- **Mood tags**: Competitive, Relaxing, Story-driven
- **Status tags**: Playing, Completed, Paused
- **Custom tags**: Create your own tags

### Filtering & Sorting
- **Filter by**: Platform, genre, tags, status
- **Sort by**: Recently played, playtime, alphabetically
- **Search**: Find games by title or tags
- **Advanced filters**: Multiple criteria

## Game Status

### Play Status
- **Unplayed**: Haven't started yet
- **Playing**: Currently playing
- **Completed**: Finished the main story
- **Paused**: Taking a break
- **Dropped**: Won't continue playing

### Playtime Tracking
- **Total hours**: Overall time spent
- **Recent activity**: Last 30 days
- **Session history**: Individual gaming sessions
- **Platform breakdown**: Time per platform

### Achievements
- **Unlocked achievements**: What you've accomplished
- **Achievement progress**: How close to completion
- **Rare achievements**: Hard-to-unlock accomplishments
- **Platform achievements**: Per-platform tracking

## Library Features

### Quick Actions
- **Mark as playing**: Start tracking a game
- **Add to favorites**: Quick access to loved games
- **Set status**: Update your progress
- **Add notes**: Personal thoughts and reminders

### Bulk Operations
- **Bulk edit**: Update multiple games at once
- **Bulk tag**: Add tags to multiple games
- **Bulk status**: Update status for multiple games
- **Bulk delete**: Remove multiple games

### Statistics
- **Library size**: Total number of games
- **Playtime distribution**: Time spent per game
- **Platform breakdown**: Games per platform
- **Genre distribution**: Games by category

## Tips & Tricks

### Organization
- Use collections for different gaming goals
- Tag games with multiple categories
- Keep your status up to date
- Regularly review and clean up your library

### Discovery
- Use filters to find specific games
- Sort by playtime to see favorites
- Check unplayed games for new experiences
- Use mood-based recommendations

### Maintenance
- Regularly update game metadata
- Remove games you no longer own
- Keep tags consistent
- Backup your library data
      `,category:"library",tags:["games","organization","management"],relatedTopics:["mood-engine","integrations"]},{id:"privacy-settings",title:"Privacy and Security Settings",description:"Control your data and privacy preferences",content:`
# Privacy and Security Settings

Your privacy is important. Learn how to control your data and secure your account.

## Privacy Controls

### Profile Visibility
Control who can see your profile information:
- **Public**: Anyone can view your profile
- **Friends**: Only approved friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
Choose what information to share:
- **Playtime Statistics**: Your gaming hours and habits
- **Achievements**: Games you've completed and accomplishments
- **Game Library**: Your game collection and ownership
- **Activity Status**: When you're playing and what games

### Social Features
Manage your social interactions:
- **Friend Requests**: Who can send you requests
- **Profile Views**: Who can see your profile visits
- **Activity Feed**: Share your gaming activity
- **Direct Messages**: Who can contact you

## Security Settings

### Account Security
- **Two-Factor Authentication**: Add an extra layer of security
- **Login Alerts**: Get notified of new sign-ins
- **Session Management**: Control active sessions
- **Password Requirements**: Set strong password policies

### Connected Accounts
- **Permissions**: Review what each integration can access
- **Data Sharing**: Control data shared with third parties
- **Disconnect Options**: Remove connected accounts anytime
- **Privacy Policies**: Review third-party privacy terms

### Data Management
- **Data Export**: Download your personal data
- **Data Deletion**: Remove your account and data
- **Data Retention**: How long we keep your data
- **Data Portability**: Move your data to other services

## Privacy Best Practices

### Profile Information
- Use a display name you're comfortable sharing
- Be mindful of what personal information you include
- Review your privacy settings regularly
- Consider using a separate gaming email

### Social Interactions
- Only accept friend requests from people you know
- Be cautious about sharing personal details
- Use privacy settings to control who can contact you
- Report inappropriate behavior

### Connected Accounts
- Only connect accounts you trust
- Review permissions carefully
- Disconnect accounts you no longer use
- Monitor third-party app access

## Security Tips

### Password Security
- Use a unique, strong password
- Enable two-factor authentication
- Don't reuse passwords from other sites
- Change your password regularly

### Session Management
- Sign out when using shared devices
- Review active sessions regularly
- Sign out unfamiliar sessions
- Use secure networks only

### Phishing Protection
- Never share your password via email
- Verify official communications
- Be wary of suspicious links
- Report phishing attempts

## Your Rights

### Data Access
- View all data we have about you
- Download your personal information
- Request corrections to inaccurate data
- Understand how your data is used

### Data Control
- Delete your account and data
- Opt out of data collection
- Control what's shared publicly
- Manage connected account permissions

### Transparency
- Clear privacy policy explanations
- Regular updates about changes
- Easy-to-understand settings
- Direct support for privacy questions

## Getting Help

### Privacy Questions
- Contact our privacy team
- Review our privacy policy
- Check our FAQ section
- Join our community discussions

### Security Issues
- Report security concerns immediately
- Use our secure reporting system
- Contact our security team
- Follow security best practices

Remember: You have control over your data. Take time to review your settings and make choices that work for you.
      `,category:"privacy",tags:["security","privacy","data-protection"],relatedTopics:["profile-setup","integrations"]}],l=[{id:"all",name:"All Topics",icon:""},{id:"basics",name:"Basics",icon:""},{id:"profile",name:"Profile",icon:""},{id:"features",name:"Features",icon:""},{id:"library",name:"Library",icon:""},{id:"integrations",name:"Integrations",icon:""},{id:"privacy",name:"Privacy",icon:""}],c=o.filter(u=>{const m=u.title.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase())||u.tags.some(h=>h.toLowerCase().includes(e.toLowerCase())),x=r==="all"||u.category===r;return m&&x}),d=u=>{i(m=>{const x=new Set(m);return x.has(u)?x.delete(u):x.add(u),x})},p=u=>u.split(`
`).map((m,x)=>{if(m.startsWith("# "))return s.jsx("h2",{className:"text-2xl font-bold text-white mb-4 mt-6",children:m.slice(2)},x);if(m.startsWith("## "))return s.jsx("h3",{className:"text-xl font-semibold text-white mb-3 mt-4",children:m.slice(3)},x);if(m.startsWith("### "))return s.jsx("h4",{className:"text-lg font-medium text-white mb-2 mt-3",children:m.slice(4)},x);if(m.startsWith("- **")){const h=m.match(/- \*\*(.*?)\*\*: (.*)/);if(h)return s.jsxs("li",{className:"ml-4 mb-2",children:[s.jsxs("span",{className:"font-semibold text-purple-300",children:[h[1],":"]})," ",h[2]]},x)}else return m.startsWith("- ")?s.jsx("li",{className:"ml-4 mb-2",children:m.slice(2)},x):m.startsWith("**")&&m.endsWith("**")?s.jsx("p",{className:"font-semibold text-purple-300 mb-2",children:m.slice(2,-2)},x):m.trim()===""?s.jsx("br",{},x):s.jsx("p",{className:"mb-2 text-white/80",children:m},x)});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Help Center"}),s.jsx("p",{className:"text-white/70",children:"Find answers to your questions and learn how to get the most out of GamePilot"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search for help topics...",value:e,onChange:u=>t(u.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/40"})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>s.jsxs("button",{onClick:()=>n(u.id),className:`px-4 py-2 rounded-lg border transition-colors ${r===u.id?"bg-purple-500/20 border-purple-500 text-purple-300":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20"}`,children:[s.jsx("span",{className:"mr-2",children:u.icon}),u.name]},u.id))})]})}),s.jsx("div",{className:"space-y-4",children:c.map(u=>s.jsxs(m1,{className:"bg-white/10 backdrop-blur-md border-white/20 p-6",children:[s.jsxs("div",{className:"cursor-pointer",onClick:()=>d(u.id),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:u.title}),s.jsx("span",{className:"text-white/60",children:a.has(u.id)?"":""})]}),s.jsx("p",{className:"text-white/70 mb-3",children:u.description}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.tags.map(m=>s.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:m},m))})]}),a.has(u.id)&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[s.jsx("div",{className:"prose prose-invert max-w-none",children:p(u.content)}),u.relatedTopics&&u.relatedTopics.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20",children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Related Topics"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.relatedTopics.map(m=>{const x=o.find(h=>h.id===m);return x?s.jsx("button",{onClick:()=>d(m),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:x.title},m):null})})]})]})]},u.id))}),c.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No topics found"}),s.jsx("p",{className:"text-white/70",children:"Try adjusting your search or filters"})]})]})})},h1=({content:e,children:t,position:r="top",delay:n=300,persistent:a=!1,maxWidth:i=300,className:o="",showOnHover:l=!0,showOnClick:c=!1,hideDelay:d=100})=>{const[p,u]=w.useState(!1),[m,x]=w.useState({top:0,left:0}),h=w.useRef(null),v=w.useRef(null),f=w.useRef(),g=w.useRef(),y=w.useCallback(()=>{if(!h.current||!v.current)return;const k=h.current.getBoundingClientRect(),P=v.current.getBoundingClientRect(),T=window.scrollX,M=window.scrollY;let F=0,V=0;switch(r){case"top":F=k.top+M-P.height-8,V=k.left+T+(k.width-P.width)/2;break;case"bottom":F=k.bottom+M+8,V=k.left+T+(k.width-P.width)/2;break;case"left":F=k.top+M+(k.height-P.height)/2,V=k.left+T-P.width-8;break;case"right":F=k.top+M+(k.height-P.height)/2,V=k.right+T+8;break;case"auto":const se=k.top,X=window.innerHeight-k.bottom,Je=window.innerWidth-k.right;X>=P.height+8?(F=k.bottom+M+8,V=k.left+T+(k.width-P.width)/2):se>=P.height+8?(F=k.top+M-P.height-8,V=k.left+T+(k.width-P.width)/2):Je>=P.width+8?(F=k.top+M+(k.height-P.height)/2,V=k.right+T+8):(F=k.top+M+(k.height-P.height)/2,V=k.left+T-P.width-8);break}V<T+8?V=T+8:V+P.width>T+window.innerWidth-8&&(V=T+window.innerWidth-P.width-8),F<M+8?F=M+8:F+P.height>M+window.innerHeight-8&&(F=M+window.innerHeight-P.height-8),x({top:F,left:V})},[r]),b=w.useCallback(()=>{f.current&&clearTimeout(f.current),g.current&&clearTimeout(g.current),f.current=setTimeout(()=>{u(!0)},n)},[n]),j=w.useCallback(()=>{f.current&&clearTimeout(f.current),a?g.current=setTimeout(()=>{u(!1)},d):u(!1)},[a,d]),N=w.useCallback(()=>{c&&u(!p)},[c,p]);w.useEffect(()=>{p&&y()},[p,y]),w.useEffect(()=>{const k=()=>{p&&y()};return window.addEventListener("resize",k),window.addEventListener("scroll",()=>{p&&y()}),()=>{window.removeEventListener("resize",k),f.current&&clearTimeout(f.current),g.current&&clearTimeout(g.current)}},[p,y]);const E=p?Mi.createPortal(s.jsxs("div",{ref:v,className:`fixed z-50 bg-gray-900 text-white p-3 rounded-lg shadow-lg border border-gray-700 max-w-${i} ${o}`,style:{top:`${m.top}px`,left:`${m.left}px`,maxWidth:`${i}px`},onMouseEnter:()=>a&&j(),onMouseLeave:()=>a&&j(),children:[s.jsx("div",{className:"text-sm",children:typeof e=="string"?s.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):e}),s.jsx("div",{className:"absolute w-2 h-2 bg-gray-900 border border-gray-700 transform rotate-45"})]}),document.body):null;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:h,className:`inline-block ${o}`,onMouseEnter:l?b:void 0,onMouseLeave:l?j:void 0,onClick:N,children:t}),E]})};zn.createContext({enabledTooltips:new Set,disabledTooltips:new Set,enableTooltip:()=>{},disableTooltip:()=>{},isTooltipEnabled:()=>!0});const g1=({position:e="fixed",location:t="bottom-right",size:r="medium",showTooltip:n=!0,className:a=""})=>{const[i,o]=w.useState(!1),[l,c]=w.useState(""),d=w.useRef(null),p=w.useRef(null),{startTour:u,getAvailableTours:m}=d1(),x=m(),v=[...x.filter(T=>!T.hasSeen).map(T=>({id:`tour-${T.id}`,title:T.name,description:T.description,icon:"",action:()=>{u(T.id),o(!1)},category:"tour",badge:"New"})),{id:"help-center",title:"Help Center",description:"Browse comprehensive documentation and guides",icon:"",action:()=>{window.open("/help","_blank"),o(!1)},category:"documentation"},{id:"quick-start",title:"Quick Start Guide",description:"Get started with GamePilot in 5 minutes",icon:"",action:()=>{window.open("/help/quick-start","_blank"),o(!1)},category:"documentation"},{id:"features-guide",title:"Features Guide",description:"Learn about all GamePilot features",icon:"",action:()=>{window.open("/help/features","_blank"),o(!1)},category:"documentation"},{id:"contact-support",title:"Contact Support",description:"Get help from our support team",icon:"",action:()=>{window.open("/support","_blank"),o(!1)},category:"support"},{id:"report-bug",title:"Report a Bug",description:"Help us improve by reporting issues",icon:"",action:()=>{window.open("/support/bug-report","_blank"),o(!1)},category:"support"},{id:"feature-request",title:"Request a Feature",description:"Suggest new features or improvements",icon:"",action:()=>{window.open("/support/feature-request","_blank"),o(!1)},category:"support"},{id:"send-feedback",title:"Send Feedback",description:"Share your thoughts and suggestions",icon:"",action:()=>{window.open("/feedback","_blank"),o(!1)},category:"feedback"},{id:"rate-experience",title:"Rate Your Experience",description:"Help us improve by rating your experience",icon:"",action:()=>{window.open("/feedback/rating","_blank"),o(!1)},category:"feedback"},{id:"community-forum",title:"Community Forum",description:"Connect with other GamePilot users",icon:"",action:()=>{window.open("https://community.gamepilot.app","_blank"),o(!1)},category:"support"},{id:"discord-server",title:"Discord Server",description:"Join our Discord community",icon:"",action:()=>{window.open("https://discord.gg/gamepilot","_blank"),o(!1)},category:"support"}].filter(T=>T.title.toLowerCase().includes(l.toLowerCase())||T.description.toLowerCase().includes(l.toLowerCase())),f=()=>e==="static"?"":{"bottom-right":"bottom-6 right-6","bottom-left":"bottom-6 left-6","top-right":"top-6 right-6","top-left":"top-6 left-6"}[t],g=()=>({small:"w-10 h-10",medium:"w-12 h-12",large:"w-14 h-14"})[r],y=()=>({small:"text-lg",medium:"text-xl",large:"text-2xl"})[r],b=()=>e==="static"?"bottom-full mb-2 left-1/2 transform -translate-x-1/2":{"bottom-right":"bottom-full mb-2 right-0","bottom-left":"bottom-full mb-2 left-0","top-right":"top-full mt-2 right-0","top-left":"top-full mt-2 left-0"}[t],j=T=>{p.current&&!p.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&o(!1)};w.useEffect(()=>{if(i)return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[i]);const N=T=>{T.key==="Escape"&&i&&o(!1)};w.useEffect(()=>(document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}),[i]);const E=T=>({tour:"bg-purple-500/20 text-purple-300 border-purple-500",documentation:"bg-blue-500/20 text-blue-300 border-blue-500",support:"bg-green-500/20 text-green-300 border-green-500",feedback:"bg-orange-500/20 text-orange-300 border-orange-500"})[T]||"bg-gray-500/20 text-gray-300 border-gray-500",k=s.jsxs("button",{ref:d,onClick:()=>o(!i),className:`
        ${e==="fixed"?"fixed":"relative"} 
        ${f()}
        ${g()}
        bg-gradient-to-r from-purple-500 to-blue-500 
        text-white rounded-full 
        shadow-lg hover:shadow-xl 
        transform transition-all duration-200 
        hover:scale-110 
        flex items-center justify-center
        z-50
        ${a}
      `,"aria-label":"Help",children:[s.jsx("span",{className:y(),children:"?"}),x.some(T=>!T.hasSeen)&&s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),P=i?Mi.createPortal(s.jsxs("div",{ref:p,className:`
        fixed z-50 
        ${b()}
        w-80 max-h-96 
        bg-gray-900 border border-gray-700 
        rounded-xl shadow-2xl 
        overflow-hidden
      `,children:[s.jsxs("div",{className:"p-4 border-b border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How can we help?"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search for help...",value:l,onChange:T=>c(T.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",autoFocus:!0}),s.jsx("svg",{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-400",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{children:"No help options found"})]}):s.jsx("div",{className:"p-2",children:v.map(T=>s.jsx("button",{onClick:T.action,className:"w-full p-3 text-left hover:bg-gray-800 rounded-lg transition-colors group",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center text-sm",children:T.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"text-white font-medium truncate",children:T.title}),T.badge&&s.jsx("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded-full",children:T.badge})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1 line-clamp-2",children:T.description}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full border ${E(T.category)}`,children:T.category})})]})]})},T.id))})}),s.jsx("div",{className:"p-3 border-t border-gray-700 bg-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[s.jsx("span",{children:"Need more help?"}),s.jsx("button",{onClick:()=>{window.open("/help","_blank"),o(!1)},className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Visit Help Center "})]})})]}),document.body):null;return s.jsxs(s.Fragment,{children:[n?s.jsx(h1,{content:"Get help with GamePilot",position:"left",children:k}):k,P]})};zn.createContext({showHelp:()=>{},hideHelp:()=>{},isHelpVisible:!1});const Fg=w.createContext(void 0),f1=()=>{const e=w.useContext(Fg);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},y1=({children:e})=>{const[t,r]=w.useState({}),n=w.useCallback((u,m,x,h)=>{r(v=>{var f;return{...v,[u]:{...v[u],isLoading:m,message:x,progress:h,error:m||(f=v[u])==null?void 0:f.error}}})},[]),a=w.useCallback((u,m)=>{r(x=>({...x,[u]:{...x[u],isLoading:!1,error:m}}))},[]),i=w.useCallback(u=>{r(m=>{const x={...m};return delete x[u],x})},[]),o=w.useCallback(()=>{r({})},[]),l=w.useCallback(u=>{var m;return u?((m=t[u])==null?void 0:m.isLoading)||!1:Object.values(t).some(x=>x.isLoading)},[t]),c=w.useCallback(u=>{var m;return(m=t[u])==null?void 0:m.message},[t]),d=w.useCallback(u=>{var m;return(m=t[u])==null?void 0:m.progress},[t]),p=w.useCallback(u=>{var m;return(m=t[u])==null?void 0:m.error},[t]);return s.jsx(Fg.Provider,{value:{loadingStates:t,setLoading:n,setError:a,clearLoading:i,clearAllLoading:o,isLoading:l,getLoadingMessage:c,getLoadingProgress:d,getLoadingError:p},children:e})},x1=()=>{const{isLoading:e}=f1();return e()?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx("div",{className:"glass-morphism rounded-lg p-6 border border-white/10",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gaming-primary"}),s.jsx("span",{className:"text-white",children:"Loading..."})]})})}):null};const v1=({children:e,pageId:t})=>{const r=t||ij(),n=Jc(r),a=()=>{const o={};return n.backgroundMode==="solid"?o.backgroundColor="#111827":n.backgroundMode==="gradient"?o.background="linear-gradient(to bottom right, #111827, #1f2937, #111827)":n.backgroundMode==="image"&&n.backgroundImageUrl&&(o.backgroundImage=`url(${n.backgroundImageUrl})`,o.backgroundSize="cover",o.backgroundPosition="center",o.backgroundRepeat="no-repeat"),o},i=()=>{const o=["customisation-provider"];return n.animationLevel==="low"?o.push("animations-low"):n.animationLevel==="high"?o.push("animations-high"):o.push("animations-medium"),n.density==="compact"?o.push("density-compact"):o.push("density-comfortable"),n.lightingMode==="mood"?o.push("lighting-mood"):n.lightingMode==="rgb-sync"&&n.rgbSyncEnabled&&o.push("lighting-rgb-sync"),o.join(" ")};return zn.useEffect(()=>{if(typeof window<"u"){const o=document.documentElement;o.style.setProperty("--accent-color",n.accentColor),o.style.setProperty("--accent-color-hover",n.accentColor+"dd"),o.style.setProperty("--accent-color-light",n.accentColor+"33")}},[n.accentColor]),n?s.jsx("div",{className:i(),style:a(),"data-page-id":r,"data-animation-level":n.animationLevel,"data-density":n.density,"data-lighting-mode":n.lightingMode,children:e}):s.jsx("div",{className:"customisation-provider",children:e})},b1=()=>{const e=Jc(),{setGlobalSettings:t}=Ll(),[r,n]=w.useState(""),a=m=>{t({theme:m})},i=m=>{t({accentColor:m})},o=m=>{t({backgroundMode:m})},l=()=>{r.trim()&&(t({backgroundImageUrl:r.trim()}),n(""))},c=m=>{t({animationLevel:m})},d=m=>{t({density:m})},p=m=>{t({lightingMode:m})},u=m=>{t({rgbSyncEnabled:m})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:s.jsxs("div",{className:"container mx-auto px-6 py-10",children:[s.jsxs("div",{className:"mb-10",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Customisation"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Personalise your GamePilot experience"})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Theme"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["dark","light","system"].map(m=>s.jsx("button",{onClick:()=>a(m),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.theme===m?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${m==="dark"?"bg-gray-900":m==="light"?"bg-gray-100":"bg-gradient-to-r from-gray-900 to-gray-100"}`}),s.jsx("span",{className:"text-white capitalize",children:m})]})},m))})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Background"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Mode"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["solid","gradient","image"].map(m=>s.jsx("button",{onClick:()=>o(m),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.backgroundMode===m?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${m==="solid"?"bg-gray-700":m==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),s.jsx("span",{className:"text-white capitalize",children:m})]})},m))})]}),e.backgroundMode==="image"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Image"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("input",{type:"text",value:r,onChange:m=>n(m.target.value),placeholder:"Enter image URL...",className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none"}),s.jsx("button",{onClick:l,className:"px-6 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors duration-200",children:"Set Image"})]}),e.backgroundImageUrl&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg",children:[s.jsx("p",{className:"text-gray-300 text-sm",children:"Current image:"}),s.jsx("p",{className:"text-gaming-primary text-sm truncate",children:e.backgroundImageUrl})]})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Motion & Density"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Level"}),s.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(m=>s.jsx("button",{onClick:()=>c(m),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${e.animationLevel===m?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white capitalize",children:m}),s.jsx("span",{className:"text-gray-400 text-sm",children:m==="low"?"Minimal motion":m==="medium"?"Balanced animations":"Full animations"})]})},m))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Density"}),s.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(m=>s.jsx("button",{onClick:()=>d(m),className:`w-full p-3 rounded-lg border-2 transition-all duration-200 text-left ${e.density===m?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white capitalize",children:m}),s.jsx("span",{className:"text-gray-400 text-sm",children:m==="compact"?"Tight spacing":"Comfortable spacing"})]})},m))})]})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Lighting & RGB"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lighting Mode"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["none","mood","rgb-sync"].map(m=>s.jsx("button",{onClick:()=>p(m),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.lightingMode===m?"border-gaming-primary bg-gaming-primary/20":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${m==="none"?"bg-gray-600":m==="mood"?"bg-purple-500":"bg-gradient-to-r from-red-500 to-green-500"}`}),s.jsx("span",{className:"text-white capitalize",children:m.replace("-"," ")})]})},m))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"RGB Sync"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Enable RGB Sync"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Sync lighting with your gaming mood"})]}),s.jsx("button",{onClick:()=>u(!e.rgbSyncEnabled),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.rgbSyncEnabled?"bg-gaming-primary":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.rgbSyncEnabled?"translate-x-6":"translate-x-0.5"}`})})]}),s.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[s.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Important Information"}),s.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[s.jsx("li",{children:" RGB Sync is optional and may require a companion app or supported RGB software."}),s.jsx("li",{children:" We only use lighting information to adjust visuals; no hardware data is stored or shared."}),s.jsx("li",{children:" RGB functionality is currently in development and will be available in future updates."})]})]})]})]})]}),s.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Accent Color"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"].map(m=>s.jsx("button",{onClick:()=>i(m),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.accentColor===m?"border-white scale-105":"border-gray-600 hover:border-gray-500"}`,style:{backgroundColor:m},title:`Select ${m} as accent color`,"aria-label":`Select ${m} as accent color`,children:e.accentColor===m&&s.jsx("div",{className:"w-6 h-6 bg-white rounded-full mx-auto"})},m))}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("input",{type:"color",value:e.accentColor,onChange:m=>i(m.target.value),className:"w-16 h-10 bg-gray-800/50 border border-gray-600 rounded cursor-pointer",title:"Choose custom accent color","aria-label":"Choose custom accent color"}),s.jsx("input",{type:"text",value:e.accentColor,onChange:m=>i(m.target.value),placeholder:"#3b82f6",className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none","aria-label":"Enter custom hex color code"})]})]})]})})};const w1=w.lazy(()=>Eh(()=>import("./Settings-aa40b21a.js"),["assets/Settings-aa40b21a.js","assets/emulatorLauncher-304790fe.js"]).then(e=>({default:e.Settings}))),j1=new qx({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function N1(){const{isAuthenticated:e,user:t,isLoading:r,fetchCurrentUser:n,logout:a}=Li();return s.jsx(Xx,{client:j1,children:s.jsx(y1,{children:s.jsx(kv,{children:s.jsxs(bx,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[s.jsx(S1,{isAuthenticated:e,user:t,isLoading:r,fetchCurrentUser:n,logout:a}),s.jsx(u1,{}),s.jsx(Cv,{}),s.jsx(x1,{})]})})})})}function S1({isAuthenticated:e,user:t,isLoading:r,fetchCurrentUser:n,logout:a}){const[i]=Oh();return w.useEffect(()=>{!r&&!t&&n()},[r,t,n]),w.useEffect(()=>{const o=i.get("loggedOut"),l=i.get("logoutError");o==="true"&&(console.log(" User logged out successfully"),a(),window.history.replaceState({},document.title,window.location.pathname)),l&&(console.error(" Logout error:",l),window.history.replaceState({},document.title,window.location.pathname))},[i,a]),s.jsx(Bc,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:[e&&s.jsx(Ag,{isAuthenticated:e,user:t}),s.jsx(l1,{showNavigation:!1,children:s.jsx(v1,{children:s.jsxs(mx,{children:[s.jsx(He,{path:"/login",element:s.jsx(ke,{children:s.jsx(o1,{})})}),s.jsx(He,{path:"/auth/callback/steam",element:s.jsx(ke,{children:s.jsx(i1,{})})}),s.jsx(He,{path:"/",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(lj,{})})})}),s.jsx(He,{path:"/library",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(nm,{})})})}),s.jsx(He,{path:"/library/add",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(nm,{})})})}),s.jsx(He,{path:"/library/game/:gameId",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(Lj,{})})})}),s.jsx(He,{path:"/identity",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(Jj,{})})})}),s.jsx(He,{path:"/analytics",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(a1,{})})})}),s.jsx(He,{path:"/integrations",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(Xj,{})})})}),s.jsx(He,{path:"/settings",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(w.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(w1,{})})})})}),s.jsx(He,{path:"/customisation",element:s.jsx(_t,{children:s.jsx(ke,{children:s.jsx(b1,{})})})}),s.jsx(He,{path:"/help",element:s.jsx(ke,{children:s.jsx(p1,{})})}),s.jsx(He,{path:"*",element:s.jsx(_h,{to:"/",replace:!0})})]})})}),e&&s.jsx(g1,{})]})})}Ro.createRoot(document.getElementById("root")).render(s.jsx(zn.StrictMode,{children:s.jsx(N1,{})}));export{_ as P,Ae as a,Vi as b,ui as c,At as d,Rg as e,Sv as f,nj as g,s as j,w as r,Ze as t,qh as u};
