var z=Object.defineProperty;var B=(g,i,s)=>i in g?z(g,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):g[i]=s;var D=(g,i,s)=>(B(g,typeof i!="symbol"?i+"":i,s),s);import{r as b,j as e,e as v,P as R,u as U,a as Y,t as E}from"./index-e978a631.js";import{m as L,e as M}from"./emulatorLauncher-304790fe.js";const K=({className:g="",size:i="md"})=>{const[s,n]=b.useState("dark"),[r,a]=b.useState(!1);b.useEffect(()=>{a(!0);const m=localStorage.getItem("gamepilot-theme");if(m&&["dark","light","auto"].includes(m))n(m);else{const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n(p)}},[]),b.useEffect(()=>{if(!r)return;const m=document.documentElement;if(s==="auto"){const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";m.setAttribute("data-theme",p)}else m.setAttribute("data-theme",s);localStorage.setItem("gamepilot-theme",s)},[s,r]),b.useEffect(()=>{if(s!=="auto")return;const m=window.matchMedia("(prefers-color-scheme: dark)"),p=y=>{document.documentElement.setAttribute("data-theme",y.matches?"dark":"light")};return m.addEventListener("change",p),()=>m.removeEventListener("change",p)},[s]);const d=()=>{const m=["dark","light","auto"],y=(m.indexOf(s)+1)%m.length;n(m[y])},f=m=>{switch(m){case"dark":return"ðŸŒ™";case"light":return"â˜€ï¸";case"auto":return"ðŸŒ“";default:return"ðŸŒ™"}},x=m=>{switch(m){case"dark":return"Dark Mode";case"light":return"Light Mode";case"auto":return"Auto Mode";default:return"Dark Mode"}},u={sm:"p-2 text-sm",md:"p-3 text-base",lg:"p-4 text-lg"};return r?e.jsxs("button",{onClick:d,className:`
        glass-morphism rounded-lg border border-white/10 
        hover:bg-white/10 transition-all duration-200
        flex items-center space-x-2 group
        ${u[i]} ${g}
      `,title:`Current: ${x(s)}. Click to change theme.`,children:[e.jsx("span",{className:"text-xl transition-transform duration-300 group-hover:scale-110",children:f(s)}),e.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:x(s)})]}):e.jsx("div",{className:`${u[i]} ${g}`,children:e.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full animate-pulse"})})},O=g=>({steam:["exe"],xbox:["exe"],playstation:["iso","bin"],nintendo:["nes","smc","gba","nds"],epic:["exe"],gog:["exe"],origin:["exe"],uplay:["exe"],battlenet:["exe"],discord:["exe"],itch:["exe"],humble:["exe"],custom:["exe"],retroarch:["zip"],dolphin:["iso","rvz","gcz"],project64:["n64","z64","v64"],pcsx2:["iso","bin","cue"],rpcs3:["pkg"],cemu:["wua","wud"],yuzu:["nsp","xci"],ryujinx:["nsp","xci"],mame:["zip"],dosbox:["exe"],scummvm:["exe"],vita3k:["vpk"],xemu:["iso"],melonds:["nds","zip"],ppsspp:["iso","cso"],citra:["3ds","3dz","cci","cxi"],desmume:["nds","zip"]})[g]||[],H=({isOpen:g,onClose:i,onSave:s})=>{var o,w,N,k,P,A,I,$;const[n,r]=b.useState([v.getEmulatorConfig(R.DOLPHIN),v.getEmulatorConfig(R.PROJECT64)].filter(Boolean).map(l=>({platform:l.platform,executablePath:"",customArgs:l.defaultArgs||[],isEnabled:!0}))),[a,d]=b.useState(null),[f,x]=b.useState(!1),u=async l=>{const t=document.createElement("input");t.type="file",t.accept=".exe,.app,.sh",t.onchange=c=>{var j;const h=(j=c.target.files)==null?void 0:j[0];if(h){const S=h.name;m(l,"executablePath",S)}},t.click()},m=(l,t,c)=>{r(h=>h.map(j=>j.platform===l?{...j,[t]:c}:j))},p=async()=>{if(a){x(!0);try{const l=document.createElement("input");l.type="file",l.webkitdirectory=!0,l.onchange=async t=>{const c=t.target.files;if(c&&c.length>0)try{const j=Array.from(c).filter(S=>{var _;const F=(_=S.name.split(".").pop())==null?void 0:_.toLowerCase();return O(a).includes(F||"")});j.length>0?(console.log(`ðŸŽ® Found ${j.length} valid ROMs for ${a}:`,j.map(S=>S.name)),alert(`Found ${j.length} valid ROM files for ${a}!

Files:
${j.map(S=>`â€¢ ${S.name}`).join(`
`)}`)):alert(`No valid ROM files found for ${a}.

Valid extensions: ${O(a).join(", ")}`)}catch(h){console.error("Failed to process ROM files:",h),alert("Failed to process ROM files. Please check the console for details.")}},l.click()}catch(l){console.error("Failed to scan directory:",l)}finally{x(!1)}}},y=()=>{const l=n.filter(t=>t.isEnabled);s(l.map(t=>{var c,h,j;return{platform:t.platform,name:((c=v.getEmulatorConfig(t.platform))==null?void 0:c.name)||"",executablePath:t.executablePath,romExtensions:((h=v.getEmulatorConfig(t.platform))==null?void 0:h.romExtensions)||[],supportedSystems:((j=v.getEmulatorConfig(t.platform))==null?void 0:j.supportedSystems)||[],defaultArgs:t.customArgs}})),i()};return g?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gray-900 rounded-xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Emulator Configuration"}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors",children:"âœ•"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Emulator Platform"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[v.getEmulatorConfig(R.DOLPHIN),v.getEmulatorConfig(R.PROJECT64)].filter(Boolean).map(l=>e.jsxs("button",{onClick:()=>d(l.platform),className:`p-4 rounded-lg border transition-all ${a===l.platform?"border-gaming-accent bg-gaming-accent/20":"border-gray-700 hover:border-gray-600"}`,children:[e.jsx("div",{className:"text-white font-medium",children:l.name}),e.jsx("div",{className:"text-gray-400 text-sm",children:l.supportedSystems.join(", ")}),e.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:[l.romExtensions.slice(0,3).join(", "),l.romExtensions.length>3&&"..."]})]},l.platform))})]}),a&&e.jsxs(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 border-t border-gray-700 pt-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:[(o=v.getEmulatorConfig(a))==null?void 0:o.name," Settings"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Executable Path"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:((w=n.find(l=>l.platform===a))==null?void 0:w.executablePath)||"",onChange:l=>m(a,"executablePath",l.target.value),placeholder:"Path to emulator executable",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none"}),e.jsx("button",{onClick:()=>u(a),className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Browse"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Arguments"}),e.jsx("input",{type:"text",value:((k=(N=n.find(l=>l.platform===a))==null?void 0:N.customArgs)==null?void 0:k.join(" "))||"",onChange:l=>m(a,"customArgs",l.target.value.split(" ").filter(Boolean)),placeholder:"Additional command line arguments",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ROM Directory"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p,disabled:f,className:"px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Scanning...":"Scan ROMs"}),e.jsx("span",{className:"text-gray-400 text-sm self-center",children:(P=n.find(l=>l.platform===a))!=null&&P.isEnabled?"Enabled":"Disabled"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Enable this emulator"}),e.jsx("button",{onClick:()=>{var l;return m(a,"isEnabled",!((l=n.find(t=>t.platform===a))!=null&&l.isEnabled))},title:`Toggle emulator ${(A=n.find(l=>l.platform===a))!=null&&A.isEnabled?"off":"on"}`,className:`w-12 h-6 rounded-full transition-colors ${(I=n.find(l=>l.platform===a))!=null&&I.isEnabled?"bg-gaming-accent":"bg-gray-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${($=n.find(l=>l.platform===a))!=null&&$.isEnabled?"translate-x-6":"translate-x-0.5"}`})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[e.jsx("button",{onClick:i,className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:y,className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-colors font-medium",children:"Save Configuration"})]})]})]})}):null};class C extends Error{constructor(i,s,n){super(s),this.type=i,this.details=n,this.name="SteamImportError"}}class T{static async retryWithBackoff(i,s=3,n=1e3){for(let r=1;r<=s;r++)try{return await i()}catch(a){if(r===s)throw a;const d=n*Math.pow(2,r-1),f=Math.random()*.1*d,x=d+f;console.warn(`Steam API attempt ${r} failed, retrying in ${Math.round(x)}ms:`,a),await new Promise(u=>setTimeout(u,x))}throw new Error("Max retries exceeded")}static async fetchOwnedGames(i,s){return this.retryWithBackoff(async()=>{var n;try{const r=`${this.STEAM_API_BASE}?key=${encodeURIComponent(s)}&steamid=${encodeURIComponent(i)}&format=json&include_appinfo=true&include_played_free_games=true`,a=await fetch(r,{signal:AbortSignal.timeout(1e4)});if(!a.ok)throw a.status===401?new C("INVALID_API_KEY","Invalid Steam Web API key","Please check your API key and try again"):a.status===403?new C("PRIVATE_PROFILE","Steam profile is private","Please make your Steam profile public or set your game details to public"):new Error(`Steam API error: ${a.status}`);const d=await a.json();if(!d.response||!d.response.games)throw new C("INVALID_STEAM_ID","Invalid Steam ID or no games found","Please check your Steam ID and ensure your profile is public");return d.response.games.filter(f=>f.name&&f.appid)}catch(r){if(r instanceof C)throw r;try{const a=`${this.BACKUP_API_BASE}/games?steamId=${encodeURIComponent(i)}&apiKey=${encodeURIComponent(s)}`,d=await fetch(a,{signal:AbortSignal.timeout(15e3)});if(!d.ok)throw new C("NETWORK_ERROR","Failed to connect to Steam API","Please check your internet connection and try again");return((n=(await d.json()).response)==null?void 0:n.games)||[]}catch{throw new C("NETWORK_ERROR","Failed to fetch Steam library","Please check your Steam ID, API key, and internet connection")}}},3,1e3)}static async fetchGameDetails(i){return this.retryWithBackoff(async()=>{try{const s=`${this.STEAM_STORE_BASE}?appids=${i}&format=json`,a=(await(await fetch(s,{signal:AbortSignal.timeout(8e3)})).json())[i];return a&&a.success&&a.data?a.data:null}catch(s){return console.warn(`Failed to fetch details for app ${i}:`,s),null}},2,500)}static normalizeSteamGame(i,s){var u,m,p,y,o,w;const n=new Date,r=Math.floor(i.playtime_forever/60),a=i.rtime_last_played?new Date(i.rtime_last_played*1e3):void 0;let d="unplayed";r>0&&(r<2?d="playing":r<20?d="completed":d="playing");const f=((u=s==null?void 0:s.genres)==null?void 0:u.map(N=>({id:N.id.toLowerCase(),name:N.description,color:"#8b5cf6",subgenres:[]})))||[],x=s!=null&&s.platforms?[...s.platforms.windows?[{id:"pc",name:"PC",code:"pc",isConnected:!1}]:[],...s.platforms.mac?[{id:"mac",name:"Mac",code:"mac",isConnected:!1}]:[],...s.platforms.linux?[{id:"linux",name:"Linux",code:"linux",isConnected:!1}]:[]]:[{id:"pc",name:"PC",code:"pc",isConnected:!1}];return{title:i.name,description:(s==null?void 0:s.short_description)||(s==null?void 0:s.about_the_game)||"",backgroundImages:s!=null&&s.header_image?[s.header_image]:[],coverImage:`https://cdn.akamai.steamstatic.com/steam/apps/${i.appid}/header.jpg`,releaseDate:(m=s==null?void 0:s.release_date)!=null&&m.date?new Date(s.release_date.date):n,developer:((p=s==null?void 0:s.developers)==null?void 0:p[0])||"",publisher:((y=s==null?void 0:s.publishers)==null?void 0:y[0])||"",genres:f,subgenres:[],platforms:x,emotionalTags:[],userRating:0,globalRating:((o=s==null?void 0:s.metacritic)==null?void 0:o.score)||0,playStatus:d,hoursPlayed:r,lastPlayed:a,addedAt:n,notes:"",isFavorite:!1,tags:this.extractTagsFromDetails(s),releaseYear:(w=s==null?void 0:s.release_date)!=null&&w.date?new Date(s.release_date.date).getFullYear():n.getFullYear(),achievements:s!=null&&s.achievements?{unlocked:0,total:s.achievements.total}:void 0,totalPlaytime:r,appId:i.appid}}static extractTagsFromDetails(i){if(!i)return[];const s=[];return i.categories&&i.categories.forEach(n=>{const r=n.description.toLowerCase();(r.includes("multiplayer")||r.includes("co-op"))&&s.push("multiplayer"),r.includes("single-player")&&s.push("single-player"),r.includes("steam")&&s.push("steam"),r.includes("achievement")&&s.push("achievements"),r.includes("trading cards")&&s.push("trading")}),i.genres&&i.genres.forEach(n=>{const r=n.description.toLowerCase();r.includes("action")&&s.push("action"),r.includes("adventure")&&s.push("adventure"),r.includes("rpg")&&s.push("rpg"),r.includes("strategy")&&s.push("strategy"),r.includes("simulation")&&s.push("simulation"),r.includes("sports")&&s.push("sports"),r.includes("racing")&&s.push("racing")}),i.is_free&&s.push("free-to-play"),[...new Set(s)]}static async importSteamLibrary(i,s){try{const n=await fetch(`/api/steam/library/${encodeURIComponent(i)}`);if(!n.ok)throw new Error(`Backend API error: ${n.status}`);const r=await n.json();return r.games&&Array.isArray(r.games)?r.games.map(a=>{const d=a.appid||a.appId||a.steamAppId,f=a.imgLogoUrl||a.imgHeaderUrl||a.coverImage||`https://cdn.akamai.steamstatic.com/steam/apps/${d}/header.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${d}/library_600x900.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${d}/capsule_184x69.jpg`,x=a.categories||[];let u=x.map(o=>o.description).filter(Boolean);if(x.some(o=>o.description.toLowerCase().includes("multiplayer"))&&u.push("Multiplayer"),x.some(o=>o.description.toLowerCase().includes("single-player"))&&u.push("Single Player"),x.some(o=>o.description.toLowerCase().includes("co-op"))&&u.push("Co-op"),u.length===0){const o=a.name.toLowerCase();(o.includes("zombie")||o.includes("dead")||o.includes("resident evil"))&&u.push("Horror","Survival"),(o.includes("rpg")||o.includes("witcher")||o.includes("elder scrolls"))&&u.push("RPG"),(o.includes("shooter")||o.includes("counter-strike")||o.includes("call of duty"))&&u.push("Shooter"),(o.includes("strategy")||o.includes("command")||o.includes("company of heroes"))&&u.push("Strategy"),(o.includes("racing")||o.includes("rocket league"))&&u.push("Racing"),(o.includes("sports")||o.includes("football")||o.includes("wwe"))&&u.push("Sports"),(o.includes("adventure")||o.includes("tomb")||o.includes("assassin"))&&u.push("Adventure"),(o.includes("puzzle")||o.includes("portal"))&&u.push("Puzzle"),(o.includes("simulation")||o.includes("simulator"))&&u.push("Simulation"),u.length===0&&u.push("Action")}const m=x.slice(0,3).map(o=>({id:o.id.toLowerCase(),name:o.description,color:"#8b5cf6",subgenres:[]})),p=Math.floor((a.playtimeForever||0)/60);let y="unplayed";return p>0&&(p<2?y="playing":p<20?y="completed":y="playing"),{title:a.name,description:a.shortDescription||"",backgroundImages:a.backgroundImages||[],coverImage:f,releaseDate:a.releaseDate?new Date(a.releaseDate):new Date,developer:a.developer||"",publisher:a.publisher||"",genres:m,subgenres:[],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:[],userRating:void 0,globalRating:a.metacriticScore?a.metacriticScore:void 0,playStatus:y,hoursPlayed:p,lastPlayed:a.lastPlayed?new Date(a.lastPlayed):void 0,addedAt:new Date,notes:"",isFavorite:!1,tags:u,releaseYear:a.releaseYear?a.releaseYear:new Date().getFullYear(),achievements:a.achievements?{unlocked:a.achievements.unlocked||0,total:a.achievements.total||0}:void 0,totalPlaytime:p,averageRating:void 0,completionPercentage:void 0,appId:d}}):[]}catch(n){return console.error("Failed to import Steam library via backend:",n),[]}}}D(T,"STEAM_API_BASE","https://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/"),D(T,"STEAM_STORE_BASE","https://store.steampowered.com/api/appdetails/"),D(T,"BACKUP_API_BASE","/api/steam");const Q=()=>{const{user:g}=U(),{actions:i,isLoading:s}=Y(),[n,r]=b.useState({theme:"dark",layoutDensity:"comfortable",integrations:{steam:!0,discord:!0,youtube:!0,gog:!1,epic:!1},notifications:{achievements:!0,friendActivity:!0,gameUpdates:!1,news:!1},privacy:{profilePublic:!0,showPlaytime:!0,shareAchievements:!1},emulators:[],steam:{connected:!1,steamId:"",apiKey:"",lastSync:void 0,syncStatus:"idle",gameCount:0}}),[a,d]=b.useState(!1),[f,x]=b.useState(!1),[u,m]=b.useState(null);b.useEffect(()=>{n.emulators.length>0&&M.setConfigs(n.emulators)},[n.emulators]),b.useEffect(()=>{const t=localStorage.getItem("gamepilot-settings");if(t)try{const c=JSON.parse(t);r(c),c.lastSteamSync&&m(new Date(c.lastSteamSync))}catch(c){console.error("Error loading settings:",c)}},[]),b.useEffect(()=>{a&&(localStorage.setItem("gamepilot-settings",JSON.stringify(n)),d(!1))},[n,a]);const p=(t,c)=>{r(h=>({...h,[t]:c})),d(!0)},y=(t,c)=>{r(h=>({...h,integrations:{...h.integrations,[t]:c}})),d(!0)},o=(t,c)=>{r(h=>({...h,notifications:{...h.notifications,[t]:c}})),d(!0)},w=(t,c)=>{r(h=>({...h,privacy:{...h.privacy,[t]:c}})),d(!0)},[N,k]=b.useState(!1),P=t=>{r(c=>({...c,emulators:t})),d(!0),M.setConfigs(t)},A=()=>{k(!0)},I=()=>{k(!1)},$=()=>{r({theme:"dark",layoutDensity:"comfortable",integrations:{steam:!0,discord:!0,youtube:!0,gog:!1,epic:!1},notifications:{achievements:!0,friendActivity:!0,gameUpdates:!1,news:!1},privacy:{profilePublic:!0,showPlaytime:!0,shareAchievements:!1},emulators:[],steam:{connected:!1,steamId:"",apiKey:"",lastSync:void 0,syncStatus:"idle",gameCount:0}}),d(!0)},l=async()=>{if(!(g!=null&&g.steamId)){E.error("Steam Not Connected","Please connect your Steam account first");return}x(!0);try{E.info("Importing Steam Library","Fetching your games from Steam...");const t=await T.importSteamLibrary(g.steamId,"");if(t.length===0){E.warning("No Games Found","No Steam games were found. Make sure your profile is public.");return}i.bulkImport(t);const c=new Date;m(c),r(h=>({...h,lastSteamSync:c.toISOString()})),E.success("Steam Library Imported",`Successfully imported ${t.length} games from Steam`)}catch(t){console.error("Steam import failed:",t),E.error("Import Failed","Failed to import Steam library. Please try again.")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("header",{className:"mb-12",children:[e.jsx("h1",{className:"text-5xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent mb-4 text-center",children:"Settings"}),e.jsx("p",{className:"text-gray-300 text-center text-lg",children:"Customize your GamePilot experience"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ¨"}),"Appearance"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-white text-lg font-medium",children:"Theme"}),e.jsx(K,{size:"md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white text-lg font-medium mb-3",children:"Layout Density"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:["compact","comfortable","spacious"].map(t=>e.jsxs("button",{onClick:()=>p("layoutDensity",t),"aria-label":`Set layout density to ${t}`,className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${n.layoutDensity===t?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[t==="compact"&&"ðŸ“± Compact",t==="comfortable"&&"ðŸ–¥ï¸ Comfortable",t==="spacious"&&"ðŸ“ Spacious"]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-white text-lg font-medium mb-3",children:"Theme Accent"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:["primary","secondary","accent"].map(t=>e.jsxs("button",{onClick:()=>{console.log(`Theme accent ${t} selected`)},"aria-label":`Set theme accent to ${t}`,className:`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${t==="primary"?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white shadow-lg":t==="secondary"?"bg-gradient-to-r from-gaming-secondary to-gaming-primary text-white shadow-lg":t==="accent"?"bg-gradient-to-r from-gaming-accent to-gaming-accent-light text-white shadow-lg":""}`,children:[t==="primary"&&"ðŸŽ¯ Primary",t==="secondary"&&"ðŸ”¥ Secondary",t==="accent"&&"âš¡ Accent"]},t))})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”—"}),"Integrations"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-white font-medium",children:"ðŸŽ® Steam"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Game library and achievements"})]}),e.jsx("button",{onClick:()=>y("steam",!n.integrations.steam),"aria-label":"Toggle Steam integration",className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.integrations.steam?"bg-gaming-accent":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${n.integrations.steam?"translate-x-6":"translate-x-1"}`})})]}),n.integrations.steam&&e.jsx("div",{className:"mt-3 space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-300",children:["Status: ",g!=null&&g.steamId?"âœ… Connected":"âŒ Not Connected"]}),u&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Last sync: ",u.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[(g==null?void 0:g.steamId)&&e.jsx("button",{onClick:l,disabled:f||s,className:"px-3 py-1 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:"â³"}),e.jsx("span",{children:"Importing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"ðŸ“¥"}),e.jsx("span",{children:"Import Library"})]})}),!(g!=null&&g.steamId)&&e.jsxs("button",{onClick:()=>window.location.href="https://gamepilot.com/api/auth/steam",className:"px-3 py-1 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-colors text-sm flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”—"}),e.jsx("span",{children:"Connect Steam"})]})]})]})})]}),["discord","youtube","gog","epic"].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-white font-medium capitalize",children:[t==="discord"&&"ðŸ’¬ Discord",t==="youtube"&&"ðŸ“º YouTube",t==="gog"&&"ðŸŽ¯ GOG",t==="epic"&&"ðŸš€ Epic Games"]}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[t==="discord"&&"Rich presence and chat",t==="youtube"&&"Game videos and trailers",t==="gog"&&"GOG galaxy integration",t==="epic"&&"Epic games store"]})]}),e.jsx("button",{onClick:()=>y(t,!n.integrations[t]),"aria-label":`Toggle ${t} integration`,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.integrations[t]?"bg-gaming-accent":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${n.integrations[t]?"translate-x-6":"translate-x-1"}`})})]},t))]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ®"}),"Emulator Configuration"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-white font-medium",children:"ðŸŽ® Retro Gaming Support"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Configure emulators for retro game libraries"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n.emulators.length>0?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-gray-500/20 text-gray-300 border border-gray-500/30"}`,children:[n.emulators.length," configured"]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors font-medium flex items-center gap-2",children:[e.jsx("span",{children:"âš™ï¸"}),e.jsx("span",{children:"Configure"})]})]})]}),n.emulators.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Configured Emulators"}),n.emulators.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-white font-medium",children:t.name}),e.jsx("span",{className:"text-gray-400 text-sm",children:t.supportedSystems.join(", ")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t.executablePath?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-gray-400 text-sm",children:t.executablePath?"Ready":"Needs path"})]})]},t.platform))]}),e.jsxs("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"ðŸŽ¯ Getting Started"}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Configure emulators to play retro games in your GamePilot library."}),e.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[e.jsx("li",{children:"â€¢ Select emulator platforms (RetroArch, Dolphin, etc.)"}),e.jsx("li",{children:"â€¢ Set executable paths for each emulator"}),e.jsx("li",{children:"â€¢ Scan ROM directories to add games"}),e.jsx("li",{children:"â€¢ Launch retro games directly from GamePilot"})]})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ””"}),"Notifications"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(n.notifications).map(([t,c])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium",children:[t==="achievements"&&"ðŸ† Achievement Unlocked",t==="friendActivity"&&"ðŸ‘¥ Friend Activity",t==="gameUpdates"&&"ðŸ“° Game Updates",t==="news"&&"ðŸ“° Gaming News"]}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[t==="achievements"&&"Get notified of new achievements",t==="friendActivity"&&"See when friends come online",t==="gameUpdates"&&"Updates about your games",t==="news"&&"Latest gaming news and updates"]})]}),e.jsx("button",{onClick:()=>o(t,!c),"aria-label":`Toggle ${t} notifications`,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-gaming-accent":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]},t))})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ”’"}),"Privacy"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(n.privacy).map(([t,c])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-white font-medium",children:[t==="profilePublic"&&"ðŸŒ Public Profile",t==="showPlaytime"&&"â±ï¸ Show Playtime",t==="shareAchievements"&&"ðŸ† Share Achievements"]}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[t==="profilePublic"&&"Make profile visible to other users",t==="showPlaytime"&&"Display total playtime on profile",t==="shareAchievements"&&"Share achievements on social media"]})]}),e.jsx("button",{onClick:()=>w(t,!c),"aria-label":`Toggle ${t} privacy setting`,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-gaming-accent":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]},t))})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8 border-2 border-red-500/20",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âš ï¸"}),"Account Management"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-red-900/20 rounded-lg border border-red-500/30",children:[e.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-3",children:"Delete Account"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Permanently delete your GamePilot account and all associated data. This action cannot be undone."}),e.jsxs("div",{className:"text-sm text-gray-400 mb-4 space-y-1",children:[e.jsx("p",{children:"â€¢ All personal information will be permanently deleted"}),e.jsx("p",{children:"â€¢ Game library and preferences will be removed"}),e.jsx("p",{children:"â€¢ Connected integrations will be disconnected"}),e.jsx("p",{children:"â€¢ Achievement and playtime data will be lost"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>{prompt("Enter your password to confirm account deletion:")&&prompt('Type "DELETE" to confirm:')==="DELETE"&&alert("Account deletion is not yet implemented in the UI. This is a placeholder for Phase 1.")},className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"ðŸ—‘ï¸ Delete Account"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Requires password confirmation"})]})]}),e.jsxs("div",{className:"p-6 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-400 mb-3",children:"Export Data"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Download a copy of your GamePilot data before deleting your account."}),e.jsx("button",{onClick:()=>{alert("Data export is not yet implemented. This is a placeholder for Phase 1.")},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"ðŸ“¥ Export My Data"})]})]})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-8",children:[e.jsx("button",{onClick:$,className:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"ðŸ”„ Reset to Defaults"}),a&&e.jsx("button",{onClick:()=>{localStorage.setItem("gamepilot-settings",JSON.stringify(n)),d(!1)},className:"px-6 py-3 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-opacity",children:"ðŸ’¾ Save Changes"})]})]})]}),e.jsx(H,{isOpen:N,onClose:I,onSave:P})]})};export{Q as Settings};
