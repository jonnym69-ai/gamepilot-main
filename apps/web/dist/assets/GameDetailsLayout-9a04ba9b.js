import{f as D,h as F,r as H,i as P,j as e,b as O,k as U,l as z,M as _,m}from"./index-372c56cf.js";import{e as W,a as Z}from"./emulatorLauncher-803a0f26.js";function V(s){const{games:l,intelligence:o}=D(),i=F();return H.useMemo(()=>{try{const n=l.find(b=>b.id===s);if(!n)return console.warn(`Game ${s} not found in library`),P({signals:Y(),moodEntry:i});const g=q(n);return P({signals:g,moodEntry:i})}catch(n){return console.warn(`Game persona calculation failed for ${s}, using fallback:`,n),P({signals:Y(),moodEntry:i})}},[l,o,s,i])}function q(s){var v,N,w,C,k,y;const l={},o=s.hoursPlayed||0;o>0&&[...s.genres||[],...s.subgenres||[]].forEach(M=>{l[M]=o});const i=45,n=1,b=((v=s.tags)==null?void 0:v.some(a=>a.toLowerCase().includes("multiplayer")||a.toLowerCase().includes("co-op")||a.toLowerCase().includes("pvp")||a.toLowerCase().includes("online")))||((N=s.genres)==null?void 0:N.some(a=>a.toLowerCase().includes("multiplayer")||a.toLowerCase().includes("mmorpg")))?1:0;let p=.3;s.playStatus==="completed"?p=1:s.playStatus==="playing"?p=.5:s.playStatus==="backlog"&&(p=.1);let j="Normal";const u=(w=s.tags)==null?void 0:w.filter(a=>a.toLowerCase().includes("hard")||a.toLowerCase().includes("difficult")||a.toLowerCase().includes("challenging")||a.toLowerCase().includes("brutal")),h=(C=s.genres)==null?void 0:C.filter(a=>a.toLowerCase().includes("roguelike")||a.toLowerCase().includes("souls")||a.toLowerCase().includes("hardcore"));(u.length>0||h.length>0)&&(j="Hard");const S=(k=s.tags)==null?void 0:k.filter(a=>a.toLowerCase().includes("casual")||a.toLowerCase().includes("relaxed")||a.toLowerCase().includes("easy")),L=(y=s.genres)==null?void 0:y.filter(a=>a.toLowerCase().includes("casual")||a.toLowerCase().includes("puzzle")||a.toLowerCase().includes("simulation"));return(S.length>0||L.length>0)&&(j="Relaxed"),{playtimeByGenre:l,averageSessionLengthMinutes:i,sessionsPerWeek:n,difficultyPreference:j,multiplayerRatio:b,lateNightRatio:.2,completionRate:p}}function Y(){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:1,difficultyPreference:"Normal",multiplayerRatio:.5,lateNightRatio:.2,completionRate:.5}}const Q={Achiever:{name:"Achiever",icon:"ðŸ†",gradient:"from-yellow-500 to-amber-600",description:"Goal-oriented completionist"},Explorer:{name:"Explorer",icon:"ðŸ—ºï¸",gradient:"from-green-500 to-emerald-600",description:"Curious discoverer"},Socializer:{name:"Socializer",icon:"ðŸ‘¥",gradient:"from-blue-500 to-cyan-600",description:"Community player"},Competitor:{name:"Competitor",icon:"âš”ï¸",gradient:"from-red-500 to-orange-600",description:"Victory-driven"},Strategist:{name:"Strategist",icon:"â™Ÿï¸",gradient:"from-indigo-500 to-purple-600",description:"Tactical thinker"},Creative:{name:"Creative",icon:"ðŸŽ¨",gradient:"from-purple-500 to-pink-600",description:"Imaginative builder"},Casual:{name:"Casual",icon:"ðŸ˜Œ",gradient:"from-teal-500 to-cyan-600",description:"Relaxed gamer"},Specialist:{name:"Specialist",icon:"ðŸŽ¯",gradient:"from-pink-500 to-rose-600",description:"Focused expert"}},J={sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"},K={sm:"text-sm",md:"text-base",lg:"text-lg"},X=({archetypeId:s,size:l="md",showName:o=!0,className:i=""})=>{const n=Q[s];return n?e.jsxs("div",{className:`
        inline-flex items-center gap-1.5
        bg-gradient-to-r ${n.gradient}
        text-white font-medium
        rounded-full
        shadow-lg
        transition-all duration-200
        hover:shadow-xl hover:scale-105
        ${J[l]}
        ${i}
      `,title:n.description,children:[e.jsx("span",{className:K[l],children:n.icon}),o&&e.jsx("span",{className:"font-semibold",children:n.name})]}):null},ee={Calm:"bg-blue-500",Hyped:"bg-yellow-500",Competitive:"bg-red-500",Reflective:"bg-purple-500",Comfort:"bg-green-500"},se={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};function te(s){const o={chill:"Calm",story:"Calm",creative:"Calm",energetic:"Hyped",social:"Hyped",exploratory:"Hyped",competitive:"Competitive",focused:"Competitive",nostalgic:"Reflective",melancholic:"Reflective",cozy:"Comfort",relaxed:"Comfort"}[s]||"Comfort";return ee[o]}const ae=({mood:s,size:l="md",className:o=""})=>{const i=s?te(s.moodId):"bg-gray-400",n=se[l];return e.jsxs("div",{className:`relative ${o}`,children:[e.jsx("div",{className:`
          relative z-10
          ${i}
          ${n}
          rounded-full
          shadow-md
          transition-colors duration-300
        `,title:s?`${s.moodId} (Intensity: ${s.intensity})`:"No mood data"}),s&&s.intensity>=7&&e.jsx("div",{className:`
            absolute top-0 right-0
            w-1.5 h-1.5
            bg-white
            rounded-full
          `})]})};function f(s){return s.charAt(0).toUpperCase()+s.slice(1)}const re=({persona:s,compact:l=!1,className:o=""})=>{const{traits:i,mood:n,narrative:g}=s;return i?e.jsxs("div",{className:`flex items-center gap-3 ${o}`,children:[e.jsx(X,{archetypeId:i.archetypeId,size:l?"sm":"md",showName:!l}),e.jsx(ae,{mood:n,size:l?"sm":"md"}),!l&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("span",{className:"font-medium",children:f(i.pacing)}),e.jsx("span",{className:"text-gray-500",children:"â€¢"}),e.jsx("span",{className:"font-medium",children:f(i.riskProfile)}),e.jsx("span",{className:"text-gray-500",children:"â€¢"}),e.jsx("span",{className:"font-medium",children:f(i.socialStyle)})]}),l&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-300",children:[e.jsx("span",{children:f(i.pacing)}),e.jsx("span",{className:"text-gray-500",children:"â€¢"}),e.jsx("span",{children:f(i.riskProfile)})]}),!l&&g&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-purple-500 to-pink-500"}),e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:g.tone})]})]}):e.jsxs("div",{className:`flex items-center gap-3 text-gray-400 ${o}`,children:[e.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Loading persona..."})]})},ne=({game:s})=>{var T,A,I,E,G,R,$;const l=O(),{games:o,actions:i}=D(),{showSuccess:n,showError:g,showWarning:b,showInfo:p}=U(),u=(t=>{var r;if(t.coverImage){const c=t.appId||((r=t.id)==null?void 0:r.split("_")[1]);if(c)return`https://cdn.akamai.steamstatic.com/steam/apps/${c}/header.jpg`}return t.coverImage})(s);console.log("ðŸ” Game Details - Full Game Object:",s),console.log("ðŸ” Game Details - Original Cover Image URL:",s==null?void 0:s.coverImage),console.log("ðŸ” Game Details - Header Image URL:",u);const h=V(s.id),S=async()=>{var r,c;console.log("ðŸŽ® Launching game:",s.title),p("Launching Game: Starting "+s.title+"...",{autoClose:2e3});const t=(c=(r=s.platforms)==null?void 0:r[0])==null?void 0:c.code;if(t&&W.isEmulatorPlatform(t))try{const x=await Z.launchGame(s,{fullscreen:!0});x.success?(n("Game Launched! "+s.title+" is now running",{autoClose:3e3}),i.updateGameStatus(s.id,"playing")):g("Launch Failed: "+(x.error||"Failed to launch emulator game"),{autoClose:5e3})}catch{g("Launch Error: An error occurred while launching the game",{autoClose:5e3})}else if(s.appId){console.log("ðŸŽ® Launching Steam game with appId:",s.appId);const x=`steam://rungameid/${s.appId}`;console.log("ðŸš€ Direct Steam URL:",x);try{window.location.href=x,setTimeout(()=>{document.visibilityState==="visible"?b("Launch Failed: Steam may not be installed or running. Please check Steam is available.",{autoClose:5e3}):(n("Steam Launch Initiated: Opening "+s.title+" via Steam...",{autoClose:3e3}),i.updateGameStatus(s.id,"playing"))},3e3)}catch(B){console.error("Failed to launch game:",B),g("Launch Error: Could not execute launch command",{autoClose:5e3})}}else console.warn("No appId found for game:",s.title),b("Launch Not Available: This game cannot be launched automatically. App ID not found.",{autoClose:4e3})},L=()=>{console.log("âœ… Marking game as completed:",s.title),i.updateGameStatus(s.id,"completed"),n("Game Completed: "+s.title+" marked as completed",{autoClose:3e3})},v=()=>{console.log("ðŸ·ï¸ Add tags for:",s.title),p("Tags Feature: Tag management coming soon!",{autoClose:3e3})},N=()=>{console.log("ðŸ“š Add to shelf:",s.title),p("Shelf Feature: Custom shelves coming soon!",{autoClose:3e3})},w=()=>{console.log("â­ Rate mood for:",s.title),p("Mood Rating: Mood rating system coming soon!",{autoClose:3e3})},C=()=>{console.log("âœï¸ Edit metadata for:",s.title),p("Edit Feature: Game editor coming soon!",{autoClose:3e3})},k=()=>{console.log("ðŸ“‹ Mark as backlog:",s.title);const t=s.tags||[];if(t.includes("Backlog")){const c=t.filter(x=>x!=="Backlog");i.updateGame(s.id,{tags:c}),n("Backlog tag removed from "+s.title,{autoClose:3e3})}else{const c=[...t,"Backlog"];i.updateGame(s.id,{tags:c}),n("Backlog tag added to "+s.title,{autoClose:3e3})}},y=t=>{if(!t)return"0h";const r=Math.floor(t),c=Math.round((t-r)*60);return c>0?`${r}h ${c}m`:`${r}h`},a=t=>t?new Date(t).toLocaleDateString():"Never",d=z(s).map(t=>_.find(r=>r.id===t)).filter(t=>t!==void 0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:[e.jsxs("div",{className:"relative h-96 overflow-hidden hero-section",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gaming-primary via-gaming-secondary to-gaming-accent"}),e.jsx(m.div,{className:"absolute inset-0",initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},transition:{duration:1.2,ease:"easeOut"},children:u&&e.jsx("img",{src:u,alt:s==null?void 0:s.title,className:"w-full h-full object-cover object-center game-header-image",style:{objectPosition:"center center",filter:"brightness(0.8) contrast(1.2)"},onError:t=>{console.error("âŒ Header image failed to load:",u),t.currentTarget.style.display="none"},onLoad:()=>{console.log("âœ… Header image loaded successfully:",u)}})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/30 via-transparent to-blue-900/30"}),e.jsx(m.div,{className:"absolute inset-0 bg-gradient-to-br from-gaming-primary/20 via-transparent to-gaming-accent/20",animate:{background:["linear-gradient(to bottom right, rgba(59, 130, 246, 0.2), transparent, rgba(34, 197, 94, 0.2))","linear-gradient(to bottom right, rgba(34, 197, 94, 0.2), transparent, rgba(168, 85, 247, 0.2))","linear-gradient(to bottom right, rgba(168, 85, 247, 0.2), transparent, rgba(59, 130, 246, 0.2))"]},transition:{duration:8,repeat:1/0},children:e.jsx("div",{className:"absolute inset-0 bg-radial-gradient from-transparent via-transparent to-black/40",style:{background:"radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.4) 100%)"}})}),e.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((t,r)=>e.jsx(m.div,{className:"absolute w-1 h-1 bg-white/20 rounded-full",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",scale:0},animate:{x:Math.random()*100+"%",y:Math.random()*100+"%",scale:[0,1,0],opacity:[0,.8,0]},transition:{duration:3+Math.random()*4,repeat:1/0,delay:Math.random()*2}},r))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{className:"flex-1",children:[h&&e.jsx(m.div,{className:"mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"px-3 py-1 bg-gaming-primary/20 border border-gaming-primary/30 rounded-full text-gaming-primary text-xs font-medium backdrop-blur-sm",children:["ðŸ§  ",((T=h==null?void 0:h.traits)==null?void 0:T.archetypeId)||"Explorer"]}),e.jsxs("div",{className:"px-3 py-1 bg-gaming-accent/20 border border-gaming-accent/30 rounded-full text-gaming-accent text-xs font-medium backdrop-blur-sm",children:["â­ ",Math.round((((A=h==null?void 0:h.traits)==null?void 0:A.confidence)||0)*100),"% Match"]})]})}),e.jsx(m.div,{className:"mb-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:e.jsx("span",{className:"px-3 py-1 bg-amber-500/20 border border-amber-500/30 rounded-full text-amber-300 text-xs font-medium backdrop-blur-sm",children:s!=null&&s.releaseYear?`From ${s.releaseYear}`:"Classic Era"})}),e.jsx(m.h1,{className:"text-5xl font-bold text-white drop-shadow-2xl mb-2",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},children:s==null?void 0:s.title}),e.jsxs(m.div,{className:"flex items-center gap-4 text-white/80 text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsx("span",{children:((I=s==null?void 0:s.platforms)==null?void 0:I.map(t=>t.name).join(" â€¢ "))||"Unknown Platform"}),(s==null?void 0:s.hoursPlayed)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"â±ï¸"}),Math.floor(s.hoursPlayed),"h played"]})]})]}),e.jsxs(m.button,{onClick:S,className:"px-8 py-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl font-bold text-lg transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-gaming-accent/50 flex items-center gap-3 backdrop-blur-sm border border-white/20 game-action-button",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},children:[e.jsx("span",{className:"text-2xl",children:"â–¶ï¸"}),e.jsx("span",{children:"Launch Game"})]})]})})})]}),e.jsx(m.div,{className:"bg-gaming-dark/80 backdrop-blur-xl border-b border-gaming-primary/20 sticky top-0 z-50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>l("/library"),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl font-bold transition-all transform hover:scale-105 hover:shadow-lg hover:shadow-gaming-accent/50",children:[e.jsx("span",{className:"text-xl",children:"â†"}),e.jsx("span",{children:"Back to Library"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>l("/analytics"),className:"px-4 py-2 bg-gaming-accent/20 border border-gaming-accent/30 text-gaming-accent rounded-lg font-medium transition-all hover:bg-gaming-accent/30",children:"ðŸ“Š Analytics"}),e.jsx("button",{onClick:()=>l("/"),className:"px-4 py-2 bg-gaming-primary/20 border border-gaming-primary/30 text-gaming-primary rounded-lg font-medium transition-all hover:bg-gaming-primary/30",children:"ðŸ  Home"})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 content-section",children:[e.jsx(m.div,{className:"glass-morphism rounded-xl p-6 mb-8 border border-gaming-primary/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gaming-primary/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"â±ï¸"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold text-lg",children:y(s.hoursPlayed)}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Total Playtime"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gaming-accent/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸŽ®"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold text-lg",children:s.localSessionCount||0}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Sessions"})]})]}),s.lastLocalPlayedAt&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ“…"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-bold text-lg",children:a(s.lastLocalPlayedAt)}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Last Played"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:v,className:"p-3 bg-gaming-primary/20 hover:bg-gaming-primary/30 text-gaming-primary rounded-xl transition-all group relative border border-gaming-primary/30",title:"Add Tags",children:[e.jsx("span",{className:"text-xl",children:"ðŸ·ï¸"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-gaming-primary text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-gaming-primary/30",children:"Add Tags"})]}),e.jsxs("button",{onClick:N,className:"p-3 bg-gaming-accent/20 hover:bg-gaming-accent/30 text-gaming-accent rounded-xl transition-all group relative border border-gaming-accent/30",title:"Add to Shelf",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“š"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-gaming-accent text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-gaming-accent/30",children:"Add to Shelf"})]}),e.jsxs("button",{onClick:L,className:"p-3 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-xl transition-all group relative border border-green-500/30",title:"Mark as Completed",children:[e.jsx("span",{className:"text-xl",children:"âœ…"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-green-400 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-green-500/30",children:"Mark as Completed"})]}),e.jsxs("button",{onClick:k,className:"p-3 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-xl transition-all group relative border border-yellow-500/30",title:(E=s.tags)!=null&&E.includes("Backlog")?"Remove from Backlog":"Mark as Backlog",children:[e.jsx("span",{className:"text-xl",children:(G=s.tags)!=null&&G.includes("Backlog")?"âœ“":"ðŸ“‹"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-yellow-400 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-yellow-500/30",children:(R=s.tags)!=null&&R.includes("Backlog")?"Remove from Backlog":"Mark as Backlog"})]}),e.jsxs("button",{onClick:w,className:"p-3 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-xl transition-all group relative border border-purple-500/30",title:"Rate Mood",children:[e.jsx("span",{className:"text-xl",children:"â­"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-purple-400 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-purple-500/30",children:"Rate Mood"})]}),e.jsxs("button",{onClick:C,className:"p-3 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 rounded-xl transition-all group relative border border-amber-500/30",title:"Edit Metadata",children:[e.jsx("span",{className:"text-xl",children:"âœï¸"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gaming-dark text-amber-400 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap border border-amber-500/30",children:"Edit Metadata"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ­"}),"Identity & Mood"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ­"}),"Game Moods"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:d.length>0?d.map((t,r)=>e.jsx(m.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.1,duration:.3},className:`px-4 py-2 rounded-full text-sm font-bold backdrop-blur-sm border-2 transition-all duration-300 hover:scale-105 ${t.id==="competitive"?"bg-gradient-to-r from-red-500/30 to-orange-500/30 border-red-400/50 text-red-200 hover:from-red-500/40 hover:to-orange-500/40":t.id==="chill"?"bg-gradient-to-r from-blue-500/30 to-cyan-500/30 border-blue-400/50 text-blue-200 hover:from-blue-500/40 hover:to-cyan-500/40":t.id==="story"?"bg-gradient-to-r from-purple-500/30 to-pink-500/30 border-purple-400/50 text-purple-200 hover:from-purple-500/40 hover:to-pink-500/40":t.id==="creative"?"bg-gradient-to-r from-green-500/30 to-emerald-500/30 border-green-400/50 text-green-200 hover:from-green-500/40 hover:to-emerald-500/40":t.id==="social"?"bg-gradient-to-r from-teal-500/30 to-cyan-500/30 border-teal-400/50 text-teal-200 hover:from-teal-500/40 hover:to-cyan-500/40":t.id==="focused"?"bg-gradient-to-r from-indigo-500/30 to-purple-500/30 border-indigo-400/50 text-indigo-200 hover:from-indigo-500/40 hover:to-purple-500/40":t.id==="energetic"?"bg-gradient-to-r from-yellow-500/30 to-orange-500/30 border-yellow-400/50 text-yellow-200 hover:from-yellow-500/40 hover:to-orange-500/40":t.id==="exploratory"?"bg-gradient-to-r from-emerald-500/30 to-teal-500/30 border-emerald-400/50 text-emerald-200 hover:from-emerald-500/40 hover:to-teal-500/40":"bg-gradient-to-r from-gray-500/30 to-slate-500/30 border-gray-400/50 text-gray-200 hover:from-gray-500/40 hover:to-slate-500/40"}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-lg",children:t.emoji}),e.jsx("span",{children:t.name})]})},t.id)):e.jsxs("div",{className:"text-gray-400 italic",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ðŸ¤”"}),"No mood tags assigned yet"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"What this game says about you"}),e.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:e.jsxs("p",{className:"text-gray-300 leading-relaxed",children:[d.some(t=>t.id==="competitive")&&"You're driven by achievement and enjoy testing your skills against others. ",d.some(t=>t.id==="story")&&"You appreciate deep narratives and emotional storytelling experiences. ",d.some(t=>t.id==="creative")&&"You love self-expression and building unique experiences. ",d.some(t=>t.id==="social")&&"You value connection and shared experiences with others. ",d.some(t=>t.id==="chill")&&"You prefer relaxed, stress-free gaming sessions. ",d.some(t=>t.id==="focused")&&"You enjoy strategic thinking and deep concentration. ",d.some(t=>t.id==="energetic")&&"You thrive on adrenaline and high-energy gameplay. ",d.some(t=>t.id==="exploratory")&&"You love discovering new worlds and uncovering secrets. ",d.length===0&&"This game's personality is waiting to be discovered through your playstyle."]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"When you usually play this"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:s!=null&&s.hoursPlayed&&s.hoursPlayed>20?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-blue-300 text-sm font-medium",children:"Weekend"}),e.jsx("div",{className:"text-blue-100 text-xs mt-1",children:"Deep Sessions"})]}),e.jsxs("div",{className:"bg-purple-500/20 border border-purple-500/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-purple-300 text-sm font-medium",children:"Evening"}),e.jsx("div",{className:"text-purple-100 text-xs mt-1",children:"Wind Down"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-green-300 text-sm font-medium",children:"Quick Breaks"}),e.jsx("div",{className:"text-green-100 text-xs mt-1",children:"Short Sessions"})]}),e.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-yellow-300 text-sm font-medium",children:"Exploring"}),e.jsx("div",{className:"text-yellow-100 text-xs mt-1",children:"First Time"})]})]})})]})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ®"}),"Game Details"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative w-64 h-96 rounded-xl overflow-hidden cinematic-shadow",children:[e.jsx("img",{src:s.coverImage||"https://via.placeholder.com/300x400/8b5cf6/ffffff?text=Game+Cover",alt:s.title,className:"w-full h-full object-cover game-cover-image",onError:t=>{console.error("âŒ Cover art failed to load:",s.coverImage)},onLoad:()=>{console.log("âœ… Cover art loaded successfully:",s.coverImage)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-white truncate flex-1 mr-4",children:s.title}),e.jsx(re,{persona:h})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap ${s.playStatus==="playing"?"bg-green-500/20 text-green-300 border border-green-500/30":s.playStatus==="completed"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":s.playStatus==="backlog"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-gray-500/20 text-gray-300 border border-gray-500/30"}`,children:[s.playStatus==="playing"&&"â–¶ï¸ Currently Playing",s.playStatus==="completed"&&"âœ… Completed",s.playStatus==="backlog"&&"ðŸ“‹ In Backlog",s.playStatus==="paused"&&"â¸ï¸ Paused",s.playStatus==="abandoned"&&"ðŸš« Abandoned",!s.playStatus&&"ðŸ“ Not Started"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gaming-accent",children:"ðŸŽ®"}),e.jsx("span",{className:"text-gray-300 truncate",children:(($=s.platforms)==null?void 0:$.map(t=>t.name).join(" â€¢ "))||"Unknown Platform"})]}),s.releaseYear&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gaming-accent",children:"ðŸ“…"}),e.jsxs("span",{className:"text-gray-300 whitespace-nowrap",children:["Released ",s.releaseYear]})]})]}),e.jsxs("div",{className:"space-y-2",children:[s.hoursPlayed&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gaming-accent",children:"â±ï¸"}),e.jsxs("span",{className:"text-gray-300 whitespace-nowrap",children:[y(s.hoursPlayed)," played"]})]}),s.lastLocalPlayedAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gaming-accent",children:"ðŸ•"}),e.jsxs("span",{className:"text-gray-300 whitespace-nowrap",children:["Last played ",a(s.lastLocalPlayedAt)]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ·ï¸"}),"Genres & Tags"]}),e.jsxs("div",{className:"space-y-3",children:[s.genres&&s.genres.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Genres"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.genres.map((t,r)=>e.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary text-xs rounded-full border border-gaming-primary/30 whitespace-nowrap",children:t.description||t.name},r))})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Tags"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,8).map((t,r)=>e.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 text-xs rounded-full border border-gray-600/30 whitespace-nowrap",children:t},r)),s.tags.length>8&&e.jsxs("span",{className:"px-3 py-1 bg-gray-600/50 text-gray-400 text-xs rounded-full whitespace-nowrap",children:["+",s.tags.length-8," more"]})]})]})]})]})]})]}),s.description&&e.jsxs("div",{className:"mt-8 p-6 bg-gray-800/30 rounded-xl border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“–"}),"About This Game"]}),e.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:s.description})]})]}),e.jsxs("div",{className:"glass-morphism rounded-xl p-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“š"}),"Shelves"]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ•°ï¸"}),"From This Era"]}),e.jsxs("div",{className:"space-y-3",children:[o.filter(t=>t.id!==(s==null?void 0:s.id)&&t.releaseYear===(s==null?void 0:s.releaseYear)).slice(0,3).map(t=>{var r,c;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer",onClick:()=>l(`/library/game/${t.id}`),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.coverImage||"https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game",alt:t.title,className:"w-12 h-16 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-400",children:[t.releaseYear," â€¢ ",(c=(r=t.platforms)==null?void 0:r[0])==null?void 0:c.name]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-xs text-gaming-accent",children:"Same Era"})})]},t.id)}),o.filter(t=>t.id!==(s==null?void 0:s.id)&&t.releaseYear===(s==null?void 0:s.releaseYear)).length===0&&e.jsx("p",{className:"text-gray-400 text-center py-4",children:"No other games from this era"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽ­"}),"Similar Vibes"]}),e.jsxs("div",{className:"space-y-3",children:[o.filter(t=>t.id!==(s==null?void 0:s.id)&&t.tags&&(s==null?void 0:s.tags)&&t.tags.some(r=>s.tags.includes(r))).slice(0,3).map(t=>{var r;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer",onClick:()=>l(`/library/game/${t.id}`),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.coverImage||"https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game",alt:t.title,className:"w-12 h-16 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:t.title}),e.jsx("p",{className:"text-sm text-gray-400",children:(r=t.tags)==null?void 0:r.filter(c=>{var x;return(x=s==null?void 0:s.tags)==null?void 0:x.includes(c)}).slice(0,2).join(", ")})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-xs text-gaming-accent",children:"Similar Mood"})})]},t.id)}),o.filter(t=>t.id!==(s==null?void 0:s.id)&&t.tags&&(s==null?void 0:s.tags)&&t.tags.some(r=>s.tags.includes(r))).length===0&&e.jsx("p",{className:"text-gray-400 text-center py-4",children:"No games with similar vibes found"})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1 space-y-8",children:e.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),"Stats & History"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-gray-300 text-sm",children:"Total Playtime"}),e.jsx("span",{className:"text-white font-bold text-lg",children:y(s.hoursPlayed)})]}),s.lastLocalPlayedAt&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-sm",children:"Last Played"}),e.jsx("span",{className:"text-gray-400 text-sm",children:a(s.lastLocalPlayedAt)})]})]}),e.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700/50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300 text-sm",children:"Total Sessions"}),e.jsx("span",{className:"text-white font-bold text-lg",children:s.localSessionCount||0})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Sessions"}),e.jsxs("div",{className:"space-y-3",children:[s.lastLocalPlayedAt&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-300 text-sm font-medium",children:a(s.lastLocalPlayedAt)}),e.jsxs("div",{className:"text-gray-400 text-xs",children:[y(s.hoursPlayed)," session"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-300 text-sm font-medium",children:"First played"}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Added to library"})]})]})]})]})]})]})})]})]})]})};export{ne as GameDetailsLayout};
