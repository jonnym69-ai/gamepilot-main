var oj=Object.defineProperty;var lj=(e,t,n)=>t in e?oj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>(lj(e,typeof t!="symbol"?t+"":t,n),n),ic=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var _=(e,t,n)=>(ic(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},q=(e,t,n,s)=>(ic(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var La=(e,t,n,s)=>({set _(i){q(e,t,i,n)},get _(){return _(e,t,s)}}),nt=(e,t,n)=>(ic(e,t,"access private method"),n);function cj(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D0={exports:{}},yl={},F0={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),dj=Symbol.for("react.portal"),uj=Symbol.for("react.fragment"),mj=Symbol.for("react.strict_mode"),hj=Symbol.for("react.profiler"),pj=Symbol.for("react.provider"),fj=Symbol.for("react.context"),gj=Symbol.for("react.forward_ref"),yj=Symbol.for("react.suspense"),xj=Symbol.for("react.memo"),vj=Symbol.for("react.lazy"),Kh=Symbol.iterator;function bj(e){return e===null||typeof e!="object"?null:(e=Kh&&e[Kh]||e["@@iterator"],typeof e=="function"?e:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$0=Object.assign,G0={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||z0}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=Xr.prototype;function Vu(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||z0}var Wu=Vu.prototype=new B0;Wu.constructor=Vu;$0(Wu,Xr.prototype);Wu.isPureReactComponent=!0;var qh=Array.isArray,U0=Object.prototype.hasOwnProperty,Hu={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function W0(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)U0.call(t,s)&&!V0.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:fa,type:e,key:a,ref:o,props:i,_owner:Hu.current}}function wj(e,t){return{$$typeof:fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===fa}function jj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qh=/\/+/g;function ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jj(""+e.key):t.toString(36)}function lo(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fa:case dj:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+ac(o,0):s,qh(i)?(n="",e!=null&&(n=e.replace(Qh,"$&/")+"/"),lo(i,t,n,"",function(d){return d})):i!=null&&(Yu(i)&&(i=wj(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",qh(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+ac(a,l);o+=lo(a,t,n,c,i)}else if(c=bj(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+ac(a,l++),o+=lo(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oa(e,t,n){if(e==null)return e;var s=[],i=0;return lo(e,s,"","",function(a){return t.call(n,a,i++)}),s}function Nj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},co={transition:null},Sj={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:co,ReactCurrentOwner:Hu};function H0(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Oa,forEach:function(e,t,n){Oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Xr;J.Fragment=uj;J.Profiler=hj;J.PureComponent=Vu;J.StrictMode=mj;J.Suspense=yj;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sj;J.act=H0;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=$0({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)U0.call(t,c)&&!V0.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:fa,type:e.type,key:i,ref:a,props:s,_owner:o}};J.createContext=function(e){return e={$$typeof:fj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pj,_context:e},e.Consumer=e};J.createElement=W0;J.createFactory=function(e){var t=W0.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:gj,render:e}};J.isValidElement=Yu;J.lazy=function(e){return{$$typeof:vj,_payload:{_status:-1,_result:e},_init:Nj}};J.memo=function(e,t){return{$$typeof:xj,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=co.transition;co.transition={};try{e()}finally{co.transition=t}};J.unstable_act=H0;J.useCallback=function(e,t){return yt.current.useCallback(e,t)};J.useContext=function(e){return yt.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};J.useEffect=function(e,t){return yt.current.useEffect(e,t)};J.useId=function(){return yt.current.useId()};J.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return yt.current.useMemo(e,t)};J.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};J.useRef=function(e){return yt.current.useRef(e)};J.useState=function(e){return yt.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return yt.current.useTransition()};J.version="18.3.1";F0.exports=J;var w=F0.exports;const re=O0(w),kj=cj({__proto__:null,default:re},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj=w,Ej=Symbol.for("react.element"),Pj=Symbol.for("react.fragment"),Tj=Object.prototype.hasOwnProperty,Mj=Cj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Aj={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Tj.call(t,s)&&!Aj.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:Ej,type:e,key:a,ref:o,props:i,_owner:Mj.current}}yl.Fragment=Pj;yl.jsx=Y0;yl.jsxs=Y0;D0.exports=yl;var r=D0.exports,od={},K0={exports:{}},It={},q0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var R=P.length;P.push(I);e:for(;0<R;){var F=R-1>>>1,X=P[F];if(0<i(X,I))P[F]=I,P[R]=X,R=F;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var I=P[0],R=P.pop();if(R!==I){P[0]=R;e:for(var F=0,X=P.length,le=X>>>1;F<le;){var ce=2*(F+1)-1,We=P[ce],xe=ce+1,ve=P[xe];if(0>i(We,R))xe<X&&0>i(ve,We)?(P[F]=ve,P[xe]=R,F=xe):(P[F]=We,P[ce]=R,F=ce);else if(xe<X&&0>i(ve,R))P[F]=ve,P[xe]=R,F=xe;else break e}}return I}function i(P,I){var R=P.sortIndex-I.sortIndex;return R!==0?R:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,u=null,h=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var I=n(d);I!==null;){if(I.callback===null)s(d);else if(I.startTime<=P)s(d),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(d)}}function j(P){if(g=!1,b(P),!p)if(n(c)!==null)p=!0,N(S);else{var I=n(d);I!==null&&G(j,I.startTime-P)}}function S(P,I){p=!1,g&&(g=!1,x(k),k=-1),f=!0;var R=h;try{for(b(I),u=n(c);u!==null&&(!(u.expirationTime>I)||P&&!L());){var F=u.callback;if(typeof F=="function"){u.callback=null,h=u.priorityLevel;var X=F(u.expirationTime<=I);I=e.unstable_now(),typeof X=="function"?u.callback=X:u===n(c)&&s(c),b(I)}else s(c);u=n(c)}if(u!==null)var le=!0;else{var ce=n(d);ce!==null&&G(j,ce.startTime-I),le=!1}return le}finally{u=null,h=R,f=!1}}var T=!1,E=null,k=-1,C=5,M=-1;function L(){return!(e.unstable_now()-M<C)}function $(){if(E!==null){var P=e.unstable_now();M=P;var I=!0;try{I=E(!0,P)}finally{I?Q():(T=!1,E=null)}}else T=!1}var Q;if(typeof v=="function")Q=function(){v($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=$,Q=function(){te.postMessage(null)}}else Q=function(){y($,0)};function N(P){E=P,T||(T=!0,Q())}function G(P,I){k=y(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,N(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var R=h;h=I;try{return P()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=h;h=P;try{return I()}finally{h=R}},e.unstable_scheduleCallback=function(P,I,R){var F=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=R+X,P={id:m++,callback:I,priorityLevel:P,startTime:R,expirationTime:X,sortIndex:-1},R>F?(P.sortIndex=R,t(d,P),n(c)===null&&P===n(d)&&(g?(x(k),k=-1):g=!0,G(j,R-F))):(P.sortIndex=X,t(c,P),p||f||(p=!0,N(S))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var I=h;return function(){var R=h;h=I;try{return P.apply(this,arguments)}finally{h=R}}}})(Q0);q0.exports=Q0;var Ij=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j=w,At=Ij;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Fi={};function tr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Fi[e]=t,e=0;e<t.length;e++)X0.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,Rj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xh={},Jh={};function Lj(e){return ld.call(Jh,e)?!0:ld.call(Xh,e)?!1:Rj.test(e)?Jh[e]=!0:(Xh[e]=!0,!1)}function Oj(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dj(e,t,n,s){if(t===null||typeof t>"u"||Oj(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ku=/[\-:]([a-z])/g;function qu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ku,qu);et[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ku,qu);et[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ku,qu);et[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qu(e,t,n,s){var i=et.hasOwnProperty(t)?et[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dj(t,n,i,s)&&(n=null),s||i===null?Lj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var On=_j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),lr=Symbol.for("react.portal"),cr=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),Ju=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),Zu=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),ey=Symbol.for("react.offscreen"),Zh=Symbol.iterator;function ai(e){return e===null||typeof e!="object"?null:(e=Zh&&e[Zh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,oc;function xi(e){if(oc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oc=t&&t[1]||""}return`
`+oc+e}var lc=!1;function cc(e,t){if(!e||lc)return"";lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xi(e):""}function Fj(e){switch(e.tag){case 5:return xi(e.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 2:case 15:return e=cc(e.type,!1),e;case 11:return e=cc(e.type.render,!1),e;case 1:return e=cc(e.type,!0),e;default:return""}}function md(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cr:return"Fragment";case lr:return"Portal";case cd:return"Profiler";case Xu:return"StrictMode";case dd:return"Suspense";case ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z0:return(e.displayName||"Context")+".Consumer";case J0:return(e._context.displayName||"Context")+".Provider";case Ju:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zu:return t=e.displayName||null,t!==null?t:md(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return md(e(t))}catch{}}return null}function zj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return md(t);case 8:return t===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ty(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $j(e){var t=ty(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fa(e){e._valueTracker||(e._valueTracker=$j(e))}function ny(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ty(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hd(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ep(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sy(e,t){t=t.checked,t!=null&&Qu(e,"checked",t,!1)}function pd(e,t){sy(e,t);var n=fs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fd(e,t.type,n):t.hasOwnProperty("defaultValue")&&fd(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fd(e,t,n){(t!=="number"||Ro(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function kr(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function np(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(vi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function ry(e,t){var n=fs(t.value),s=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function sp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gj=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){Gj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function oy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function ly(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=oy(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var Bj=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xd(e,t){if(t){if(Bj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function vd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wd=null,Cr=null,Er=null;function rp(e){if(e=xa(e)){if(typeof wd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=jl(t),wd(e.stateNode,e.type,t))}}function cy(e){Cr?Er?Er.push(e):Er=[e]:Cr=e}function dy(){if(Cr){var e=Cr,t=Er;if(Er=Cr=null,rp(e),t)for(e=0;e<t.length;e++)rp(t[e])}}function uy(e,t){return e(t)}function my(){}var dc=!1;function hy(e,t,n){if(dc)return e(t,n);dc=!0;try{return uy(e,t,n)}finally{dc=!1,(Cr!==null||Er!==null)&&(my(),dy())}}function $i(e,t){var n=e.stateNode;if(n===null)return null;var s=jl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var jd=!1;if(Mn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){jd=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{jd=!1}function Uj(e,t,n,s,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var ki=!1,Lo=null,Oo=!1,Nd=null,Vj={onError:function(e){ki=!0,Lo=e}};function Wj(e,t,n,s,i,a,o,l,c){ki=!1,Lo=null,Uj.apply(Vj,arguments)}function Hj(e,t,n,s,i,a,o,l,c){if(Wj.apply(this,arguments),ki){if(ki){var d=Lo;ki=!1,Lo=null}else throw Error(D(198));Oo||(Oo=!0,Nd=d)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function py(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ip(e){if(nr(e)!==e)throw Error(D(188))}function Yj(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ip(i),e;if(a===s)return ip(i),t;a=a.sibling}throw Error(D(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function fy(e){return e=Yj(e),e!==null?gy(e):null}function gy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gy(e);if(t!==null)return t;e=e.sibling}return null}var yy=At.unstable_scheduleCallback,ap=At.unstable_cancelCallback,Kj=At.unstable_shouldYield,qj=At.unstable_requestPaint,_e=At.unstable_now,Qj=At.unstable_getCurrentPriorityLevel,tm=At.unstable_ImmediatePriority,xy=At.unstable_UserBlockingPriority,Do=At.unstable_NormalPriority,Xj=At.unstable_LowPriority,vy=At.unstable_IdlePriority,xl=null,yn=null;function Jj(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:t1,Zj=Math.log,e1=Math.LN2;function t1(e){return e>>>=0,e===0?32:31-(Zj(e)/e1|0)|0}var $a=64,Ga=4194304;function bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=bi(l):(a&=o,a!==0&&(s=bi(a)))}else o=n&~i,o!==0?s=bi(o):a!==0&&(s=bi(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-sn(t),i=1<<n,s|=e[n],t&=~i;return s}function n1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-sn(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=n1(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Sd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sn(t),e[t]=n}function r1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sn(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function nm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-sn(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var oe=0;function wy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jy,sm,Ny,Sy,ky,kd=!1,Ba=[],is=null,as=null,os=null,Gi=new Map,Bi=new Map,Yn=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function op(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function li(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=xa(t),t!==null&&sm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function a1(e,t,n,s,i){switch(t){case"focusin":return is=li(is,e,t,n,s,i),!0;case"dragenter":return as=li(as,e,t,n,s,i),!0;case"mouseover":return os=li(os,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Gi.set(a,li(Gi.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Bi.set(a,li(Bi.get(a)||null,e,t,n,s,i)),!0}return!1}function Cy(e){var t=Ms(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=py(n),t!==null){e.blockedOn=t,ky(e.priority,function(){Ny(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);bd=s,n.target.dispatchEvent(s),bd=null}else return t=xa(n),t!==null&&sm(t),e.blockedOn=n,!1;t.shift()}return!0}function lp(e,t,n){uo(e)&&n.delete(t)}function o1(){kd=!1,is!==null&&uo(is)&&(is=null),as!==null&&uo(as)&&(as=null),os!==null&&uo(os)&&(os=null),Gi.forEach(lp),Bi.forEach(lp)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,o1)))}function Ui(e){function t(i){return ci(i,e)}if(0<Ba.length){ci(Ba[0],e);for(var n=1;n<Ba.length;n++){var s=Ba[n];s.blockedOn===e&&(s.blockedOn=null)}}for(is!==null&&ci(is,e),as!==null&&ci(as,e),os!==null&&ci(os,e),Gi.forEach(t),Bi.forEach(t),n=0;n<Yn.length;n++)s=Yn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&Yn.shift()}var Pr=On.ReactCurrentBatchConfig,zo=!0;function l1(e,t,n,s){var i=oe,a=Pr.transition;Pr.transition=null;try{oe=1,rm(e,t,n,s)}finally{oe=i,Pr.transition=a}}function c1(e,t,n,s){var i=oe,a=Pr.transition;Pr.transition=null;try{oe=4,rm(e,t,n,s)}finally{oe=i,Pr.transition=a}}function rm(e,t,n,s){if(zo){var i=Cd(e,t,n,s);if(i===null)wc(e,t,s,$o,n),op(e,s);else if(a1(i,e,t,n,s))s.stopPropagation();else if(op(e,s),t&4&&-1<i1.indexOf(e)){for(;i!==null;){var a=xa(i);if(a!==null&&jy(a),a=Cd(e,t,n,s),a===null&&wc(e,t,s,$o,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else wc(e,t,s,null,n)}}var $o=null;function Cd(e,t,n,s){if($o=null,e=em(s),e=Ms(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=py(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $o=e,null}function Ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qj()){case tm:return 1;case xy:return 4;case Do:case Xj:return 16;case vy:return 536870912;default:return 16}default:return 16}}var ts=null,im=null,mo=null;function Py(){if(mo)return mo;var e,t=im,n=t.length,s,i="value"in ts?ts.value:ts.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return mo=i.slice(e,1<s?1-s:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function cp(){return!1}function _t(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ua:cp,this.isPropagationStopped=cp,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=_t(Jr),ya=Pe({},Jr,{view:0,detail:0}),d1=_t(ya),mc,hc,di,vl=Pe({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(mc=e.screenX-di.screenX,hc=e.screenY-di.screenY):hc=mc=0,di=e),mc)},movementY:function(e){return"movementY"in e?e.movementY:hc}}),dp=_t(vl),u1=Pe({},vl,{dataTransfer:0}),m1=_t(u1),h1=Pe({},ya,{relatedTarget:0}),pc=_t(h1),p1=Pe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=_t(p1),g1=Pe({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=_t(g1),x1=Pe({},Jr,{data:0}),up=_t(x1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function om(){return j1}var N1=Pe({},ya,{key:function(e){if(e.key){var t=v1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=_t(N1),k1=Pe({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=_t(k1),C1=Pe({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),E1=_t(C1),P1=Pe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=_t(P1),M1=Pe({},vl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=_t(M1),I1=[9,13,27,32],lm=Mn&&"CompositionEvent"in window,Ci=null;Mn&&"documentMode"in document&&(Ci=document.documentMode);var _1=Mn&&"TextEvent"in window&&!Ci,Ty=Mn&&(!lm||Ci&&8<Ci&&11>=Ci),hp=String.fromCharCode(32),pp=!1;function My(e,t){switch(e){case"keyup":return I1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function R1(e,t){switch(e){case"compositionend":return Ay(t);case"keypress":return t.which!==32?null:(pp=!0,hp);case"textInput":return e=t.data,e===hp&&pp?null:e;default:return null}}function L1(e,t){if(dr)return e==="compositionend"||!lm&&My(e,t)?(e=Py(),mo=im=ts=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ty&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function Iy(e,t,n,s){cy(s),t=Go(t,"onChange"),0<t.length&&(n=new am("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ei=null,Vi=null;function D1(e){Uy(e,0)}function bl(e){var t=hr(e);if(ny(t))return e}function F1(e,t){if(e==="change")return t}var _y=!1;if(Mn){var fc;if(Mn){var gc="oninput"in document;if(!gc){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),gc=typeof gp.oninput=="function"}fc=gc}else fc=!1;_y=fc&&(!document.documentMode||9<document.documentMode)}function yp(){Ei&&(Ei.detachEvent("onpropertychange",Ry),Vi=Ei=null)}function Ry(e){if(e.propertyName==="value"&&bl(Vi)){var t=[];Iy(t,Vi,e,em(e)),hy(D1,t)}}function z1(e,t,n){e==="focusin"?(yp(),Ei=t,Vi=n,Ei.attachEvent("onpropertychange",Ry)):e==="focusout"&&yp()}function $1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Vi)}function G1(e,t){if(e==="click")return bl(t)}function B1(e,t){if(e==="input"||e==="change")return bl(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:U1;function Wi(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!ld.call(t,i)||!on(e[i],t[i]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var n=xp(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function Ly(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ly(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oy(){for(var e=window,t=Ro();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ro(e.document)}return t}function cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V1(e){var t=Oy(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ly(n.ownerDocument.documentElement,n)){if(s!==null&&cm(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=vp(n,a);var o=vp(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W1=Mn&&"documentMode"in document&&11>=document.documentMode,ur=null,Ed=null,Pi=null,Pd=!1;function bp(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pd||ur==null||ur!==Ro(s)||(s=ur,"selectionStart"in s&&cm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pi&&Wi(Pi,s)||(Pi=s,s=Go(Ed,"onSelect"),0<s.length&&(t=new am("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ur)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},yc={},Dy={};Mn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function wl(e){if(yc[e])return yc[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dy)return yc[e]=t[n];return e}var Fy=wl("animationend"),zy=wl("animationiteration"),$y=wl("animationstart"),Gy=wl("transitionend"),By=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){By.set(e,t),tr(t,[e])}for(var xc=0;xc<wp.length;xc++){var vc=wp[xc],H1=vc.toLowerCase(),Y1=vc[0].toUpperCase()+vc.slice(1);vs(H1,"on"+Y1)}vs(Fy,"onAnimationEnd");vs(zy,"onAnimationIteration");vs($y,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(Gy,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function jp(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Hj(s,t,void 0,e),e.currentTarget=null}function Uy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;jp(i,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;jp(i,l,d),a=c}}}if(Oo)throw e=Nd,Oo=!1,Nd=null,e}function fe(e,t){var n=t[_d];n===void 0&&(n=t[_d]=new Set);var s=e+"__bubble";n.has(s)||(Vy(t,e,2,!1),n.add(s))}function bc(e,t,n){var s=0;t&&(s|=4),Vy(n,e,s,t)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Wa]){e[Wa]=!0,X0.forEach(function(n){n!=="selectionchange"&&(K1.has(n)||bc(n,!1,e),bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wa]||(t[Wa]=!0,bc("selectionchange",!1,t))}}function Vy(e,t,n,s){switch(Ey(t)){case 1:var i=l1;break;case 4:i=c1;break;default:i=rm}n=i.bind(null,t,n,e),i=void 0,!jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function wc(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ms(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}hy(function(){var d=a,m=em(n),u=[];e:{var h=By.get(e);if(h!==void 0){var f=am,p=e;switch(e){case"keypress":if(ho(n)===0)break e;case"keydown":case"keyup":f=S1;break;case"focusin":p="focus",f=pc;break;case"focusout":p="blur",f=pc;break;case"beforeblur":case"afterblur":f=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=m1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=E1;break;case Fy:case zy:case $y:f=f1;break;case Gy:f=T1;break;case"scroll":f=d1;break;case"wheel":f=A1;break;case"copy":case"cut":case"paste":f=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mp}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=d,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=$i(v,x),j!=null&&g.push(Yi(v,j,b)))),y)break;v=v.return}0<g.length&&(h=new f(h,p,null,n,m),u.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==bd&&(p=n.relatedTarget||n.fromElement)&&(Ms(p)||p[An]))break e;if((f||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=d,p=p?Ms(p):null,p!==null&&(y=nr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(g=dp,j="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=mp,j="onPointerLeave",x="onPointerEnter",v="pointer"),y=f==null?h:hr(f),b=p==null?h:hr(p),h=new g(j,v+"leave",f,n,m),h.target=y,h.relatedTarget=b,j=null,Ms(m)===d&&(g=new g(x,v+"enter",p,n,m),g.target=b,g.relatedTarget=y,j=g),y=j,f&&p)t:{for(g=f,x=p,v=0,b=g;b;b=ir(b))v++;for(b=0,j=x;j;j=ir(j))b++;for(;0<v-b;)g=ir(g),v--;for(;0<b-v;)x=ir(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=ir(g),x=ir(x)}g=null}else g=null;f!==null&&Np(u,h,f,g,!1),p!==null&&y!==null&&Np(u,y,p,g,!0)}}e:{if(h=d?hr(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=F1;else if(fp(h))if(_y)S=B1;else{S=$1;var T=z1}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=G1);if(S&&(S=S(e,d))){Iy(u,S,n,m);break e}T&&T(e,h,d),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&fd(h,"number",h.value)}switch(T=d?hr(d):window,e){case"focusin":(fp(T)||T.contentEditable==="true")&&(ur=T,Ed=d,Pi=null);break;case"focusout":Pi=Ed=ur=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,bp(u,n,m);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":bp(u,n,m)}var E;if(lm)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else dr?My(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ty&&n.locale!=="ko"&&(dr||k!=="onCompositionStart"?k==="onCompositionEnd"&&dr&&(E=Py()):(ts=m,im="value"in ts?ts.value:ts.textContent,dr=!0)),T=Go(d,k),0<T.length&&(k=new up(k,e,null,n,m),u.push({event:k,listeners:T}),E?k.data=E:(E=Ay(n),E!==null&&(k.data=E)))),(E=_1?R1(e,n):L1(e,n))&&(d=Go(d,"onBeforeInput"),0<d.length&&(m=new up("onBeforeInput","beforeinput",null,n,m),u.push({event:m,listeners:d}),m.data=E))}Uy(u,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Go(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$i(e,n),a!=null&&s.unshift(Yi(e,a,i)),a=$i(e,t),a!=null&&s.push(Yi(e,a,i))),e=e.return}return s}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Np(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=$i(n,a),c!=null&&o.unshift(Yi(n,c,l))):i||(c=$i(n,a),c!=null&&o.push(Yi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var q1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(Q1,"")}function Ha(e,t,n){if(t=Sp(t),Sp(e)!==t&&n)throw Error(D(425))}function Bo(){}var Td=null,Md=null;function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Id=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(Z1)}:Id;function Z1(e){setTimeout(function(){throw e})}function jc(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Ui(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ui(t)}function ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),gn="__reactFiber$"+Zr,Ki="__reactProps$"+Zr,An="__reactContainer$"+Zr,_d="__reactEvents$"+Zr,eN="__reactListeners$"+Zr,tN="__reactHandles$"+Zr;function Ms(e){var t=e[gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cp(e);e!==null;){if(n=e[gn])return n;e=Cp(e)}return t}e=n,n=e.parentNode}return null}function xa(e){return e=e[gn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function jl(e){return e[Ki]||null}var Rd=[],pr=-1;function bs(e){return{current:e}}function ge(e){0>pr||(e.current=Rd[pr],Rd[pr]=null,pr--)}function me(e,t){pr++,Rd[pr]=e.current,e.current=t}var gs={},dt=bs(gs),Nt=bs(!1),Hs=gs;function Br(e,t){var n=e.type.contextTypes;if(!n)return gs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function St(e){return e=e.childContextTypes,e!=null}function Uo(){ge(Nt),ge(dt)}function Ep(e,t,n){if(dt.current!==gs)throw Error(D(168));me(dt,t),me(Nt,n)}function Wy(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(D(108,zj(e)||"Unknown",i));return Pe({},n,s)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Hs=dt.current,me(dt,e),me(Nt,Nt.current),!0}function Pp(e,t,n){var s=e.stateNode;if(!s)throw Error(D(169));n?(e=Wy(e,t,Hs),s.__reactInternalMemoizedMergedChildContext=e,ge(Nt),ge(dt),me(dt,e)):ge(Nt),me(Nt,n)}var kn=null,Nl=!1,Nc=!1;function Hy(e){kn===null?kn=[e]:kn.push(e)}function nN(e){Nl=!0,Hy(e)}function ws(){if(!Nc&&kn!==null){Nc=!0;var e=0,t=oe;try{var n=kn;for(oe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}kn=null,Nl=!1}catch(i){throw kn!==null&&(kn=kn.slice(e+1)),yy(tm,ws),i}finally{oe=t,Nc=!1}}return null}var fr=[],gr=0,Wo=null,Ho=0,Dt=[],Ft=0,Ys=null,En=1,Pn="";function Es(e,t){fr[gr++]=Ho,fr[gr++]=Wo,Wo=e,Ho=t}function Yy(e,t,n){Dt[Ft++]=En,Dt[Ft++]=Pn,Dt[Ft++]=Ys,Ys=e;var s=En;e=Pn;var i=32-sn(s)-1;s&=~(1<<i),n+=1;var a=32-sn(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,En=1<<32-sn(t)+i|n<<i|s,Pn=a+e}else En=1<<a|n<<i|s,Pn=e}function dm(e){e.return!==null&&(Es(e,1),Yy(e,1,0))}function um(e){for(;e===Wo;)Wo=fr[--gr],fr[gr]=null,Ho=fr[--gr],fr[gr]=null;for(;e===Ys;)Ys=Dt[--Ft],Dt[Ft]=null,Pn=Dt[--Ft],Dt[Ft]=null,En=Dt[--Ft],Dt[Ft]=null}var Mt=null,Tt=null,we=!1,nn=null;function Ky(e,t){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Tt=ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ys!==null?{id:En,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Tt=null,!0):!1;default:return!1}}function Ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Od(e){if(we){var t=Tt;if(t){var n=t;if(!Tp(e,t)){if(Ld(e))throw Error(D(418));t=ls(n.nextSibling);var s=Mt;t&&Tp(e,t)?Ky(s,n):(e.flags=e.flags&-4097|2,we=!1,Mt=e)}}else{if(Ld(e))throw Error(D(418));e.flags=e.flags&-4097|2,we=!1,Mt=e}}}function Mp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Ya(e){if(e!==Mt)return!1;if(!we)return Mp(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ad(e.type,e.memoizedProps)),t&&(t=Tt)){if(Ld(e))throw qy(),Error(D(418));for(;t;)Ky(e,t),t=ls(t.nextSibling)}if(Mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=ls(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Mt?ls(e.stateNode.nextSibling):null;return!0}function qy(){for(var e=Tt;e;)e=ls(e.nextSibling)}function Ur(){Tt=Mt=null,we=!1}function mm(e){nn===null?nn=[e]:nn.push(e)}var sN=On.ReactCurrentBatchConfig;function ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ap(e){var t=e._init;return t(e._payload)}function Qy(e){function t(x,v){if(e){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=ms(x,v),x.index=0,x.sibling=null,x}function a(x,v,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,j){return v===null||v.tag!==6?(v=Mc(b,x.mode,j),v.return=x,v):(v=i(v,b),v.return=x,v)}function c(x,v,b,j){var S=b.type;return S===cr?m(x,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wn&&Ap(S)===v.type)?(j=i(v,b.props),j.ref=ui(x,v,b),j.return=x,j):(j=bo(b.type,b.key,b.props,null,x.mode,j),j.ref=ui(x,v,b),j.return=x,j)}function d(x,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Ac(b,x.mode,j),v.return=x,v):(v=i(v,b.children||[]),v.return=x,v)}function m(x,v,b,j,S){return v===null||v.tag!==7?(v=Us(b,x.mode,j,S),v.return=x,v):(v=i(v,b),v.return=x,v)}function u(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Mc(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Da:return b=bo(v.type,v.key,v.props,null,x.mode,b),b.ref=ui(x,null,v),b.return=x,b;case lr:return v=Ac(v,x.mode,b),v.return=x,v;case Wn:var j=v._init;return u(x,j(v._payload),b)}if(vi(v)||ai(v))return v=Us(v,x.mode,b,null),v.return=x,v;Ka(x,v)}return null}function h(x,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(x,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Da:return b.key===S?c(x,v,b,j):null;case lr:return b.key===S?d(x,v,b,j):null;case Wn:return S=b._init,h(x,v,S(b._payload),j)}if(vi(b)||ai(b))return S!==null?null:m(x,v,b,j,null);Ka(x,b)}return null}function f(x,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(v,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Da:return x=x.get(j.key===null?b:j.key)||null,c(v,x,j,S);case lr:return x=x.get(j.key===null?b:j.key)||null,d(v,x,j,S);case Wn:var T=j._init;return f(x,v,b,T(j._payload),S)}if(vi(j)||ai(j))return x=x.get(b)||null,m(v,x,j,S,null);Ka(v,j)}return null}function p(x,v,b,j){for(var S=null,T=null,E=v,k=v=0,C=null;E!==null&&k<b.length;k++){E.index>k?(C=E,E=null):C=E.sibling;var M=h(x,E,b[k],j);if(M===null){E===null&&(E=C);break}e&&E&&M.alternate===null&&t(x,E),v=a(M,v,k),T===null?S=M:T.sibling=M,T=M,E=C}if(k===b.length)return n(x,E),we&&Es(x,k),S;if(E===null){for(;k<b.length;k++)E=u(x,b[k],j),E!==null&&(v=a(E,v,k),T===null?S=E:T.sibling=E,T=E);return we&&Es(x,k),S}for(E=s(x,E);k<b.length;k++)C=f(E,x,k,b[k],j),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?k:C.key),v=a(C,v,k),T===null?S=C:T.sibling=C,T=C);return e&&E.forEach(function(L){return t(x,L)}),we&&Es(x,k),S}function g(x,v,b,j){var S=ai(b);if(typeof S!="function")throw Error(D(150));if(b=S.call(b),b==null)throw Error(D(151));for(var T=S=null,E=v,k=v=0,C=null,M=b.next();E!==null&&!M.done;k++,M=b.next()){E.index>k?(C=E,E=null):C=E.sibling;var L=h(x,E,M.value,j);if(L===null){E===null&&(E=C);break}e&&E&&L.alternate===null&&t(x,E),v=a(L,v,k),T===null?S=L:T.sibling=L,T=L,E=C}if(M.done)return n(x,E),we&&Es(x,k),S;if(E===null){for(;!M.done;k++,M=b.next())M=u(x,M.value,j),M!==null&&(v=a(M,v,k),T===null?S=M:T.sibling=M,T=M);return we&&Es(x,k),S}for(E=s(x,E);!M.done;k++,M=b.next())M=f(E,x,k,M.value,j),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?k:M.key),v=a(M,v,k),T===null?S=M:T.sibling=M,T=M);return e&&E.forEach(function($){return t(x,$)}),we&&Es(x,k),S}function y(x,v,b,j){if(typeof b=="object"&&b!==null&&b.type===cr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Da:e:{for(var S=b.key,T=v;T!==null;){if(T.key===S){if(S=b.type,S===cr){if(T.tag===7){n(x,T.sibling),v=i(T,b.props.children),v.return=x,x=v;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wn&&Ap(S)===T.type){n(x,T.sibling),v=i(T,b.props),v.ref=ui(x,T,b),v.return=x,x=v;break e}n(x,T);break}else t(x,T);T=T.sibling}b.type===cr?(v=Us(b.props.children,x.mode,j,b.key),v.return=x,x=v):(j=bo(b.type,b.key,b.props,null,x.mode,j),j.ref=ui(x,v,b),j.return=x,x=j)}return o(x);case lr:e:{for(T=b.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=i(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Ac(b,x.mode,j),v.return=x,x=v}return o(x);case Wn:return T=b._init,y(x,v,T(b._payload),j)}if(vi(b))return p(x,v,b,j);if(ai(b))return g(x,v,b,j);Ka(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,b),v.return=x,x=v):(n(x,v),v=Mc(b,x.mode,j),v.return=x,x=v),o(x)):n(x,v)}return y}var Vr=Qy(!0),Xy=Qy(!1),Yo=bs(null),Ko=null,yr=null,hm=null;function pm(){hm=yr=Ko=null}function fm(e){var t=Yo.current;ge(Yo),e._currentValue=t}function Dd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t){Ko=e,hm=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(hm!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Ko===null)throw Error(D(308));yr=e,Ko.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var As=null;function gm(e){As===null?As=[e]:As.push(e)}function Jy(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,gm(t)):(n.next=i.next,i.next=n),t.interleaved=n,In(e,s)}function In(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hn=!1;function ym(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,se&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,In(e,n)}return i=s.interleaved,i===null?(t.next=t,gm(s)):(t.next=i.next,i.next=t),s.interleaved=t,In(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nm(e,n)}}function Ip(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,s){var i=e.updateQueue;Hn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var u=i.baseState;o=0,m=d=c=null,l=a;do{var h=l.lane,f=l.eventTime;if((s&h)===h){m!==null&&(m=m.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){u=p.call(f,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,u,h):p,h==null)break e;u=Pe({},u,h);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=f,c=u):m=m.next=f,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(m===null&&(c=u),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qs|=o,e.lanes=o,e.memoizedState=u}}function _p(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(D(191,i));i.call(s)}}}var va={},xn=bs(va),qi=bs(va),Qi=bs(va);function Is(e){if(e===va)throw Error(D(174));return e}function xm(e,t){switch(me(Qi,t),me(qi,e),me(xn,va),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yd(t,e)}ge(xn),me(xn,t)}function Wr(){ge(xn),ge(qi),ge(Qi)}function ex(e){Is(Qi.current);var t=Is(xn.current),n=yd(t,e.type);t!==n&&(me(qi,e),me(xn,n))}function vm(e){qi.current===e&&(ge(xn),ge(qi))}var Se=bs(0);function Qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sc=[];function bm(){for(var e=0;e<Sc.length;e++)Sc[e]._workInProgressVersionPrimary=null;Sc.length=0}var fo=On.ReactCurrentDispatcher,kc=On.ReactCurrentBatchConfig,Ks=0,Ee=null,Be=null,Ke=null,Xo=!1,Ti=!1,Xi=0,rN=0;function st(){throw Error(D(321))}function wm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function jm(e,t,n,s,i,a){if(Ks=a,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?lN:cN,e=n(s,i),Ti){a=0;do{if(Ti=!1,Xi=0,25<=a)throw Error(D(301));a+=1,Ke=Be=null,t.updateQueue=null,fo.current=dN,e=n(s,i)}while(Ti)}if(fo.current=Jo,t=Be!==null&&Be.next!==null,Ks=0,Ke=Be=Ee=null,Xo=!1,t)throw Error(D(300));return e}function Nm(){var e=Xi!==0;return Xi=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ee.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Vt(){if(Be===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ke===null?Ee.memoizedState:Ke.next;if(t!==null)Ke=t,Be=e;else{if(e===null)throw Error(D(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Ee.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ji(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=Be,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,d=a;do{var m=d.lane;if((Ks&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=s):c=c.next=u,Ee.lanes|=m,qs|=m}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,on(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ee.lanes|=a,qs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ec(e){var t=Vt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);on(a,t.memoizedState)||(jt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function tx(){}function nx(e,t){var n=Ee,s=Vt(),i=t(),a=!on(s.memoizedState,i);if(a&&(s.memoizedState=i,jt=!0),s=s.queue,Sm(ix.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Zi(9,rx.bind(null,n,s,i,t),void 0,null),qe===null)throw Error(D(349));Ks&30||sx(n,t,i)}return i}function sx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rx(e,t,n,s){t.value=n,t.getSnapshot=s,ax(t)&&ox(e)}function ix(e,t,n){return n(function(){ax(t)&&ox(e)})}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function ox(e){var t=In(e,1);t!==null&&rn(t,e,1,-1)}function Rp(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t.queue=e,e=e.dispatch=oN.bind(null,Ee,e),[t.memoizedState,e]}function Zi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function lx(){return Vt().memoizedState}function go(e,t,n,s){var i=mn();Ee.flags|=e,i.memoizedState=Zi(1|t,n,void 0,s===void 0?null:s)}function Sl(e,t,n,s){var i=Vt();s=s===void 0?null:s;var a=void 0;if(Be!==null){var o=Be.memoizedState;if(a=o.destroy,s!==null&&wm(s,o.deps)){i.memoizedState=Zi(t,n,a,s);return}}Ee.flags|=e,i.memoizedState=Zi(1|t,n,a,s)}function Lp(e,t){return go(8390656,8,e,t)}function Sm(e,t){return Sl(2048,8,e,t)}function cx(e,t){return Sl(4,2,e,t)}function dx(e,t){return Sl(4,4,e,t)}function ux(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mx(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4,4,ux.bind(null,t,e),n)}function km(){}function hx(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&wm(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function px(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&wm(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function fx(e,t,n){return Ks&21?(on(n,t)||(n=by(),Ee.lanes|=n,qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function iN(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var s=kc.transition;kc.transition={};try{e(!1),t()}finally{oe=n,kc.transition=s}}function gx(){return Vt().memoizedState}function aN(e,t,n){var s=us(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},yx(e))xx(t,n);else if(n=Jy(e,t,n,s),n!==null){var i=gt();rn(n,e,s,i),vx(n,t,s)}}function oN(e,t,n){var s=us(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(e))xx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,on(l,o)){var c=t.interleaved;c===null?(i.next=i,gm(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Jy(e,t,i,s),n!==null&&(i=gt(),rn(n,e,s,i),vx(n,t,s))}}function yx(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function xx(e,t){Ti=Xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nm(e,n)}}var Jo={readContext:Ut,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},lN={readContext:Ut,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Lp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,go(4194308,4,ux.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=mn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=aN.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:Rp,useDebugValue:km,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Rp(!1),t=e[0];return e=iN.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ee,i=mn();if(we){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),qe===null)throw Error(D(349));Ks&30||sx(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Lp(ix.bind(null,s,a,e),[e]),s.flags|=2048,Zi(9,rx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=mn(),t=qe.identifierPrefix;if(we){var n=Pn,s=En;n=(s&~(1<<32-sn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cN={readContext:Ut,useCallback:hx,useContext:Ut,useEffect:Sm,useImperativeHandle:mx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:px,useReducer:Cc,useRef:lx,useState:function(){return Cc(Ji)},useDebugValue:km,useDeferredValue:function(e){var t=Vt();return fx(t,Be.memoizedState,e)},useTransition:function(){var e=Cc(Ji)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1},dN={readContext:Ut,useCallback:hx,useContext:Ut,useEffect:Sm,useImperativeHandle:mx,useInsertionEffect:cx,useLayoutEffect:dx,useMemo:px,useReducer:Ec,useRef:lx,useState:function(){return Ec(Ji)},useDebugValue:km,useDeferredValue:function(e){var t=Vt();return Be===null?t.memoizedState=e:fx(t,Be.memoizedState,e)},useTransition:function(){var e=Ec(Ji)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1};function Xt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kl={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=gt(),i=us(e),a=Tn(s,i);a.payload=t,n!=null&&(a.callback=n),t=cs(e,a,i),t!==null&&(rn(t,e,i,s),po(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=gt(),i=us(e),a=Tn(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=cs(e,a,i),t!==null&&(rn(t,e,i,s),po(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),s=us(e),i=Tn(n,s);i.tag=2,t!=null&&(i.callback=t),t=cs(e,i,s),t!==null&&(rn(t,e,s,n),po(t,e,s))}};function Op(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wi(n,s)||!Wi(i,a):!0}function bx(e,t,n){var s=!1,i=gs,a=t.contextType;return typeof a=="object"&&a!==null?a=Ut(a):(i=St(t)?Hs:dt.current,s=t.contextTypes,a=(s=s!=null)?Br(e,i):gs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Dp(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&kl.enqueueReplaceState(t,t.state,null)}function zd(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ym(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ut(a):(a=St(t)?Hs:dt.current,i.context=Br(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fd(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&kl.enqueueReplaceState(i,i.state,null),qo(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",s=t;do n+=Fj(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Pc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $d(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uN=typeof WeakMap=="function"?WeakMap:Map;function wx(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){el||(el=!0,Qd=s),$d(e,t)},n}function jx(e,t,n){n=Tn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){$d(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){$d(e,t),typeof s!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fp(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new uN;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=kN.bind(null,e,t,n),t.then(e,e))}function zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $p(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,cs(n,t,1))),n.lanes|=1),e)}var mN=On.ReactCurrentOwner,jt=!1;function ut(e,t,n,s){t.child=e===null?Xy(t,null,n,s):Vr(t,e.child,n,s)}function Gp(e,t,n,s,i){n=n.render;var a=t.ref;return Tr(t,i),s=jm(e,t,n,s,a,i),n=Nm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_n(e,t,i)):(we&&n&&dm(t),t.flags|=1,ut(e,t,s,i),t.child)}function Bp(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!_m(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Nx(e,t,a,s,i)):(e=bo(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,s)&&e.ref===t.ref)return _n(e,t,i)}return t.flags|=1,e=ms(a,s),e.ref=t.ref,e.return=t,t.child=e}function Nx(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Wi(a,s)&&e.ref===t.ref)if(jt=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,_n(e,t,i)}return Gd(e,t,n,s,i)}function Sx(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(vr,Et),Et|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(vr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,me(vr,Et),Et|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,me(vr,Et),Et|=s;return ut(e,t,i,n),t.child}function kx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gd(e,t,n,s,i){var a=St(n)?Hs:dt.current;return a=Br(t,a),Tr(t,i),n=jm(e,t,n,s,a,i),s=Nm(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_n(e,t,i)):(we&&s&&dm(t),t.flags|=1,ut(e,t,n,i),t.child)}function Up(e,t,n,s,i){if(St(n)){var a=!0;Vo(t)}else a=!1;if(Tr(t,i),t.stateNode===null)yo(e,t),bx(t,n,s),zd(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=St(n)?Hs:dt.current,d=Br(t,d));var m=n.getDerivedStateFromProps,u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Dp(t,o,s,d),Hn=!1;var h=t.memoizedState;o.state=h,qo(t,s,o,i),c=t.memoizedState,l!==s||h!==c||Nt.current||Hn?(typeof m=="function"&&(Fd(t,n,m,s),c=t.memoizedState),(l=Hn||Op(t,n,l,s,h,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Zy(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Xt(t.type,l),o.props=d,u=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=St(n)?Hs:dt.current,c=Br(t,c));var f=n.getDerivedStateFromProps;(m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||h!==c)&&Dp(t,o,s,c),Hn=!1,h=t.memoizedState,o.state=h,qo(t,s,o,i);var p=t.memoizedState;l!==u||h!==p||Nt.current||Hn?(typeof f=="function"&&(Fd(t,n,f,s),p=t.memoizedState),(d=Hn||Op(t,n,d,s,h,p,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),o.props=s,o.state=p,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Bd(e,t,n,s,a,i)}function Bd(e,t,n,s,i,a){kx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&Pp(t,n,!1),_n(e,t,a);s=t.stateNode,mN.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Vr(t,e.child,null,a),t.child=Vr(t,null,l,a)):ut(e,t,l,a),t.memoizedState=s.state,i&&Pp(t,n,!0),t.child}function Cx(e){var t=e.stateNode;t.pendingContext?Ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ep(e,t.context,!1),xm(e,t.containerInfo)}function Vp(e,t,n,s,i){return Ur(),mm(i),t.flags|=256,ut(e,t,n,s),t.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function Vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ex(e,t,n){var s=t.pendingProps,i=Se.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),me(Se,i&1),e===null)return Od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Pl(o,s,0,null),e=Us(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vd(n),t.memoizedState=Ud,e):Cm(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hN(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ms(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ms(l,a):(a=Us(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?Vd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Ud,s}return a=e.child,e=a.sibling,s=ms(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Cm(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qa(e,t,n,s){return s!==null&&mm(s),Vr(t,e.child,null,n),e=Cm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hN(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=Pc(Error(D(422))),qa(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Pl({mode:"visible",children:s.children},i,0,null),a=Us(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&Vr(t,e.child,null,o),t.child.memoizedState=Vd(o),t.memoizedState=Ud,a);if(!(t.mode&1))return qa(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(D(419)),s=Pc(a,s,void 0),qa(e,t,o,s)}if(l=(o&e.childLanes)!==0,jt||l){if(s=qe,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,In(e,i),rn(s,e,i,-1))}return Im(),s=Pc(Error(D(421))),qa(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Tt=ls(i.nextSibling),Mt=t,we=!0,nn=null,e!==null&&(Dt[Ft++]=En,Dt[Ft++]=Pn,Dt[Ft++]=Ys,En=e.id,Pn=e.overflow,Ys=t),t=Cm(t,s.children),t.flags|=4096,t)}function Wp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Dd(e.return,t,n)}function Tc(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Px(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(ut(e,t,s.children,n),s=Se.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,n,t);else if(e.tag===19)Wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(me(Se,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tc(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tc(t,!0,n,null,a);break;case"together":Tc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pN(e,t,n){switch(t.tag){case 3:Cx(t),Ur();break;case 5:ex(t);break;case 1:St(t.type)&&Vo(t);break;case 4:xm(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;me(Yo,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(me(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?Ex(e,t,n):(me(Se,Se.current&1),e=_n(e,t,n),e!==null?e.sibling:null);me(Se,Se.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Px(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Se,Se.current),s)break;return null;case 22:case 23:return t.lanes=0,Sx(e,t,n)}return _n(e,t,n)}var Tx,Wd,Mx,Ax;Tx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wd=function(){};Mx=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Is(xn.current);var a=null;switch(n){case"input":i=hd(e,i),s=hd(e,s),a=[];break;case"select":i=Pe({},i,{value:void 0}),s=Pe({},s,{value:void 0}),a=[];break;case"textarea":i=gd(e,i),s=gd(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bo)}xd(n,s);var o;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&fe("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Ax=function(e,t,n,s){n!==s&&(t.flags|=4)};function mi(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fN(e,t,n){var s=t.pendingProps;switch(um(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return St(t.type)&&Uo(),rt(t),null;case 3:return s=t.stateNode,Wr(),ge(Nt),ge(dt),bm(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(Zd(nn),nn=null))),Wd(e,t),rt(t),null;case 5:vm(t);var i=Is(Qi.current);if(n=t.type,e!==null&&t.stateNode!=null)Mx(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(D(166));return rt(t),null}if(e=Is(xn.current),Ya(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[gn]=t,s[Ki]=a,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",s),fe("close",s);break;case"iframe":case"object":case"embed":fe("load",s);break;case"video":case"audio":for(i=0;i<wi.length;i++)fe(wi[i],s);break;case"source":fe("error",s);break;case"img":case"image":case"link":fe("error",s),fe("load",s);break;case"details":fe("toggle",s);break;case"input":ep(s,a),fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},fe("invalid",s);break;case"textarea":np(s,a),fe("invalid",s)}xd(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ha(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ha(s.textContent,l,e),i=["children",""+l]):Fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",s)}switch(n){case"input":Fa(s),tp(s,a,!0);break;case"textarea":Fa(s),sp(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Bo)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[gn]=t,e[Ki]=s,Tx(e,t,!1,!1),t.stateNode=e;e:{switch(o=vd(n,s),n){case"dialog":fe("cancel",e),fe("close",e),i=s;break;case"iframe":case"object":case"embed":fe("load",e),i=s;break;case"video":case"audio":for(i=0;i<wi.length;i++)fe(wi[i],e);i=s;break;case"source":fe("error",e),i=s;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=s;break;case"details":fe("toggle",e),i=s;break;case"input":ep(e,s),i=hd(e,s),fe("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=Pe({},s,{value:void 0}),fe("invalid",e);break;case"textarea":np(e,s),i=gd(e,s),fe("invalid",e);break;default:i=s}xd(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ly(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ay(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zi(e,c):typeof c=="number"&&zi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&fe("scroll",e):c!=null&&Qu(e,a,c,o))}switch(n){case"input":Fa(e),tp(e,s,!1);break;case"textarea":Fa(e),sp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+fs(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?kr(e,!!s.multiple,a,!1):s.defaultValue!=null&&kr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Ax(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(D(166));if(n=Is(Qi.current),Is(xn.current),Ya(t)){if(s=t.stateNode,n=t.memoizedProps,s[gn]=t,(a=s.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Ha(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ha(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[gn]=t,t.stateNode=s}return rt(t),null;case 13:if(ge(Se),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&Tt!==null&&t.mode&1&&!(t.flags&128))qy(),Ur(),t.flags|=98560,a=!1;else if(a=Ya(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[gn]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),a=!1}else nn!==null&&(Zd(nn),nn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ve===0&&(Ve=3):Im())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Wr(),Wd(e,t),e===null&&Hi(t.stateNode.containerInfo),rt(t),null;case 10:return fm(t.type._context),rt(t),null;case 17:return St(t.type)&&Uo(),rt(t),null;case 19:if(ge(Se),a=t.memoizedState,a===null)return rt(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)mi(a,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qo(e),o!==null){for(t.flags|=128,mi(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(Se,Se.current&1|2),t.child}e=e.sibling}a.tail!==null&&_e()>Yr&&(t.flags|=128,s=!0,mi(a,!1),t.lanes=4194304)}else{if(!s)if(e=Qo(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!we)return rt(t),null}else 2*_e()-a.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,s=!0,mi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_e(),t.sibling=null,n=Se.current,me(Se,s?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return Am(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Et&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function gN(e,t){switch(um(t),t.tag){case 1:return St(t.type)&&Uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wr(),ge(Nt),ge(dt),bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vm(t),null;case 13:if(ge(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Se),null;case 4:return Wr(),null;case 10:return fm(t.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var Qa=!1,ot=!1,yN=typeof WeakSet=="function"?WeakSet:Set,B=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ae(e,t,s)}else n.current=null}function Hd(e,t,n){try{n()}catch(s){Ae(e,t,s)}}var Hp=!1;function xN(e,t){if(Td=zo,e=Oy(),cm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,m=0,u=e,h=null;t:for(;;){for(var f;u!==n||i!==0&&u.nodeType!==3||(l=o+i),u!==a||s!==0&&u.nodeType!==3||(c=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)h=u,u=f;for(;;){if(u===e)break t;if(h===n&&++d===i&&(l=o),h===a&&++m===s&&(c=o),(f=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:e,selectionRange:n},zo=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Xt(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return p=Hp,Hp=!1,p}function Mi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hd(t,n,a)}i=i.next}while(i!==s)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Yd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ix(e){var t=e.alternate;t!==null&&(e.alternate=null,Ix(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gn],delete t[Ki],delete t[_d],delete t[eN],delete t[tN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _x(e){return e.tag===5||e.tag===3||e.tag===4}function Yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_x(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bo));else if(s!==4&&(e=e.child,e!==null))for(Kd(e,t,n),e=e.sibling;e!==null;)Kd(e,t,n),e=e.sibling}function qd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}var Xe=null,tn=!1;function Bn(e,t,n){for(n=n.child;n!==null;)Rx(e,t,n),n=n.sibling}function Rx(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:ot||xr(n,t);case 6:var s=Xe,i=tn;Xe=null,Bn(e,t,n),Xe=s,tn=i,Xe!==null&&(tn?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(tn?(e=Xe,n=n.stateNode,e.nodeType===8?jc(e.parentNode,n):e.nodeType===1&&jc(e,n),Ui(e)):jc(Xe,n.stateNode));break;case 4:s=Xe,i=tn,Xe=n.stateNode.containerInfo,tn=!0,Bn(e,t,n),Xe=s,tn=i;break;case 0:case 11:case 14:case 15:if(!ot&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Hd(n,t,o),i=i.next}while(i!==s)}Bn(e,t,n);break;case 1:if(!ot&&(xr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Ae(n,t,l)}Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:n.mode&1?(ot=(s=ot)||n.memoizedState!==null,Bn(e,t,n),ot=s):Bn(e,t,n);break;default:Bn(e,t,n)}}function Kp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yN),t.forEach(function(s){var i=EN.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function Wt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,tn=!1;break e;case 3:Xe=l.stateNode.containerInfo,tn=!0;break e;case 4:Xe=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(Xe===null)throw Error(D(160));Rx(a,o,i),Xe=null,tn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ae(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lx(t,e),t=t.sibling}function Lx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(t,e),dn(e),s&4){try{Mi(3,e,e.return),Cl(3,e)}catch(g){Ae(e,e.return,g)}try{Mi(5,e,e.return)}catch(g){Ae(e,e.return,g)}}break;case 1:Wt(t,e),dn(e),s&512&&n!==null&&xr(n,n.return);break;case 5:if(Wt(t,e),dn(e),s&512&&n!==null&&xr(n,n.return),e.flags&32){var i=e.stateNode;try{zi(i,"")}catch(g){Ae(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sy(i,a),vd(l,o);var d=vd(l,a);for(o=0;o<c.length;o+=2){var m=c[o],u=c[o+1];m==="style"?ly(i,u):m==="dangerouslySetInnerHTML"?ay(i,u):m==="children"?zi(i,u):Qu(i,m,u,d)}switch(l){case"input":pd(i,a);break;case"textarea":ry(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?kr(i,!!a.multiple,f,!1):h!==!!a.multiple&&(a.defaultValue!=null?kr(i,!!a.multiple,a.defaultValue,!0):kr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ki]=a}catch(g){Ae(e,e.return,g)}}break;case 6:if(Wt(t,e),dn(e),s&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ae(e,e.return,g)}}break;case 3:if(Wt(t,e),dn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(g){Ae(e,e.return,g)}break;case 4:Wt(t,e),dn(e);break;case 13:Wt(t,e),dn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Tm=_e())),s&4&&Kp(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(d=ot)||m,Wt(t,e),ot=d):Wt(t,e),dn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(B=e,m=e.child;m!==null;){for(u=B=m;B!==null;){switch(h=B,f=h.child,h.tag){case 0:case 11:case 14:case 15:Mi(4,h,h.return);break;case 1:xr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ae(s,n,g)}}break;case 5:xr(h,h.return);break;case 22:if(h.memoizedState!==null){Qp(u);continue}}f!==null?(f.return=h,B=f):Qp(u)}m=m.sibling}e:for(m=null,u=e;;){if(u.tag===5){if(m===null){m=u;try{i=u.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oy("display",o))}catch(g){Ae(e,e.return,g)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){Ae(e,e.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Wt(t,e),dn(e),s&4&&Kp(e);break;case 21:break;default:Wt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_x(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(zi(i,""),s.flags&=-33);var a=Yp(e);qd(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Yp(e);Kd(e,l,o);break;default:throw Error(D(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vN(e,t,n){B=e,Ox(e)}function Ox(e,t,n){for(var s=(e.mode&1)!==0;B!==null;){var i=B,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Qa;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ot;l=Qa;var d=ot;if(Qa=o,(ot=c)&&!d)for(B=i;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?Xp(i):c!==null?(c.return=o,B=c):Xp(i);for(;a!==null;)B=a,Ox(a),a=a.sibling;B=i,Qa=l,ot=d}qp(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,B=a):qp(e)}}function qp(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Cl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xt(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&_p(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_p(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&Ui(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ot||t.flags&512&&Yd(t)}catch(h){Ae(t,t.return,h)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Qp(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Xp(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cl(4,t)}catch(c){Ae(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){Ae(t,i,c)}}var a=t.return;try{Yd(t)}catch(c){Ae(t,a,c)}break;case 5:var o=t.return;try{Yd(t)}catch(c){Ae(t,o,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var bN=Math.ceil,Zo=On.ReactCurrentDispatcher,Em=On.ReactCurrentOwner,Gt=On.ReactCurrentBatchConfig,se=0,qe=null,Fe=null,Ze=0,Et=0,vr=bs(0),Ve=0,ea=null,qs=0,El=0,Pm=0,Ai=null,wt=null,Tm=0,Yr=1/0,Sn=null,el=!1,Qd=null,ds=null,Xa=!1,ns=null,tl=0,Ii=0,Xd=null,xo=-1,vo=0;function gt(){return se&6?_e():xo!==-1?xo:xo=_e()}function us(e){return e.mode&1?se&2&&Ze!==0?Ze&-Ze:sN.transition!==null?(vo===0&&(vo=by()),vo):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Ey(e.type)),e):1}function rn(e,t,n,s){if(50<Ii)throw Ii=0,Xd=null,Error(D(185));ga(e,n,s),(!(se&2)||e!==qe)&&(e===qe&&(!(se&2)&&(El|=n),Ve===4&&Kn(e,Ze)),kt(e,s),n===1&&se===0&&!(t.mode&1)&&(Yr=_e()+500,Nl&&ws()))}function kt(e,t){var n=e.callbackNode;s1(e,t);var s=Fo(e,e===qe?Ze:0);if(s===0)n!==null&&ap(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&ap(n),t===1)e.tag===0?nN(Jp.bind(null,e)):Hy(Jp.bind(null,e)),J1(function(){!(se&6)&&ws()}),n=null;else{switch(wy(s)){case 1:n=tm;break;case 4:n=xy;break;case 16:n=Do;break;case 536870912:n=vy;break;default:n=Do}n=Vx(n,Dx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dx(e,t){if(xo=-1,vo=0,se&6)throw Error(D(327));var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var s=Fo(e,e===qe?Ze:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=nl(e,s);else{t=s;var i=se;se|=2;var a=zx();(qe!==e||Ze!==t)&&(Sn=null,Yr=_e()+500,Bs(e,t));do try{NN();break}catch(l){Fx(e,l)}while(1);pm(),Zo.current=a,se=i,Fe!==null?t=0:(qe=null,Ze=0,t=Ve)}if(t!==0){if(t===2&&(i=Sd(e),i!==0&&(s=i,t=Jd(e,i))),t===1)throw n=ea,Bs(e,0),Kn(e,s),kt(e,_e()),n;if(t===6)Kn(e,s);else{if(i=e.current.alternate,!(s&30)&&!wN(i)&&(t=nl(e,s),t===2&&(a=Sd(e),a!==0&&(s=a,t=Jd(e,a))),t===1))throw n=ea,Bs(e,0),Kn(e,s),kt(e,_e()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(D(345));case 2:Ps(e,wt,Sn);break;case 3:if(Kn(e,s),(s&130023424)===s&&(t=Tm+500-_e(),10<t)){if(Fo(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Id(Ps.bind(null,e,wt,Sn),t);break}Ps(e,wt,Sn);break;case 4:if(Kn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-sn(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*bN(s/1960))-s,10<s){e.timeoutHandle=Id(Ps.bind(null,e,wt,Sn),s);break}Ps(e,wt,Sn);break;case 5:Ps(e,wt,Sn);break;default:throw Error(D(329))}}}return kt(e,_e()),e.callbackNode===n?Dx.bind(null,e):null}function Jd(e,t){var n=Ai;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=nl(e,t),e!==2&&(t=wt,wt=n,t!==null&&Zd(t)),e}function Zd(e){wt===null?wt=e:wt.push.apply(wt,e)}function wN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!on(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~Pm,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sn(t),s=1<<n;e[n]=-1,t&=~s}}function Jp(e){if(se&6)throw Error(D(327));Mr();var t=Fo(e,0);if(!(t&1))return kt(e,_e()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var s=Sd(e);s!==0&&(t=s,n=Jd(e,s))}if(n===1)throw n=ea,Bs(e,0),Kn(e,t),kt(e,_e()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,wt,Sn),kt(e,_e()),null}function Mm(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Yr=_e()+500,Nl&&ws())}}function Qs(e){ns!==null&&ns.tag===0&&!(se&6)&&Mr();var t=se;se|=1;var n=Gt.transition,s=oe;try{if(Gt.transition=null,oe=1,e)return e()}finally{oe=s,Gt.transition=n,se=t,!(se&6)&&ws()}}function Am(){Et=vr.current,ge(vr)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X1(n)),Fe!==null)for(n=Fe.return;n!==null;){var s=n;switch(um(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Uo();break;case 3:Wr(),ge(Nt),ge(dt),bm();break;case 5:vm(s);break;case 4:Wr();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:fm(s.type._context);break;case 22:case 23:Am()}n=n.return}if(qe=e,Fe=e=ms(e.current,null),Ze=Et=t,Ve=0,ea=null,Pm=El=qs=0,wt=Ai=null,As!==null){for(t=0;t<As.length;t++)if(n=As[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}As=null}return e}function Fx(e,t){do{var n=Fe;try{if(pm(),fo.current=Jo,Xo){for(var s=Ee.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Xo=!1}if(Ks=0,Ke=Be=Ee=null,Ti=!1,Xi=0,Em.current=null,n===null||n.return===null){Ve=1,ea=t,Fe=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=zp(o);if(f!==null){f.flags&=-257,$p(f,o,l,a,t),f.mode&1&&Fp(a,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){Fp(a,d,t),Im();break e}c=Error(D(426))}}else if(we&&l.mode&1){var y=zp(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$p(y,o,l,a,t),mm(Hr(c,l));break e}}a=c=Hr(c,l),Ve!==4&&(Ve=2),Ai===null?Ai=[a]:Ai.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=wx(a,c,t);Ip(a,x);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ds===null||!ds.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=jx(a,l,t);Ip(a,j);break e}}a=a.return}while(a!==null)}Gx(n)}catch(S){t=S,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function zx(){var e=Zo.current;return Zo.current=Jo,e===null?Jo:e}function Im(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),qe===null||!(qs&268435455)&&!(El&268435455)||Kn(qe,Ze)}function nl(e,t){var n=se;se|=2;var s=zx();(qe!==e||Ze!==t)&&(Sn=null,Bs(e,t));do try{jN();break}catch(i){Fx(e,i)}while(1);if(pm(),se=n,Zo.current=s,Fe!==null)throw Error(D(261));return qe=null,Ze=0,Ve}function jN(){for(;Fe!==null;)$x(Fe)}function NN(){for(;Fe!==null&&!Kj();)$x(Fe)}function $x(e){var t=Ux(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Gx(e):Fe=t,Em.current=null}function Gx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gN(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}else if(n=fN(n,t,Et),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Ps(e,t,n){var s=oe,i=Gt.transition;try{Gt.transition=null,oe=1,SN(e,t,n,s)}finally{Gt.transition=i,oe=s}return null}function SN(e,t,n,s){do Mr();while(ns!==null);if(se&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(r1(e,a),e===qe&&(Fe=qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,Vx(Do,function(){return Mr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gt.transition,Gt.transition=null;var o=oe;oe=1;var l=se;se|=4,Em.current=null,xN(e,n),Lx(n,e),V1(Md),zo=!!Td,Md=Td=null,e.current=n,vN(n),qj(),se=l,oe=o,Gt.transition=a}else e.current=n;if(Xa&&(Xa=!1,ns=e,tl=i),a=e.pendingLanes,a===0&&(ds=null),Jj(n.stateNode),kt(e,_e()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(el)throw el=!1,e=Qd,Qd=null,e;return tl&1&&e.tag!==0&&Mr(),a=e.pendingLanes,a&1?e===Xd?Ii++:(Ii=0,Xd=e):Ii=0,ws(),null}function Mr(){if(ns!==null){var e=wy(tl),t=Gt.transition,n=oe;try{if(Gt.transition=null,oe=16>e?16:e,ns===null)var s=!1;else{if(e=ns,ns=null,tl=0,se&6)throw Error(D(331));var i=se;for(se|=4,B=e.current;B!==null;){var a=B,o=a.child;if(B.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(B=d;B!==null;){var m=B;switch(m.tag){case 0:case 11:case 15:Mi(8,m,a)}var u=m.child;if(u!==null)u.return=m,B=u;else for(;B!==null;){m=B;var h=m.sibling,f=m.return;if(Ix(m),m===d){B=null;break}if(h!==null){h.return=f,B=h;break}B=f}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}B=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,B=o;else e:for(;B!==null;){if(a=B,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mi(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,B=x;break e}B=a.return}}var v=e.current;for(B=v;B!==null;){o=B;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,B=b;else e:for(o=v;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cl(9,l)}}catch(S){Ae(l,l.return,S)}if(l===o){B=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,B=j;break e}B=l.return}}if(se=i,ws(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(xl,e)}catch{}s=!0}return s}finally{oe=n,Gt.transition=t}}return!1}function Zp(e,t,n){t=Hr(n,t),t=wx(e,t,1),e=cs(e,t,1),t=gt(),e!==null&&(ga(e,1,t),kt(e,t))}function Ae(e,t,n){if(e.tag===3)Zp(e,e,n);else for(;t!==null;){if(t.tag===3){Zp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ds===null||!ds.has(s))){e=Hr(n,e),e=jx(t,e,1),t=cs(t,e,1),e=gt(),t!==null&&(ga(t,1,e),kt(t,e));break}}t=t.return}}function kN(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Ze&n)===n&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>_e()-Tm?Bs(e,0):Pm|=n),kt(e,t)}function Bx(e,t){t===0&&(e.mode&1?(t=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):t=1);var n=gt();e=In(e,t),e!==null&&(ga(e,t,n),kt(e,n))}function CN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bx(e,n)}function EN(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(t),Bx(e,n)}var Ux;Ux=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,pN(e,t,n);jt=!!(e.flags&131072)}else jt=!1,we&&t.flags&1048576&&Yy(t,Ho,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;yo(e,t),e=t.pendingProps;var i=Br(t,dt.current);Tr(t,n),i=jm(null,t,s,e,i,n);var a=Nm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(s)?(a=!0,Vo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ym(t),i.updater=kl,t.stateNode=i,i._reactInternals=t,zd(t,s,e,n),t=Bd(null,t,s,!0,a,n)):(t.tag=0,we&&a&&dm(t),ut(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(yo(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=TN(s),e=Xt(s,e),i){case 0:t=Gd(null,t,s,e,n);break e;case 1:t=Up(null,t,s,e,n);break e;case 11:t=Gp(null,t,s,e,n);break e;case 14:t=Bp(null,t,s,Xt(s.type,e),n);break e}throw Error(D(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Xt(s,i),Gd(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Xt(s,i),Up(e,t,s,i,n);case 3:e:{if(Cx(t),e===null)throw Error(D(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Zy(e,t),qo(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Hr(Error(D(423)),t),t=Vp(e,t,s,n,i);break e}else if(s!==i){i=Hr(Error(D(424)),t),t=Vp(e,t,s,n,i);break e}else for(Tt=ls(t.stateNode.containerInfo.firstChild),Mt=t,we=!0,nn=null,n=Xy(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ur(),s===i){t=_n(e,t,n);break e}ut(e,t,s,n)}t=t.child}return t;case 5:return ex(t),e===null&&Od(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Ad(s,i)?o=null:a!==null&&Ad(s,a)&&(t.flags|=32),kx(e,t),ut(e,t,o,n),t.child;case 6:return e===null&&Od(t),null;case 13:return Ex(e,t,n);case 4:return xm(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Vr(t,null,s,n):ut(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Xt(s,i),Gp(e,t,s,i,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,me(Yo,s._currentValue),s._currentValue=o,a!==null)if(on(a.value,o)){if(a.children===i.children&&!Nt.current){t=_n(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Tn(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Dd(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(D(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dd(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Tr(t,n),i=Ut(i),s=s(i),t.flags|=1,ut(e,t,s,n),t.child;case 14:return s=t.type,i=Xt(s,t.pendingProps),i=Xt(s.type,i),Bp(e,t,s,i,n);case 15:return Nx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Xt(s,i),yo(e,t),t.tag=1,St(s)?(e=!0,Vo(t)):e=!1,Tr(t,n),bx(t,s,i),zd(t,s,i,n),Bd(null,t,s,!0,e,n);case 19:return Px(e,t,n);case 22:return Sx(e,t,n)}throw Error(D(156,t.tag))};function Vx(e,t){return yy(e,t)}function PN(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,s){return new PN(e,t,n,s)}function _m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TN(e){if(typeof e=="function")return _m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ju)return 11;if(e===Zu)return 14}return 2}function ms(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bo(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")_m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cr:return Us(n.children,i,a,t);case Xu:o=8,i|=8;break;case cd:return e=zt(12,n,t,i|2),e.elementType=cd,e.lanes=a,e;case dd:return e=zt(13,n,t,i),e.elementType=dd,e.lanes=a,e;case ud:return e=zt(19,n,t,i),e.elementType=ud,e.lanes=a,e;case ey:return Pl(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J0:o=10;break e;case Z0:o=9;break e;case Ju:o=11;break e;case Zu:o=14;break e;case Wn:o=16,s=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=zt(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function Us(e,t,n,s){return e=zt(7,e,s,t),e.lanes=n,e}function Pl(e,t,n,s){return e=zt(22,e,s,t),e.elementType=ey,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Ac(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MN(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rm(e,t,n,s,i,a,o,l,c){return e=new MN(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(a),e}function AN(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Wx(e){if(!e)return gs;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(St(n))return Wy(e,n,t)}return t}function Hx(e,t,n,s,i,a,o,l,c){return e=Rm(n,s,!0,e,i,a,o,l,c),e.context=Wx(null),n=e.current,s=gt(),i=us(n),a=Tn(s,i),a.callback=t??null,cs(n,a,i),e.current.lanes=i,ga(e,i,s),kt(e,s),e}function Tl(e,t,n,s){var i=t.current,a=gt(),o=us(i);return n=Wx(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=cs(i,t,o),e!==null&&(rn(e,i,o,a),po(e,i,o)),o}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lm(e,t){ef(e,t),(e=e.alternate)&&ef(e,t)}function IN(){return null}var Yx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Om(e){this._internalRoot=e}Ml.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Tl(e,t,null,null)};Ml.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){Tl(null,e,null,null)}),t[An]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&Cy(e)}};function Dm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tf(){}function _N(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var d=sl(o);a.call(d)}}var o=Hx(t,s,e,0,null,!1,!1,"",tf);return e._reactRootContainer=o,e[An]=o.current,Hi(e.nodeType===8?e.parentNode:e),Qs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=sl(c);l.call(d)}}var c=Rm(e,0,!1,null,null,!1,!1,"",tf);return e._reactRootContainer=c,e[An]=c.current,Hi(e.nodeType===8?e.parentNode:e),Qs(function(){Tl(t,c,n,s)}),c}function Il(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=sl(o);l.call(c)}}Tl(t,o,e,i)}else o=_N(n,t,e,i,s);return sl(o)}jy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bi(t.pendingLanes);n!==0&&(nm(t,n|1),kt(t,_e()),!(se&6)&&(Yr=_e()+500,ws()))}break;case 13:Qs(function(){var s=In(e,1);if(s!==null){var i=gt();rn(s,e,1,i)}}),Lm(e,1)}};sm=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var n=gt();rn(t,e,134217728,n)}Lm(e,134217728)}};Ny=function(e){if(e.tag===13){var t=us(e),n=In(e,t);if(n!==null){var s=gt();rn(n,e,t,s)}Lm(e,t)}};Sy=function(){return oe};ky=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};wd=function(e,t,n){switch(t){case"input":if(pd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=jl(s);if(!i)throw Error(D(90));ny(s),pd(s,i)}}}break;case"textarea":ry(e,n);break;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}};uy=Mm;my=Qs;var RN={usingClientEntryPoint:!1,Events:[xa,hr,jl,cy,dy,Mm]},hi={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LN={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fy(e),e===null?null:e.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{xl=Ja.inject(LN),yn=Ja}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(t))throw Error(D(200));return AN(e,t,null,n)};It.createRoot=function(e,t){if(!Dm(e))throw Error(D(299));var n=!1,s="",i=Yx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rm(e,1,!1,null,null,n,!1,s,i),e[An]=t.current,Hi(e.nodeType===8?e.parentNode:e),new Om(t)};It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=fy(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e){return Qs(e)};It.hydrate=function(e,t,n){if(!Al(t))throw Error(D(200));return Il(null,e,t,!0,n)};It.hydrateRoot=function(e,t,n){if(!Dm(e))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=Yx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Hx(t,null,e,1,n??null,i,!1,a,o),e[An]=t.current,Hi(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ml(t)};It.render=function(e,t,n){if(!Al(t))throw Error(D(200));return Il(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!Al(e))throw Error(D(40));return e._reactRootContainer?(Qs(function(){Il(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};It.unstable_batchedUpdates=Mm;It.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Al(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Il(e,t,n,!1,s)};It.version="18.3.1-next-f1338f8080-20240426";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(e){console.error(e)}}Kx(),K0.exports=It;var ba=K0.exports,nf=ba;od.createRoot=nf.createRoot,od.hydrateRoot=nf.hydrateRoot;const ON="modulepreload",DN=function(e){return"/"+e},sf={},qx=function(t,n,s){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=DN(a),a in sf)return;sf[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let m=i.length-1;m>=0;m--){const u=i[m];if(u.href===a&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":ON,o||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),o)return new Promise((m,u)=>{d.addEventListener("load",m),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ta.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const rf="popstate";function FN(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:o,hash:l}=s.location;return eu("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:rl(i)}return $N(t,n,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zN(){return Math.random().toString(36).substr(2,8)}function af(e,t){return{usr:e.state,key:e.key,idx:t}}function eu(e,t,n,s){return n===void 0&&(n=null),ta({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ei(t):t,{state:n,key:t&&t.key||s||zN()})}function rl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ei(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function $N(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=ss.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(ta({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function u(){l=ss.Pop;let y=m(),x=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:x})}function h(y,x){l=ss.Push;let v=eu(g.location,y,x);n&&n(v,y),d=m()+1;let b=af(v,d),j=g.createHref(v);try{o.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function f(y,x){l=ss.Replace;let v=eu(g.location,y,x);n&&n(v,y),d=m();let b=af(v,d),j=g.createHref(v);o.replaceState(b,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function p(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:rl(y);return v=v.replace(/ $/,"%20"),Re(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rf,u),c=y,()=>{i.removeEventListener(rf,u),c=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(y){return o.go(y)}};return g}var of;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(of||(of={}));function GN(e,t,n){return n===void 0&&(n="/"),BN(e,t,n,!1)}function BN(e,t,n,s){let i=typeof t=="string"?ei(t):t,a=zm(i.pathname||"/",n);if(a==null)return null;let o=Qx(e);UN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=eS(a);l=JN(o[c],d,s)}return l}function Qx(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=hs([s,c.relativePath]),m=n.concat(c);a.children&&a.children.length>0&&(Re(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Qx(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:QN(d,a.index),routesMeta:m})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Xx(a.path))i(a,o,c)}),t}function Xx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=Xx(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:XN(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const VN=/^:[\w-]+$/,WN=3,HN=2,YN=1,KN=10,qN=-2,lf=e=>e==="*";function QN(e,t){let n=e.split("/"),s=n.length;return n.some(lf)&&(s+=qN),t&&(s+=HN),n.filter(i=>!lf(i)).reduce((i,a)=>i+(VN.test(a)?WN:a===""?YN:KN),s)}function XN(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function JN(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,i={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,m=a==="/"?t:t.slice(a.length)||"/",u=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),h=c.route;if(!u&&d&&n&&!s[s.length-1].route.index&&(u=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:hs([a,u.pathname]),pathnameBase:iS(hs([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=hs([a,u.pathnameBase]))}return o}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=ZN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,m,u)=>{let{paramName:h,isOptional:f}=m;if(h==="*"){let g=l[u]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[u];return f&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function ZN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function eS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nS=e=>tS.test(e);function sS(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?ei(e):e,a;if(n)if(nS(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Fm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=df(n.substring(1),"/"):a=df(n,t)}else a=t;return{pathname:a,search:aS(s),hash:oS(i)}}function df(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ic(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $m(e,t){let n=rS(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Gm(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=ei(e):(i=ta({},e),Re(!i.pathname||!i.pathname.includes("?"),Ic("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Ic("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Ic("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let u=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;i.pathname=h.join("/")}l=u>=0?t[u]:"/"}let c=sS(i,l),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),iS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Jx=["post","put","patch","delete"];new Set(Jx);const cS=["get",...Jx];new Set(cS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},na.apply(this,arguments)}const Bm=w.createContext(null),dS=w.createContext(null),js=w.createContext(null),_l=w.createContext(null),Dn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=w.createContext(null);function uS(e,t){let{relative:n}=t===void 0?{}:t;ti()||Re(!1);let{basename:s,navigator:i}=w.useContext(js),{hash:a,pathname:o,search:l}=tv(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:hs([s,o])),i.createHref({pathname:c,search:l,hash:a})}function ti(){return w.useContext(_l)!=null}function Ns(){return ti()||Re(!1),w.useContext(_l).location}function ev(e){w.useContext(js).static||w.useLayoutEffect(e)}function ln(){let{isDataRoute:e}=w.useContext(Dn);return e?kS():mS()}function mS(){ti()||Re(!1);let e=w.useContext(Bm),{basename:t,future:n,navigator:s}=w.useContext(js),{matches:i}=w.useContext(Dn),{pathname:a}=Ns(),o=JSON.stringify($m(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return ev(()=>{l.current=!0}),w.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=Gm(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:hs([t,u.pathname])),(m.replace?s.replace:s.push)(u,m.state,m)},[t,s,o,a,e])}function hS(){let{matches:e}=w.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function tv(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(js),{matches:i}=w.useContext(Dn),{pathname:a}=Ns(),o=JSON.stringify($m(i,s.v7_relativeSplatPath));return w.useMemo(()=>Gm(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function pS(e,t){return fS(e,t)}function fS(e,t,n,s){ti()||Re(!1);let{navigator:i}=w.useContext(js),{matches:a}=w.useContext(Dn),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ns(),m;if(t){var u;let y=typeof t=="string"?ei(t):t;c==="/"||(u=y.pathname)!=null&&u.startsWith(c)||Re(!1),m=y}else m=d;let h=m.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=GN(e,{pathname:f}),g=bS(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:hs([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:hs([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&g?w.createElement(_l.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ss.Pop}},g):g}function gS(){let e=SS(),t=lS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,a)}const yS=w.createElement(gS,null);class xS extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Dn.Provider,{value:this.props.routeContext},w.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vS(e){let{routeContext:t,match:n,children:s}=e,i=w.useContext(Bm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Dn.Provider,{value:t},s)}function bS(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);m>=0||Re(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let u=o[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:h,errors:f}=n,p=u.route.loader&&h[u.route.id]===void 0&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,u,h)=>{let f,p=!1,g=null,y=null;n&&(f=l&&u.route.id?l[u.route.id]:void 0,g=u.route.errorElement||yS,c&&(d<0&&h===0?(CS("route-fallback",!1),p=!0,y=null):d===h&&(p=!0,y=u.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),v=()=>{let b;return f?b=g:p?b=y:u.route.Component?b=w.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=m,w.createElement(vS,{match:u,routeContext:{outlet:m,matches:x,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?w.createElement(xS,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var nv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nv||{}),il=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(il||{});function wS(e){let t=w.useContext(Bm);return t||Re(!1),t}function jS(e){let t=w.useContext(dS);return t||Re(!1),t}function NS(e){let t=w.useContext(Dn);return t||Re(!1),t}function sv(e){let t=NS(),n=t.matches[t.matches.length-1];return n.route.id||Re(!1),n.route.id}function SS(){var e;let t=w.useContext(Zx),n=jS(il.UseRouteError),s=sv(il.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function kS(){let{router:e}=wS(nv.UseNavigateStable),t=sv(il.UseNavigateStable),n=w.useRef(!1);return ev(()=>{n.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,na({fromRouteId:t},a)))},[e,t])}const uf={};function CS(e,t,n){!t&&!uf[e]&&(uf[e]=!0)}function ES(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function rv(e){let{to:t,replace:n,state:s,relative:i}=e;ti()||Re(!1);let{future:a,static:o}=w.useContext(js),{matches:l}=w.useContext(Dn),{pathname:c}=Ns(),d=ln(),m=Gm(t,$m(l,a.v7_relativeSplatPath),c,i==="path"),u=JSON.stringify(m);return w.useEffect(()=>d(JSON.parse(u),{replace:n,state:s,relative:i}),[d,u,i,n,s]),null}function it(e){Re(!1)}function PS(e){let{basename:t="/",children:n=null,location:s,navigationType:i=ss.Pop,navigator:a,static:o=!1,future:l}=e;ti()&&Re(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:o,future:na({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=ei(s));let{pathname:m="/",search:u="",hash:h="",state:f=null,key:p="default"}=s,g=w.useMemo(()=>{let y=zm(m,c);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:p},navigationType:i}},[c,m,u,h,f,p,i]);return g==null?null:w.createElement(js.Provider,{value:d},w.createElement(_l.Provider,{children:n,value:g}))}function TS(e){let{children:t,location:n}=e;return pS(tu(t),n)}new Promise(()=>{});function tu(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let a=[...t,i];if(s.type===w.Fragment){n.push.apply(n,tu(s.props.children,a));return}s.type!==it&&Re(!1),!s.props.index||!s.props.children||Re(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=tu(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nu.apply(this,arguments)}function MS(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function AS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IS(e,t){return e.button===0&&(!t||t==="_self")&&!AS(e)}function su(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function _S(e,t){let n=su(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const RS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LS="6";try{window.__reactRouterVersion=LS}catch{}const OS="startTransition",mf=kj[OS];function DS(e){let{basename:t,children:n,future:s,window:i}=e,a=w.useRef();a.current==null&&(a.current=FN({window:i,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},m=w.useCallback(u=>{d&&mf?mf(()=>c(u)):c(u)},[c,d]);return w.useLayoutEffect(()=>o.listen(m),[o,m]),w.useEffect(()=>ES(s),[s]),w.createElement(PS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const FS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=w.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:u}=t,h=MS(t,RS),{basename:f}=w.useContext(js),p,g=!1;if(typeof d=="string"&&zS.test(d)&&(p=d,FS))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),S=zm(j.pathname,f);j.origin===b.origin&&S!=null?d=S+j.search+j.hash:g=!0}catch{}let y=uS(d,{relative:i}),x=$S(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:i,viewTransition:u});function v(b){s&&s(b),b.defaultPrevented||x(b)}return w.createElement("a",nu({},h,{href:p||y,onClick:g||a?s:v,ref:n,target:c}))});var hf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hf||(hf={}));var pf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function $S(e,t){let{target:n,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=ln(),d=Ns(),m=tv(e,{relative:o});return w.useCallback(u=>{if(IS(u,n)){u.preventDefault();let h=s!==void 0?s:rl(d)===rl(m);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,m,s,i,n,e,a,o,l])}function GS(e){let t=w.useRef(su(e)),n=w.useRef(!1),s=Ns(),i=w.useMemo(()=>_S(s.search,n.current?null:t.current),[s.search]),a=ln(),o=w.useCallback((l,c)=>{const d=su(typeof l=="function"?l(i):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,o]}var Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qn,Uu,k0,US=(k0=class{constructor(){ee(this,qn,BS);ee(this,Uu,!1)}setTimeoutProvider(e){q(this,qn,e)}setTimeout(e,t){return _(this,qn).setTimeout(e,t)}clearTimeout(e){_(this,qn).clearTimeout(e)}setInterval(e,t){return _(this,qn).setInterval(e,t)}clearInterval(e){_(this,qn).clearInterval(e)}},qn=new WeakMap,Uu=new WeakMap,k0),ru=new US;function VS(e){setTimeout(e,0)}var Ll=typeof window>"u"||"Deno"in globalThis;function Jt(){}function WS(e,t){return typeof e=="function"?e(t):e}function HS(e){return typeof e=="number"&&e>=0&&e!==1/0}function YS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function iu(e,t){return typeof e=="function"?e(t):e}function KS(e,t){return typeof e=="function"?e(t):e}function ff(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Um(o,t.options))return!1}else if(!ra(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function gf(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(sa(t.options.mutationKey)!==sa(a))return!1}else if(!ra(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Um(e,t){return((t==null?void 0:t.queryKeyHashFn)||sa)(e)}function sa(e){return JSON.stringify(e,(t,n)=>au(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function ra(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ra(e[n],t[n])):!1}var qS=Object.prototype.hasOwnProperty;function iv(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=yf(e)&&yf(t);if(!s&&!(au(e)&&au(t)))return t;const a=(s?e:Object.keys(e)).length,o=s?t:Object.keys(t),l=o.length,c=s?new Array(l):{};let d=0;for(let m=0;m<l;m++){const u=s?m:o[m],h=e[u],f=t[u];if(h===f){c[u]=h,(s?m<a:qS.call(e,u))&&d++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){c[u]=f;continue}const p=iv(h,f,n+1);c[u]=p,p===h&&d++}return a===l&&d===a?e:c}function yf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function au(e){if(!xf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xf(e){return Object.prototype.toString.call(e)==="[object Object]"}function QS(e){return new Promise(t=>{ru.setTimeout(t,e)})}function XS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?iv(e,t):t}function JS(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function ZS(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Vm=Symbol();function av(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function e2(e,t,n){let s=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Os,Qn,_r,C0,t2=(C0=class extends Rl{constructor(){super();ee(this,Os,void 0);ee(this,Qn,void 0);ee(this,_r,void 0);q(this,_r,t=>{if(!Ll&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,Qn)||this.setEventListener(_(this,_r))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Qn))==null||t.call(this),q(this,Qn,void 0))}setEventListener(t){var n;q(this,_r,t),(n=_(this,Qn))==null||n.call(this),q(this,Qn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){_(this,Os)!==t&&(q(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,Os)=="boolean"?_(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,Qn=new WeakMap,_r=new WeakMap,C0),ov=new t2;function n2(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var s2=VS;function r2(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=s2;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var mt=r2(),Rr,Xn,Lr,E0,i2=(E0=class extends Rl{constructor(){super();ee(this,Rr,!0);ee(this,Xn,void 0);ee(this,Lr,void 0);q(this,Lr,t=>{if(!Ll&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,Xn)||this.setEventListener(_(this,Lr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Xn))==null||t.call(this),q(this,Xn,void 0))}setEventListener(t){var n;q(this,Lr,t),(n=_(this,Xn))==null||n.call(this),q(this,Xn,t(this.setOnline.bind(this)))}setOnline(t){_(this,Rr)!==t&&(q(this,Rr,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return _(this,Rr)}},Rr=new WeakMap,Xn=new WeakMap,Lr=new WeakMap,E0),al=new i2;function a2(e){return Math.min(1e3*2**e,3e4)}function lv(e){return(e??"online")==="online"?al.isOnline():!0}var ou=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function cv(e){let t=!1,n=0,s;const i=n2(),a=()=>i.status!=="pending",o=g=>{var y;if(!a()){const x=new ou(g);h(x),(y=e.onCancel)==null||y.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>ov.isFocused()&&(e.networkMode==="always"||al.isOnline())&&e.canRun(),m=()=>lv(e.networkMode)&&e.canRun(),u=g=>{a()||(s==null||s(),i.resolve(g))},h=g=>{a()||(s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var y;s=x=>{(a()||d())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,a()||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(a())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(u).catch(x=>{var T;if(a())return;const v=e.retry??(Ll?0:3),b=e.retryDelay??a2,j=typeof b=="function"?b(n,x):b,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(t||!S){h(x);return}n++,(T=e.onFail)==null||T.call(e,n,x),QS(j).then(()=>d()?void 0:f()).then(()=>{t?h(x):p()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?p():f().then(p),i)}}var Ds,P0,dv=(P0=class{constructor(){ee(this,Ds,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HS(this.gcTime)&&q(this,Ds,ru.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ll?1/0:5*60*1e3))}clearGcTimeout(){_(this,Ds)&&(ru.clearTimeout(_(this,Ds)),q(this,Ds,void 0))}},Ds=new WeakMap,P0),Fs,Or,Lt,zs,Ye,ma,$s,Zt,Nn,T0,o2=(T0=class extends dv{constructor(t){super();ee(this,Zt);ee(this,Fs,void 0);ee(this,Or,void 0);ee(this,Lt,void 0);ee(this,zs,void 0);ee(this,Ye,void 0);ee(this,ma,void 0);ee(this,$s,void 0);q(this,$s,!1),q(this,ma,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,zs,t.client),q(this,Lt,_(this,zs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,Fs,bf(this.options)),this.state=t.state??_(this,Fs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Ye))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,ma),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=bf(this.options);n.data!==void 0&&(this.setState(vf(n.data,n.dataUpdatedAt)),q(this,Fs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Lt).remove(this)}setData(t,n){const s=XS(this.state.data,t,this.options);return nt(this,Zt,Nn).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){nt(this,Zt,Nn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=_(this,Ye))==null?void 0:s.promise;return(i=_(this,Ye))==null||i.cancel(t),n?n.then(Jt).catch(Jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Fs))}isActive(){return this.observers.some(t=>KS(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>iu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YS(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Ye))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Ye))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,Lt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,Ye)&&(_(this,$s)?_(this,Ye).cancel({revert:!0}):_(this,Ye).cancelRetry()),this.scheduleGc()),_(this,Lt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,Zt,Nn).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,m,u,h,f,p,g,y,x,v,b;if(this.state.fetchStatus!=="idle"&&((c=_(this,Ye))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Ye))return _(this,Ye).continueRetry(),_(this,Ye).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const s=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(q(this,$s,!0),s.signal)})},a=()=>{const j=av(this.options,n),T=(()=>{const E={client:_(this,zs),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return q(this,$s,!1),this.options.persister?this.options.persister(j,T,this):j(T)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,zs),state:this.state,fetchFn:a};return i(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),q(this,Or,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&nt(this,Zt,Nn).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta}),q(this,Ye,cv({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof ou&&j.revert&&this.setState({..._(this,Or),fetchStatus:"idle"}),s.abort()},onFail:(j,S)=>{nt(this,Zt,Nn).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{nt(this,Zt,Nn).call(this,{type:"pause"})},onContinue:()=>{nt(this,Zt,Nn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await _(this,Ye).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(h=_(this,Lt).config).onSuccess)==null||f.call(h,j,this),(g=(p=_(this,Lt).config).onSettled)==null||g.call(p,j,this.state.error,this),j}catch(j){if(j instanceof ou){if(j.silent)return _(this,Ye).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw nt(this,Zt,Nn).call(this,{type:"error",error:j}),(x=(y=_(this,Lt).config).onError)==null||x.call(y,j,this),(b=(v=_(this,Lt).config).onSettled)==null||b.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Fs=new WeakMap,Or=new WeakMap,Lt=new WeakMap,zs=new WeakMap,Ye=new WeakMap,ma=new WeakMap,$s=new WeakMap,Zt=new WeakSet,Nn=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...l2(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,...vf(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,Or,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,Lt).notify({query:this,type:"updated",action:t})})},T0);function l2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function bf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function wf(e){return{onFetch:(t,n)=>{var m,u,h,f,p;const s=t.options,i=(h=(u=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=b=>{e2(b,()=>t.signal,()=>g=!0)},x=av(t.options,t.fetchOptions),v=async(b,j,S)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return y(L),L})(),k=await x(E),{maxPages:C}=t.options,M=S?ZS:JS;return{pages:M(b.pages,k,C),pageParams:M(b.pageParams,j,C)}};if(i&&a.length){const b=i==="backward",j=b?c2:jf,S={pages:a,pageParams:o},T=j(s,S);l=await v(S,T,b)}else{const b=e??a.length;do{const j=c===0?o[0]??s.initialPageParam:jf(s,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function jf(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function c2(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var ha,hn,at,Gs,pn,Un,M0,d2=(M0=class extends dv{constructor(t){super();ee(this,pn);ee(this,ha,void 0);ee(this,hn,void 0);ee(this,at,void 0);ee(this,Gs,void 0);q(this,ha,t.client),this.mutationId=t.mutationId,q(this,at,t.mutationCache),q(this,hn,[]),this.state=t.state||u2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,hn).includes(t)||(_(this,hn).push(t),this.clearGcTimeout(),_(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,hn,_(this,hn).filter(n=>n!==t)),this.scheduleGc(),_(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,hn).length||(this.state.status==="pending"?this.scheduleGc():_(this,at).remove(this))}continue(){var t;return((t=_(this,Gs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,m,u,h,f,p,g,y,x,v,b,j,S,T,E;const n=()=>{nt(this,pn,Un).call(this,{type:"continue"})},s={client:_(this,ha),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,Gs,cv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{nt(this,pn,Un).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{nt(this,pn,Un).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,at).canRun(this)}));const i=this.state.status==="pending",a=!_(this,Gs).canStart();try{if(i)n();else{nt(this,pn,Un).call(this,{type:"pending",variables:t,isPaused:a}),_(this,at).config.onMutate&&await _(this,at).config.onMutate(t,this,s);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,s));C!==this.state.context&&nt(this,pn,Un).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const k=await _(this,Gs).start();return await((d=(c=_(this,at).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this,s)),await((u=(m=this.options).onSuccess)==null?void 0:u.call(m,k,t,this.state.context,s)),await((f=(h=_(this,at).config).onSettled)==null?void 0:f.call(h,k,null,this.state.variables,this.state.context,this,s)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,k,null,t,this.state.context,s)),nt(this,pn,Un).call(this,{type:"success",data:k}),k}catch(k){try{await((x=(y=_(this,at).config).onError)==null?void 0:x.call(y,k,t,this.state.context,this,s))}catch(C){Promise.reject(C)}try{await((b=(v=this.options).onError)==null?void 0:b.call(v,k,t,this.state.context,s))}catch(C){Promise.reject(C)}try{await((S=(j=_(this,at).config).onSettled)==null?void 0:S.call(j,void 0,k,this.state.variables,this.state.context,this,s))}catch(C){Promise.reject(C)}try{await((E=(T=this.options).onSettled)==null?void 0:E.call(T,void 0,k,t,this.state.context,s))}catch(C){Promise.reject(C)}throw nt(this,pn,Un).call(this,{type:"error",error:k}),k}finally{_(this,at).runNext(this)}}},ha=new WeakMap,hn=new WeakMap,at=new WeakMap,Gs=new WeakMap,pn=new WeakSet,Un=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{_(this,hn).forEach(s=>{s.onMutationUpdate(t)}),_(this,at).notify({mutation:this,type:"updated",action:t})})},M0);function u2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cn,en,pa,A0,m2=(A0=class extends Rl{constructor(t={}){super();ee(this,Cn,void 0);ee(this,en,void 0);ee(this,pa,void 0);this.config=t,q(this,Cn,new Set),q(this,en,new Map),q(this,pa,0)}build(t,n,s){const i=new d2({client:t,mutationCache:this,mutationId:++La(this,pa)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){_(this,Cn).add(t);const n=Za(t);if(typeof n=="string"){const s=_(this,en).get(n);s?s.push(t):_(this,en).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Cn).delete(t)){const n=Za(t);if(typeof n=="string"){const s=_(this,en).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&_(this,en).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Za(t);if(typeof n=="string"){const s=_(this,en).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=Za(t);if(typeof n=="string"){const i=(s=_(this,en).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mt.batch(()=>{_(this,Cn).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Cn).clear(),_(this,en).clear()})}getAll(){return Array.from(_(this,Cn))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>gf(n,s))}findAll(t={}){return this.getAll().filter(n=>gf(t,n))}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Jt))))}},Cn=new WeakMap,en=new WeakMap,pa=new WeakMap,A0);function Za(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fn,I0,h2=(I0=class extends Rl{constructor(t={}){super();ee(this,fn,void 0);this.config=t,q(this,fn,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??Um(i,n);let o=this.get(a);return o||(o=new o2({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){_(this,fn).has(t.queryHash)||(_(this,fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,fn).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,fn).get(t)}getAll(){return[..._(this,fn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>ff(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>ff(t,s)):n}notify(t){mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fn=new WeakMap,I0),Me,Jn,Zn,Dr,Fr,es,zr,$r,_0,p2=(_0=class{constructor(e={}){ee(this,Me,void 0);ee(this,Jn,void 0);ee(this,Zn,void 0);ee(this,Dr,void 0);ee(this,Fr,void 0);ee(this,es,void 0);ee(this,zr,void 0);ee(this,$r,void 0);q(this,Me,e.queryCache||new h2),q(this,Jn,e.mutationCache||new m2),q(this,Zn,e.defaultOptions||{}),q(this,Dr,new Map),q(this,Fr,new Map),q(this,es,0)}mount(){La(this,es)._++,_(this,es)===1&&(q(this,zr,ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,Me).onFocus())})),q(this,$r,al.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,Me).onOnline())})))}unmount(){var e,t;La(this,es)._--,_(this,es)===0&&((e=_(this,zr))==null||e.call(this),q(this,zr,void 0),(t=_(this,$r))==null||t.call(this),q(this,$r,void 0))}isFetching(e){return _(this,Me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Jn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,Me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,Me).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(iu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return _(this,Me).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=_(this,Me).get(s.queryHash),a=i==null?void 0:i.state.data,o=WS(t,a);if(o!==void 0)return _(this,Me).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return mt.batch(()=>_(this,Me).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,Me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,Me);mt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,Me);return mt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=mt.batch(()=>_(this,Me).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Jt).catch(Jt)}invalidateQueries(e,t={}){return mt.batch(()=>(_(this,Me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=mt.batch(()=>_(this,Me).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Jt)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Jt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,Me).build(this,t);return n.isStaleByTime(iu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jt).catch(Jt)}fetchInfiniteQuery(e){return e.behavior=wf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jt).catch(Jt)}ensureInfiniteQueryData(e){return e.behavior=wf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return al.isOnline()?_(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Me)}getMutationCache(){return _(this,Jn)}getDefaultOptions(){return _(this,Zn)}setDefaultOptions(e){q(this,Zn,e)}setQueryDefaults(e,t){_(this,Dr).set(sa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,Dr).values()],n={};return t.forEach(s=>{ra(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){_(this,Fr).set(sa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,Fr).values()],n={};return t.forEach(s=>{ra(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Zn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Um(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Zn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,Me).clear(),_(this,Jn).clear()}},Me=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Dr=new WeakMap,Fr=new WeakMap,es=new WeakMap,zr=new WeakMap,$r=new WeakMap,_0),f2=w.createContext(void 0),uv=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(f2.Provider,{value:e,children:t}));const Nf=e=>{let t;const n=new Set,s=(m,u)=>{const h=typeof m=="function"?m(t):m;if(!Object.is(h,t)){const f=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(p=>p(t,f))}},i=()=>t,c={setState:s,getState:i,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{n.clear()}},d=t=e(s,i,c);return c},g2=e=>e?Nf(e):Nf;var mv={exports:{}},hv={},pv={exports:{}},fv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=w;function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x2=typeof Object.is=="function"?Object.is:y2,v2=Kr.useState,b2=Kr.useEffect,w2=Kr.useLayoutEffect,j2=Kr.useDebugValue;function N2(e,t){var n=t(),s=v2({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return w2(function(){i.value=n,i.getSnapshot=t,_c(i)&&a({inst:i})},[e,n,t]),b2(function(){return _c(i)&&a({inst:i}),e(function(){_c(i)&&a({inst:i})})},[e]),j2(n),n}function _c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!x2(e,n)}catch{return!0}}function S2(e,t){return t()}var k2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S2:N2;fv.useSyncExternalStore=Kr.useSyncExternalStore!==void 0?Kr.useSyncExternalStore:k2;pv.exports=fv;var C2=pv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=w,E2=C2;function P2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T2=typeof Object.is=="function"?Object.is:P2,M2=E2.useSyncExternalStore,A2=Ol.useRef,I2=Ol.useEffect,_2=Ol.useMemo,R2=Ol.useDebugValue;hv.useSyncExternalStoreWithSelector=function(e,t,n,s,i){var a=A2(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=_2(function(){function c(f){if(!d){if(d=!0,m=f,f=s(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return u=p}return u=f}if(p=u,T2(m,f))return p;var g=s(f);return i!==void 0&&i(p,g)?(m=f,p):(m=f,u=g)}var d=!1,m,u,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,s,i]);var l=M2(e,a[0],a[1]);return I2(function(){o.hasValue=!0,o.value=l},[l]),R2(l),l};mv.exports=hv;var L2=mv.exports;const O2=O0(L2),{useDebugValue:D2}=re,{useSyncExternalStoreWithSelector:F2}=O2;const z2=e=>e;function $2(e,t=z2,n){const s=F2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return D2(s),s}const Sf=e=>{const t=typeof e=="function"?g2(e):e,n=(s,i)=>$2(t,s,i);return Object.assign(n,t),n},Dl=e=>e?Sf(e):Sf,Ot=[{id:"action",name:"Action",description:"Fast-paced games emphasizing physical challenges",icon:"",color:"from-red-500 to-orange-600",tags:["fast-paced","intense","reflexes","combat"]},{id:"adventure",name:"Adventure",description:"Games focused on exploration and storytelling",icon:"",color:"from-green-500 to-emerald-600",tags:["exploration","story","discovery","puzzle"]},{id:"rpg",name:"RPG",description:"Role-playing games with character progression",icon:"",color:"from-purple-500 to-pink-600",tags:["character-development","story-rich","strategy","fantasy"]},{id:"strategy",name:"Strategy",description:"Games requiring tactical thinking and planning",icon:"",color:"from-blue-500 to-indigo-600",tags:["tactical","planning","resource-management","thinking"]},{id:"simulation",name:"Simulation",description:"Games that simulate real-world activities",icon:"",color:"from-yellow-500 to-amber-600",tags:["realistic","management","building","lifelike"]},{id:"sports",name:"Sports",description:"Games based on athletic competitions",icon:"",color:"from-cyan-500 to-teal-600",tags:["competitive","athletic","team-based","physical"]},{id:"racing",name:"Racing",description:"Games focused on speed and vehicle control",icon:"",color:"from-pink-500 to-rose-600",tags:["speed","vehicles","competition","precision"]},{id:"puzzle",name:"Puzzle",description:"Games that challenge problem-solving skills",icon:"",color:"from-indigo-500 to-purple-600",tags:["brain-teaser","logic","problem-solving","clever"]},{id:"platformer",name:"Platformer",description:"Games involving jumping and navigating platforms",icon:"",color:"from-orange-500 to-red-600",tags:["jumping","precision","navigation","skill-based"]},{id:"fps",name:"FPS",description:"First-person shooter games with perspective-based combat",icon:"",color:"from-red-600 to-pink-700",tags:["shooting","first-person","combat","reflexes"]},{id:"moba",name:"MOBA",description:"Multiplayer online battle arena games",icon:"",color:"from-purple-600 to-indigo-700",tags:["team-based","competitive","strategic","multiplayer"]},{id:"roguelike",name:"Roguelike",description:"Games with procedurally generated levels and permadeath",icon:"",color:"from-gray-600 to-gray-800",tags:["procedural","challenging","randomized","permadeath"]},{id:"horror",name:"Horror",description:"Games designed to scare and unsettle players",icon:"",color:"from-gray-700 to-gray-900",tags:["scary","atmospheric","suspense","dark"]},{id:"indie",name:"Indie",description:"Games developed by independent creators",icon:"",color:"from-lime-500 to-green-600",tags:["unique","creative","independent","experimental"]},{id:"casual",name:"Casual",description:"Easy-to-play games for relaxation",icon:"",color:"from-pink-400 to-purple-500",tags:["relaxing","simple","accessible","time-filler"]},{id:"multiplayer",name:"Multiplayer",description:"Games designed for multiple players",icon:"",color:"from-teal-500 to-cyan-600",tags:["social","teamwork","competitive","community"]}],ke=[{id:"chill",name:"Chill",description:"Relaxed and laid-back gaming sessions",emoji:"",icon:"",color:"from-blue-400 to-cyan-500",associatedGenres:["casual","simulation","puzzle"],intensity:2},{id:"competitive",name:"Competitive",description:"Intense gaming with focus on winning",emoji:"",icon:"",color:"from-red-500 to-orange-600",associatedGenres:["action","sports","multiplayer"],intensity:8},{id:"story",name:"Story",description:"Immersive narrative experiences",emoji:"",icon:"",color:"from-purple-500 to-pink-600",associatedGenres:["rpg","adventure"],intensity:5},{id:"creative",name:"Creative",description:"Building and expressing creativity",emoji:"",icon:"",color:"from-green-500 to-emerald-600",associatedGenres:["simulation","casual","puzzle"],intensity:6},{id:"social",name:"Social",description:"Playing and connecting with others",emoji:"",icon:"",color:"from-teal-500 to-cyan-600",associatedGenres:["multiplayer","sports","casual"],intensity:5},{id:"focused",name:"Focused",description:"Deep concentration and strategic thinking",emoji:"",icon:"",color:"from-indigo-500 to-purple-600",associatedGenres:["strategy","puzzle","rpg"],intensity:7},{id:"energetic",name:"Energetic",description:"High-energy, exciting gameplay",emoji:"",icon:"",color:"from-yellow-500 to-orange-600",associatedGenres:["action","racing","platformer"],intensity:9},{id:"exploratory",name:"Exploratory",description:"Discovering new worlds and secrets",emoji:"",icon:"",color:"from-green-500 to-teal-600",associatedGenres:["adventure","rpg","simulation"],intensity:5}],G2=[{id:"cozy",name:"Cozy",category:"gameplay",description:"Comforting and relaxing gameplay",color:"text-amber-400"},{id:"sweaty",name:"Sweaty",category:"gameplay",description:"Intense and challenging gameplay",color:"text-red-400"},{id:"story-heavy",name:"Story-Heavy",category:"gameplay",description:"Rich narrative focus",color:"text-purple-400"},{id:"sandbox",name:"Sandbox",category:"gameplay",description:"Open-ended creative freedom",color:"text-green-400"},{id:"roguelike",name:"Roguelike",category:"gameplay",description:"Procedural generation with permadeath",color:"text-orange-400"},{id:"turn-based",name:"Turn-Based",category:"gameplay",description:"Strategic, non-real-time gameplay",color:"text-blue-400"},{id:"real-time",name:"Real-Time",category:"gameplay",description:"Continuous action gameplay",color:"text-red-500"},{id:"pixel-perfect",name:"Pixel-Perfect",category:"gameplay",description:"Precise platforming or controls",color:"text-pink-400"},{id:"atmospheric",name:"Atmospheric",category:"atmosphere",description:"Immersive and mood-setting",color:"text-indigo-400"},{id:"relaxing",name:"Relaxing",category:"atmosphere",description:"Calming and stress-free",color:"text-cyan-400"},{id:"intense",name:"Intense",category:"atmosphere",description:"High-stakes and exciting",color:"text-red-600"},{id:"mysterious",name:"Mysterious",category:"atmosphere",description:"Intriguing and enigmatic",color:"text-purple-600"},{id:"wholesome",name:"Wholesome",category:"atmosphere",description:"Heartwarming and positive",color:"text-pink-300"},{id:"dark",name:"Dark",category:"atmosphere",description:"Mature and serious themes",color:"text-gray-600"},{id:"easy",name:"Easy",category:"difficulty",description:"Accessible and forgiving",color:"text-green-500"},{id:"challenging",name:"Challenging",category:"difficulty",description:"Tests player skills",color:"text-orange-500"},{id:"brutal",name:"Brutal",category:"difficulty",description:"Extremely difficult",color:"text-red-700"},{id:"single-player",name:"Single-Player",category:"social",description:"Solo gaming experience",color:"text-blue-500"},{id:"co-op",name:"Co-op",category:"social",description:"Cooperative multiplayer",color:"text-teal-500"},{id:"pvp",name:"PvP",category:"social",description:"Player versus player",color:"text-red-500"},{id:"community-driven",name:"Community-Driven",category:"social",description:"Relies on player community",color:"text-purple-500"},{id:"fantasy",name:"Fantasy",category:"theme",description:"Magic and mythical settings",color:"text-purple-400"},{id:"sci-fi",name:"Sci-Fi",category:"theme",description:"Science fiction settings",color:"text-cyan-400"},{id:"modern",name:"Modern",category:"theme",description:"Contemporary settings",color:"text-gray-400"},{id:"historical",name:"Historical",category:"theme",description:"Historical periods",color:"text-amber-600"},{id:"post-apocalyptic",name:"Post-Apocalyptic",category:"theme",description:"End-of-world scenarios",color:"text-gray-700"},{id:"backlog",name:"Backlog",category:"gameplay",description:"Games to play later",color:"text-yellow-400"}],B2={Action:"action",Adventure:"adventure",RPG:"rpg",Strategy:"strategy",Simulation:"simulation",Sports:"sports",Racing:"racing",Indie:"indie",Casual:"casual","Massively Multiplayer":"multiplayer",Family:"family","Board Games":"board-games",Educational:"educational","Free to Play":"free-to-play","Early Access":"early-access","Animation & Modeling":"animation","Design & Illustration":"design",Accounting:"accounting","Audio Production":"audio-production","Video Production":"video-production",Utilities:"utilities","Web Publishing":"web-publishing","Game Development":"game-development",Movie:"movie",Documentary:"documentary",Software:"software",Tutorial:"tutorial"},U2={action:["competitive","energetic","focused"],adventure:["exploratory","story","creative"],rpg:["story","focused","creative"],strategy:["focused","competitive"],simulation:["creative","chill"],sports:["competitive","energetic","social"],racing:["energetic","competitive"],puzzle:["focused","creative"],platformer:["energetic","focused"],fps:["competitive","energetic","focused"],moba:["competitive","social","focused"],roguelike:["focused","competitive","creative"],horror:["focused","chill"],indie:["creative","chill"],casual:["chill","creative","social"],multiplayer:["social","competitive"]},V2={competitive:["competitive"],pvp:["competitive"],multiplayer:["competitive","social"],"team-based":["competitive","social"],esports:["competitive"],fps:["competitive","energetic"],shooter:["competitive","energetic"],"battle royale":["competitive"],fighting:["competitive"],rts:["competitive","focused"],"fast-paced":["energetic"],action:["energetic","competitive"],intense:["energetic","competitive"],arcade:["energetic"],racing:["energetic"],sports:["energetic","competitive"],creative:["creative"],building:["creative"],sandbox:["creative"],crafting:["creative"],moddable:["creative"],"level editor":["creative"],"design & illustration":["creative"],"game development":["creative"],"story rich":["story"],narrative:["story"],rpg:["story","creative"],adventure:["story","exploratory"],atmospheric:["story","chill"],exploration:["exploratory"],"open world":["exploratory","creative"],strategy:["focused"],tactical:["focused"],puzzle:["focused"],"turn-based":["focused"],simulation:["focused","creative"],management:["focused"],casual:["chill"],relaxing:["chill"],"family friendly":["chill","social"],educational:["chill","creative"],"hidden object":["chill"],"match 3":["chill"],"co-op":["social"],cooperative:["social"],"local co-op":["social"],mmorpg:["social"],"online co-op":["social"],"local multiplayer":["social"]},W2={"Single-player":["focused","chill"],"Multi-player":["social","competitive"],"Co-op":["social"],MMO:["social","competitive"],"In-App Purchases":["competitive"],"Captions available":["chill"],"Commentary available":["creative"],"Steam Workshop":["creative"],"Steam Cloud":["chill"],Stats:["competitive"],Achievements:["competitive"],"Steam Leaderboards":["competitive"],"Trading Cards":["social"],"Partial Controller Support":["casual"],"Full controller support":["chill"],"VR Support":["energetic","creative"]},H2=e=>B2[e]||"unknown",Y2=(e,t,n,s)=>{const i=[];e.forEach(d=>{const m=U2[d]||[];i.push(...m)}),t&&t.forEach(d=>{const m=V2[d.toLowerCase()]||[];i.push(...m)}),n&&n.forEach(d=>{const m=W2[d]||[];i.push(...m)}),s&&(s>100?i.push("focused"):s<10&&i.push("chill"));const a=[...new Set(i)],o=["chill","competitive","creative","energetic","story","social","focused","exploratory"],l=a.filter(d=>o.includes(d));return l.length>0?l.slice(0,3):["chill"]},K2=(e,t)=>{var m,u,h,f,p,g,y;const n=((m=t==null?void 0:t.genres)==null?void 0:m.map(x=>x.description))||[],s=n.map(H2).filter(x=>x!=="unknown"),i=s.length>0?s:q2(e.name),a=((u=t==null?void 0:t.tags)==null?void 0:u.map(x=>x.description))||[],o=((h=t==null?void 0:t.categories)==null?void 0:h.map(x=>x.description))||[],l=e.playtime_forever,c=Y2(i,a,o,l),d=[...i,...c,...a.slice(0,5),"steam-imported"];return{appId:e.appid,title:e.name,description:(t==null?void 0:t.short_description)||(t==null?void 0:t.about_the_game)||void 0,coverImage:`https://cdn.akamai.steamstatic.com/steam/apps/${e.appid}/library_600x900.jpg`,genres:i.map(x=>Ot.find(b=>b.id===x)||{id:x,name:x.charAt(0).toUpperCase()+x.slice(1),description:`${x} games`,icon:"",color:"from-gray-500 to-gray-600",tags:[x]}),platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:c,moods:c,playStatus:"backlog",hoursPlayed:Math.floor(e.playtime_forever/60),addedAt:new Date().toISOString(),isFavorite:!1,tags:d,releaseYear:(f=t==null?void 0:t.release_date)!=null&&f.date?new Date(t.release_date.date).getFullYear():new Date().getFullYear(),steamData:{appid:e.appid,steamGenres:n,steamTags:a,steamCategories:o,categories:((p=t==null?void 0:t.categories)==null?void 0:p.map(x=>x.description))||[],developers:(t==null?void 0:t.developers)||[],publishers:(t==null?void 0:t.publishers)||[],releaseDate:(g=t==null?void 0:t.release_date)==null?void 0:g.date,screenshots:(t==null?void 0:t.screenshots)||[],movies:(t==null?void 0:t.movies)||[],recommendations:(t==null?void 0:t.recommendations)||0,price_overview:(t==null?void 0:t.price_overview)||{},platforms:(t==null?void 0:t.platforms)||[],metacritic:(t==null?void 0:t.metacritic)||{},reviews:(t==null?void 0:t.reviews)||{},dlcs:(t==null?void 0:t.dlcs)||[],metacriticScore:(y=t==null?void 0:t.metacritic)==null?void 0:y.score,isFree:(t==null?void 0:t.is_free)||!1,supportedLanguages:(t==null?void 0:t.supported_languages)||[]}}},q2=e=>{const t=e.toLowerCase();return t.includes("racing")||t.includes("drive")||t.includes("speed")?["racing"]:t.includes("football")||t.includes("soccer")||t.includes("basketball")?["sports"]:t.includes("puzzle")||t.includes("match")?["puzzle"]:t.includes("strategy")||t.includes("tactics")?["strategy"]:["indie"]},wo="https://gamepilot.com/api",Wm=e=>{const t=e.startsWith("/")?e.slice(1):e;return`${wo.endsWith("/")?wo.slice(0,-1):wo}/${t}`},kf={baseURL:wo,credentials:"include",headers:{"Content-Type":"application/json"}},De=async(e,t={})=>{const n=Wm(e),s={...kf,...t,headers:{...kf.headers,...t.headers}};return fetch(n,s)};class pi extends Error{constructor(t,n,s){super(n),this.type=t,this.details=s,this.name="SteamImportError"}}class jo{static async retryWithBackoff(t,n=3,s=1e3){for(let i=1;i<=n;i++)try{return await t()}catch(a){if(i===n)throw a;const o=s*Math.pow(2,i-1),l=Math.random()*.1*o,c=o+l;console.warn(`Steam API attempt ${i} failed, retrying in ${Math.round(c)}ms:`,a),await new Promise(d=>setTimeout(d,c))}throw new Error("Max retries exceeded")}static async fetchOwnedGames(t,n){return this.retryWithBackoff(async()=>{try{const s=`${this.BACKUP_API_BASE}/games?steamId=${encodeURIComponent(t)}&apiKey=${encodeURIComponent(n)}`;console.log(" Using backend Steam proxy:",s);const i=await fetch(s,{signal:AbortSignal.timeout(15e3)});if(!i.ok)throw i.status===400?new pi("INVALID_STEAM_ID","Invalid Steam ID","Please check your Steam ID"):i.status===500?new pi("STEAM_API_ERROR","Steam API error","Steam API is temporarily unavailable"):new Error(`Backend proxy error: ${i.status}`);const a=await i.json();if(console.log(" Backend proxy returned:",a),!a.games||!Array.isArray(a.games))throw new pi("INVALID_RESPONSE","Invalid response from backend","Please try again");return a.games.filter(o=>o.name&&o.appid)}catch(s){throw s instanceof pi?s:(console.error(" Steam proxy error:",s),new pi("NETWORK_ERROR","Failed to connect to Steam API","Please check your internet connection and try again"))}},3,1e3)}static async fetchGameDetails(t){return this.retryWithBackoff(async()=>{try{const n=`${this.STEAM_STORE_BASE}?appids=${t}&format=json`,a=(await(await fetch(n,{signal:AbortSignal.timeout(8e3)})).json())[t];return a&&a.success&&a.data?a.data:null}catch(n){return console.warn(`Failed to fetch details for app ${t}:`,n),null}},2,500)}static normalizeSteamGame(t,n){var d,m,u,h,f,p;const s=new Date,i=Math.floor(t.playtime_forever/60),a=t.rtime_last_played?new Date(t.rtime_last_played*1e3):void 0;let o="unplayed";i>0&&(i<2?o="playing":i<20?o="completed":o="playing");const l=((d=n==null?void 0:n.genres)==null?void 0:d.map(g=>({id:g.id.toLowerCase(),name:g.description,color:"#8b5cf6",subgenres:[]})))||[],c=n!=null&&n.platforms?[...n.platforms.windows?[{id:"pc",name:"PC",code:"pc",isConnected:!1}]:[],...n.platforms.mac?[{id:"mac",name:"Mac",code:"mac",isConnected:!1}]:[],...n.platforms.linux?[{id:"linux",name:"Linux",code:"linux",isConnected:!1}]:[]]:[{id:"pc",name:"PC",code:"pc",isConnected:!1}];return{title:t.name,description:(n==null?void 0:n.short_description)||(n==null?void 0:n.about_the_game)||"",backgroundImages:n!=null&&n.header_image?[n.header_image]:[],coverImage:`https://cdn.akamai.steamstatic.com/steam/apps/${t.appid}/header.jpg`,releaseDate:(m=n==null?void 0:n.release_date)!=null&&m.date?new Date(n.release_date.date):s,developer:((u=n==null?void 0:n.developers)==null?void 0:u[0])||"",publisher:((h=n==null?void 0:n.publishers)==null?void 0:h[0])||"",genres:l,subgenres:[],platforms:c,emotionalTags:[],userRating:0,globalRating:((f=n==null?void 0:n.metacritic)==null?void 0:f.score)||0,playStatus:o,hoursPlayed:i,lastPlayed:a,addedAt:s,notes:"",isFavorite:!1,tags:this.extractTagsFromDetails(n),releaseYear:(p=n==null?void 0:n.release_date)!=null&&p.date?new Date(n.release_date.date).getFullYear():s.getFullYear(),achievements:n!=null&&n.achievements?{unlocked:0,total:n.achievements.total}:void 0,totalPlaytime:i,appId:t.appid}}static extractTagsFromDetails(t){if(!t)return[];const n=[];return t.categories&&t.categories.forEach(s=>{const i=s.description.toLowerCase();(i.includes("multiplayer")||i.includes("co-op"))&&n.push("multiplayer"),i.includes("single-player")&&n.push("single-player"),i.includes("steam")&&n.push("steam"),i.includes("achievement")&&n.push("achievements"),i.includes("trading cards")&&n.push("trading")}),t.genres&&t.genres.forEach(s=>{const i=s.description.toLowerCase();i.includes("action")&&n.push("action"),i.includes("adventure")&&n.push("adventure"),i.includes("rpg")&&n.push("rpg"),i.includes("strategy")&&n.push("strategy"),i.includes("simulation")&&n.push("simulation"),i.includes("sports")&&n.push("sports"),i.includes("racing")&&n.push("racing")}),t.is_free&&n.push("free-to-play"),[...new Set(n)]}static async importSteamLibrary(t,n){try{const s=await De(`api/steam/library/${encodeURIComponent(t)}`);if(!s.ok)throw new Error(`Backend API error: ${s.status}`);const i=await s.json();return i.games&&Array.isArray(i.games)?i.games.map(a=>{const o=a.appid||a.appId||a.steamAppId,l=a.imgLogoUrl||a.imgHeaderUrl||a.coverImage||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/header.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/library_600x900.jpg`||`https://cdn.akamai.steamstatic.com/steam/apps/${o}/capsule_184x69.jpg`,c=a.categories||[];let d=c.map(f=>f.description).filter(Boolean);if(c.some(f=>f.description.toLowerCase().includes("multiplayer"))&&d.push("Multiplayer"),c.some(f=>f.description.toLowerCase().includes("single-player"))&&d.push("Single Player"),c.some(f=>f.description.toLowerCase().includes("co-op"))&&d.push("Co-op"),d.length===0){const f=a.name.toLowerCase();(f.includes("zombie")||f.includes("dead")||f.includes("resident evil"))&&d.push("Horror","Survival"),(f.includes("rpg")||f.includes("witcher")||f.includes("elder scrolls"))&&d.push("RPG"),(f.includes("shooter")||f.includes("counter-strike")||f.includes("call of duty"))&&d.push("Shooter"),(f.includes("strategy")||f.includes("command")||f.includes("company of heroes"))&&d.push("Strategy"),(f.includes("racing")||f.includes("rocket league"))&&d.push("Racing"),(f.includes("sports")||f.includes("football")||f.includes("wwe"))&&d.push("Sports"),(f.includes("adventure")||f.includes("tomb")||f.includes("assassin"))&&d.push("Adventure"),(f.includes("puzzle")||f.includes("portal"))&&d.push("Puzzle"),(f.includes("simulation")||f.includes("simulator"))&&d.push("Simulation"),d.length===0&&d.push("Action")}const m=c.slice(0,3).map(f=>({id:f.id.toLowerCase(),name:f.description,color:"#8b5cf6",subgenres:[]})),u=Math.floor((a.playtimeForever||0)/60);let h="unplayed";return u>0&&(u<2?h="playing":u<20?h="completed":h="playing"),{title:a.name,description:a.shortDescription||"",backgroundImages:a.backgroundImages||[],coverImage:l,releaseDate:a.releaseDate?new Date(a.releaseDate):new Date,developer:a.developer||"",publisher:a.publisher||"",genres:m,subgenres:[],platforms:[{id:"steam",name:"Steam",code:"steam",isConnected:!0}],emotionalTags:[],userRating:void 0,globalRating:a.metacriticScore?a.metacriticScore:void 0,playStatus:h,hoursPlayed:u,lastPlayed:a.lastPlayed?new Date(a.lastPlayed):void 0,addedAt:new Date,notes:"",isFavorite:!1,tags:d,releaseYear:a.releaseYear?a.releaseYear:new Date().getFullYear(),achievements:a.achievements?{unlocked:a.achievements.unlocked||0,total:a.achievements.total||0}:void 0,totalPlaytime:u,averageRating:void 0,completionPercentage:void 0,appId:o}}):[]}catch(s){return console.error("Failed to import Steam library via backend:",s),[]}}}He(jo,"STEAM_API_BASE","https://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/"),He(jo,"STEAM_STORE_BASE","https://store.steampowered.com/api/appdetails/"),He(jo,"BACKUP_API_BASE","/api/steam");w.createContext(void 0);const Pt={success:(e,t,n)=>{console.warn("Toast context not available:",{type:"success",title:e,message:t,duration:n})},error:(e,t,n)=>{console.warn("Toast context not available:",{type:"error",title:e,message:t,duration:n})},warning:(e,t,n)=>{console.warn("Toast context not available:",{type:"warning",title:e,message:t,duration:n})},info:(e,t,n)=>{console.warn("Toast context not available:",{type:"info",title:e,message:t,duration:n})}};class Q2{constructor(){}getAuthHeaders(){const t=localStorage.getItem("auth_token");return{...t&&{Authorization:`Bearer ${t}`}}}async launchGame(t,n){var s;try{const i=await De("api/launcher/launch",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({gameId:t,platformCode:n})}),a=await i.json();if(!i.ok)throw new Error(a.error||`HTTP ${i.status}: ${i.statusText}`);if((s=a.data)!=null&&s.launchUrl)try{window.location.href=a.data.launchUrl,setTimeout(()=>{var l;document.visibilityState==="visible"&&Pt.warning("Launch Failed",((l=a.data)==null?void 0:l.launchMethod)==="steam"?"Steam may not be installed or running. Please check Steam is available.":"Failed to launch game. Please check the game executable path.")},3e3)}catch(o){return console.error("Failed to launch game:",o),Pt.error("Launch Failed","Could not execute launch command"),{...a,success:!1}}return Pt.success(a.message||"Game launched successfully"),a}catch(i){console.error("Launch service error:",i);const a=i instanceof Error?i.message:"Unknown error occurred";return Pt.error("Launch Failed",a),{success:!1,error:a}}}async endSession(t,n){var s,i;try{const a=await De("api/launcher/session/end",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({sessionId:t,gameId:n})}),o=await a.json();if(!a.ok)throw new Error(o.error||`HTTP ${a.status}: ${a.statusText}`);const l=((s=o.data)==null?void 0:s.durationMinutes)||0,c=((i=o.data)==null?void 0:i.durationHours)||0;let d="Session ended successfully";return l>0&&(c>=1?d=`Session ended: ${c}h ${l%60}m played`:d=`Session ended: ${l} minutes played`),Pt.success(d),o}catch(a){console.error("End session error:",a);const o=a instanceof Error?a.message:"Unknown error occurred";return Pt.error("Session Error",o),{success:!1,error:o}}}async getActiveSessions(){try{const t=await De("api/launcher/session/active",{method:"GET",headers:this.getAuthHeaders()}),n=await t.json();if(!t.ok)throw new Error(n.error||`HTTP ${t.status}: ${t.statusText}`);return n}catch(t){return console.error("Get active sessions error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async getSessionHistory(t,n=50){try{const s=new URLSearchParams({limit:n.toString()});t&&s.append("gameId",t);const i=await De(`api/launcher/session/history?${s}`,{method:"GET",headers:this.getAuthHeaders()}),a=await i.json();if(!i.ok)throw new Error(a.error||`HTTP ${i.status}: ${i.statusText}`);return a}catch(s){return console.error("Get session history error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async checkSteamAvailability(){try{const t="steam://",n=window.open(t,"_blank","width=1,height=1");return n?(n.close(),!0):!1}catch{return!1}}getLaunchInfo(t){var s;return((s=t.platforms)==null?void 0:s.find(i=>i.code==="steam"))&&t.appId?{canLaunch:!0,method:"steam",url:`steam://rungameid/${t.appId}`}:t.executablePath?{canLaunch:!0,method:"local",url:`file://${t.executablePath}`}:{canLaunch:!0,method:"manual"}}}const br=new Q2;class X2{constructor(){}getAuthHeaders(){const t=localStorage.getItem("auth_token");return{...t&&{Authorization:`Bearer ${t}`}}}async launchGameWithPersonaTracking(t,n){try{await this.logSessionStart(t,n);const s=await br.launchGame(t);return s.success&&this.updatePersonaMetrics(t,"session_start").catch(console.error),s}catch(s){throw console.error("Persona launch error:",s),s}}async endSessionWithPersonaTracking(t,n){var s,i;try{const a=await br.endSession(t,n);return a.success&&n&&await this.updatePersonaMetrics(n,"session_end",{duration:(s=a.data)==null?void 0:s.duration,durationMinutes:(i=a.data)==null?void 0:i.durationMinutes}),a}catch(a){throw console.error("Persona session end error:",a),a}}async logSessionStart(t,n){try{const s={gameId:t,gameMetadata:{title:n.title,genres:n.genres,tags:n.tags,platforms:n.platforms,emotionalTags:n.emotionalTags},context:{timeOfDay:new Date().getHours(),dayOfWeek:new Date().getDay(),previousSessions:await this.getRecentSessionCount(),currentMood:await this.getCurrentMood()}};await De("api/persona/session/start",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(s)})}catch(s){console.error("Failed to log session start:",s)}}async updatePersonaMetrics(t,n,s){try{const i={gameId:t,eventType:n,sessionData:s,timestamp:new Date().toISOString()};await De("api/persona/metrics/update",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(i)})}catch(i){console.error("Failed to update persona metrics:",i)}}async getCurrentMood(){const t=new Date().getHours();return t<12?"energetic":t<17?"focused":t<21?"social":"relaxed"}async getRecentSessionCount(){var t;try{return((t=(await br.getActiveSessions()).data)==null?void 0:t.count)||0}catch{return 0}}async getPersonaMetrics(){try{const t=await De("api/persona/metrics",{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return(await t.json()).data||this.getDefaultMetrics()}catch(t){return console.error("Failed to get persona metrics:",t),this.getDefaultMetrics()}}async getPersonaRecommendations(t=10){try{const n=await De(`api/persona/recommendations?limit=${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return(await n.json()).data||[]}catch(n){return console.error("Failed to get persona recommendations:",n),[]}}async getMoodBasedSuggestions(t,n=5){try{const s=await De(`api/persona/mood-suggestions?mood=${t}&limit=${n}`,{method:"GET",headers:this.getAuthHeaders()});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return(await s.json()).data||[]}catch(s){return console.error("Failed to get mood suggestions:",s),[]}}async getPlayPatternAnalysis(){try{const t=await De("api/persona/pattern-analysis",{method:"GET",headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return(await t.json()).data||{patterns:[],recommendations:[],insights:[]}}catch(t){return console.error("Failed to get play pattern analysis:",t),{patterns:[],recommendations:[],insights:[]}}}getDefaultMetrics(){return{totalPlaytime:0,sessionCount:0,averageSessionLength:0,favoriteGenres:[],moodAffinity:[],playstyleIndicators:{competitive:0,exploratory:0,social:0,achievement:0},recentActivity:{lastPlayed:null,streakDays:0,weeklyGoal:10,weeklyProgress:0}}}async getSessionHistory(t=50){var n;try{return((n=(await br.getSessionHistory(void 0,t)).data)==null?void 0:n.sessions)||[]}catch(s){return console.error("Failed to get session history:",s),[]}}calculateEngagementScore(t){if(t.length===0)return 0;const n=new Date,s=t.filter(a=>{const o=new Date(a.startedAt);return(n.getTime()-o.getTime())/(1e3*60*60*24)<=30});let i=0;return s.forEach(a=>{const o=(n.getTime()-new Date(a.startedAt).getTime())/864e5,l=Math.max(0,1-o/30),c=Math.min((a.duration||0)/3600,2);i+=l*c}),Math.min(i*10,100)}async initializeNewUser(t){try{console.log(" Initializing persona for new user:",t);const n=await De("api/persona/initialize",{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({userId:t})});if(!n.ok)throw new Error(`Failed to initialize persona: ${n.statusText}`);const s=await n.json();console.log(" Persona initialized successfully:",s),localStorage.setItem("persona_data",JSON.stringify(s.data))}catch(n){console.error(" Failed to initialize persona:",n),this.setFallbackPersona(t)}}async load(t){try{console.log(" Loading persona for user:",t);const n=await De(`api/persona/load/${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!n.ok)throw new Error(`Failed to load persona: ${n.statusText}`);const s=await n.json();console.log(" Persona loaded successfully:",s),localStorage.setItem("persona_data",JSON.stringify(s.data))}catch(n){console.error(" Failed to load persona:",n),this.setFallbackPersona(t)}}async reset(){try{console.log(" Resetting persona state"),localStorage.removeItem("persona_data");try{await De("api/persona/reset",{method:"POST",headers:this.getAuthHeaders()})}catch(t){console.warn("Backend persona reset failed, but local state cleared:",t)}console.log(" Persona state reset successfully")}catch(t){console.error(" Failed to reset persona:",t),localStorage.removeItem("persona_data")}}setFallbackPersona(t){const n={userId:t,traits:{competitive:.5,exploratory:.5,social:.5,achievement:.5},mood:"neutral",narrativeContext:{playstyle:"balanced",preferences:[],history:[]},createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()};localStorage.setItem("persona_data",JSON.stringify(n)),console.log(" Fallback persona set for user:",t)}getCurrentPersona(){try{const t=localStorage.getItem("persona_data");return t?JSON.parse(t):null}catch(t){return console.error(" Failed to get current persona:",t),null}}isPersonaInitialized(){return!!this.getCurrentPersona()}}const bt=new X2;class J2{constructor(){}getAuthHeaders(){return{Accept:"application/json"}}async makeRequest(t,n={}){const s=await De(t,{...n,headers:{...this.getAuthHeaders(),...n.headers}});if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.error||`HTTP ${s.status}: ${s.statusText}`)}return s.json()}async getUserGames(){try{return await this.makeRequest("api/games/user")}catch(t){return console.error("GameApiService: getUserGames error:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async upsertGames(t){try{return await this.makeRequest("api/launcher/upsert-games",{method:"POST",body:JSON.stringify(t)})}catch(n){return console.error("GameApiService: upsertGames error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async launchGame(t,n){try{return await this.makeRequest("api/launcher/launch",{method:"POST",body:JSON.stringify({gameId:t,platformCode:n})})}catch(s){return console.error("GameApiService: launchGame error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error"}}}async endSession(t){try{return await this.makeRequest("api/launcher/end-session",{method:"POST",body:JSON.stringify({sessionId:t})})}catch(n){return console.error("GameApiService: endSession error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}}const gv=new J2,yv="gamepilot_library",eo=e=>{try{localStorage.setItem(yv,JSON.stringify(e)),console.log(" Library saved to localStorage as backup")}catch(t){console.warn("Failed to save library to localStorage:",t)}},Cf=()=>{try{const e=localStorage.getItem(yv);if(e){const t=JSON.parse(e);return console.log(" Library loaded from localStorage backup:",t.length),t}}catch(e){console.warn("Failed to load library from localStorage:",e)}return null},Z2=async(e,t)=>{const{setIsLoading:n}=ye.getState(),{setGames:s}=ye.getState().actions;let i=[];try{n(!0),console.log(" useLibraryStore: Calling SteamService.fetchOwnedGames with:",{steamId:e,apiKey:t});const a=await jo.fetchOwnedGames(e,t);console.log(" useLibraryStore: SteamService returned:",a),console.log(" useLibraryStore: Number of games from Steam API:",a.length);const o=a.map(c=>{var m;const d=K2(c);return console.log(" Steam Import - Game:",d.title),console.log(" Steam Import - Assigned moods:",d.moods),console.log(" Steam Import - Genres:",(m=d.genres)==null?void 0:m.map(u=>typeof u=="string"?u:u.name)),{...d,id:void 0}});console.log(" useLibraryStore: Upserting games to database:",o.length);const l=await gv.upsertGames(o);if(l.success&&l.data)i=l.data.games.map(c=>({...c,appId:c.appId||c.appId})),console.log(" useLibraryStore: Successfully upserted games:",i.length),console.log(" useLibraryStore: First database game example:",i[0]);else throw new Error(l.error||"Failed to upsert games to database");return{success:i.length>0,gameCount:i.length,games:i}}catch(a){throw console.error(" useLibraryStore: Steam import failed:",a),a instanceof Error?(console.error(" useLibraryStore: Error message:",a.message),console.error(" useLibraryStore: Error stack:",a.stack)):typeof a=="object"&&a!==null?console.error(" useLibraryStore: Error object details:",JSON.stringify(a,null,2)):console.error(" useLibraryStore: Error type:",typeof a,"value:",a),new Error(a instanceof Error?a.message:typeof a=="string"?a:"Steam import failed: Unknown error")}finally{n(!1),i.length>0&&(console.log(" useLibraryStore: Setting games in store:",i.length),s(i))}},ye=Dl()((e,t)=>({games:[],currentSession:null,isLoading:!1,hasLoaded:!1,filters:{genre:null,platform:null,status:null,search:""},intelligence:{selectedMood:"",selectedSessionLength:"",selectedGenres:[],selectedSorting:"",preferredGenres:[],preferredMoods:[],preferredSessionStyle:null},setIsLoading:n=>e({isLoading:n}),setHasLoaded:n=>e({hasLoaded:n}),setGames:n=>e({games:n,hasLoaded:!0}),actions:{addGame:n=>{e(s=>{const i=s.games.find(l=>l.id===n.id),a=s.games.find(l=>l.appId===n.appId);if(i||a)return s;const o=[...s.games,n];return eo(o),{games:o}})},removeGame:n=>{e(s=>{const i=s.games.filter(a=>a.id!==n);return eo(i),{games:i}})},updateGame:(n,s)=>{e(i=>{const a=i.games.map(o=>o.id===n?{...o,...s}:o);return eo(a),{games:a}})},bulkUpdateStatus:(n,s)=>{e(i=>({games:i.games.map(a=>n.includes(a.id)?{...a,playStatus:s}:a)}))},bulkExport:()=>{const n=JSON.stringify(t().games,null,2),s=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download="game-library.json",a.click(),URL.revokeObjectURL(i)},bulkImport:n=>{const s=n.map(i=>({...i,id:crypto.randomUUID(),addedAt:new Date}));e(i=>({games:[...i.games,...s]}))},importSteamLibrary:Z2,bulkAddToCategory:(n,s)=>{e(i=>({games:i.games.map(a=>n.includes(a.id)?{...a,tags:Array.from(new Set([...a.tags||[],s]))}:a)}))},deduplicateGames:()=>{e(n=>({games:n.games.filter((i,a,o)=>a===o.findIndex(l=>l.title.toLowerCase()===i.title.toLowerCase()))}))},bulkDelete:n=>{e(s=>({games:s.games.filter(i=>!n.includes(i.id))}))},launchGame:async n=>{console.log(" Frontend Store - launchGame called with gameId:",n);let s=t().games.find(o=>o.id===n);if(!s&&(console.log(" Frontend Store - Game not found by ID, trying appId lookup"),s=t().games.find(o=>{var l;return((l=o.appId)==null?void 0:l.toString())===n}),!s)){console.error(" Frontend Store - Game not found at all!");return}const a=s.platforms.find(o=>o.code==="steam")?"steam":void 0;console.log(" Frontend Store - About to call personaEngineService.launchGameWithPersonaTracking"),console.log(" Frontend Store - Game data:",s.title,s.appId);try{const o=await bt.launchGameWithPersonaTracking(n,s);console.log(" Frontend Store - Persona engine result:",o),o.success&&o.data&&e({currentSession:{gameId:s.id,startedAt:Date.now()}})}catch(o){console.error(" Frontend Store - Persona engine failed:",o);try{console.log(" Frontend Store - Trying fallback launcher service");const l=await br.launchGame(n,a);console.log(" Frontend Store - Launcher service result:",l),l.success&&l.data&&e({currentSession:{gameId:s.id,startedAt:Date.now()}})}catch(l){console.error(" Frontend Store - Fallback launch also failed:",l)}}},endCurrentSession:async()=>{const n=t();if(n.currentSession)try{await bt.endSessionWithPersonaTracking(void 0,n.currentSession.gameId);const s=Date.now()-n.currentSession.startedAt,i=Math.floor(s/6e4);e(a=>({games:a.games.map(o=>{var l;return o.id===((l=a.currentSession)==null?void 0:l.gameId)?{...o,hoursPlayed:(o.hoursPlayed||0)+i/60,lastPlayed:new Date}:o}),currentSession:null}))}catch(s){console.error("Failed to end session with persona tracking:",s);try{await br.endSession(void 0,n.currentSession.gameId);const i=Date.now()-n.currentSession.startedAt,a=Math.floor(i/6e4);e(o=>({games:o.games.map(l=>{var c;return l.id===((c=o.currentSession)==null?void 0:c.gameId)?{...l,hoursPlayed:(l.hoursPlayed||0)+a/60,lastPlayed:new Date}:l}),currentSession:null}))}catch(i){console.error("Fallback session end also failed:",i),e({currentSession:null})}}},setFilter:(n,s)=>{e(i=>({filters:{...i.filters,[n]:s}}))},clearFilters:()=>{e({filters:{genre:null,platform:null,status:null,search:""}})},setGames:n=>{const s=n.map(i=>({...i,tags:i.tags||[]}));e({games:s,hasLoaded:!0}),eo(s)},updateGameStatus:(n,s)=>{e(i=>({games:i.games.map(a=>a.id===n?{...a,playStatus:s}:a)}))},updateGamePlaytime:(n,s)=>{e(i=>({games:i.games.map(a=>a.id===n?{...a,hoursPlayed:s}:a)}))},setHasLoaded:n=>e({hasLoaded:n}),loadGames:async()=>{if(t().hasLoaded){console.log(" Library already loaded, skipping...");return}try{t().setIsLoading(!0),console.log(" Store: Calling getUserGames API...");const n=await gv.getUserGames();if(console.log(" Store: API response:",n),n.success&&n.data)t().actions.setGames(n.data.games),console.log(" Loaded user games from database:",n.data.games.length);else{console.error("Failed to load user games:",n.error);const s=Cf();s&&s.length>0?(t().actions.setGames(s),console.log(" Loaded games from localStorage fallback:",s.length)):t().actions.setGames([])}t().setHasLoaded(!0)}catch(n){console.error("Failed to load games:",n);const s=Cf();s&&s.length>0?(t().actions.setGames(s),console.log(" Loaded games from localStorage fallback after error:",s.length)):t().actions.setGames([]),t().setHasLoaded(!0)}finally{t().setIsLoading(!1)}}},setIntelligenceState:n=>{e(s=>({intelligence:{...s.intelligence,...n}}))}})),lu=new Map,to=e=>{const t=lu.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},ek=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=lu.get(n.name);if(s)return{type:"tracked",store:e,...s};const i={connection:t.connect(n),stores:{}};return lu.set(n.name,i),{type:"tracked",store:e,...i}},tk=(e,t={})=>(n,s,i)=>{const{enabled:a,anonymousActionType:o,store:l,...c}=t;let d;try{d=(a??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(n,s,i);const{connection:m,...u}=ek(l,d,c);let h=!0;i.setState=(g,y,x)=>{const v=n(g,y);if(!h)return v;const b=x===void 0?{type:o||"anonymous"}:typeof x=="string"?{type:x}:x;return l===void 0?(m==null||m.send(b,s()),v):(m==null||m.send({...b,type:`${l}/${b.type}`},{...to(c.name),[l]:i.getState()}),v)};const f=(...g)=>{const y=h;h=!1,n(...g),h=y},p=e(i.setState,s,i);if(u.type==="untracked"?m==null||m.init(p):(u.stores[u.store]=i,m==null||m.init(Object.fromEntries(Object.entries(u.stores).map(([g,y])=>[g,g===u.store?p:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const y=i.dispatch;i.dispatch=(...x)=>{y(...x)}}return m.subscribe(g=>{var y;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Rc(g.payload,x=>{if(x.type==="__setState"){if(l===void 0){f(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=x.state[l];if(v==null)return;JSON.stringify(i.getState())!==JSON.stringify(v)&&f(v);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(x)});case"DISPATCH":switch(g.payload.type){case"RESET":return f(p),l===void 0?m==null?void 0:m.init(i.getState()):m==null?void 0:m.init(to(c.name));case"COMMIT":if(l===void 0){m==null||m.init(i.getState());return}return m==null?void 0:m.init(to(c.name));case"ROLLBACK":return Rc(g.state,x=>{if(l===void 0){f(x),m==null||m.init(i.getState());return}f(x[l]),m==null||m.init(to(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Rc(g.state,x=>{if(l===void 0){f(x);return}JSON.stringify(i.getState())!==JSON.stringify(x[l])&&f(x[l])});case"IMPORT_STATE":{const{nextLiftedState:x}=g.payload,v=(y=x.computedStates.slice(-1)[0])==null?void 0:y.state;if(!v)return;f(l===void 0?v:v[l]),m==null||m.send(null,x);return}case"PAUSE_RECORDING":return h=!h}return}}),p},xv=tk,Rc=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)};function nk(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,t==null?void 0:t.replacer)),removeItem:i=>n.removeItem(i)}}const ia=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return ia(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return ia(s)(n)}}}},sk=(e,t)=>(n,s,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},o=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},s,i);const m=ia(a.serialize),u=()=>{const y=a.partialize({...s()});let x;const v=m({state:y,version:a.version}).then(b=>d.setItem(a.name,b)).catch(b=>{x=b});if(x)throw x;return v},h=i.setState;i.setState=(y,x)=>{h(y,x),u()};const f=e((...y)=>{n(...y),u()},s,i);let p;const g=()=>{var y;if(!d)return;o=!1,l.forEach(v=>v(s()));const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,s()))||void 0;return ia(d.getItem.bind(d))(a.name).then(v=>{if(v)return a.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return a.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return p=a.merge(v,(b=s())!=null?b:f),n(p,!0),u()}).then(()=>{x==null||x(p,void 0),o=!0,c.forEach(v=>v(p))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(d=y.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},g(),p||f},rk=(e,t)=>(n,s,i)=>{let a={storage:nk(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...t},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},s,i);const m=()=>{const g=a.partialize({...s()});return d.setItem(a.name,{state:g,version:a.version})},u=i.setState;i.setState=(g,y)=>{u(g,y),m()};const h=e((...g)=>{n(...g),m()},s,i);i.getInitialState=()=>h;let f;const p=()=>{var g,y;if(!d)return;o=!1,l.forEach(v=>{var b;return v((b=s())!=null?b:h)});const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(g=s())!=null?g:h))||void 0;return ia(d.getItem.bind(d))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate)return[!0,a.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[j,S]=v;if(f=a.merge(S,(b=s())!=null?b:h),n(f,!0),j)return m()}).then(()=>{x==null||x(f,void 0),f=s(),o=!0,c.forEach(v=>v(f))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(d=g.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},a.skipHydration||p(),f||h},ik=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?sk(e,t):rk(e,t),Hm=ik,ak=Dl()(xv(Hm((e,t)=>({games:[],libraryLoading:!1,libraryError:null,integrations:{steam:{connected:!1},discord:{connected:!1},youtube:{connected:!1}},integrationLoading:!1,userPreferences:{theme:"dark",animations:!0,reducedMotion:!1,language:"en",notifications:{achievements:!0,friendActivity:!0,gameRecommendations:!0}},setGames:n=>e({games:n}),addGame:n=>e(s=>({games:[...s.games,n]})),updateGame:(n,s)=>e(i=>({games:i.games.map(a=>a.id===n?{...a,...s}:a)})),removeGame:n=>e(s=>({games:s.games.filter(i=>i.id!==n)})),setIntegrationStatus:(n,s)=>e(i=>({integrations:{...i.integrations,[n]:{...i.integrations[n],...s}}})),setSteamId:n=>e({currentSteamId:n}),updateUserPreferences:n=>e(s=>({userPreferences:{...s.userPreferences,...n}})),getGamesByStatus:n=>{const{games:s}=t();return s.filter(i=>i.playStatus===n)},getTotalPlaytime:()=>{const{games:n}=t();return n.reduce((s,i)=>s+(i.hoursPlayed||0),0)},getRecentlyPlayed:(n=5)=>{const{games:s}=t();return s.filter(i=>i.lastPlayed).sort((i,a)=>{var o,l;return(((o=a.lastPlayed)==null?void 0:o.getTime())||0)-(((l=i.lastPlayed)==null?void 0:l.getTime())||0)}).slice(0,n)}}),{name:"gamepilot-store",partialize:e=>({games:e.games,userPreferences:e.userPreferences,integrations:e.integrations,currentSteamId:e.currentSteamId})}),{name:"GamePilotStore"})),vv=Dl()(Hm((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,persona:null,login:async(n,s)=>{var a,o,l,c,d,m,u,h,f,p,g;if(!t().isLoading&&!(!n||!s))try{e({isLoading:!0,error:null}),console.log(" Sending login request:",{username:n,passwordLength:s.length});const y=await De("api/auth/login",{method:"POST",body:JSON.stringify({username:n,password:s})});console.log(" Login response status:",y.status);const x=await y.json();if(console.log(" Login response data:",x),y.ok&&x.success){const v={id:x.user.id,username:x.user.username,email:x.user.email,displayName:x.user.displayName||x.user.username,avatar:x.user.avatar||"",bio:x.user.bio||"",location:x.user.location||"",website:x.user.website||"",birthday:x.user.birthday||"",discordTag:x.user.discordTag||"",steamProfile:x.user.steamProfile||"",timezone:x.user.timezone||"UTC",createdAt:new Date(x.user.createdAt),updatedAt:new Date,lastActive:new Date(x.user.lastActive),gamingProfile:{primaryPlatforms:((a=x.user.gamingProfile)==null?void 0:a.primaryPlatforms)||[],genreAffinities:{},playstyleArchetypes:[],moodProfile:{currentMood:((l=(o=x.user.gamingProfile)==null?void 0:o.moodProfile)==null?void 0:l.currentMood)||"neutral",moodHistory:[],moodTriggers:[],moodPreferences:{}},totalPlaytime:((c=x.user.gamingProfile)==null?void 0:c.totalPlaytime)||0,gamesPlayed:((d=x.user.gamingProfile)==null?void 0:d.gamesPlayed)||0,gamesCompleted:((m=x.user.gamingProfile)==null?void 0:m.gamesCompleted)||0,achievementsCount:((u=x.user.gamingProfile)==null?void 0:u.achievementsCount)||0,averageRating:((h=x.user.gamingProfile)==null?void 0:h.averageRating)||0,currentStreak:((f=x.user.gamingProfile)==null?void 0:f.currentStreak)||0,longestStreak:((p=x.user.gamingProfile)==null?void 0:p.longestStreak)||0,favoriteGames:((g=x.user.gamingProfile)==null?void 0:g.favoriteGames)||[]},integrations:x.user.integrations||[],privacy:{profileVisibility:"public",sharePlaytime:!0,shareAchievements:!0,shareGameLibrary:!0,allowFriendRequests:!0,showOnlineStatus:!0},preferences:{theme:"dark",language:"en",notifications:{email:!0,push:!0,achievements:!0,recommendations:!0,friendActivity:!0,platformUpdates:!0},display:{compactMode:!1,showGameCovers:!0,animateTransitions:!0,showRatings:!0}},social:{friends:[],blockedUsers:[],favoriteGenres:[],customTags:[]}};if(e({user:v,isAuthenticated:!0,isLoading:!1,error:null}),v.id){await bt.load(v.id);const b=bt.getCurrentPersona();e({persona:b})}e({isLoading:!1,error:null})}else throw new Error(x.message||"Invalid username or password")}catch(y){console.error(" Login error:",y);const x=y instanceof Error?y.message:"Login failed";return e({error:x,isLoading:!1}),Promise.resolve()}},register:async(n,s,i,a)=>{var l;if(!t().isLoading)try{e({isLoading:!0,error:null});const c=await De("api/auth/register",{method:"POST",body:JSON.stringify({username:n,email:s,password:i,displayName:a||n})}),d=await c.json();if(c.ok&&d.success){if(await t().fetchCurrentUser(),(l=t().user)!=null&&l.id){await bt.initializeNewUser(t().user.id);const m=bt.getCurrentPersona();e({persona:m})}e({isLoading:!1,error:null})}else throw new Error(d.message||"Registration failed")}catch(c){console.error(" Registration error:",c);const d=c instanceof Error?c.message:"Registration failed";return e({error:d,isLoading:!1}),Promise.resolve()}},loginWithSteam:()=>{window.location.href="/api/auth/steam"},logout:async()=>{try{e({isLoading:!0,error:null});const n=await De("api/auth/logout",{method:"GET"});if(n.ok)await bt.reset(),e({user:null,isAuthenticated:!1,isLoading:!1,error:null,persona:null});else throw new Error(`Logout failed: ${n.status} ${n.statusText}`)}catch(n){console.error(" Logout error:",n),e({error:n instanceof Error?n.message:"Logout failed",isLoading:!1})}},fetchCurrentUser:async()=>{var n,s,i,a,o;try{e({isLoading:!0,error:null}),console.log(" Fetching current user...");const l=await De("api/auth/me",{method:"GET"});console.log(" Fetch user response status:",l.status);const c=await l.json();if(console.log(" Fetch user response data:",c),l.ok)if(c.success&&c.data){const d={id:c.data.id,username:c.data.username,email:c.data.email,displayName:c.data.displayName||c.data.username,avatar:c.data.avatar||"",bio:c.data.bio||"",location:c.data.location||"",timezone:c.data.timezone||"UTC",createdAt:new Date(c.data.createdAt),updatedAt:new Date,lastActive:new Date(c.data.lastActive),gamingProfile:{primaryPlatforms:((n=c.data.gamingProfile)==null?void 0:n.primaryPlatforms)||[],genreAffinities:{},playstyleArchetypes:[],moodProfile:{currentMood:((s=c.data.gamingProfile)==null?void 0:s.currentMood)||"neutral",moodHistory:[],moodTriggers:[],moodPreferences:{}},totalPlaytime:((i=c.data.gamingProfile)==null?void 0:i.totalPlaytime)||0,gamesPlayed:((a=c.data.gamingProfile)==null?void 0:a.gamesPlayed)||0,gamesCompleted:0,achievementsCount:((o=c.data.gamingProfile)==null?void 0:o.achievementsCount)||0,averageRating:0,currentStreak:0,longestStreak:0,favoriteGames:[]},integrations:c.data.integrations||[],privacy:{profileVisibility:"public",sharePlaytime:!0,shareAchievements:!0,shareGameLibrary:!0,allowFriendRequests:!0,showOnlineStatus:!0},preferences:{theme:"dark",language:"en",notifications:{email:!0,push:!0,achievements:!0,recommendations:!0,friendActivity:!0,platformUpdates:!0},display:{compactMode:!1,showGameCovers:!0,animateTransitions:!0,showRatings:!0}},social:{friends:[],blockedUsers:[],favoriteGenres:[],customTags:[]}};e({user:d,isAuthenticated:!0,isLoading:!1,error:null})}else e({user:null,isAuthenticated:!1,isLoading:!1,error:null});else if(l.status===401)e({user:null,isAuthenticated:!1,isLoading:!1,error:null});else throw new Error(`Failed to fetch current user: ${l.status} ${l.statusText}`)}catch(l){console.error(" Fetch current user error:",l),e({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},clearError:()=>{e({error:null})},setUser:n=>{e({user:n})},setAuthenticated:n=>{e({isAuthenticated:n})},initializeAuth:()=>{t().fetchCurrentUser()},updateProfile:n=>{const s=t().user;if(s){const i={...s,...n};e({user:i})}},getPersona:()=>bt.getCurrentPersona(),refreshPersona:async()=>{var n;try{if((n=t().user)!=null&&n.id){await bt.load(t().user.id);const s=bt.getCurrentPersona();e({persona:s})}}catch(s){console.error(" Failed to refresh persona:",s)}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),Ss=()=>{const e=vv();return{user:e.user,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,error:e.error,login:e.login,register:e.register,loginWithSteam:e.loginWithSteam,logout:e.logout,fetchCurrentUser:e.fetchCurrentUser,clearError:e.clearError,setUser:e.setUser,setAuthenticated:e.setAuthenticated,initializeAuth:e.initializeAuth,updateProfile:e.updateProfile}},Ym=w.createContext({});function Km(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const bv=typeof window<"u",wv=bv?w.useLayoutEffect:w.useEffect,Fl=w.createContext(null);function qm(e,t){e.indexOf(t)===-1&&e.push(t)}function Qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wn=(e,t,n)=>n>t?t:n<e?e:n;function Ef(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let wa=()=>{},Xs=()=>{};var R0;typeof process<"u"&&((R0=process.env)==null?void 0:R0.NODE_ENV)!=="production"&&(wa=(e,t,n)=>{!e&&typeof console<"u"&&console.warn(Ef(t,n))},Xs=(e,t,n)=>{if(!e)throw new Error(Ef(t,n))});const Rn={},jv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nv(e){return typeof e=="object"&&e!==null}const Sv=e=>/^0[^.\s]+$/u.test(e);function Xm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bt=e=>e,ok=(e,t)=>n=>t(e(n)),ja=(...e)=>e.reduce(ok),aa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Jm{constructor(){this.subscriptions=[]}add(t){return qm(this.subscriptions,t),()=>Qm(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vn=e=>e*1e3,$t=e=>e/1e3;function kv(e,t){return t?e*(1e3/t):0}const Cv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lk=1e-7,ck=12;function dk(e,t,n,s,i){let a,o,l=0;do o=t+(n-t)/2,a=Cv(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>lk&&++l<ck);return o}function Na(e,t,n,s){if(e===t&&n===s)return Bt;const i=a=>dk(a,0,1,e,n);return a=>a===0||a===1?a:Cv(i(a),t,s)}const Ev=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pv=e=>t=>1-e(1-t),Tv=Na(.33,1.53,.69,.99),Zm=Pv(Tv),Mv=Ev(Zm),Av=e=>(e*=2)<1?.5*Zm(e):.5*(2-Math.pow(2,-10*(e-1))),eh=e=>1-Math.sin(Math.acos(e)),Iv=Pv(eh),_v=Ev(eh),uk=Na(.42,0,1,1),mk=Na(0,0,.58,1),Rv=Na(.42,0,.58,1),hk=e=>Array.isArray(e)&&typeof e[0]!="number",Lv=e=>Array.isArray(e)&&typeof e[0]=="number",Pf={linear:Bt,easeIn:uk,easeInOut:Rv,easeOut:mk,circIn:eh,circInOut:_v,circOut:Iv,backIn:Zm,backInOut:Mv,backOut:Tv,anticipate:Av},pk=e=>typeof e=="string",Tf=e=>{if(Lv(e)){Xs(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,s,i]=e;return Na(t,n,s,i)}else if(pk(e))return Xs(Pf[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),Pf[e];return e},no=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mf={value:null,addProjectionMetrics:null};function fk(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(u){o.has(u)&&(m.schedule(u),e()),c++,u(l)}const m={schedule:(u,h=!1,f=!1)=>{const g=f&&i?n:s;return h&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(d),t&&Mf.value&&Mf.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,m.process(u))}};return m}const gk=40;function Ov(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=no.reduce((b,j)=>(b[j]=fk(a,t?j:void 0),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:m,update:u,preRender:h,render:f,postRender:p}=o,g=()=>{const b=Rn.useManualTiming?i.timestamp:performance.now();n=!1,Rn.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(b-i.timestamp,gk),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),m.process(i),u.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(g))},y=()=>{n=!0,s=!0,i.isProcessing||e(g)};return{schedule:no.reduce((b,j)=>{const S=o[j];return b[j]=(T,E=!1,k=!1)=>(n||y(),S.schedule(T,E,k)),b},{}),cancel:b=>{for(let j=0;j<no.length;j++)o[no[j]].cancel(b)},state:i,steps:o}}const{schedule:he,cancel:ys,state:Je,steps:Lc}=Ov(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0);let No;function yk(){No=void 0}const ht={now:()=>(No===void 0&&ht.set(Je.isProcessing||Rn.useManualTiming?Je.timestamp:performance.now()),No),set:e=>{No=e,queueMicrotask(yk)}},Dv=e=>t=>typeof t=="string"&&t.startsWith(e),Fv=Dv("--"),xk=Dv("var(--"),th=e=>xk(e)?vk.test(e.split("/*")[0].trim()):!1,vk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Af(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ni={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},oa={...ni,transform:e=>wn(0,1,e)},so={...ni,default:1},_i=e=>Math.round(e*1e5)/1e5,nh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bk(e){return e==null}const wk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sh=(e,t)=>n=>!!(typeof n=="string"&&wk.test(n)&&n.startsWith(e)||t&&!bk(n)&&Object.prototype.hasOwnProperty.call(n,t)),zv=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(nh);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jk=e=>wn(0,255,e),Oc={...ni,transform:e=>Math.round(jk(e))},_s={test:sh("rgb","red"),parse:zv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Oc.transform(e)+", "+Oc.transform(t)+", "+Oc.transform(n)+", "+_i(oa.transform(s))+")"};function Nk(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const cu={test:sh("#"),parse:Nk,transform:_s.transform},Sa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vn=Sa("deg"),bn=Sa("%"),U=Sa("px"),Sk=Sa("vh"),kk=Sa("vw"),If=(()=>({...bn,parse:e=>bn.parse(e)/100,transform:e=>bn.transform(e*100)}))(),wr={test:sh("hsl","hue"),parse:zv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+bn.transform(_i(t))+", "+bn.transform(_i(n))+", "+_i(oa.transform(s))+")"},Oe={test:e=>_s.test(e)||cu.test(e)||wr.test(e),parse:e=>_s.test(e)?_s.parse(e):wr.test(e)?wr.parse(e):cu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_s.transform(e):wr.transform(e),getAnimatableNone:e=>{const t=Oe.parse(e);return t.alpha=0,Oe.transform(t)}},Ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ek(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(nh))==null?void 0:t.length)||0)+(((n=e.match(Ck))==null?void 0:n.length)||0)>0}const $v="number",Gv="color",Pk="var",Tk="var(",_f="${}",Mk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function la(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Mk,c=>(Oe.test(c)?(s.color.push(a),i.push(Gv),n.push(Oe.parse(c))):c.startsWith(Tk)?(s.var.push(a),i.push(Pk),n.push(c)):(s.number.push(a),i.push($v),n.push(parseFloat(c))),++a,_f)).split(_f);return{values:n,split:l,indexes:s,types:i}}function Bv(e){return la(e).values}function Uv(e){const{split:t,types:n}=la(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===$v?a+=_i(i[o]):l===Gv?a+=Oe.transform(i[o]):a+=i[o]}return a}}const Ak=e=>typeof e=="number"?0:Oe.test(e)?Oe.getAnimatableNone(e):e;function Ik(e){const t=Bv(e);return Uv(e)(t.map(Ak))}const xs={test:Ek,parse:Bv,createTransformer:Uv,getAnimatableNone:Ik};function Dc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _k({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Dc(c,l,e+1/3),a=Dc(c,l,e),o=Dc(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ol(e,t){return n=>n>0?t:e}const Ce=(e,t,n)=>e+(t-e)*n,Fc=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Rk=[cu,_s,wr],Lk=e=>Rk.find(t=>t.test(e));function Rf(e){const t=Lk(e);if(wa(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===wr&&(n=_k(n)),n}const Lf=(e,t)=>{const n=Rf(e),s=Rf(t);if(!n||!s)return ol(e,t);const i={...n};return a=>(i.red=Fc(n.red,s.red,a),i.green=Fc(n.green,s.green,a),i.blue=Fc(n.blue,s.blue,a),i.alpha=Ce(n.alpha,s.alpha,a),_s.transform(i))},du=new Set(["none","hidden"]);function Ok(e,t){return du.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Dk(e,t){return n=>Ce(e,t,n)}function rh(e){return typeof e=="number"?Dk:typeof e=="string"?th(e)?ol:Oe.test(e)?Lf:$k:Array.isArray(e)?Vv:typeof e=="object"?Oe.test(e)?Lf:Fk:ol}function Vv(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>rh(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function Fk(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=rh(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function zk(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=e.values[o]??0;n[i]=l,s[a]++}return n}const $k=(e,t)=>{const n=xs.createTransformer(t),s=la(e),i=la(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?du.has(e)&&!i.values.length||du.has(t)&&!s.values.length?Ok(e,t):ja(Vv(zk(s,i),i.values),n):(wa(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ol(e,t))};function Wv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ce(e,t,n):rh(e)(e,t)}const Gk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>he.update(t,n),stop:()=>ys(t),now:()=>Je.isProcessing?Je.timestamp:ht.now()}},Hv=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ll=2e4;function ih(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ll;)t+=n,s=e.next(t);return t>=ll?1/0:t}function Bk(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(ih(s),ll);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:$t(i)}}const Uk=5;function Yv(e,t,n){const s=Math.max(t-Uk,0);return kv(n-e(s),t-s)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zc=.001;function Vk({duration:e=Ne.duration,bounce:t=Ne.bounce,velocity:n=Ne.velocity,mass:s=Ne.mass}){let i,a;wa(e<=vn(Ne.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=wn(Ne.minDamping,Ne.maxDamping,o),e=wn(Ne.minDuration,Ne.maxDuration,$t(e)),o<1?(i=d=>{const m=d*o,u=m*e,h=m-n,f=uu(d,o),p=Math.exp(-u);return zc-h/f*p},a=d=>{const u=d*o*e,h=u*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-u),g=uu(Math.pow(d,2),o);return(-i(d)+zc>0?-1:1)*((h-f)*p)/g}):(i=d=>{const m=Math.exp(-d*e),u=(d-n)*e+1;return-zc+m*u},a=d=>{const m=Math.exp(-d*e),u=(n-d)*(e*e);return m*u});const l=5/e,c=Hk(i,a,l);if(e=vn(e),isNaN(c))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const Wk=12;function Hk(e,t,n){let s=n;for(let i=1;i<Wk;i++)s=s-e(s)/t(s);return s}function uu(e,t){return e*Math.sqrt(1-t*t)}const Yk=["duration","bounce"],Kk=["stiffness","damping","mass"];function Of(e,t){return t.some(n=>e[n]!==void 0)}function qk(e){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...e};if(!Of(e,Kk)&&Of(e,Yk))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*wn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ne.mass,stiffness:i,damping:a}}else{const n=Vk(e);t={...t,...n,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function cl(e=Ne.visualDuration,t=Ne.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:m,duration:u,velocity:h,isResolvedFromDuration:f}=qk({...n,velocity:-$t(n.velocity||0)}),p=h||0,g=d/(2*Math.sqrt(c*m)),y=o-a,x=$t(Math.sqrt(c/m)),v=Math.abs(y)<5;s||(s=v?Ne.restSpeed.granular:Ne.restSpeed.default),i||(i=v?Ne.restDelta.granular:Ne.restDelta.default);let b;if(g<1){const S=uu(x,g);b=T=>{const E=Math.exp(-g*x*T);return o-E*((p+g*x*y)/S*Math.sin(S*T)+y*Math.cos(S*T))}}else if(g===1)b=S=>o-Math.exp(-x*S)*(y+(p+x*y)*S);else{const S=x*Math.sqrt(g*g-1);b=T=>{const E=Math.exp(-g*x*T),k=Math.min(S*T,300);return o-E*((p+g*x*y)*Math.sinh(k)+S*y*Math.cosh(k))/S}}const j={calculatedDuration:f&&u||null,next:S=>{const T=b(S);if(f)l.done=S>=u;else{let E=S===0?p:0;g<1&&(E=S===0?vn(p):Yv(b,S,T));const k=Math.abs(E)<=s,C=Math.abs(o-T)<=i;l.done=k&&C}return l.value=l.done?o:T,l},toString:()=>{const S=Math.min(ih(j),ll),T=Hv(E=>j.next(S*E).value,S,30);return S+"ms "+T},toTransition:()=>{}};return j}cl.applyToOptions=e=>{const t=Bk(e,100,cl);return e.ease=t.ease,e.duration=vn(t.duration),e.type="keyframes",e};function mu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const u=e[0],h={done:!1,value:u},f=k=>l!==void 0&&k<l||c!==void 0&&k>c,p=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=n*t;const y=u+g,x=o===void 0?y:o(y);x!==y&&(g=x-u);const v=k=>-g*Math.exp(-k/s),b=k=>x+v(k),j=k=>{const C=v(k),M=b(k);h.done=Math.abs(C)<=d,h.value=h.done?x:M};let S,T;const E=k=>{f(h.value)&&(S=k,T=cl({keyframes:[h.value,p(h.value)],velocity:Yv(b,k,h.value),damping:i,stiffness:a,restDelta:d,restSpeed:m}))};return E(0),{calculatedDuration:null,next:k=>{let C=!1;return!T&&S===void 0&&(C=!0,j(k),E(k)),S!==void 0&&k>=S?T.next(k-S):(!C&&j(k),h)}}}function Qk(e,t,n){const s=[],i=n||Rn.mix||Wv,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Bt:t;l=ja(c,l)}s.push(l)}return s}function Xk(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(Xs(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Qk(t,s,i),c=l.length,d=m=>{if(o&&m<e[0])return t[0];let u=0;if(c>1)for(;u<e.length-2&&!(m<e[u+1]);u++);const h=aa(e[u],e[u+1],m);return l[u](h)};return n?m=>d(wn(e[0],e[a-1],m)):d}function Jk(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=aa(0,t,s);e.push(Ce(n,1,i))}}function Zk(e){const t=[0];return Jk(t,e.length-1),t}function e5(e,t){return e.map(n=>n*t)}function t5(e,t){return e.map(()=>t||Rv).splice(0,e.length-1)}function Ri({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=hk(s)?s.map(Tf):Tf(s),a={done:!1,value:t[0]},o=e5(n&&n.length===t.length?n:Zk(t),e),l=Xk(o,t,{ease:Array.isArray(i)?i:t5(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const n5=e=>e!==null;function ah(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(n5),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const s5={decay:mu,inertia:mu,tween:Ri,keyframes:Ri,spring:cl};function Kv(e){typeof e.type=="string"&&(e.type=s5[e.type])}class oh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const r5=e=>e/100;class lh extends oh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ht.now()&&this.tick(ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kv(t);const{type:n=Ri,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Ri;c!==Ri&&typeof l[0]!="number"&&(this.mixKeyframes=ja(r5,Wv(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ih(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:m,repeat:u,repeatType:h,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=s;if(u){const k=Math.min(this.currentTime,i)/l;let C=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&C--,C=Math.min(C,u+1),!!(C%2)&&(h==="reverse"?(M=1-M,f&&(M-=f/l)):h==="mirror"&&(j=o)),b=wn(0,1,M)*l}const S=v?{done:!1,value:m[0]}:j.next(b);a&&(S.value=a(S.value));let{done:T}=S;!v&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return E&&p!==mu&&(S.value=ah(m,this.options,y,this.speed)),g&&g(S.value),E&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return $t(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$t(t)}get time(){return $t(this.currentTime)}set time(t){var n;t=vn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ht.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$t(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Gk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function i5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rs=e=>e*180/Math.PI,hu=e=>{const t=Rs(Math.atan2(e[1],e[0]));return pu(t)},a5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:hu,rotateZ:hu,skewX:e=>Rs(Math.atan(e[1])),skewY:e=>Rs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pu=e=>(e=e%360,e<0&&(e+=360),e),Df=hu,Ff=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zf=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),o5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ff,scaleY:zf,scale:e=>(Ff(e)+zf(e))/2,rotateX:e=>pu(Rs(Math.atan2(e[6],e[5]))),rotateY:e=>pu(Rs(Math.atan2(-e[2],e[0]))),rotateZ:Df,rotate:Df,skewX:e=>Rs(Math.atan(e[4])),skewY:e=>Rs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fu(e){return e.includes("scale")?1:0}function gu(e,t){if(!e||e==="none")return fu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=o5,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=a5,i=l}if(!i)return fu(t);const a=s[t],o=i[1].split(",").map(c5);return typeof a=="function"?a(o):o[a]}const l5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gu(n,t)};function c5(e){return parseFloat(e.trim())}const si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ri=(()=>new Set(si))(),$f=e=>e===ni||e===U,d5=new Set(["x","y","z"]),u5=si.filter(e=>!d5.has(e));function m5(e){const t=[];return u5.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const rs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gu(t,"x"),y:(e,{transform:t})=>gu(t,"y")};rs.translateX=rs.x;rs.translateY=rs.y;const Vs=new Set;let yu=!1,xu=!1,vu=!1;function qv(){if(xu){const e=Array.from(Vs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=m5(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}xu=!1,yu=!1,Vs.forEach(e=>e.complete(vu)),Vs.clear()}function Qv(){Vs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xu=!0)})}function h5(){vu=!0,Qv(),qv(),vu=!1}class ch{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vs.add(this),yu||(yu=!0,he.read(Qv),he.resolveKeyframes(qv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}i5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vs.delete(this)}cancel(){this.state==="scheduled"&&(Vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const p5=e=>e.startsWith("--");function f5(e,t,n){p5(t)?e.style.setProperty(t,n):e.style[t]=n}const g5=Xm(()=>window.ScrollTimeline!==void 0),y5={};function x5(e,t){const n=Xm(e);return()=>y5[t]??n()}const Xv=x5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ji=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Gf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ji([0,.65,.55,1]),circOut:ji([.55,0,1,.45]),backIn:ji([.31,.01,.66,-.59]),backOut:ji([.33,1.53,.69,.99])};function Jv(e,t){if(e)return typeof e=="function"?Xv()?Hv(e,t):"ease-out":Lv(e)?ji(e):Array.isArray(e)?e.map(n=>Jv(n,t)||Gf.easeOut):Gf[e]}function v5(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const m={[t]:n};c&&(m.offset=c);const u=Jv(l,i);Array.isArray(u)&&(m.easing=u);const h={delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),e.animate(m,h)}function Zv(e){return typeof e=="function"&&"applyToOptions"in e}function b5({type:e,...t}){return Zv(e)&&Xv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class w5 extends oh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Xs(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const d=b5(t);this.animation=v5(n,s,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=ah(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):f5(n,s,m),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return $t(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$t(t)}get time(){return $t(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&g5()?(this.animation.timeline=t,Bt):n(this)}}const eb={anticipate:Av,backInOut:Mv,circInOut:_v};function j5(e){return e in eb}function N5(e){typeof e.ease=="string"&&j5(e.ease)&&(e.ease=eb[e.ease])}const $c=10;class S5 extends w5{constructor(t){N5(t),Kv(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new lh({...o,autoplay:!1}),c=Math.max($c,ht.now()-this.startTime),d=wn(0,$c,c-$c);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const Bf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xs.test(e)||e==="0")&&!e.startsWith("url("));function k5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function C5(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Bf(i,t),l=Bf(a,t);return wa(o===l,`You are trying to animate ${t} from "${i}" to "${a}". "${o?a:i}" is not an animatable value.`,"value-not-animatable"),!o||!l?!1:k5(e)||(n==="spring"||Zv(n))&&s}function bu(e){e.duration=0,e.type="keyframes"}const E5=new Set(["opacity","clipPath","filter","transform"]),P5=Xm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T5(e){var m;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return P5()&&n&&E5.has(n)&&(n!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const M5=40;class A5 extends oh{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:m,...u}){var p;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=ht.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:m,...u},f=(m==null?void 0:m.KeyframeResolver)||ch;this.keyframeResolver=new f(l,(g,y,x)=>this.onKeyframesResolved(g,y,h,!x),c,d,m),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,s,i){var y,x;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:m}=s;this.resolvedAt=ht.now(),C5(t,a,o,l)||((Rn.instantAnimations||!c)&&(m==null||m(ah(t,s,n))),t[0]=t[t.length-1],bu(s),s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>M5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},f=!d&&T5(h),p=(x=(y=h.motionValue)==null?void 0:y.owner)==null?void 0:x.current,g=f?new S5({...h,element:p}):new lh(h);g.finished.then(()=>{this.notifyFinished()}).catch(Bt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),h5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function tb(e,t,n,s=0,i=1){const a=Array.from(e).sort((d,m)=>d.sortNodePosition(m)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:l-a*s}const I5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _5(e){const t=I5.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}const R5=4;function nb(e,t,n=1){Xs(n<=R5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[s,i]=_5(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return jv(o)?parseFloat(o):o}return th(i)?nb(i,t,n+1):i}const L5={type:"spring",stiffness:500,damping:25,restSpeed:10},O5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D5={type:"keyframes",duration:.8},F5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z5=(e,{keyframes:t})=>t.length>2?D5:ri.has(e)?e.startsWith("scale")?O5(t[1]):L5:F5,$5=e=>e!==null;function G5(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter($5),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}function dh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function B5({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const uh=(e,t,n,s={},i,a)=>o=>{const l=dh(s,e)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-vn(c);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};B5(l)||Object.assign(m,z5(e,m)),m.duration&&(m.duration=vn(m.duration)),m.repeatDelay&&(m.repeatDelay=vn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let u=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(bu(m),m.delay===0&&(u=!0)),(Rn.instantAnimations||Rn.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(u=!0,bu(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,u&&!a&&t.get()!==void 0){const h=G5(m.keyframes,l);if(h!==void 0){he.update(()=>{m.onUpdate(h),m.onComplete()});return}}return l.isSync?new lh(m):new A5(m)};function Uf(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function mh(e,t,n,s){if(typeof t=="function"){const[i,a]=Uf(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Uf(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ar(e,t,n){const s=e.getProps();return mh(s,t,n!==void 0?n:s.custom,e)}const sb=new Set(["width","height","top","left","right","bottom",...si]),Vf=30,U5=e=>!isNaN(parseFloat(e));class V5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=ht.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ht.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=U5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jm);const s=this.events[t].add(n);return t==="change"?()=>{s(),he.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vf);return kv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qr(e,t){return new V5(e,t)}const wu=e=>Array.isArray(e);function W5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qr(n))}function H5(e){return wu(e)?e[e.length-1]||0:e}function Y5(e,t){const n=Ar(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=H5(a[o]);W5(e,o,l)}}const ct=e=>!!(e&&e.getVelocity);function K5(e){return!!(ct(e)&&e.add)}function ju(e,t){const n=e.getValue("willChange");if(K5(n))return n.add(t);if(!n&&Rn.WillChange){const s=new Rn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function hh(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const q5="framerAppearId",rb="data-"+hh(q5);function ib(e){return e.props[rb]}function Q5({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ab(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;const c=a==null?void 0:a.reduceMotion;s&&(a=s);const d=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||m&&Q5(m,u))continue;const p={delay:n,...dh(a||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=ib(e);if(b){const j=window.MotionHandoffAnimation(b,u,he);j!==null&&(p.startTime=j,y=!0)}}ju(e,u);const x=c??e.shouldReduceMotion;h.start(uh(u,h,f,x&&sb.has(u)?{type:!1}:p,e,y));const v=h.animation;v&&d.push(v)}return o&&Promise.all(d).then(()=>{he.update(()=>{o&&Y5(e,o)})}),d}function Nu(e,t,n={}){var c;const s=Ar(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(ab(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:u,staggerDirection:h}=i;return X5(e,t,d,m,u,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,m]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>m())}else return Promise.all([a(),o(n.delay)])}function X5(e,t,n=0,s=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Nu(c,t,{...o,delay:n+(typeof s=="function"?0:s)+tb(e.variantChildren,c,s,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function J5(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>Nu(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=Nu(e,t,n);else{const i=typeof t=="function"?Ar(e,t,n.custom):t;s=Promise.all(ab(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const Z5={test:e=>e==="auto",parse:e=>e},ob=e=>t=>t.test(e),lb=[ni,U,bn,Vn,kk,Sk,Z5],Wf=e=>lb.find(ob(e));function eC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Sv(e):!0}const tC=new Set(["brightness","contrast","saturate","opacity"]);function nC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(nh)||[];if(!s)return e;const i=n.replace(s,"");let a=tC.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const sC=/\b([a-z-]*)\(.*?\)/gu,Su={...xs,getAnimatableNone:e=>{const t=e.match(sC);return t?t.map(nC).join(" "):e}},Hf={...ni,transform:Math.round},rC={rotate:Vn,rotateX:Vn,rotateY:Vn,rotateZ:Vn,scale:so,scaleX:so,scaleY:so,scaleZ:so,skew:Vn,skewX:Vn,skewY:Vn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:oa,originX:If,originY:If,originZ:U},ph={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,inset:U,insetBlock:U,insetBlockStart:U,insetBlockEnd:U,insetInline:U,insetInlineStart:U,insetInlineEnd:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,paddingBlock:U,paddingBlockStart:U,paddingBlockEnd:U,paddingInline:U,paddingInlineStart:U,paddingInlineEnd:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,marginBlock:U,marginBlockStart:U,marginBlockEnd:U,marginInline:U,marginInlineStart:U,marginInlineEnd:U,fontSize:U,backgroundPositionX:U,backgroundPositionY:U,...rC,zIndex:Hf,fillOpacity:oa,strokeOpacity:oa,numOctaves:Hf},iC={...ph,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Su,WebkitFilter:Su},cb=e=>iC[e];function db(e,t){let n=cb(e);return n!==Su&&(n=xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aC=new Set(["auto","none","0"]);function oC(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!aC.has(a)&&la(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=db(n,i)}class lC extends ch{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let u=t[m];if(typeof u=="string"&&(u=u.trim(),th(u))){const h=nb(u,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!sb.has(s)||t.length!==2)return;const[i,a]=t,o=Wf(i),l=Wf(a),c=Af(i),d=Af(a);if(c!==d&&rs[s]){this.needsMeasurement=!0;return}if(o!==l)if($f(o)&&$f(l))for(let m=0;m<t.length;m++){const u=t[m];typeof u=="string"&&(t[m]=parseFloat(u))}else rs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||eC(t[i]))&&s.push(i);s.length&&oC(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rs[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=rs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function cC(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const ub=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ku(e){return Nv(e)&&"offsetHeight"in e}const{schedule:fh,cancel:o_}=Ov(queueMicrotask,!1),Qt={x:!1,y:!1};function mb(){return Qt.x||Qt.y}function dC(e){return e==="x"||e==="y"?Qt[e]?null:(Qt[e]=!0,()=>{Qt[e]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1})}function hb(e,t){const n=cC(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Yf(e){return!(e.pointerType==="touch"||mb())}function uC(e,t,n={}){const[s,i,a]=hb(e,n),o=l=>{if(!Yf(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const m=u=>{Yf(u)&&(d(u),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,i)};return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const pb=(e,t)=>t?e===t?!0:pb(e,t.parentElement):!1,gh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hC(e){return mC.has(e.tagName)||e.isContentEditable===!0}const pC=new Set(["INPUT","SELECT","TEXTAREA"]);function fC(e){return pC.has(e.tagName)||e.isContentEditable===!0}const So=new WeakSet;function Kf(e){return t=>{t.key==="Enter"&&e(t)}}function Gc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gC=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Kf(()=>{if(So.has(n))return;Gc(n,"down");const i=Kf(()=>{Gc(n,"up")}),a=()=>Gc(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function qf(e){return gh(e)&&!mb()}function yC(e,t,n={}){const[s,i,a]=hb(e,n),o=l=>{const c=l.currentTarget;if(!qf(l))return;So.add(c);const d=t(c,l),m=(f,p)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),So.has(c)&&So.delete(c),qf(f)&&typeof d=="function"&&d(f,{success:p})},u=f=>{m(f,c===window||c===document||n.useGlobalTarget||pb(c,f.target))},h=f=>{m(f,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",h,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),ku(l)&&(l.addEventListener("focus",d=>gC(d,i)),!hC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function fb(e){return Nv(e)&&"ownerSVGElement"in e}function xC(e){return fb(e)&&e.tagName==="svg"}const vC=[...lb,Oe,xs],bC=e=>vC.find(ob(e)),Qf=()=>({translate:0,scale:1,origin:0,originPoint:0}),jr=()=>({x:Qf(),y:Qf()}),Xf=()=>({min:0,max:0}),Ge=()=>({x:Xf(),y:Xf()}),Cu={current:null},gb={current:!1},wC=typeof window<"u";function jC(){if(gb.current=!0,!!wC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cu.current=e.matches;e.addEventListener("change",t),t()}else Cu.current=!1}const NC=new WeakMap;function zl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ca(e){return typeof e=="string"||Array.isArray(e)}const yh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xh=["initial",...yh];function $l(e){return zl(e.animate)||xh.some(t=>ca(e[t]))}function yb(e){return!!($l(e)||e.variants)}function SC(e,t,n){for(const s in t){const i=t[s],a=n[s];if(ct(i))e.addValue(s,i);else if(ct(a))e.addValue(s,qr(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,qr(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Jf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dl={};function xb(e){dl=e}function kC(){return dl}class CC{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ht.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,he.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=$l(n),this.isVariantNode=yb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];d[f]!==void 0&&ct(p)&&p.set(d[f])}}mount(t){var n;this.current=t,NC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gb.current||jC(),this.shouldReduceMotion=Cu.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ri.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&he.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dl){const n=dl[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Jf.length;s++){const i=Jf[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=SC(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=qr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(jv(s)||Sv(s))?s=parseFloat(s):!bC(s)&&xs.test(n)&&(s=db(t,n)),this.setBaseTarget(t,ct(s)?s.get():s)),ct(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=mh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ct(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){fh.render(this.render)}}class vb extends CC{constructor(){super(...arguments),this.KeyframeResolver=lC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ct(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function EC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function PC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Bc(e){return e===void 0||e===1}function Eu({scale:e,scaleX:t,scaleY:n}){return!Bc(e)||!Bc(t)||!Bc(n)}function Ts(e){return Eu(e)||wb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wb(e){return Zf(e.x)||Zf(e.y)}function Zf(e){return e&&e!=="0%"}function ul(e,t,n){const s=e-n,i=t*s;return n+i}function eg(e,t,n,s,i){return i!==void 0&&(e=ul(e,i,s)),ul(e,n,s)+t}function Pu(e,t=0,n=1,s,i){e.min=eg(e.min,t,n,s,i),e.max=eg(e.max,t,n,s,i)}function jb(e,{x:t,y:n}){Pu(e.x,t.translate,t.scale,t.originPoint),Pu(e.y,n.translate,n.scale,n.originPoint)}const tg=.999999999999,ng=1.0000000000001;function TC(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jb(e,o)),s&&Ts(a.latestValues)&&Sr(e,a.latestValues))}t.x<ng&&t.x>tg&&(t.x=1),t.y<ng&&t.y>tg&&(t.y=1)}function Nr(e,t){e.min=e.min+t,e.max=e.max+t}function sg(e,t,n,s,i=.5){const a=Ce(e.min,e.max,i);Pu(e,t,n,a,s)}function Sr(e,t){sg(e.x,t.x,t.scaleX,t.scale,t.originX),sg(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nb(e,t){return bb(PC(e.getBoundingClientRect(),t))}function MC(e,t,n){const s=Nb(e,n),{scroll:i}=t;return i&&(Nr(s.x,i.offset.x),Nr(s.y,i.offset.y)),s}const AC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IC=si.length;function _C(e,t,n){let s="",i=!0;for(let a=0;a<IC;a++){const o=si[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);c=o.startsWith("scale")?d===1:d===0}if(!c||n){const d=ub(l,ph[o]);if(!c){i=!1;const m=AC[o]||o;s+=`${m}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function vh(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ri.has(c)){o=!0;continue}else if(Fv(c)){i[c]=d;continue}else{const m=ub(d,ph[c]);c.startsWith("origin")?(l=!0,a[c]=m):s[c]=m}}if(t.transform||(o||n?s.transform=_C(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:m=0}=a;s.transformOrigin=`${c} ${d} ${m}`}}function Sb(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function rg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=rg(e,t.target.x),s=rg(e,t.target.y);return`${n}% ${s}%`}},RC={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=xs.parse(e);if(i.length>5)return s;const a=xs.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Ce(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},Tu={borderRadius:{...fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fi,borderTopRightRadius:fi,borderBottomLeftRadius:fi,borderBottomRightRadius:fi,boxShadow:RC};function kb(e,{layout:t,layoutId:n}){return ri.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tu[e]||e==="opacity")}function bh(e,t,n){var o;const s=e.style,i=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(ct(s[l])||i&&ct(i[l])||kb(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function LC(e){return window.getComputedStyle(e)}class OC extends vb{constructor(){super(...arguments),this.type="html",this.renderInstance=Sb}readValueFromInstance(t,n){var s;if(ri.has(n))return(s=this.projection)!=null&&s.isProjecting?fu(n):l5(t,n);{const i=LC(t),a=(Fv(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Nb(t,n)}build(t,n,s){vh(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return bh(t,n,s)}}const DC={offset:"stroke-dashoffset",array:"stroke-dasharray"},FC={offset:"strokeDashoffset",array:"strokeDasharray"};function zC(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?DC:FC;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const $C=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cb(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,m){if(vh(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete u.transformBox);for(const f of $C)u[f]!==void 0&&(h[f]=u[f],delete u[f]);t!==void 0&&(u.x=t),n!==void 0&&(u.y=n),s!==void 0&&(u.scale=s),i!==void 0&&zC(u,i,a,o,!1)}const Eb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Pb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GC(e,t,n,s){Sb(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Eb.has(i)?i:hh(i),t.attrs[i])}function Tb(e,t,n){const s=bh(e,t,n);for(const i in e)if(ct(e[i])||ct(t[i])){const a=si.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}class BC extends vb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ri.has(n)){const s=cb(n);return s&&s.default||0}return n=Eb.has(n)?n:hh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Tb(t,n,s)}build(t,n,s){Cb(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){GC(t,n,s,i)}mount(t){this.isSVGTag=Pb(t.tagName),super.mount(t)}}const UC=xh.length;function Mb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Mb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UC;n++){const s=xh[n],i=e.props[s];(ca(i)||i===!1)&&(t[s]=i)}return t}function Ab(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const VC=[...yh].reverse(),WC=yh.length;function HC(e){return t=>Promise.all(t.map(({animation:n,options:s})=>J5(e,n,s)))}function YC(e){let t=HC(e),n=ig(),s=!0;const i=c=>(d,m)=>{var h;const u=Ar(e,m,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(u){const{transition:f,transitionEnd:p,...g}=u;d={...d,...g,...p}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,m=Mb(e.parent)||{},u=[],h=new Set;let f={},p=1/0;for(let y=0;y<WC;y++){const x=VC[y],v=n[x],b=d[x]!==void 0?d[x]:m[x],j=ca(b),S=x===c?v.isActive:null;S===!1&&(p=y);let T=b===m[x]&&b!==d[x]&&j;if(T&&s&&e.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...f},!v.isActive&&S===null||!b&&!v.prevProp||zl(b)||typeof b=="boolean")continue;const E=KC(v.prevProp,b);let k=E||x===c&&v.isActive&&!T&&j||y>p&&j,C=!1;const M=Array.isArray(b)?b:[b];let L=M.reduce(i(x),{});S===!1&&(L={});const{prevResolvedValues:$={}}=v,Q={...$,...L},H=G=>{k=!0,h.has(G)&&(C=!0,h.delete(G)),v.needsAnimating[G]=!0;const P=e.getValue(G);P&&(P.liveStyle=!1)};for(const G in Q){const P=L[G],I=$[G];if(f.hasOwnProperty(G))continue;let R=!1;wu(P)&&wu(I)?R=!Ab(P,I):R=P!==I,R?P!=null?H(G):h.add(G):P!==void 0&&h.has(G)?H(G):v.protectedKeys[G]=!0}v.prevProp=b,v.prevResolvedValues=L,v.isActive&&(f={...f,...L}),s&&e.blockInitialAnimation&&(k=!1);const te=T&&E;k&&(!te||C)&&u.push(...M.map(G=>{const P={type:x};if(typeof G=="string"&&s&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,R=Ar(I,G);if(I.enteringChildren&&R){const{delayChildren:F}=R.transition||{};P.delay=tb(I.enteringChildren,e,F)}}return{animation:G,options:P}}))}if(h.size){const y={};if(typeof d.initial!="boolean"){const x=Ar(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const v=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),y[x]=v??null}),u.push({animation:y})}let g=!!u.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(u):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)==null||u.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(c,d)}),n[c].isActive=d;const m=o(c);for(const h in n)n[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ig()}}}function KC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ab(t,e):!1}function Cs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ig(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}function ag(e,t){e.min=t.min,e.max=t.max}function Ht(e,t){ag(e.x,t.x),ag(e.y,t.y)}function og(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Ib=1e-4,qC=1-Ib,QC=1+Ib,_b=.01,XC=0-_b,JC=0+_b;function pt(e){return e.max-e.min}function ZC(e,t,n){return Math.abs(e-t)<=n}function lg(e,t,n,s=.5){e.origin=s,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=pt(n)/pt(t),e.translate=Ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qC&&e.scale<=QC||isNaN(e.scale))&&(e.scale=1),(e.translate>=XC&&e.translate<=JC||isNaN(e.translate))&&(e.translate=0)}function Li(e,t,n,s){lg(e.x,t.x,n.x,s?s.originX:void 0),lg(e.y,t.y,n.y,s?s.originY:void 0)}function cg(e,t,n){e.min=n.min+t.min,e.max=e.min+pt(t)}function eE(e,t,n){cg(e.x,t.x,n.x),cg(e.y,t.y,n.y)}function dg(e,t,n){e.min=t.min-n.min,e.max=e.min+pt(t)}function ml(e,t,n){dg(e.x,t.x,n.x),dg(e.y,t.y,n.y)}function ug(e,t,n,s,i){return e-=t,e=ul(e,1/n,s),i!==void 0&&(e=ul(e,1/i,s)),e}function tE(e,t=0,n=1,s=.5,i,a=e,o=e){if(bn.test(t)&&(t=parseFloat(t),t=Ce(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ce(a.min,a.max,s);e===a&&(l-=t),e.min=ug(e.min,t,n,l,i),e.max=ug(e.max,t,n,l,i)}function mg(e,t,[n,s,i],a,o){tE(e,t[n],t[s],t[i],t.scale,a,o)}const nE=["x","scaleX","originX"],sE=["y","scaleY","originY"];function hg(e,t,n,s){mg(e.x,t,nE,n?n.x:void 0,s?s.x:void 0),mg(e.y,t,sE,n?n.y:void 0,s?s.y:void 0)}function pg(e){return e.translate===0&&e.scale===1}function Rb(e){return pg(e.x)&&pg(e.y)}function fg(e,t){return e.min===t.min&&e.max===t.max}function rE(e,t){return fg(e.x,t.x)&&fg(e.y,t.y)}function gg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lb(e,t){return gg(e.x,t.x)&&gg(e.y,t.y)}function yg(e){return pt(e.x)/pt(e.y)}function xg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Rt(e){return[e("x"),e("y")]}function iE(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:u,rotateY:h,skewX:f,skewY:p}=n;d&&(s=`perspective(${d}px) ${s}`),m&&(s+=`rotate(${m}deg) `),u&&(s+=`rotateX(${u}deg) `),h&&(s+=`rotateY(${h}deg) `),f&&(s+=`skewX(${f}deg) `),p&&(s+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Ob=["TopLeft","TopRight","BottomLeft","BottomRight"],aE=Ob.length,vg=e=>typeof e=="string"?parseFloat(e):e,bg=e=>typeof e=="number"||U.test(e);function oE(e,t,n,s,i,a){i?(e.opacity=Ce(0,n.opacity??1,lE(s)),e.opacityExit=Ce(t.opacity??1,0,cE(s))):a&&(e.opacity=Ce(t.opacity??1,n.opacity??1,s));for(let o=0;o<aE;o++){const l=`border${Ob[o]}Radius`;let c=wg(t,l),d=wg(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||bg(c)===bg(d)?(e[l]=Math.max(Ce(vg(c),vg(d),s),0),(bn.test(d)||bn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Ce(t.rotate||0,n.rotate||0,s))}function wg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lE=Db(0,.5,Iv),cE=Db(.5,.95,Bt);function Db(e,t,n){return s=>s<e?0:s>t?1:n(aa(e,t,s))}function dE(e,t,n){const s=ct(e)?e:qr(e);return s.start(uh("",s,t,n)),s.animation}function da(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const uE=(e,t)=>e.depth-t.depth;class mE{constructor(){this.children=[],this.isDirty=!1}add(t){qm(this.children,t),this.isDirty=!0}remove(t){Qm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uE),this.isDirty=!1,this.children.forEach(t)}}function hE(e,t){const n=ht.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(ys(s),e(a-t))};return he.setup(s,!0),()=>ys(s)}function ko(e){return ct(e)?e.get():e}class pE{constructor(){this.members=[]}add(t){qm(this.members,t),t.scheduleRender()}remove(t){if(Qm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,a=t.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Co={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Uc=["","X","Y","Z"],fE=1e3;let gE=0;function Vc(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Fb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ib(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",he,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Fb(s)}function zb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=gE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vE),this.nodes.forEach(NE),this.nodes.forEach(SE),this.nodes.forEach(bE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new mE)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Jm),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fb(o)&&!xC(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let m,u=0;const h=()=>this.root.updateBlockedByResize=!1;he.read(()=>{u=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==u&&(u=f,this.root.updateBlockedByResize=!0,m&&m(),m=hE(h,250),Co.hasAnimatedSinceResize&&(Co.hasAnimatedSinceResize=!1,this.nodes.forEach(Sg)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:u,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||TE,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!Lb(this.targetLayout,f),v=!u&&h;if(this.options.layoutRoot||this.resumeFrom||v||u&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...dh(p,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(m,v)}else u||Sg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kE),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ng);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jE),this.nodes.forEach(yE),this.nodes.forEach(xE)):this.nodes.forEach(Ng),this.clearAllSnapshots();const l=ht.now();Je.delta=wn(0,1e3/60,l-Je.timestamp),Je.timestamp=l,Je.isProcessing=!0,Lc.update.process(Je),Lc.preRender.process(Je),Lc.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wE),this.sharedNodes.forEach(CE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pt(this.snapshot.measuredBox.x)&&!pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Rb(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ts(this.latestValues)||m)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ME(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ge();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(AE))){const{scroll:m}=this.root;m&&(Nr(l.x,m.offset.x),Nr(l.y,m.offset.y))}return l}removeElementScroll(o){var c;const l=Ge();if(Ht(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:u,options:h}=m;m!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Ht(l,o),Nr(l.x,u.offset.x),Nr(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=Ge();Ht(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Sr(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ts(m.latestValues)&&Sr(c,m.latestValues)}return Ts(this.latestValues)&&Sr(c,this.latestValues),c}removeTransform(o){const l=Ge();Ht(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ts(d.latestValues))continue;Eu(d.latestValues)&&d.updateSnapshot();const m=Ge(),u=d.measurePageBox();Ht(m,u),hg(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Ts(this.latestValues)&&hg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:u}=this.options;if(!this.layout||!(m||u))return;this.resolvedRelativeTargetAt=Je.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ht(this.target,this.layout.layoutBox),jb(this.target,this.targetDelta)):Ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Eu(this.parent.latestValues)||wb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),ml(this.relativeTargetOrigin,l,c),Ht(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Ht(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,h=this.treeScale.y;TC(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ge());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(og(this.prevProjectionDelta.x,this.projectionDelta.x),og(this.prevProjectionDelta.y,this.projectionDelta.y)),Li(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==h||!xg(this.projectionDelta.x,this.prevProjectionDelta.x)||!xg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jr(),this.projectionDelta=jr(),this.projectionDeltaWithTransform=jr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},u=jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),f=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(PE));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const S=j/1e3;kg(u.x,o.x,S),kg(u.y,o.y,S),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ml(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EE(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&rE(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ge()),Ht(b,this.relativeTarget)),g&&(this.animationValues=m,oE(m,d,this.latestValues,S,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Co.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qr(0)),this.currentAnimation=dE(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&$b(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ge();const u=pt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+u;const h=pt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ht(l,c),Sr(l,m),Li(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pE),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Vc("z",o,d,this.animationValues);for(let m=0;m<Uc.length;m++)Vc(`rotate${Uc[m]}`,o,d,this.animationValues),Vc(`skew${Uc[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ko(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ko(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let u=iE(this.projectionDeltaWithTransform,this.treeScale,m);c&&(u=c(m,u)),o.transform=u;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Tu){if(m[p]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=Tu[p],v=u==="none"?m[p]:g(m[p],d);if(y){const b=y.length;for(let j=0;j<b;j++)o[y[j]]=v}else x?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=d===this?ko(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(jg),this.root.sharedNodes.clear()}}}function yE(e){e.updateLayout()}function xE(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Rt(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],f=pt(h);h.min=s[u].min,h.max=h.min+f}):$b(a,t.layoutBox,s)&&Rt(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],f=pt(s[u]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+f)});const l=jr();Li(l,s,t.layoutBox);const c=jr();o?Li(c,e.applyTransform(i,!0),t.measuredBox):Li(c,s,t.layoutBox);const d=!Rb(l);let m=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const p=Ge();ml(p,t.layoutBox,h.layoutBox);const g=Ge();ml(g,s,f.layoutBox),Lb(p,g)||(m=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function vE(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wE(e){e.clearSnapshot()}function jg(e){e.clearMeasurements()}function Ng(e){e.isLayoutDirty=!1}function jE(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NE(e){e.resolveTargetDelta()}function SE(e){e.calcProjection()}function kE(e){e.resetSkewAndRotation()}function CE(e){e.removeLeadSnapshot()}function kg(e,t,n){e.translate=Ce(t.translate,0,n),e.scale=Ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cg(e,t,n,s){e.min=Ce(t.min,n.min,s),e.max=Ce(t.max,n.max,s)}function EE(e,t,n,s){Cg(e.x,t.x,n.x,s),Cg(e.y,t.y,n.y,s)}function PE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TE={duration:.45,ease:[.4,0,.1,1]},Eg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Pg=Eg("applewebkit/")&&!Eg("chrome/")?Math.round:Bt;function Tg(e){e.min=Pg(e.min),e.max=Pg(e.max)}function ME(e){Tg(e.x),Tg(e.y)}function $b(e,t,n){return e==="position"||e==="preserve-aspect"&&!ZC(yg(t),yg(n),.2)}function AE(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const IE=zb({attachResizeListener:(e,t)=>da(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Wc={current:void 0},Gb=zb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wc.current){const e=new IE({});e.mount(window),e.setOptions({layoutScroll:!0}),Wc.current=e}return Wc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wh=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Mg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _E(...e){return t=>{let n=!1;const s=e.map(i=>{const a=Mg(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Mg(e[i],null)}}}}function RE(...e){return w.useCallback(_E(...e),e)}class LE extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=ku(s)&&s.offsetWidth||0,a=ku(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function OE({children:e,isPresent:t,anchorX:n,anchorY:s,root:i}){var u;const a=w.useId(),o=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=w.useContext(wh),d=((u=e.props)==null?void 0:u.ref)??(e==null?void 0:e.ref),m=RE(o,d);return w.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:g,right:y,bottom:x}=l.current;if(t||!o.current||!h||!f)return;const v=n==="left"?`left: ${g}`:`right: ${y}`,b=s==="bottom"?`bottom: ${x}`:`top: ${p}`;o.current.dataset.motionPopId=a;const j=document.createElement("style");c&&(j.nonce=c);const S=i??document.head;return S.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${v}px !important;
            ${b}px !important;
          }
        `),()=>{S.contains(j)&&S.removeChild(j)}},[t]),r.jsx(LE,{isPresent:t,childRef:o,sizeRef:l,children:w.cloneElement(e,{ref:m})})}const DE=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:c,root:d})=>{const m=Km(FE),u=w.useId();let h=!0,f=w.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:p=>{m.set(p,!0);for(const g of m.values())if(!g)return;s&&s()},register:p=>(m.set(p,!1),()=>m.delete(p))}),[n,m,s]);return a&&h&&(f={...f}),w.useMemo(()=>{m.forEach((p,g)=>m.set(g,!1))},[n]),w.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),o==="popLayout"&&(e=r.jsx(OE,{isPresent:n,anchorX:l,anchorY:c,root:d,children:e})),r.jsx(Fl.Provider,{value:f,children:e})};function FE(){return new Map}function Bb(e=!0){const t=w.useContext(Fl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=w.useId();w.useEffect(()=>{if(e)return i(a)},[e]);const o=w.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const ro=e=>e.key||"";function Ag(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const zE=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[m,u]=Bb(o),h=w.useMemo(()=>Ag(e),[e]),f=o&&!m?[]:h.map(ro),p=w.useRef(!0),g=w.useRef(h),y=Km(()=>new Map),x=w.useRef(new Set),[v,b]=w.useState(h),[j,S]=w.useState(h);wv(()=>{p.current=!1,g.current=h;for(let k=0;k<j.length;k++){const C=ro(j[k]);f.includes(C)?(y.delete(C),x.current.delete(C)):y.get(C)!==!0&&y.set(C,!1)}},[j,f.length,f.join("-")]);const T=[];if(h!==v){let k=[...h];for(let C=0;C<j.length;C++){const M=j[C],L=ro(M);f.includes(L)||(k.splice(C,0,M),T.push(M))}return a==="wait"&&T.length&&(k=T),S(Ag(k)),b(h),null}const{forceRender:E}=w.useContext(Ym);return r.jsx(r.Fragment,{children:j.map(k=>{const C=ro(k),M=o&&!m?!1:h===j||f.includes(C),L=()=>{if(x.current.has(C))return;if(x.current.add(C),y.has(C))y.set(C,!0);else return;let $=!0;y.forEach(Q=>{Q||($=!1)}),$&&(E==null||E(),S(g.current),o&&(u==null||u()),s&&s())};return r.jsx(DE,{isPresent:M,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:M?void 0:L,anchorX:l,anchorY:c,children:k},C)})})},Ub=w.createContext({strict:!1}),Ig={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _g=!1;function $E(){if(_g)return;const e={};for(const t in Ig)e[t]={isEnabled:n=>Ig[t].some(s=>!!n[s])};xb(e),_g=!0}function Vb(){return $E(),kC()}function GE(e){const t=Vb();for(const n in e)t[n]={...t[n],...e[n]};xb(t)}const BE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BE.has(e)}let Wb=e=>!hl(e);function UE(e){typeof e=="function"&&(Wb=t=>t.startsWith("on")?!hl(t):e(t))}try{UE(require("@emotion/is-prop-valid").default)}catch{}function VE(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Wb(i)||n===!0&&hl(i)||!t&&!hl(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Gl=w.createContext({});function WE(e,t){if($l(e)){const{initial:n,animate:s}=e;return{initial:n===!1||ca(n)?n:void 0,animate:ca(s)?s:void 0}}return e.inherit!==!1?t:{}}function HE(e){const{initial:t,animate:n}=WE(e,w.useContext(Gl));return w.useMemo(()=>({initial:t,animate:n}),[Rg(t),Rg(n)])}function Rg(e){return Array.isArray(e)?e.join(" "):e}const jh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hb(e,t,n){for(const s in t)!ct(t[s])&&!kb(s,n)&&(e[s]=t[s])}function YE({transformTemplate:e},t){return w.useMemo(()=>{const n=jh();return vh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function KE(e,t){const n=e.style||{},s={};return Hb(s,n,e),Object.assign(s,YE(e,t)),s}function qE(e,t){const n={},s=KE(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Yb=()=>({...jh(),attrs:{}});function QE(e,t,n,s){const i=w.useMemo(()=>{const a=Yb();return Cb(a,t,Pb(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Hb(a,e.style,e),i.style={...a,...i.style}}return i}const XE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nh(e){return typeof e!="string"||e.includes("-")?!1:!!(XE.indexOf(e)>-1||/[A-Z]/u.test(e))}function JE(e,t,n,{latestValues:s},i,a=!1,o){const c=(o??Nh(e)?QE:qE)(t,s,i,e),d=VE(t,typeof e=="string",a),m=e!==w.Fragment?{...d,...c,ref:n}:{},{children:u}=t,h=w.useMemo(()=>ct(u)?u.get():u,[u]);return w.createElement(e,{...m,children:h})}function ZE({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:eP(n,s,i,e),renderState:t()}}function eP(e,t,n,s){const i={},a=s(e,{});for(const h in a)i[h]=ko(a[h]);let{initial:o,animate:l}=e;const c=$l(e),d=yb(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const u=m?l:o;if(u&&typeof u!="boolean"&&!zl(u)){const h=Array.isArray(u)?u:[u];for(let f=0;f<h.length;f++){const p=mh(e,h[f]);if(p){const{transitionEnd:g,transition:y,...x}=p;for(const v in x){let b=x[v];if(Array.isArray(b)){const j=m?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const Kb=e=>(t,n)=>{const s=w.useContext(Gl),i=w.useContext(Fl),a=()=>ZE(e,t,s,i);return n?a():Km(a)},tP=Kb({scrapeMotionValuesFromProps:bh,createRenderState:jh}),nP=Kb({scrapeMotionValuesFromProps:Tb,createRenderState:Yb}),sP=Symbol.for("motionComponentSymbol");function rP(e,t,n){const s=w.useRef(n);w.useInsertionEffect(()=>{s.current=n});const i=w.useRef(null);return w.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const qb=w.createContext({});function Ni(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iP(e,t,n,s,i,a){var b,j;const{visualElement:o}=w.useContext(Gl),l=w.useContext(Ub),c=w.useContext(Fl),d=w.useContext(wh),m=d.reducedMotion,u=d.skipAnimations,h=w.useRef(null),f=w.useRef(!1);s=s||l.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:m,skipAnimations:u,isSVG:a}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const p=h.current,g=w.useContext(qb);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&aP(h.current,n,i,g);const y=w.useRef(!1);w.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const x=n[rb],v=w.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return wv(()=>{f.current=!0,p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,x)}),v.current=!1),p.enteringChildren=void 0)}),p}function aP(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qb(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Ni(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:c,layoutRoot:d})}function Qb(e){if(e)return e.options.allowProjection!==!1?e.projection:Qb(e.parent)}function Hc(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&GE(s);const a=n?n==="svg":Nh(e),o=a?nP:tP;function l(d,m){let u;const h={...w.useContext(wh),...d,layoutId:oP(d)},{isStatic:f}=h,p=HE(d),g=o(d,f);if(!f&&bv){lP();const y=cP(h);u=y.MeasureLayout,p.visualElement=iP(e,g,h,i,y.ProjectionNode,a)}return r.jsxs(Gl.Provider,{value:p,children:[u&&p.visualElement?r.jsx(u,{visualElement:p.visualElement,...h}):null,JE(e,d,rP(g,p.visualElement,m),g,f,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=w.forwardRef(l);return c[sP]=e,c}function oP({layoutId:e}){const t=w.useContext(Ym).id;return t&&e!==void 0?t+"-"+e:e}function lP(e,t){w.useContext(Ub).strict}function cP(e){const t=Vb(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function dP(e,t){if(typeof Proxy>"u")return Hc;const n=new Map,s=(a,o)=>Hc(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,Hc(o,void 0,e,t)),n.get(o))})}const uP=(e,t)=>t.isSVG??Nh(e)?new BC(t):new OC(t,{allowProjection:e!==w.Fragment});class mP extends ks{constructor(t){super(t),t.animationState||(t.animationState=YC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let hP=0;class pP extends ks{constructor(){super(...arguments),this.id=hP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fP={animation:{Feature:mP},exit:{Feature:pP}};function ka(e){return{point:{x:e.pageX,y:e.pageY}}}const gP=e=>t=>gh(t)&&e(t,ka(t));function Oi(e,t,n,s){return da(e,t,gP(n),s)}const Xb=({current:e})=>e?e.ownerDocument.defaultView:null,Lg=(e,t)=>Math.abs(e-t);function yP(e,t){const n=Lg(e.x,t.x),s=Lg(e.y,t.y);return Math.sqrt(n**2+s**2)}const Og=new Set(["auto","scroll"]);class Jb{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Kc(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=yP(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=f,{timestamp:x}=Je;this.history.push({...y,timestamp:x});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yc(p,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Kc(f.type==="pointercancel"?this.lastMoveEventInfo:Yc(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),y&&y(f,v)},!gh(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=ka(t),d=Yc(c,this.transformPagePoint),{point:m}=d,{timestamp:u}=Je;this.history=[{...m,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Kc(d,this.history)),this.removeListeners=ja(Oi(this.contextWindow,"pointermove",this.handlePointerMove),Oi(this.contextWindow,"pointerup",this.handlePointerUp),Oi(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Og.has(s.overflowX)||Og.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),he.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ys(this.updatePoint)}}function Yc(e,t){return t?{point:t(e.point)}:e}function Dg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kc({point:e},t){return{point:e,delta:Dg(e,Zb(t)),offset:Dg(e,xP(t)),velocity:vP(t,.1)}}function xP(e){return e[0]}function Zb(e){return e[e.length-1]}function vP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Zb(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>vn(t)));)n--;if(!s)return{x:0,y:0};const a=$t(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ce(n,e,s.max):Math.min(e,n)),e}function Fg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wP(e,{top:t,left:n,bottom:s,right:i}){return{x:Fg(e.x,n,i),y:Fg(e.y,t,s)}}function zg(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function jP(e,t){return{x:zg(e.x,t.x),y:zg(e.y,t.y)}}function NP(e,t){let n=.5;const s=pt(e),i=pt(t);return i>s?n=aa(t.min,t.max-s,e.min):s>i&&(n=aa(e.min,e.max-i,t.min)),wn(0,1,n)}function SP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mu=.35;function kP(e=Mu){return e===!1?e=0:e===!0&&(e=Mu),{x:$g(e,"left","right"),y:$g(e,"top","bottom")}}function $g(e,t,n){return{min:Gg(e,t),max:Gg(e,n)}}function Gg(e,t){return typeof e=="number"?e:e[t]||0}const CP=new WeakMap;class EP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=u=>{n?(this.stopAnimation(),this.snapToCursor(ka(u).point)):this.pauseAnimation()},o=(u,h)=>{this.stopAnimation();const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dC(f),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(x=>{let v=this.getAxisMotionValue(x).get()||0;if(bn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[x];j&&(v=pt(j)*(parseFloat(v)/100))}}this.originPoint[x]=v}),g&&he.update(()=>g(u,h),!1,!0),ju(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=PP(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&he.update(()=>y(u,h),!1,!0)},c=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h,this.stop(u,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Rt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Jb(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:Xb(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&he.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!io(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=bP(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Ni(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=wP(s.layoutBox,t):this.constraints=!1,this.elastic=kP(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ni(t))return!1;const s=t.current;Xs(s!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=MC(s,i.root,this.visualElement.getTransformPagePoint());let o=jP(i.layout.layoutBox,a);if(n){const l=n(EC(o));this.hasMutatedConstraints=!!l,l&&(o=bb(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Rt(m=>{if(!io(m,n,this.currentDirection))return;let u=c&&c[m]||{};o&&(u={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:s?t[m]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...u};return this.startAxisValueAnimation(m,p)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return ju(this.visualElement,t),s.start(uh(t,s,0,n,this.visualElement,!1))}stopAnimation(){Rt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Rt(n=>{const{drag:s}=this.getProps();if(!io(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n],c=a.get()||0;a.set(t[n]-Ce(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ni(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=NP({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Rt(o=>{if(!io(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ce(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;CP.set(this.visualElement,this);const t=this.visualElement.current,n=Oi(t,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps(),u=c.target,h=u!==t&&fC(u);d&&m&&!h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ni(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),he.read(s);const o=da(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rt(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=c[m].translate,u.set(u.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Mu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function io(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class TP extends ks{constructor(t){super(t),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new EP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const qc=e=>(t,n)=>{e&&he.update(()=>e(t,n),!1,!0)};class MP extends ks{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(t){this.session=new Jb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:qc(t),onStart:qc(n),onMove:qc(s),onEnd:(a,o)=>{delete this.session,i&&he.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Oi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qc=!1;class AP extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Qc&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Qc=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||he.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Qc=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ew(e){const[t,n]=Bb(),s=w.useContext(Ym);return r.jsx(AP,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(qb),isPresent:t,safeToRemove:n})}const IP={pan:{Feature:MP},drag:{Feature:TP,ProjectionNode:Gb,MeasureLayout:ew}};function Bg(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&he.postRender(()=>a(t,ka(t)))}class _P extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=uC(t,(n,s)=>(Bg(this.node,s,"Start"),i=>Bg(this.node,i,"End"))))}unmount(){}}class RP extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ja(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ug(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&he.postRender(()=>a(t,ka(t)))}class LP extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=yC(t,(n,s)=>(Ug(this.node,s,"Start"),(i,{success:a})=>Ug(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Au=new WeakMap,Xc=new WeakMap,OP=e=>{const t=Au.get(e.target);t&&t(e)},DP=e=>{e.forEach(OP)};function FP({root:e,...t}){const n=e||document;Xc.has(n)||Xc.set(n,{});const s=Xc.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(DP,{root:e,...t})),s[i]}function zP(e,t,n){const s=FP(t);return Au.set(e,n),s.observe(e),()=>{Au.delete(e),s.unobserve(e)}}const $P={some:0,all:1};class GP extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:$P[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),h=d?m:u;h&&h(c)};return zP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(BP(t,n))&&this.startObserver()}unmount(){}}function BP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const UP={inView:{Feature:GP},tap:{Feature:LP},focus:{Feature:RP},hover:{Feature:_P}},VP={layout:{ProjectionNode:Gb,MeasureLayout:ew}},WP={...fP,...UP,...IP,...VP},V=dP(WP,uP);class Bl extends w.Component{constructor(n){super(n);He(this,"logErrorToService",(n,s)=>{const i={errorId:this.state.errorId,error:n.message,stack:n.stack,componentStack:s.componentStack,errorBoundary:!0,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getUserId(),sessionId:this.getSessionId()};console.log("Error details:",i)});He(this,"getUserId",()=>{try{const n=localStorage.getItem("user");return n?JSON.parse(n).id:"anonymous"}catch{return"anonymous"}});He(this,"getSessionId",()=>{let n=sessionStorage.getItem("error_session_id");return n||(n=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("error_session_id",n)),n});He(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorId:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){const s=`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:n,errorId:s}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s),this.props.onError&&this.props.onError(n,s),this.logErrorToService(n,s)}render(){var n;return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-300 mb-6",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred while loading this page."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:this.handleRetry,className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Try Again"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors",children:" Reload Page"}),r.jsx(Ue,{to:"/",className:"block w-full px-6 py-3 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-colors text-center",children:" Go Home"})]}),!1]})})}):this.props.children}}const Qe=({children:e})=>r.jsx(Bl,{fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 max-w-md w-full border border-red-500/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Page Load Error"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"This page couldn't be loaded properly. Please try refreshing or go back to the home page."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:" Refresh Page"}),r.jsx(Ue,{to:"/",className:"block w-full px-6 py-3 bg-gaming-secondary text-white rounded-lg hover:bg-gaming-secondary/80 transition-colors text-center",children:" Go Home"})]})]})})}),children:e}),Jc={personaWeight:.4,moodWeight:.3,sessionLengthWeight:.2,timeOfDayWeight:.1,playPatternWeight:.15,autoTaggingAggressiveness:.5},Sh=()=>{try{const e=localStorage.getItem("tuning_settings");return e?{...Jc,...JSON.parse(e)}:Jc}catch(e){return console.warn("Failed to load tuning settings, using defaults:",e),Jc}},Ws=()=>{const e=new Date().getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<22?"evening":"late-night"},HP=(e=0)=>e<.5?"short":e<=2?"medium":"long",YP=(e=[],t=[])=>{const s=Sh().autoTaggingAggressiveness,i=new Set;return e.forEach(a=>{const o=a.toLowerCase().trim();["chill","cozy","casual","puzzle","relaxed"].includes(o)&&s>.3&&i.add("late-night"),["energetic","competitive","focused","intense"].includes(o)&&s>.2&&i.add("morning"),["creative","immersive","story-driven","exploration"].includes(o)&&s>.4&&(i.add("afternoon"),i.add("evening"))}),t.forEach(a=>{const o=a.toLowerCase().trim();["puzzle","casual","simulation"].includes(o)&&s>.3&&i.add("late-night"),["action","fps","competitive"].includes(o)&&s>.2&&i.add("morning"),["rpg","adventure","strategy"].includes(o)&&s>.4&&(i.add("afternoon"),i.add("evening"))}),i.size===0&&i.add("evening"),Array.from(i)},tw=e=>{const t=(e.moods||[]).map(l=>typeof l=="string"?l.toLowerCase().trim():typeof l=="object"&&l&&"name"in l&&typeof l.name=="string"?l.name.toLowerCase().trim():null).filter(l=>l!==null),n=(e.genres||[]).map(l=>typeof l=="string"?l.toLowerCase().trim():typeof l=="object"&&l&&"name"in l&&typeof l.name=="string"?l.name.toLowerCase().trim():null).filter(l=>l!==null),s=e.sessionLength,i=e.recommendedTimes;let a=s||HP(e.hoursPlayed),o=i||YP(t,n);return{...e,moods:t,genres:n,sessionLength:a,recommendedTimes:o}},kh=e=>{const t=e.moodAffinity||{},s=Object.entries(t).sort(([,c],[,d])=>d-c).slice(0,5).map(([c])=>c.toLowerCase()),i=e.averageSessionLengthMinutes||75;let a="medium";i<45?a="short":i>90&&(a="long");const o=[];e.lateNightRatio>.3&&o.push("late-night"),e.multiplayerRatio>.5&&o.push("afternoon","evening"),o.length===0&&o.push("evening");const l=[];return e.completionRate>.7&&l.push("completionist"),e.multiplayerRatio>.5&&l.push("social"),e.lateNightRatio>.3&&l.push("night_owl"),{dominantMoods:s,preferredSessionLength:a,preferredTimesOfDay:o,recentPlayPatterns:l,moodAffinity:t,averageSessionLengthMinutes:i,lateNightRatio:e.lateNightRatio||0,completionRate:e.completionRate||0,multiplayerRatio:e.multiplayerRatio||0}},Di=(e,t)=>{var p;const{selectedMoods:n,selectedSessionLength:s,timeOfDay:i,personaContext:a,personaWeight:o=.3}=t,l=Sh(),c=n.length===0||n.some(g=>e.moods.includes(g)),d=!s||e.sessionLength===s,m=!e.recommendedTimes||e.recommendedTimes.includes(i);let u=0;a&&(a.dominantMoods.forEach(g=>{e.moods.includes(g)&&(u+=(a.moodAffinity[g]||0)*l.moodWeight)}),e.sessionLength===a.preferredSessionLength&&(u+=25*l.sessionLengthWeight),(p=e.recommendedTimes)!=null&&p.some(g=>a.preferredTimesOfDay.includes(g))&&(u+=20*l.timeOfDayWeight),a.recentPlayPatterns.forEach(g=>{var y;g==="completionist"&&e.playStatus==="completed"&&(u+=15*l.playPatternWeight),g==="social"&&((y=e.genres)!=null&&y.some(x=>x.toLowerCase().includes("multiplayer")||x.toLowerCase().includes("co-op")))&&(u+=15*l.playPatternWeight)}));const f=[c,d,m].filter(Boolean).length*25+u*(o||l.personaWeight);return{game:e,matchesMood:c,matchesSession:d,matchesTimeOfDay:m,sessionLength:e.sessionLength||"medium",recommendedTimes:e.recommendedTimes||["evening"],score:f}},nw=(e,t)=>Di(e,t).score>0,Zc=(e,t)=>{const{selectedMoods:n,selectedSessionLength:s,timeOfDay:i}=t,a=n.length===0||n.some(c=>e.moods.includes(c)),o=!s||e.sessionLength===s,l=!e.recommendedTimes||e.recommendedTimes.includes(i);return{game:e,matchesMood:a,matchesSession:o,matchesTimeOfDay:l,sessionLength:e.sessionLength||"medium",recommendedTimes:e.recommendedTimes||["evening"],score:0}},KP=(e,t,n={})=>{const{limit:s=10,includeDetails:i=!1}=n,o=e.map(tw).filter(c=>nw(c,t));o.sort((c,d)=>{const m=Zc(c,t),u=Zc(d,t),h=[m.matchesMood,m.matchesSession,m.matchesTimeOfDay].filter(Boolean).length;return[u.matchesMood,u.matchesSession,u.matchesTimeOfDay].filter(Boolean).length-h});const l=o.slice(0,s);return i?l.map(c=>Zc(c,t)):l},sw=(e,t,n,s={})=>{const{limit:i=10,includeDetails:a=!1,personaWeight:o=.3}=s,l={...n,personaContext:t,personaWeight:o},d=e.map(tw).filter(u=>nw(u,l));d.sort((u,h)=>{const f=Di(u,l);return Di(h,l).score-f.score});const m=d.slice(0,i);return a?m.map(u=>Di(u,l)):m};let qP={enabled:!0,debug:!0};const Ir=(e,t)=>{try{const n={name:e,payload:t||{},timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};qP.debug&&console.log("[Analytics]",n);const s=localStorage.getItem("analytics_events"),i=s?JSON.parse(s):[];i.push(n),i.length>1e3&&i.splice(0,i.length-1e3),localStorage.setItem("analytics_events",JSON.stringify(i)),QP(n)}catch(n){console.warn("[Analytics] Failed to track event:",n)}},QP=e=>{try{const t=localStorage.getItem("analytics_stats"),n=t?JSON.parse(t):{contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}};if(e.name==="contextual_rec_shown"?n.contextualShown++:e.name==="persona_rec_shown"?n.personaShown++:e.name==="contextual_rec_clicked"?n.contextualClicked++:e.name==="persona_rec_clicked"&&n.personaClicked++,e.name==="filter_session_length_changed"&&e.payload.selectedSessionLength){const s=e.payload.selectedSessionLength;n.sessionLengthUsage[s]=(n.sessionLengthUsage[s]||0)+1}if(e.name==="filter_moods_changed"&&e.payload.selectedMoods&&e.payload.selectedMoods.forEach(s=>{n.moodUsage[s]=(n.moodUsage[s]||0)+1}),e.name==="contextual_insights"&&e.payload.timeOfDay){const s=e.payload.timeOfDay;n.timeOfDayUsage[s]=(n.timeOfDayUsage[s]||0)+1}if(e.name==="persona_rec_clicked"&&e.payload.gameId){const s=e.payload.gameId;n.personaEffectiveness[s]||(n.personaEffectiveness[s]={impressions:0,clicks:0}),n.personaEffectiveness[s].clicks++}e.name,localStorage.setItem("analytics_stats",JSON.stringify(n))}catch(t){console.warn("[Analytics] Failed to update aggregated stats:",t)}},Vg=(e,t,n)=>{Ir(`${e}_rec_${t}`,{recommendationType:e,action:t,...n})},ed=(e,t,n)=>{Ir(`filter_${e}_${t}`,{filterType:e,action:t,...n})},XP=(e,t)=>{Ir("persona_insights",{dominantMoods:e.dominantMoods,preferredSessionLength:e.preferredSessionLength,preferredTimesOfDay:e.preferredTimesOfDay,recentPlayPatterns:e.recentPlayPatterns,recommendationCount:t})};function rw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ps(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rw(e))&&(s&&(s+=" "),s+=t);return s}function JP(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}JP(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ca=e=>typeof e=="number"&&!isNaN(e),Js=e=>typeof e=="string",Ln=e=>typeof e=="function",ZP=e=>Js(e)||Ca(e),Iu=e=>Js(e)||Ln(e)?e:null,eT=(e,t)=>e===!1||Ca(e)&&e>0?e:t,_u=e=>w.isValidElement(e)||Js(e)||Ln(e)||Ca(e);function tT(e,t,n=300){let{scrollHeight:s,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function nT({enter:e,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:m,playToast:u}){let h=n?`${e}--${o}`:e,f=n?`${t}--${o}`:t,p=w.useRef(0);return w.useLayoutEffect(()=>{let g=d.current,y=h.split(" "),x=v=>{v.target===d.current&&(u(),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),p.current===0&&v.type!=="animationcancel"&&g.classList.remove(...y))};g.classList.add(...y),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),w.useEffect(()=>{let g=d.current,y=()=>{g.removeEventListener("animationend",y),s?tT(g,c,i):c()};m||(l?y():(p.current=1,g.className+=` ${f}`,g.addEventListener("animationend",y)))},[m]),re.createElement(re.Fragment,null,a)}}function Wg(e,t){return{content:iw(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function iw(e,t,n=!1){return w.isValidElement(e)&&!Js(e.type)?w.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ln(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function sT({closeToast:e,theme:t,ariaLabel:n="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),e(!0)},"aria-label":n},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rT({delay:e,isRunning:t,closeToast:n,type:s="default",hide:i,className:a,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:m}){let u=i||o&&l===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${l})`);let f=ps("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":c}),p=Ln(a)?a({rtl:c,type:s,defaultClassName:f}):ps(f,a),g={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&n()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${s}`}),re.createElement("div",{role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:p,style:h,...g}))}var iT=1,aw=()=>`${iT++}`;function aT(e,t,n){let s=1,i=0,a=[],o=[],l=t,c=new Map,d=new Set,m=v=>(d.add(v),()=>d.delete(v)),u=()=>{o=Array.from(c.values()),d.forEach(v=>v())},h=({containerId:v,toastId:b,updateId:j})=>{let S=v?v!==e:e!==1,T=c.has(b)&&j==null;return S||T},f=(v,b)=>{c.forEach(j=>{var S;(b==null||b===j.props.toastId)&&((S=j.toggle)==null||S.call(j,v))})},p=v=>{var b,j;(j=(b=v.props)==null?void 0:b.onClose)==null||j.call(b,v.removalReason),v.isActive=!1},g=v=>{if(v==null)c.forEach(p);else{let b=c.get(v);b&&p(b)}u()},y=()=>{i-=a.length,a=[]},x=v=>{var b,j;let{toastId:S,updateId:T}=v.props,E=T==null;v.staleId&&c.delete(v.staleId),v.isActive=!0,c.set(S,v),u(),n(Wg(v,E?"added":"updated")),E&&((j=(b=v.props).onOpen)==null||j.call(b))};return{id:e,props:l,observe:m,toggle:f,removeToast:g,toasts:c,clearQueue:y,buildToast:(v,b)=>{if(h(b))return;let{toastId:j,updateId:S,data:T,staleId:E,delay:k}=b,C=S==null;C&&i++;let M={...l,style:l.toastStyle,key:s++,...Object.fromEntries(Object.entries(b).filter(([$,Q])=>Q!=null)),toastId:j,updateId:S,data:T,isIn:!1,className:Iu(b.className||l.toastClassName),progressClassName:Iu(b.progressClassName||l.progressClassName),autoClose:b.isLoading?!1:eT(b.autoClose,l.autoClose),closeToast($){c.get(j).removalReason=$,g(j)},deleteToast(){let $=c.get(j);if($!=null){if(n(Wg($,"removed")),c.delete(j),i--,i<0&&(i=0),a.length>0){x(a.shift());return}u()}}};M.closeButton=l.closeButton,b.closeButton===!1||_u(b.closeButton)?M.closeButton=b.closeButton:b.closeButton===!0&&(M.closeButton=_u(l.closeButton)?l.closeButton:!0);let L={content:v,props:M,staleId:E};l.limit&&l.limit>0&&i>l.limit&&C?a.push(L):Ca(k)?setTimeout(()=>{x(L)},k):x(L)},setProps(v){l=v},setToggle:(v,b)=>{let j=c.get(v);j&&(j.toggle=b)},isToastActive:v=>{var b;return(b=c.get(v))==null?void 0:b.isActive},getSnapshot:()=>o}}var ft=new Map,ua=[],Ru=new Set,oT=e=>Ru.forEach(t=>t(e)),ow=()=>ft.size>0;function lT(){ua.forEach(e=>cw(e.content,e.options)),ua=[]}var cT=(e,{containerId:t})=>{var n;return(n=ft.get(t||1))==null?void 0:n.toasts.get(e)};function lw(e,t){var n;if(t)return!!((n=ft.get(t))!=null&&n.isToastActive(e));let s=!1;return ft.forEach(i=>{i.isToastActive(e)&&(s=!0)}),s}function dT(e){if(!ow()){ua=ua.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||ZP(e))ft.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ft.get(e.containerId);t?t.removeToast(e.id):ft.forEach(n=>{n.removeToast(e.id)})}}var uT=(e={})=>{ft.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function cw(e,t){_u(e)&&(ow()||ua.push({content:e,options:t}),ft.forEach(n=>{n.buildToast(e,t)}))}function mT(e){var t;(t=ft.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function dw(e,t){ft.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function hT(e){let t=e.containerId||1;return{subscribe(n){let s=aT(t,e,oT);ft.set(t,s);let i=s.observe(n);return lT(),()=>{i(),ft.delete(t)}},setProps(n){var s;(s=ft.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ft.get(t))==null?void 0:n.getSnapshot()}}}function pT(e){return Ru.add(e),()=>{Ru.delete(e)}}function fT(e){return e&&(Js(e.toastId)||Ca(e.toastId))?e.toastId:aw()}function Ea(e,t){return cw(e,t),t.toastId}function Ul(e,t){return{...t,type:t&&t.type||e,toastId:fT(t)}}function Vl(e){return(t,n)=>Ea(t,Ul(e,n))}function ie(e,t){return Ea(e,Ul("default",t))}ie.loading=(e,t)=>Ea(e,Ul("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function gT(e,{pending:t,error:n,success:s},i){let a;t&&(a=Js(t)?ie.loading(t,i):ie.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,m,u)=>{if(m==null){ie.dismiss(a);return}let h={type:d,...o,...i,data:u},f=Js(m)?{render:m}:m;return a?ie.update(a,{...h,...f}):ie(f.render,{...h,...f}),u},c=Ln(e)?e():e;return c.then(d=>l("success",s,d)).catch(d=>l("error",n,d)),c}ie.promise=gT;ie.success=Vl("success");ie.info=Vl("info");ie.error=Vl("error");ie.warning=Vl("warning");ie.warn=ie.warning;ie.dark=(e,t)=>Ea(e,Ul("default",{theme:"dark",...t}));function yT(e){dT(e)}ie.dismiss=yT;ie.clearWaitingQueue=uT;ie.isActive=lw;ie.update=(e,t={})=>{let n=cT(e,t);if(n){let{props:s,content:i}=n,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:aw()};a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,Ea(o,a)}};ie.done=e=>{ie.update(e,{progress:1})};ie.onChange=pT;ie.play=e=>dw(!0,e);ie.pause=e=>dw(!1,e);function xT(e){var t;let{subscribe:n,getSnapshot:s,setProps:i}=w.useRef(hT(e)).current;i(e);let a=(t=w.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function o(l){if(!a)return[];let c=new Map;return e.newestOnTop&&a.reverse(),a.forEach(d=>{let{position:m}=d.props;c.has(m)||c.set(m,[]),c.get(m).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:lw,count:a==null?void 0:a.length}}function vT(e){let[t,n]=w.useState(!1),[s,i]=w.useState(!1),a=w.useRef(null),o=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:m,closeOnClick:u}=e;mT({id:e.toastId,containerId:e.containerId,fn:n}),w.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{f()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||x(),window.addEventListener("focus",y),window.addEventListener("blur",x)}function f(){window.removeEventListener("focus",y),window.removeEventListener("blur",x)}function p(E){if(e.draggable===!0||e.draggable===E.pointerType){v();let k=a.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",e.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=k.offsetWidth*(e.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=k.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(E){let{top:k,bottom:C,left:M,right:L}=a.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&e.pauseOnHover&&E.clientX>=M&&E.clientX<=L&&E.clientY>=k&&E.clientY<=C?x():y()}function y(){n(!0)}function x(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",S)}function b(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",S)}function j(E){let k=a.current;if(o.canDrag&&k){o.didMove=!0,t&&x(),e.draggableDirection==="x"?o.delta=E.clientX-o.start:o.delta=E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1);let C=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${C},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function S(){b();let E=a.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}let T={onPointerDown:p,onPointerUp:g};return l&&c&&(T.onMouseEnter=x,e.stacked||(T.onMouseLeave=y)),u&&(T.onClick=E=>{m&&m(E),o.canCloseOnClick&&d(!0)}),{playToast:y,pauseToast:x,isRunning:t,preventExitTransition:s,toastRef:a,eventHandlers:T}}var bT=typeof window<"u"?w.useLayoutEffect:w.useEffect,Wl=({theme:e,type:t,isLoading:n,...s})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function wT(e){return re.createElement(Wl,{...e},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function jT(e){return re.createElement(Wl,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NT(e){return re.createElement(Wl,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ST(e){return re.createElement(Wl,{...e},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kT(){return re.createElement("div",{className:"Toastify__spinner"})}var Lu={info:jT,warning:wT,success:NT,error:ST,spinner:kT},CT=e=>e in Lu;function ET({theme:e,type:t,isLoading:n,icon:s}){let i=null,a={theme:e,type:t};return s===!1||(Ln(s)?i=s({...a,isLoading:n}):w.isValidElement(s)?i=w.cloneElement(s,a):n?i=Lu.spinner():CT(t)&&(i=Lu[t](a))),i}var PT=e=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:i,playToast:a}=vT(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:m,hideProgressBar:u,closeToast:h,transition:f,position:p,className:g,style:y,progressClassName:x,updateId:v,role:b,progress:j,rtl:S,toastId:T,deleteToast:E,isIn:k,isLoading:C,closeOnClick:M,theme:L,ariaLabel:$}=e,Q=ps("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":M}),H=Ln(g)?g({rtl:S,position:p,type:m,defaultClassName:Q}):ps(Q,g),te=ET(e),N=!!j||!c,G={closeToast:h,type:m,theme:L},P=null;return o===!1||(Ln(o)?P=o(G):w.isValidElement(o)?P=w.cloneElement(o,G):P=sT(G)),re.createElement(f,{isIn:k,done:E,position:p,preventExitTransition:n,nodeRef:s,playToast:a},re.createElement("div",{id:T,tabIndex:0,onClick:d,"data-in":k,className:H,...i,style:y,ref:s,...k&&{role:b,"aria-label":$}},te!=null&&re.createElement("div",{className:ps("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},te),iw(l,e,!t),P,!e.customProgressBar&&re.createElement(rT,{...v&&!N?{key:`p-${v}`}:{},rtl:S,theme:L,delay:c,isRunning:t,isIn:k,closeToast:h,hide:u,type:m,className:x,controlledProgress:N,progress:j||0})))},TT=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),MT=nT(TT("bounce",!0)),AT={position:"top-right",transition:MT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function IT(e){let t={...AT,...e},n=e.stacked,[s,i]=w.useState(!0),a=w.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=xT(t),{className:d,style:m,rtl:u,containerId:h,hotKeys:f}=t;function p(y){let x=ps("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":u});return Ln(d)?d({position:y,rtl:u,defaultClassName:x}):ps(x,Iu(d))}function g(){n&&(i(!0),ie.play())}return bT(()=>{var y;if(n){let x=a.current.querySelectorAll('[data-in="true"]'),v=12,b=(y=t.position)==null?void 0:y.includes("top"),j=0,S=0;Array.from(x).reverse().forEach((T,E)=>{let k=T;k.classList.add("Toastify__toast--stacked"),E>0&&(k.dataset.collapsed=`${s}`),k.dataset.pos||(k.dataset.pos=b?"top":"bot");let C=j*(s?.2:1)+(s?0:v*E);k.style.setProperty("--y",`${b?C:C*-1}px`),k.style.setProperty("--g",`${v}`),k.style.setProperty("--s",`${1-(s?S:0)}`),j+=k.offsetHeight,S+=.025})}},[s,c,n]),w.useEffect(()=>{function y(x){var v;let b=a.current;f(x)&&((v=b.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),ie.pause()),x.key==="Escape"&&(document.activeElement===b||b!=null&&b.contains(document.activeElement))&&(i(!0),ie.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[f]),re.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),ie.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((y,x)=>{let v=x.length?{...m}:{...m,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:p(y),"data-stacked":n,style:v,key:`c-${y}`},x.map(({content:b,props:j})=>re.createElement(PT,{...j,stacked:n,collapseAll:g,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},b)))}))}const uw=w.createContext(void 0),Pa=()=>{const e=w.useContext(uw);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},mw=({children:e,defaultPosition:t="top-right",defaultTheme:n="dark"})=>{const s=w.useCallback((m,u={})=>{const{type:h="info",position:f=t,autoClose:p=5e3,hideProgressBar:g=!1,closeOnClick:y=!0,pauseOnHover:x=!0,draggable:v=!0,theme:b=n}=u,S={success:ie.success,error:ie.error,warning:ie.warning,info:ie.info}[h];return S(m,{position:f,autoClose:p,hideProgressBar:g,closeOnClick:y,pauseOnHover:x,draggable:v,theme:b})},[t,n]),i=w.useCallback((m,u={})=>s(m,{...u,type:"success"}),[s]),a=w.useCallback((m,u={})=>s(m,{...u,type:"error",autoClose:!1}),[s]),o=w.useCallback((m,u={})=>s(m,{...u,type:"warning"}),[s]),l=w.useCallback((m,u={})=>s(m,{...u,type:"info"}),[s]),c=w.useCallback(()=>{ie.dismiss()},[]),d={showToast:s,showSuccess:i,showError:a,showWarning:o,showInfo:l,clearToasts:c};return r.jsxs(uw.Provider,{value:d,children:[e,r.jsx(IT,{position:t,autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:n,limit:3})]})};function Ch(e){if(!e||typeof e!="number"||e<=0){console.warn("Invalid appId provided for game launch:",e);return}try{window.location.href=`steam://run/${e}`}catch(t){console.warn("Steam launch failed  is Steam installed?",t)}}const _T=[{id:"short",label:"Quick",description:"< 30 mins",icon:""},{id:"medium",label:"Balanced",description:"1-2 hours",icon:""},{id:"long",label:"Deep Dive",description:"3+ hours",icon:""}],RT=({value:e,onChange:t,className:n=""})=>r.jsx("div",{className:`grid grid-cols-3 gap-3 ${n}`,children:_T.map(s=>r.jsxs(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(s.id),className:`flex flex-col items-center p-3 rounded-xl border transition-all duration-300 ${e===s.id?"bg-gaming-primary/20 border-gaming-primary shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[r.jsx("span",{className:"text-2xl mb-2",children:s.icon}),r.jsx("span",{className:`text-sm font-bold ${e===s.id?"text-white":"text-gray-300"}`,children:s.label}),r.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-tighter",children:s.description})]},s.id))}),hw=({onClose:e,className:t=""})=>{var $,Q,H,te;const{games:n}=ye(),{showSuccess:s,showError:i,showWarning:a,showInfo:o}=Pa(),[l,c]=w.useState([]),[d,m]=w.useState(!0),[u,h]=w.useState(0),[f,p]=w.useState(new Set),[g,y]=w.useState(!1),[x,v]=w.useState([]),[b,j]=w.useState(null),[S,T]=w.useState(null),E=async(N=new Set,G)=>{m(!0);const P=(n==null?void 0:n.filter(I=>I&&I.id))||[];try{if(!n||!Array.isArray(n)||n.length===0){o("No games available for recommendations"),c([]);return}if(P.length===0){a("No valid games found in your library"),c([]);return}const I=G||S||"medium";Ir("what_to_play_opened",{timeOfDay:Ws(),selectedSessionLength:I,selectedMoods:"auto"});const R={selectedMoods:[],selectedSessionLength:I,timeOfDay:Ws(),excludeIds:Array.from(N)},F=kh(P),ce=(sw(P,F,R,{personaWeight:.8})||[]).filter(xe=>xe&&xe.game&&xe.game.id).slice(0,3);ce.length===0&&(console.warn("No valid matches found, using fallback recommendations"),o("Using fallback recommendations"));let We=[];if(ce.length>0&&(We=ce.map(xe=>{const ve=[];if(F!=null&&F.dominantMoods&&F.dominantMoods.length>0){const ue=`Matches your dominant moods: ${F.dominantMoods.slice(0,2).join(", ")}`;ve.push(ue)}if(F!=null&&F.preferredSessionLength){const ue=`Fits your usual session length: ${F.preferredSessionLength}`;ve.push(ue)}const pe=`Perfect for ${Ws()} gaming`;if(ve.push(pe),n&&n.length>0){const tt=`Similar to games in your library: ${n.slice(0,2).map(z=>z.title||"Unknown Game").join(", ")}`;ve.push(tt)}if(F!=null&&F.completionRate&&F.completionRate>.7){const ue=`Matches your ${Math.round(F.completionRate*100)}% completion rate`;ve.push(ue)}return{game:xe.game,score:xe.score,reasons:ve.slice(0,4)}})),We.length>0)c(We),s("Recommendations generated successfully");else{console.warn("No enriched recommendations, using fallback"),o("Using fallback recommendations");const xe=P.filter(ve=>!N.has(ve.id)).slice(0,3).map(ve=>({game:ve,score:.5,reasons:["Available in your library"]}));c(xe)}}catch(I){console.error("Error generating recommendations:",I),i("Failed to generate recommendations");const R=P.filter(F=>!N.has(F.id)).slice(0,3).map(F=>({game:F,score:.5,reasons:["Available in your library"]}));c(R)}finally{m(!1)}};w.useEffect(()=>{n.length>0&&E(f)},[n]);const k=async()=>{if(g)return;y(!0),j(null);const N=l.map(R=>R.game).filter(Boolean),G=(n==null?void 0:n.filter(R=>R&&R.id))||[],P=[...N];for(;P.length<10&&G.length>0;){const R=G[Math.floor(Math.random()*G.length)];P.find(F=>F.id===R.id)||P.push(R)}v(P.sort(()=>Math.random()-.5));const I=new Set(f);l.forEach(R=>{var F;(F=R.game)!=null&&F.id&&I.add(R.game.id)}),p(I),h(R=>R+1),await new Promise(R=>setTimeout(R,3e3));try{await E(I)}catch(R){console.error("Error generating recommendations:",R)}finally{y(!1),v([])}Ir("what_to_play_reroll",{count:u+1,totalSuggested:I.size})},C=async(N,G)=>{var P;if(!(N!=null&&N.id)||!(N!=null&&N.title)){console.warn("Invalid game data for launch:",N),i("Invalid game data for launch");return}Ir(G?"what_to_play_launch":"what_to_play_alt_launch",{gameId:N.id,gameTitle:N.title,score:(P=l.find(I=>{var R;return((R=I.game)==null?void 0:R.id)===N.id}))==null?void 0:P.score,isPrimary:G});try{s(`Launching ${N.title}...`),N.appId?(await Ch(N.appId),s(`${N.title} launched successfully!`)):i(`No launch ID available for ${N.title}`)}catch(I){i(`Failed to launch ${N.title}`),console.error("Launch error:",I)}},M=l[0],L=l.slice(1,3);return d?r.jsx("div",{className:`what-to-play-now ${t}`,children:r.jsxs("div",{className:"what-to-play-loading",children:[r.jsx("div",{className:"loading-spinner"}),r.jsx("h3",{children:"Finding Your Perfect Game..."}),r.jsx("p",{children:"Analyzing your gaming personality and preferences"})]})}):l.length===0?r.jsx("div",{className:`what-to-play-now ${t}`,children:r.jsxs("div",{className:"what-to-play-empty",children:[r.jsx("div",{className:"empty-icon",children:""}),r.jsx("h3",{children:"No Games Available"}),r.jsx("p",{children:"Add some games to your library to get personalized recommendations!"}),r.jsx("button",{onClick:e,className:"close-btn",children:"Go Back"})]})}):r.jsxs("div",{className:`what-to-play-now ${t}`,children:[r.jsxs("div",{className:"what-to-play-header",children:[r.jsxs("div",{className:"header-content",children:[r.jsx("h2",{className:"title",children:"I'm Not Sure What To Play"}),r.jsx("p",{className:"subtitle",children:"Let GamePilot pick based on your mood, time, and play style"})]}),r.jsx("button",{onClick:e,className:"close-btn","aria-label":"Close",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"px-8 pt-4 pb-2",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-3 font-semibold uppercase tracking-wider",children:"How much time do you have?"}),r.jsx(RT,{value:S,onChange:N=>{T(N),E(new Set,N)}})]}),M&&M.game&&r.jsx("div",{className:"primary-recommendation",children:r.jsx("div",{className:"game-card primary",children:r.jsxs("div",{className:"game-content",children:[r.jsxs("div",{className:"game-header",children:[r.jsxs("div",{className:"game-info",children:[r.jsx("h3",{className:"game-title",children:M.game.title||"Unknown Game"}),r.jsx("div",{className:"game-meta",children:(Q=($=M.game)==null?void 0:$.genres)==null?void 0:Q.slice(0,2).map(N=>r.jsx("span",{className:"genre-tag",children:typeof N=="string"?N:N.name},typeof N=="string"?N:N.name))})]}),r.jsx("div",{className:"game-art",children:(H=M.game)!=null&&H.coverImage?r.jsx("img",{src:M.game.coverImage,alt:((te=M.game)==null?void 0:te.title)||"Game",className:"game-cover"}):r.jsx("div",{className:"game-cover-placeholder",children:r.jsx("div",{className:"placeholder-icon",children:""})})})]}),r.jsx("div",{className:"game-description",children:r.jsx("p",{children:M.game.description||"No description available"})}),r.jsxs("div",{className:"game-reasons",children:[r.jsx("h4",{children:"Why this game?"}),r.jsx("ul",{className:"reasons-list",children:(M.reasons||[]).map((N,G)=>r.jsxs("li",{className:"reason-item",children:[r.jsx("span",{className:"reason-icon",children:""}),N]},G))})]}),r.jsxs("div",{className:"game-actions",children:[r.jsxs("button",{onClick:()=>M.game&&C(M.game,!0),className:"launch-btn primary",children:[r.jsx("span",{className:"btn-icon",children:""}),"Launch Now"]}),r.jsxs("div",{className:"confidence-score",children:[r.jsx("span",{className:"score-label",children:"Match Score:"}),r.jsxs("span",{className:"score-value",children:[Math.round((M.score||0)*100),"%"]})]})]})]})})}),g&&r.jsxs("div",{className:"slot-machine-container",children:[r.jsxs("div",{className:"slot-machine-header",children:[r.jsx("h3",{children:" Finding Your Perfect Game..."}),r.jsx("div",{className:"spinning-indicator",children:r.jsx("div",{className:"spinner"})})]}),r.jsx("div",{className:"slot-machine-track",children:r.jsx("div",{className:"slot-machine-games",children:x.map((N,G)=>r.jsx("div",{className:"slot-game-card",style:{animation:`slideIn 0.5s ease-in-out ${G*.1}s both`},children:r.jsxs("div",{className:"slot-game-content",children:[r.jsx("div",{className:"slot-game-image",children:N.coverImage?r.jsx("img",{src:N.coverImage,alt:N.title}):r.jsx("div",{className:"slot-game-placeholder",children:""})}),r.jsx("div",{className:"slot-game-title",children:N.title||"Unknown Game"})]})},`${N.id}-${G}`))})})]}),!g&&b&&r.jsx("div",{className:"final-game-reveal",children:r.jsx("div",{className:"reveal-animation",children:r.jsxs("div",{className:"reveal-content",children:[r.jsx("h3",{children:" Your Perfect Match!"}),r.jsxs("div",{className:"final-game-card",children:[r.jsx("div",{className:"final-game-image",children:b.game.coverImage?r.jsx("img",{src:b.game.coverImage,alt:b.game.title}):r.jsx("div",{className:"final-game-placeholder",children:""})}),r.jsxs("div",{className:"final-game-info",children:[r.jsx("h4",{children:b.game.title||"Unknown Game"}),r.jsxs("div",{className:"final-game-score",children:[Math.round((b.score||0)*100),"% Match"]})]})]})]})})}),L.length>0&&r.jsxs("div",{className:"alternate-recommendations",children:[r.jsxs("div",{className:"alternates-header",children:[r.jsx("h3",{children:"Or Try These"}),r.jsxs("button",{onClick:k,className:"reroll-btn",disabled:n.length<=3||g,children:[r.jsx("span",{className:"reroll-icon",children:g?"":""}),g?"Spinning...":"Surprise Me!",u>0&&r.jsxs("span",{className:"reroll-count",children:["(",u,")"]})]})]}),r.jsx("div",{className:"alternates-grid",children:L.map(N=>{var G,P,I,R,F,X;return r.jsx("div",{className:"game-card alternate",children:r.jsxs("div",{className:"game-content",children:[r.jsxs("div",{className:"game-header",children:[r.jsxs("div",{className:"game-info",children:[r.jsx("h4",{className:"game-title",children:((G=N.game)==null?void 0:G.title)||"Unknown Game"}),r.jsx("div",{className:"game-meta",children:(I=(P=N.game)==null?void 0:P.genres)==null?void 0:I.slice(0,1).map(le=>r.jsx("span",{className:"genre-tag small",children:typeof le=="string"?le:le.name},typeof le=="string"?le:le.name))})]}),r.jsx("div",{className:"game-art small",children:(R=N.game)!=null&&R.coverImage?r.jsx("img",{src:N.game.coverImage,alt:((F=N.game)==null?void 0:F.title)||"Game",className:"game-cover small"}):r.jsx("div",{className:"game-cover-placeholder small",children:r.jsx("div",{className:"placeholder-icon small",children:""})})})]}),r.jsx("div",{className:"game-reasons small",children:r.jsx("div",{className:"reasons-list",children:(N.reasons||[]).slice(0,2).map((le,ce)=>r.jsxs("div",{className:"reason-item small",children:[r.jsx("span",{className:"reason-icon small",children:""}),le]},ce))})}),r.jsxs("div",{className:"game-actions",children:[r.jsx("button",{onClick:()=>N.game&&C(N.game,!1),className:"launch-btn small",children:"Play Now"}),r.jsxs("div",{className:"confidence-score small",children:[Math.round((N.score||0)*100),"%"]})]})]})},((X=N.game)==null?void 0:X.id)||Math.random())})})]}),r.jsx("div",{className:"what-to-play-footer",children:r.jsxs("p",{className:"footer-text",children:["Recommendations based on your gaming personality and ",n.length," games in your library"]})})]})},pw=document.createElement("style");pw.textContent=`
.what-to-play-now {
  background: linear-gradient(135deg, #1e293b 0%, #111827 100%);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  max-width: 900px;
  margin: 0 auto;
  overflow: hidden;
}

.what-to-play-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
}

.loading-spinner {
  width: 3rem;
  height: 3rem;
  border: 3px solid rgba(139, 92, 246, 0.2);
  border-top: 3px solid #8b5cf6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.what-to-play-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
}

.empty-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.what-to-play-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 2rem 2rem 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.header-content {
  flex: 1;
}

.title {
  font-size: 2rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.5rem;
}

.subtitle {
  color: #9ca3af;
  font-size: 1rem;
  margin: 0;
}

.close-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.5rem;
  color: #9ca3af;
  cursor: pointer;
  transition: all 0.2s ease;
}

.close-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.primary-recommendation {
  padding: 2rem;
}

.game-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  transition: all 0.3s ease;
}

.game-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.game-card.primary {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
  border-color: rgba(139, 92, 246, 0.3);
}

.game-content {
  padding: 1.5rem;
}

.game-header {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.game-info {
  flex: 1;
}

.game-title {
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.5rem;
}

.game-meta {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.genre-tag {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
}

.genre-tag.small {
  background: rgba(139, 92, 246, 0.15);
  font-size: 0.625rem;
}

.game-art {
  width: 120px;
  height: 160px;
  border-radius: 0.5rem;
  overflow: hidden;
  flex-shrink: 0;
}

.game-art.small {
  width: 80px;
  height: 100px;
}

.game-cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.game-cover-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.placeholder-icon {
  font-size: 2rem;
  opacity: 0.5;
}

.placeholder-icon.small {
  font-size: 1.5rem;
}

.game-description {
  margin-bottom: 1rem;
}

.game-description p {
  color: #d1d5db;
  line-height: 1.5;
  margin: 0;
}

.game-reasons {
  margin-bottom: 1.5rem;
}

.game-reasons h4 {
  color: white;
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.75rem;
}

.reasons-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.reason-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  color: #d1d5db;
  font-size: 0.875rem;
  line-height: 1.4;
}

.reason-item.small {
  font-size: 0.75rem;
  margin-bottom: 0.25rem;
}

.reason-icon {
  color: #10b981;
  font-weight: bold;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

.reason-icon.small {
  font-size: 0.75rem;
}

.game-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.launch-btn {
  background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
  color: white;
  border: none;
  border-radius: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.launch-btn:hover {
  background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);
  transform: translateY(-1px);
}

.launch-btn.small {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.launch-btn.primary {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.launch-btn.primary:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
}

.btn-icon {
  font-size: 1rem;
}

.confidence-score {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  text-align: right;
}

.confidence-score.small {
  flex-direction: row;
  align-items: center;
  gap: 0.5rem;
}

.score-label {
  font-size: 0.75rem;
  color: #9ca3af;
  margin-bottom: 0.25rem;
}

.score-value {
  font-size: 1.125rem;
  font-weight: bold;
  color: #10b981;
}

.alternate-recommendations {
  padding: 0 2rem 2rem;
}

.alternates-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.alternates-header h3 {
  color: white;
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0;
}

.reroll-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.5rem 1rem;
  color: white;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.reroll-btn:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.2);
}

.reroll-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.reroll-icon {
  font-size: 1rem;
}

.reroll-count {
  font-size: 0.75rem;
  opacity: 0.8;
}

/* Slot Machine Animations */
.slot-machine-container {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 1rem 0;
  overflow: hidden;
}

.slot-machine-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.slot-machine-header h3 {
  color: white;
  margin: 0;
  font-size: 1.2rem;
}

.spinning-indicator {
  display: flex;
  align-items: center;
}

.spinner {
  width: 24px;
  height: 24px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid #4f46e5;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.slot-machine-track {
  position: relative;
  height: 120px;
  overflow: hidden;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.slot-machine-games {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  height: 100%;
  animation: slideAcross 3s ease-in-out;
}

@keyframes slideAcross {
  0% {
    transform: translateX(100%);
  }
  50% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0%);
  }
}

@keyframes slideIn {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.slot-game-card {
  flex-shrink: 0;
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 0.5rem;
  padding: 0.75rem;
  min-width: 150px;
  transition: all 0.3s ease;
}

.slot-game-card:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.slot-game-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.slot-game-image {
  width: 60px;
  height: 60px;
  border-radius: 0.25rem;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
}

.slot-game-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.slot-game-placeholder {
  font-size: 1.5rem;
}

.slot-game-title {
  color: white;
  font-size: 0.75rem;
  text-align: center;
  font-weight: 500;
  line-height: 1.2;
}

/* Final Game Reveal */
.final-game-reveal {
  background: linear-gradient(135deg, rgba(79, 70, 229, 0.1), rgba(236, 72, 153, 0.1));
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 1rem;
  padding: 1.5rem;
  margin: 1rem 0;
  animation: fadeInScale 0.5s ease-out;
}

@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.reveal-content h3 {
  color: white;
  text-align: center;
  margin: 0 0 1rem 0;
  font-size: 1.3rem;
}

.final-game-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 0.75rem;
  padding: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.final-game-image {
  width: 80px;
  height: 80px;
  border-radius: 0.5rem;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
}

.final-game-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.final-game-placeholder {
  font-size: 2rem;
}

.final-game-info {
  flex: 1;
}

.final-game-info h4 {
  color: white;
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
}

.final-game-score {
  color: #10b981;
  font-weight: bold;
  font-size: 0.9rem;
}

.alternates-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
}

.game-card.alternate {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.05);
}

.game-card.alternate:hover {
  background: rgba(255, 255, 255, 0.08);
}

.game-reasons.small {
  margin-bottom: 1rem;
}

.what-to-play-footer {
  padding: 1rem 2rem 2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
}

.footer-text {
  color: #6b7280;
  font-size: 0.875rem;
  margin: 0;
}

@media (max-width: 768px) {
  .what-to-play-now {
    margin: 1rem;
    border-radius: 0.75rem;
  }

  .what-to-play-header {
    padding: 1.5rem 1.5rem 1rem;
  }

  .title {
    font-size: 1.5rem;
  }

  .subtitle {
    font-size: 0.875rem;
  }

  .game-header {
    flex-direction: column;
    gap: 0.75rem;
  }

  .game-art {
    width: 100%;
    height: 120px;
  }

  .alternates-grid {
    grid-template-columns: 1fr;
  }

  .game-actions {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
  }

  .confidence-score {
    align-items: center;
    text-align: center;
  }

  .score-label {
    margin-bottom: 0;
  }
}
`;document.head.appendChild(pw);function LT(e){if(!e||e.length===0)return{totalGames:0,preferences:[],topGenres:[],favoriteGenre:null};const t={};e.forEach(o=>{o.genres&&Array.isArray(o.genres)&&o.genres.forEach(l=>{const c=typeof l=="string"?l:l.name;c&&(t[c]=(t[c]||0)+1)})});const n=e.length,s=Object.entries(t).map(([o,l])=>({genre:o,count:l,percentage:l/n*100,weight:l/n})).sort((o,l)=>l.count-o.count),i=s.slice(0,5).map(o=>o.genre),a=s.length>0?s[0].genre:null;return{totalGames:n,preferences:s,topGenres:i,favoriteGenre:a}}function OT(e,t=3){return e.topGenres.slice(0,t)}async function DT(e,t=20){try{const n=await fetch(Wm(`/api/steam/genre/${encodeURIComponent(e.toLowerCase())}?limit=${t}`));if(!n.ok)return console.warn(`Failed to fetch Steam games for genre: ${e}`),[];const s=await n.json();return!s.success||!s.data?[]:s.data.map(i=>({id:i.id||i.steamId,name:i.name||i.title,genres:i.genres||[],coverImage:i.coverImage||i.header_image||i.image,headerImage:i.headerImage||i.header_image,capsuleImage:i.capsuleImage||`https://cdn.akamai.steamstatic.com/steam/apps/${i.id}/capsule_616x353.jpg`,smallImage:i.smallImage||`https://cdn.akamai.steamstatic.com/steam/apps/${i.id}/capsule_184x69.jpg`,description:i.description||i.short_description,releaseDate:i.releaseDate||i.release_date,price:i.price,recommendationScore:i.recommendationScore||0}))}catch(n){return console.error(`Error fetching Steam games for genre ${e}:`,n),[]}}function FT(e,t){const n=new Set(t.map(s=>String(s.appId)).filter(s=>s));return e.filter(s=>!n.has(String(s.id)))}function zT(e,t){const n={};return t.forEach(s=>{n[s.genre.toLowerCase()]=s.weight}),e.map(s=>{let i=0;return s.genres.forEach(a=>{const o=n[a.toLowerCase()]||0;i+=o*100}),i=Math.min(100,i),{...s,recommendationScore:i}}).sort((s,i)=>i.recommendationScore-s.recommendationScore)}async function $T(e,t=10){try{console.log(" Starting Steam recommendations analysis...");const n=LT(e),s=OT(n,8);console.log(" User genre preferences:",{totalGames:n.totalGames,favoriteGenre:n.favoriteGenre,topGenres:n.topGenres,recommendedGenres:s}),s.length===0&&(console.log(" No genre preferences found, using fallback genres"),s.push("Action","Adventure","RPG"));const i=[];for(const d of s){const m=await DT(d,15);i.push(...m),console.log(` Fetched ${m.length} games for genre: ${d}`)}const a=Array.from(new Map(i.map(d=>[d.id,d])).values()),o=FT(a,e);console.log(" Filtered results:",{totalFound:a.length,excludedCount:a.length-o.length,finalCount:o.length});const c=zT(o,n.preferences).slice(0,t);return console.log(` Final recommendations: ${c.length} games`),{games:c,totalFound:a.length,genresSearched:s,excludedCount:a.length-o.length}}catch(n){return console.error(" Error getting Steam recommendations:",n),{games:[],totalFound:0,genresSearched:[],excludedCount:0}}}function GT(e=10){const{games:t}=ye(),[n,s]=w.useState({recommendations:{games:[],totalFound:0,genresSearched:[],excludedCount:0},isLoading:!1,error:null,lastRefresh:null}),i=w.useRef(0),a=2e3,o=w.useCallback(async()=>{const m=Date.now();if(m-i.current<a){console.log(" Refresh throttled - please wait");return}i.current=m,console.log(" Refreshing Steam recommendations..."),s(u=>({...u,isLoading:!0,error:null}));try{const u=await $T(t||[],e);s({recommendations:u,isLoading:!1,error:null,lastRefresh:new Date}),console.log(" Steam recommendations refreshed:",{count:u.games.length,totalFound:u.totalFound,genresSearched:u.genresSearched})}catch(u){const h=u instanceof Error?u.message:"Failed to load Steam recommendations";s(f=>({...f,isLoading:!1,error:h})),console.error(" Error refreshing Steam recommendations:",u)}},[t,e]);w.useEffect(()=>{t&&t.length>0&&!n.lastRefresh&&!n.isLoading&&o()},[t,o,n.lastRefresh,n.isLoading]);const l=w.useCallback(()=>{s({recommendations:{games:[],totalFound:0,genresSearched:[],excludedCount:0},isLoading:!1,error:null,lastRefresh:null})},[]),c=n.recommendations.games.length>0,d=n.recommendations.games.length;return{...n,refreshRecommendations:o,clearRecommendations:l,hasRecommendations:c,recommendationCount:d}}const BT=({userMood:e,personaTraits:t,className:n=""})=>{var b;const{recommendations:s,isLoading:i,error:a,lastRefresh:o,refreshRecommendations:l,clearRecommendations:c,hasRecommendations:d,recommendationCount:m}=GT(25),[u,h]=w.useState(null);w.useEffect(()=>{s.games.length>0&&!u&&h(s.games[0])},[s.games,u]);const f=async()=>{if(await l(),s.games.length>0){const j=Math.floor(Math.random()*s.games.length);h(s.games[j])}},p=j=>{h(j)},g=j=>{const S=`https://store.steampowered.com/app/${j.id}`;window.open(S,"_blank")},y=j=>{const S=j.currentTarget,T=[`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/capsule_616x353.jpg`,`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/header.jpg`,`https://cdn.akamai.steamstatic.com/steam/apps/${S.dataset.appId}/capsule_184x69.jpg`],E=S.getAttribute("src"),k=T.findIndex(C=>C===E);k<T.length-1?S.src=T[k+1]:(S.style.display="none",S.parentElement&&(S.parentElement.innerHTML='<span class="text-3xl"></span>'))},x=j=>({Action:"text-red-400",Adventure:"text-green-400",RPG:"text-purple-400",Strategy:"text-blue-400",Simulation:"text-yellow-400",Sports:"text-orange-400",Racing:"text-pink-400",Puzzle:"text-indigo-400",Platformer:"text-teal-400",FPS:"text-red-500"})[j]||"text-gray-400",v=j=>j>=80?"text-green-400":j>=60?"text-yellow-400":j>=40?"text-orange-400":"text-red-400";return a?r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Unable to load Steam recommendations"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:a}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:"Try Again"})]})]}):!d&&!i?r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),(e||t)&&r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Current Context:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[e&&r.jsx("span",{className:"text-gaming-primary text-sm capitalize",children:e}),t&&r.jsx("span",{className:"text-gaming-primary text-sm",children:t.archetypeId})]})]})}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"No Steam recommendations available"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Add more games to your library to get personalized recommendations"}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-colors",children:"Load Recommendations"})]})]}):r.jsxs("div",{className:`glass-morphism rounded-xl p-8 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"What Should I Buy Next?"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[o&&r.jsxs("span",{className:"text-white/40 text-xs",children:[m," games  ",new Date(o).toLocaleTimeString()]}),r.jsxs("button",{onClick:f,disabled:i,className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-lg hover:bg-gaming-primary/30 transition-colors disabled:opacity-50 text-sm",children:[""," Refresh"]})]})]}),(e||t)&&r.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Recommendations based on:"}),r.jsx("div",{className:"flex items-center gap-2",children:s.genresSearched.map(j=>r.jsx("span",{className:`text-sm ${x(j)}`,children:j},j))})]}),r.jsxs("p",{className:"text-white/60 text-xs",children:["Found ",s.totalFound," games  Excluded ",s.excludedCount," already owned"]})]}),i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-xl mb-4 animate-spin",children:""}),r.jsx("p",{className:"text-gray-300",children:"Finding Steam recommendations..."})]}):u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white/5 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-32 h-32 bg-gaming-primary/20 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:u.capsuleImage?r.jsx("img",{src:u.capsuleImage,alt:u.name,className:"w-full h-full object-cover","data-app-id":u.id,onError:y}):u.coverImage?r.jsx("img",{src:u.coverImage,alt:u.name,className:"w-full h-full object-cover","data-app-id":u.id,onError:y}):r.jsx("span",{className:"text-3xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:u.name}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:`font-bold ${v(u.recommendationScore)}`,children:[Math.round(u.recommendationScore),"% Match"]}),r.jsx("span",{className:"text-white/40",children:""}),r.jsx("span",{className:"text-white/60 text-sm",children:((b=u.genres)==null?void 0:b.slice(0,2).join(", "))||"Various"})]}),u.description&&r.jsx("p",{className:"text-white/70 text-sm leading-relaxed mb-3 line-clamp-3",children:u.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/60 mb-3",children:[u.price&&r.jsx("span",{className:"text-gaming-accent font-semibold",children:u.price}),r.jsx("span",{children:""}),r.jsx("span",{children:"Steam"}),u.releaseDate&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx("span",{children:new Date(u.releaseDate).getFullYear()})]})]})]})]})}),s.games.length>1&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-white/60 text-sm mb-3",children:"Other suggestions:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:s.games.filter(j=>j.id!==u.id).slice(0,4).map(j=>r.jsxs("button",{onClick:()=>p(j),className:"bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:`text-xs font-bold ${v(j.recommendationScore)}`,children:[Math.round(j.recommendationScore),"%"]}),r.jsx("span",{className:"text-white/60 text-xs truncate",children:j.genres[0]})]}),r.jsx("div",{className:"text-white text-sm font-medium truncate",children:j.name})]},j.id))})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>g(u),className:"flex-1 px-4 py-3 bg-gaming-accent hover:bg-gaming-primary text-white rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Buy on Steam"]}),r.jsxs("button",{onClick:f,disabled:i,className:"px-4 py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg font-semibold transition-colors disabled:opacity-50",children:[""," New Suggestion"]})]})]}):null]})};function UT(e){const t=VT(e),n=WT(e),s=HT(e),i=YT(e),a=KT(e),o=qT(e);return{archetypeId:t,intensity:n,pacing:s,riskProfile:i,socialStyle:a,confidence:o}}function VT(e){const{completionRate:t,playtimeByGenre:n,multiplayerRatio:s,difficultyPreference:i}=e;if(t>.7)return"Specialist";const a=n.Strategy||0,o=Object.values(n).reduce((c,d)=>c+d,0);if(o>0&&a/o>.4)return"Strategist";if(s>.6)return"Socializer";const l=(n.Adventure||0)+(n["Open World"]||0);return o>0&&l/o>.4?"Explorer":i==="Brutal"?"Competitor":"Achiever"}function WT(e){const{sessionsPerWeek:t,averageSessionLengthMinutes:n}=e;return t>=5||n>=120?"High":t<=2&&n<60?"Low":"Medium"}function HT(e){const{averageSessionLengthMinutes:t}=e;return t<45?"Burst":t>120?"Marathon":"Flow"}function YT(e){const{difficultyPreference:t}=e;switch(t){case"Relaxed":return"Comfort";case"Normal":return"Balanced";case"Hard":case"Brutal":return"Experimental";default:return"Balanced"}}function KT(e){const{multiplayerRatio:t}=e;return t<.2?"Solo":t>.7?"Competitive":"Coop"}function qT(e){const t=[e.playtimeByGenre,e.averageSessionLengthMinutes,e.sessionsPerWeek,e.difficultyPreference,e.multiplayerRatio,e.completionRate],s=t.filter(i=>i!=null&&(typeof i!="object"||Object.keys(i).length>0)).length/t.length;return Math.max(.3,Math.min(1,s))}function QT(e,t){if(!t)return{traits:e,mood:null};const n={moodId:t.moodId,intensity:t.intensity,timestamp:t.timestamp};return{traits:e,mood:n}}function XT(e){const{traits:t,mood:n}=e,s=JT(n);return{summary:ZT(t,n),tone:s}}function JT(e){if(!e)return"Reflective";const{moodId:t}=e;return["chill","story","creative"].includes(t)?"Calm":["energetic","social","exploratory"].includes(t)?"Hyped":["competitive","focused"].includes(t)?"Competitive":"Comfort"}function ZT(e,t){const{archetypeId:n,pacing:s,riskProfile:i}=e,a=e4(n),o=t4(s),l=n4(i),c=t?s4(t.moodId):null;return c?`You're a ${a} who prefers ${o} sessions. Currently feeling ${c}, you lean toward ${l} choices.`:`You're a ${a} who thrives in ${o} sessions with a ${l} approach to gaming.`}function e4(e){return{Achiever:"goal-oriented achiever",Explorer:"curious explorer",Socializer:"social gamer",Competitor:"competitive player",Strategist:"strategic thinker",Creative:"creative builder",Casual:"relaxed gamer",Specialist:"dedicated specialist"}[e]||"versatile player"}function t4(e){return{Burst:"short, intense",Flow:"steady, balanced",Marathon:"long, immersive"}[e]||"moderate"}function n4(e){return{Comfort:"comfortable and familiar",Balanced:"balanced and varied",Experimental:"experimental and bold"}[e]||"thoughtful"}function s4(e){return{chill:"chill and relaxed",competitive:"competitive and driven",story:"story-focused and immersed",creative:"creative and inspired",social:"social and connected",focused:"focused and determined",energetic:"energetic and excited",exploratory:"exploratory and curious"}[e]||"in a thoughtful mood"}function Zs(e){if(!e.signals)throw new Error("PersonaSnapshotInput.signals is required");r4(e.signals);try{const t=UT(e.signals),{mood:n}=QT(t,e.moodEntry||void 0),s=XT({traits:t,mood:n}),i=t.confidence;return{traits:t,mood:n,narrative:s,confidence:i}}catch(t){throw new Error(`Failed to build persona snapshot: ${t instanceof Error?t.message:"Unknown error"}`)}}function r4(e){const t=["playtimeByGenre","averageSessionLengthMinutes","sessionsPerWeek","difficultyPreference","multiplayerRatio","completionRate"];for(const s of t)if(!(s in e))throw new Error(`Missing required field: ${s}`);if(typeof e.playtimeByGenre!="object"||e.playtimeByGenre===null)throw new Error("playtimeByGenre must be a valid object");if(typeof e.averageSessionLengthMinutes!="number"||e.averageSessionLengthMinutes<0)throw new Error("averageSessionLengthMinutes must be a non-negative number");if(typeof e.sessionsPerWeek!="number"||e.sessionsPerWeek<0)throw new Error("sessionsPerWeek must be a non-negative number");const n=["Relaxed","Normal","Hard","Brutal"];if(!n.includes(e.difficultyPreference))throw new Error(`difficultyPreference must be one of: ${n.join(", ")}`);if(typeof e.multiplayerRatio!="number"||e.multiplayerRatio<0||e.multiplayerRatio>1)throw new Error("multiplayerRatio must be a number between 0 and 1");if(typeof e.completionRate!="number"||e.completionRate<0||e.completionRate>1)throw new Error("completionRate must be a number between 0 and 1")}function i4(e,t,n=[],s,i,a){const o=new Date;return{moodId:e,intensity:Math.max(1,Math.min(10,t)),timestamp:o,context:s,gameId:i,moodTags:n.slice(0,2),temporalContext:{hourOfDay:o.getHours(),dayOfWeek:o.getDay(),weekOfYear:m4(o)},sessionContext:a?{sessionId:a.sessionId,isPreSession:a.isPreSession||!1,isPostSession:a.isPostSession||!1}:void 0}}function a4(e,t,n){return{sessionId:e,startTime:new Date,gameId:t,preMood:n||null,postMood:null,sessionDuration:void 0,moodDelta:void 0}}function o4(e,t){const n=new Date,s=e.startTime?Math.round((n.getTime()-e.startTime.getTime())/(1e3*60)):void 0,i=e.preMood&&t?t.intensity-e.preMood.intensity:void 0;return{...e,endTime:n,postMood:t||null,sessionDuration:s,moodDelta:i}}function l4(e,t,n,s,i=.5){return{recommendationId:e,moodAtTime:t,feedback:n,gameId:s,timestamp:new Date,confidence:Math.max(0,Math.min(1,i))}}function c4(e){if(!e||e.length===0)return{bestHours:[],worstHours:[],dayTrends:{}};const t={};e.forEach(d=>{const m=d.temporalContext.hourOfDay;t[m]||(t[m]=[]),t[m].push(d.intensity)});const n={};Object.entries(t).forEach(([d,m])=>{n[parseInt(d)]=m.reduce((u,h)=>u+h,0)/m.length});const s=Object.entries(n).sort(([,d],[,m])=>m-d).map(([d])=>parseInt(d)),i=s.slice(0,3),a=s.slice(-3),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l={};e.forEach(d=>{const m=o[d.temporalContext.dayOfWeek];l[m]||(l[m]=[]),l[m].push(d.intensity)});const c={};return Object.entries(l).forEach(([d,m])=>{c[d]=m.reduce((u,h)=>u+h,0)/m.length}),{bestHours:i,worstHours:a,dayTrends:c}}function d4(e){if(!e||e.length===0)return[];const t={};return e.forEach(s=>{if(s.moodTags.length>0){const i=`${s.moodId}+${s.moodTags[0]}`;t[i]||(t[i]={count:0,intensities:[]}),t[i].count++,t[i].intensities.push(s.intensity)}}),Object.entries(t).map(([s,i])=>{const[a,o]=s.split("+"),l=i.intensities.reduce((d,m)=>d+m,0)/i.intensities.length,c=i.count/e.length;return{primary:a,secondary:o,frequency:c,averageIntensity:l}}).sort((s,i)=>i.frequency-s.frequency).slice(0,5)}function u4(e){const t=e.filter(d=>d.preMood&&d.postMood&&d.sessionDuration);if(t.length===0)return{averageMoodDelta:0,positiveSessionRatio:0,sessionDurationImpact:0};const n=t.map(d=>d.moodDelta||0),s=n.reduce((d,m)=>d+m,0)/n.length,a=n.filter(d=>d>0).length/t.length,o=t.map(d=>d.sessionDuration||0),l=o.reduce((d,m)=>d+m,0)/o.length,c=Math.abs(s)/Math.max(l,1);return{averageMoodDelta:s,positiveSessionRatio:a,sessionDurationImpact:c}}function m4(e){const t=new Date(e.getFullYear(),0,1),n=(e.getTime()-t.getTime())/864e5;return Math.ceil((n+t.getDay()+1)/7)}const h4={enableTemporalPatterns:!0,enableSessionTracking:!0,enableCompoundMoods:!0,enableFeedbackLoop:!0,maxHistorySize:1e3};class p4{constructor(t={}){this.moodHistory=[],this.sessionHistory=[],this.feedbackHistory=[],this.config={...h4,...t}}buildEnhancedPersonaSnapshot(t,n){const i={...Zs(t)};return this.config.enableTemporalPatterns&&(n!=null&&n.moodEvents)&&(i.temporalInsights=c4(n.moodEvents)),this.config.enableSessionTracking&&(n!=null&&n.sessionEvents)&&(i.sessionInsights=u4(n.sessionEvents)),this.config.enableCompoundMoods&&(n!=null&&n.moodEvents)&&(i.compoundMoods=d4(n.moodEvents)),i}recordMood(t,n,s=[],i,a,o){const l=i4(t,n,s,i,a,o);return this.moodHistory.push(l),this.moodHistory.length>this.config.maxHistorySize&&(this.moodHistory=this.moodHistory.slice(-this.config.maxHistorySize)),l}startSession(t,n){const s=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i=a4(s,t,n);return this.sessionHistory.push(i),this.sessionHistory.length>this.config.maxHistorySize&&(this.sessionHistory=this.sessionHistory.slice(-this.config.maxHistorySize)),s}endSession(t,n){const s=this.sessionHistory.findIndex(o=>o.sessionId===t);if(s===-1)return null;const i=this.sessionHistory[s],a=o4(i,n);return this.sessionHistory[s]=a,a}recordFeedback(t,n,s,i,a=.5){const o=l4(t,n,s,i,a);return this.feedbackHistory.push(o),this.feedbackHistory.length>this.config.maxHistorySize&&(this.feedbackHistory=this.feedbackHistory.slice(-this.config.maxHistorySize)),o}getMoodHistory(){return[...this.moodHistory]}getSessionHistory(){return[...this.sessionHistory]}getFeedbackHistory(){return[...this.feedbackHistory]}getConfig(){return{...this.config}}updateConfig(t){this.config={...this.config,...t}}clearHistory(){this.moodHistory=[],this.sessionHistory=[],this.feedbackHistory=[]}}function f4(e){return new p4(e)}var L0;const g4=typeof process<"u"&&((L0=process.env)==null?void 0:L0.ENABLE_ENHANCED_PERSONA)==="true"||!1;class y4{constructor(){if(this.enhancedEngine=null,this.isEnabled=g4,this.isEnabled)try{this.enhancedEngine=f4({enableTemporalPatterns:!0,enableSessionTracking:!0,enableCompoundMoods:!0,enableFeedbackLoop:!0,maxHistorySize:1e3}),console.log(" Enhanced Persona Engine enabled")}catch(t){console.warn(" Failed to initialize Enhanced Persona Engine, falling back to legacy:",t),this.isEnabled=!1,this.enhancedEngine=null}else console.log(" Using legacy Persona Engine (enhanced features disabled)")}buildSnapshot(t){try{if(this.isEnabled&&this.enhancedEngine){const n={moodEvents:this.enhancedEngine.getMoodHistory(),sessionEvents:this.enhancedEngine.getSessionHistory(),feedbackEvents:this.enhancedEngine.getFeedbackHistory()};return this.enhancedEngine.buildEnhancedPersonaSnapshot(t,n)}else return Zs(t)}catch(n){return console.warn(" Enhanced snapshot build failed, falling back to legacy:",n),Zs(t)}}recordMood(t,n,s,i,a){if(this.isEnabled&&this.enhancedEngine)try{this.enhancedEngine.recordMood(t,n,s,i,a)}catch(o){console.warn(" Failed to record enhanced mood:",o)}}startSession(t,n){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.startSession(t,n)}catch(s){return console.warn(" Failed to start session tracking:",s),null}return null}endSession(t,n){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.endSession(t,n)}catch(s){return console.warn(" Failed to end session tracking:",s),null}return null}recordFeedback(t,n,s,i,a){if(this.isEnabled&&this.enhancedEngine)try{this.enhancedEngine.recordFeedback(t,n,s,i,a)}catch(o){console.warn(" Failed to record feedback:",o)}}getMoodHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getMoodHistory()}catch(t){return console.warn(" Failed to get mood history:",t),[]}return[]}getSessionHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getSessionHistory()}catch(t){return console.warn(" Failed to get session history:",t),[]}return[]}getFeedbackHistory(){if(this.isEnabled&&this.enhancedEngine)try{return this.enhancedEngine.getFeedbackHistory()}catch(t){return console.warn(" Failed to get feedback history:",t),[]}return[]}getEngineStatus(){if(this.isEnabled&&this.enhancedEngine){const t=this.enhancedEngine.getConfig();return{enhanced:!0,engine:"enhanced",features:{temporalPatterns:t.enableTemporalPatterns,sessionTracking:t.enableSessionTracking,compoundMoods:t.enableCompoundMoods,feedbackLoop:t.enableFeedbackLoop}}}else return{enhanced:!1,engine:"legacy",features:{temporalPatterns:!1,sessionTracking:!1,compoundMoods:!1,feedbackLoop:!1}}}}new y4;function fw(e,t){return function(){return e.apply(t,arguments)}}const{toString:x4}=Object.prototype,{getPrototypeOf:Eh}=Object,{iterator:Hl,toStringTag:gw}=Symbol,Yl=(e=>t=>{const n=x4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cn=e=>(e=e.toLowerCase(),t=>Yl(t)===e),Kl=e=>t=>typeof t===e,{isArray:ii}=Array,Qr=Kl("undefined");function Ta(e){return e!==null&&!Qr(e)&&e.constructor!==null&&!Qr(e.constructor)&&Ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yw=cn("ArrayBuffer");function v4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yw(e.buffer),t}const b4=Kl("string"),Ct=Kl("function"),xw=Kl("number"),Ma=e=>e!==null&&typeof e=="object",w4=e=>e===!0||e===!1,Eo=e=>{if(Yl(e)!=="object")return!1;const t=Eh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gw in e)&&!(Hl in e)},j4=e=>{if(!Ma(e)||Ta(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},N4=cn("Date"),S4=cn("File"),k4=cn("Blob"),C4=cn("FileList"),E4=e=>Ma(e)&&Ct(e.pipe),P4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ct(e.append)&&((t=Yl(e))==="formdata"||t==="object"&&Ct(e.toString)&&e.toString()==="[object FormData]"))},T4=cn("URLSearchParams"),[M4,A4,I4,_4]=["ReadableStream","Request","Response","Headers"].map(cn),R4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Aa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),ii(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{if(Ta(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(s=0;s<o;s++)l=a[s],t.call(null,e[l],l,e)}}function vw(e,t){if(Ta(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],t===i.toLowerCase())return i;return null}const Ls=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bw=e=>!Qr(e)&&e!==Ls;function Ou(){const{caseless:e,skipUndefined:t}=bw(this)&&this||{},n={},s=(i,a)=>{const o=e&&vw(n,a)||a;Eo(n[o])&&Eo(i)?n[o]=Ou(n[o],i):Eo(i)?n[o]=Ou({},i):ii(i)?n[o]=i.slice():(!t||!Qr(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Aa(arguments[i],s);return n}const L4=(e,t,n,{allOwnKeys:s}={})=>(Aa(t,(i,a)=>{n&&Ct(i)?Object.defineProperty(e,a,{value:fw(i,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e),O4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),D4=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},F4=(e,t,n,s)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Eh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},z4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},$4=e=>{if(!e)return null;if(ii(e))return e;let t=e.length;if(!xw(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},G4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Eh(Uint8Array)),B4=(e,t)=>{const s=(e&&e[Hl]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},U4=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},V4=cn("HTMLFormElement"),W4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Hg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),H4=cn("RegExp"),ww=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Aa(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},Y4=e=>{ww(e,(t,n)=>{if(Ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ct(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},K4=(e,t)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return ii(e)?s(e):s(String(e).split(t)),n},q4=()=>{},Q4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function X4(e){return!!(e&&Ct(e.append)&&e[gw]==="FormData"&&e[Hl])}const J4=e=>{const t=new Array(10),n=(s,i)=>{if(Ma(s)){if(t.indexOf(s)>=0)return;if(Ta(s))return s;if(!("toJSON"in s)){t[i]=s;const a=ii(s)?[]:{};return Aa(s,(o,l)=>{const c=n(o,i+1);!Qr(c)&&(a[l]=c)}),t[i]=void 0,a}}return s};return n(e,0)},Z4=cn("AsyncFunction"),e3=e=>e&&(Ma(e)||Ct(e))&&Ct(e.then)&&Ct(e.catch),jw=((e,t)=>e?setImmediate:t?((n,s)=>(Ls.addEventListener("message",({source:i,data:a})=>{i===Ls&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Ls.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ct(Ls.postMessage)),t3=typeof queueMicrotask<"u"?queueMicrotask.bind(Ls):typeof process<"u"&&process.nextTick||jw,n3=e=>e!=null&&Ct(e[Hl]),A={isArray:ii,isArrayBuffer:yw,isBuffer:Ta,isFormData:P4,isArrayBufferView:v4,isString:b4,isNumber:xw,isBoolean:w4,isObject:Ma,isPlainObject:Eo,isEmptyObject:j4,isReadableStream:M4,isRequest:A4,isResponse:I4,isHeaders:_4,isUndefined:Qr,isDate:N4,isFile:S4,isBlob:k4,isRegExp:H4,isFunction:Ct,isStream:E4,isURLSearchParams:T4,isTypedArray:G4,isFileList:C4,forEach:Aa,merge:Ou,extend:L4,trim:R4,stripBOM:O4,inherits:D4,toFlatObject:F4,kindOf:Yl,kindOfTest:cn,endsWith:z4,toArray:$4,forEachEntry:B4,matchAll:U4,isHTMLForm:V4,hasOwnProperty:Hg,hasOwnProp:Hg,reduceDescriptors:ww,freezeMethods:Y4,toObjectSet:K4,toCamelCase:W4,noop:q4,toFiniteNumber:Q4,findKey:vw,global:Ls,isContextDefined:bw,isSpecCompliantForm:X4,toJSONObject:J4,isAsyncFn:Z4,isThenable:e3,setImmediate:jw,asap:t3,isIterable:n3};class vt extends Error{static from(t,n,s,i,a,o){const l=new vt(t.message,n||t.code,s,i,a);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,n,s,i,a){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),s&&(this.config=s),i&&(this.request=i),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}}vt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";vt.ERR_BAD_OPTION="ERR_BAD_OPTION";vt.ECONNABORTED="ECONNABORTED";vt.ETIMEDOUT="ETIMEDOUT";vt.ERR_NETWORK="ERR_NETWORK";vt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";vt.ERR_DEPRECATED="ERR_DEPRECATED";vt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";vt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";vt.ERR_CANCELED="ERR_CANCELED";vt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";vt.ERR_INVALID_URL="ERR_INVALID_URL";const Z=vt,s3=null;function Du(e){return A.isPlainObject(e)||A.isArray(e)}function Nw(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function Yg(e,t,n){return e?e.concat(t).map(function(i,a){return i=Nw(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function r3(e){return A.isArray(e)&&!e.some(Du)}const i3=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function ql(e,t,n){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!A.isUndefined(y[g])});const s=n.metaTokens,i=n.visitor||m,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(A.isDate(p))return p.toISOString();if(A.isBoolean(p))return p.toString();if(!c&&A.isBlob(p))throw new Z("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(p)||A.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function m(p,g,y){let x=p;if(p&&!y&&typeof p=="object"){if(A.endsWith(g,"{}"))g=s?g:g.slice(0,-2),p=JSON.stringify(p);else if(A.isArray(p)&&r3(p)||(A.isFileList(p)||A.endsWith(g,"[]"))&&(x=A.toArray(p)))return g=Nw(g),x.forEach(function(b,j){!(A.isUndefined(b)||b===null)&&t.append(o===!0?Yg([g],j,a):o===null?g:g+"[]",d(b))}),!1}return Du(p)?!0:(t.append(Yg(y,g,a),d(p)),!1)}const u=[],h=Object.assign(i3,{defaultVisitor:m,convertValue:d,isVisitable:Du});function f(p,g){if(!A.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(p),A.forEach(p,function(x,v){(!(A.isUndefined(x)||x===null)&&i.call(t,x,A.isString(v)?v.trim():v,g,h))===!0&&f(x,g?g.concat(v):[v])}),u.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Kg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Ph(e,t){this._pairs=[],e&&ql(e,this,t)}const Sw=Ph.prototype;Sw.append=function(t,n){this._pairs.push([t,n])};Sw.toString=function(t){const n=t?function(s){return t.call(this,s,Kg)}:Kg;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function a3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kw(e,t,n){if(!t)return e;const s=n&&n.encode||a3,i=A.isFunction(n)?{serialize:n}:n,a=i&&i.serialize;let o;if(a?o=a(t,i):o=A.isURLSearchParams(t)?t.toString():new Ph(t,i).toString(s),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class o3{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(s){s!==null&&t(s)})}}const qg=o3,Cw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l3=typeof URLSearchParams<"u"?URLSearchParams:Ph,c3=typeof FormData<"u"?FormData:null,d3=typeof Blob<"u"?Blob:null,u3={isBrowser:!0,classes:{URLSearchParams:l3,FormData:c3,Blob:d3},protocols:["http","https","file","blob","url","data"]},Th=typeof window<"u"&&typeof document<"u",Fu=typeof navigator=="object"&&navigator||void 0,m3=Th&&(!Fu||["ReactNative","NativeScript","NS"].indexOf(Fu.product)<0),h3=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),p3=Th&&window.location.href||"http://localhost",f3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Th,hasStandardBrowserEnv:m3,hasStandardBrowserWebWorkerEnv:h3,navigator:Fu,origin:p3},Symbol.toStringTag,{value:"Module"})),lt={...f3,...u3};function g3(e,t){return ql(e,new lt.classes.URLSearchParams,{visitor:function(n,s,i,a){return lt.isNode&&A.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function y3(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function x3(e){const t={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],t[a]=e[a];return t}function Ew(e){function t(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=n.length;return o=!o&&A.isArray(i)?i.length:o,c?(A.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!l):((!i[o]||!A.isObject(i[o]))&&(i[o]=[]),t(n,s,i[o],a)&&A.isArray(i[o])&&(i[o]=x3(i[o])),!l)}if(A.isFormData(e)&&A.isFunction(e.entries)){const n={};return A.forEachEntry(e,(s,i)=>{t(y3(s),i,n,0)}),n}return null}function v3(e,t,n){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Mh={transitional:Cw,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=A.isObject(t);if(a&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return i?JSON.stringify(Ew(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return g3(t,this.formSerializer).toString();if((l=A.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ql(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),v3(t)):t}],transformResponse:[function(t){const n=this.transitional||Mh.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Z.from(l,Z.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{Mh.headers[e]={}});const Ah=Mh,b3=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w3=e=>{const t={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||t[n]&&b3[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Qg=Symbol("internals");function gi(e){return e&&String(e).trim().toLowerCase()}function Po(e){return e===!1||e==null?e:A.isArray(e)?e.map(Po):String(e)}function j3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const N3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function td(e,t,n,s,i){if(A.isFunction(s))return s.call(this,t,n);if(i&&(t=n),!!A.isString(t)){if(A.isString(s))return t.indexOf(s)!==-1;if(A.isRegExp(s))return s.test(t)}}function S3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function k3(e,t){const n=A.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,o){return this[s].call(this,t,i,a,o)},configurable:!0})})}class Ql{constructor(t){t&&this.set(t)}set(t,n,s){const i=this;function a(l,c,d){const m=gi(c);if(!m)throw new Error("header name must be a non-empty string");const u=A.findKey(i,m);(!u||i[u]===void 0||d===!0||d===void 0&&i[u]!==!1)&&(i[u||c]=Po(l))}const o=(l,c)=>A.forEach(l,(d,m)=>a(d,m,c));if(A.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(A.isString(t)&&(t=t.trim())&&!N3(t))o(w3(t),n);else if(A.isObject(t)&&A.isIterable(t)){let l={},c,d;for(const m of t){if(!A.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[d=m[0]]=(c=l[d])?A.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}o(l,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=gi(t),t){const s=A.findKey(this,t);if(s){const i=this[s];if(!n)return i;if(n===!0)return j3(i);if(A.isFunction(n))return n.call(this,i,s);if(A.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=gi(t),t){const s=A.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||td(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let i=!1;function a(o){if(o=gi(o),o){const l=A.findKey(s,o);l&&(!n||td(s,s[l],l,n))&&(delete s[l],i=!0)}}return A.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!t||td(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,s={};return A.forEach(this,(i,a)=>{const o=A.findKey(s,a);if(o){n[o]=Po(i),delete n[a];return}const l=t?S3(a):String(a).trim();l!==a&&delete n[a],n[l]=Po(i),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return A.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=t&&A.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(i=>s.set(i)),s}static accessor(t){const s=(this[Qg]=this[Qg]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=gi(o);s[l]||(k3(i,o),s[l]=!0)}return A.isArray(t)?t.forEach(a):a(t),this}}Ql.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(Ql.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});A.freezeMethods(Ql);const an=Ql;function nd(e,t){const n=this||Ah,s=t||n,i=an.from(s.headers);let a=s.data;return A.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Pw(e){return!!(e&&e.__CANCEL__)}class C3 extends Z{constructor(t,n,s){super(t??"canceled",Z.ERR_CANCELED,n,s),this.name="CanceledError",this.__CANCEL__=!0}}const Ia=C3;function Tw(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function E3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function P3(e,t){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),m=s[a];o||(o=d),n[i]=c,s[i]=d;let u=a,h=0;for(;u!==i;)h+=n[u++],u=u%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const f=m&&d-m;return f?Math.round(h*1e3/f):void 0}}function T3(e,t){let n=0,s=1e3/t,i,a;const o=(d,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const m=Date.now(),u=m-n;u>=s?o(d,m):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},s-u)))},()=>i&&o(i)]}const pl=(e,t,n=3)=>{let s=0;const i=P3(50,250);return T3(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-s,d=i(c),m=o<=l;s=o;const u={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&m?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(u)},n)},Xg=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Jg=e=>(...t)=>A.asap(()=>e(...t)),M3=lt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,lt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,A3=lt.hasStandardBrowserEnv?{write(e,t,n,s,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];A.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),A.isString(s)&&l.push(`path=${s}`),A.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),A.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function I3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mw(e,t,n){let s=!I3(t);return e&&(s||n==!1)?_3(e,t):t}const Zg=e=>e instanceof an?{...e}:e;function er(e,t){t=t||{};const n={};function s(d,m,u,h){return A.isPlainObject(d)&&A.isPlainObject(m)?A.merge.call({caseless:h},d,m):A.isPlainObject(m)?A.merge({},m):A.isArray(m)?m.slice():m}function i(d,m,u,h){if(A.isUndefined(m)){if(!A.isUndefined(d))return s(void 0,d,u,h)}else return s(d,m,u,h)}function a(d,m){if(!A.isUndefined(m))return s(void 0,m)}function o(d,m){if(A.isUndefined(m)){if(!A.isUndefined(d))return s(void 0,d)}else return s(void 0,m)}function l(d,m,u){if(u in t)return s(d,m);if(u in e)return s(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,m,u)=>i(Zg(d),Zg(m),u,!0)};return A.forEach(Object.keys({...e,...t}),function(m){const u=c[m]||i,h=u(e[m],t[m],m);A.isUndefined(h)&&u!==l||(n[m]=h)}),n}const Aw=e=>{const t=er({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=an.from(o),t.url=kw(Mw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),A.isFormData(n)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(A.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,u])=>{d.includes(m.toLowerCase())&&o.set(m,u)})}}if(lt.hasStandardBrowserEnv&&(s&&A.isFunction(s)&&(s=s(t)),s||s!==!1&&M3(t.url))){const c=i&&a&&A3.read(a);c&&o.set(i,c)}return t},R3=typeof XMLHttpRequest<"u",L3=R3&&function(e){return new Promise(function(n,s){const i=Aw(e);let a=i.data;const o=an.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,m,u,h,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const b=an.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};Tw(function(E){n(E),g()},function(E){s(E),g()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(s(new Z("Request aborted",Z.ECONNABORTED,e,y)),y=null)},y.onerror=function(j){const S=j&&j.message?j.message:"Network Error",T=new Z(S,Z.ERR_NETWORK,e,y);T.event=j||null,s(T),y=null},y.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||Cw;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),s(new Z(j,S.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&A.forEach(o.toJSON(),function(j,S){y.setRequestHeader(S,j)}),A.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),d&&([h,p]=pl(d,!0),y.addEventListener("progress",h)),c&&y.upload&&([u,f]=pl(c),y.upload.addEventListener("progress",u),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(m=b=>{y&&(s(!b||b.type?new Ia(null,e,y):b),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const v=E3(i.url);if(v&&lt.protocols.indexOf(v)===-1){s(new Z("Unsupported protocol "+v+":",Z.ERR_BAD_REQUEST,e));return}y.send(a||null)})},O3=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,i;const a=function(d){if(!i){i=!0,l();const m=d instanceof Error?d:this.reason;s.abort(m instanceof Z?m:new Ia(m instanceof Error?m.message:m))}};let o=t&&setTimeout(()=>{o=null,a(new Z(`timeout of ${t}ms exceeded`,Z.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>A.asap(l),c}},D3=O3,F3=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,i;for(;s<n;)i=s+t,yield e.slice(s,i),s=i},z3=async function*(e,t){for await(const n of $3(e))yield*F3(n,t)},$3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},e0=(e,t,n,s)=>{const i=z3(e,t);let a=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await i.next();if(d){l(),c.close();return}let u=m.byteLength;if(n){let h=a+=u;n(h)}c.enqueue(new Uint8Array(m))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},t0=64*1024,{isFunction:ao}=A,G3=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:n0,TextEncoder:s0}=A.global,r0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},B3=e=>{e=A.merge.call({skipUndefined:!0},G3,e);const{fetch:t,Request:n,Response:s}=e,i=t?ao(t):typeof fetch=="function",a=ao(n),o=ao(s);if(!i)return!1;const l=i&&ao(n0),c=i&&(typeof s0=="function"?(p=>g=>p.encode(g))(new s0):async p=>new Uint8Array(await new n(p).arrayBuffer())),d=a&&l&&r0(()=>{let p=!1;const g=new n(lt.origin,{body:new n0,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),m=o&&l&&r0(()=>A.isReadableStream(new s("").body)),u={stream:m&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!u[p]&&(u[p]=(g,y)=>{let x=g&&g[p];if(x)return x.call(g);throw new Z(`Response type '${p}' is not supported`,Z.ERR_NOT_SUPPORT,y)})});const h=async p=>{if(p==null)return 0;if(A.isBlob(p))return p.size;if(A.isSpecCompliantForm(p))return(await new n(lt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(A.isArrayBufferView(p)||A.isArrayBuffer(p))return p.byteLength;if(A.isURLSearchParams(p)&&(p=p+""),A.isString(p))return(await c(p)).byteLength},f=async(p,g)=>{const y=A.toFiniteNumber(p.getContentLength());return y??h(g)};return async p=>{let{url:g,method:y,data:x,signal:v,cancelToken:b,timeout:j,onDownloadProgress:S,onUploadProgress:T,responseType:E,headers:k,withCredentials:C="same-origin",fetchOptions:M}=Aw(p),L=t||fetch;E=E?(E+"").toLowerCase():"text";let $=D3([v,b&&b.toAbortSignal()],j),Q=null;const H=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let te;try{if(T&&d&&y!=="get"&&y!=="head"&&(te=await f(k,x))!==0){let F=new n(g,{method:"POST",body:x,duplex:"half"}),X;if(A.isFormData(x)&&(X=F.headers.get("content-type"))&&k.setContentType(X),F.body){const[le,ce]=Xg(te,pl(Jg(T)));x=e0(F.body,t0,le,ce)}}A.isString(C)||(C=C?"include":"omit");const N=a&&"credentials"in n.prototype,G={...M,signal:$,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:N?C:void 0};Q=a&&new n(g,G);let P=await(a?L(Q,M):L(g,G));const I=m&&(E==="stream"||E==="response");if(m&&(S||I&&H)){const F={};["status","statusText","headers"].forEach(We=>{F[We]=P[We]});const X=A.toFiniteNumber(P.headers.get("content-length")),[le,ce]=S&&Xg(X,pl(Jg(S),!0))||[];P=new s(e0(P.body,t0,le,()=>{ce&&ce(),H&&H()}),F)}E=E||"text";let R=await u[A.findKey(u,E)||"text"](P,p);return!I&&H&&H(),await new Promise((F,X)=>{Tw(F,X,{data:R,headers:an.from(P.headers),status:P.status,statusText:P.statusText,config:p,request:Q})})}catch(N){throw H&&H(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,p,Q),{cause:N.cause||N}):Z.from(N,N&&N.code,p,Q)}}},U3=new Map,Iw=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:i}=t,a=[s,i,n];let o=a.length,l=o,c,d,m=U3;for(;l--;)c=a[l],d=m.get(c),d===void 0&&m.set(c,d=l?new Map:B3(t)),m=d;return d};Iw();const Ih={http:s3,xhr:L3,fetch:{get:Iw}};A.forEach(Ih,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const i0=e=>`- ${e}`,V3=e=>A.isFunction(e)||e===null||e===!1;function W3(e,t){e=A.isArray(e)?e:[e];const{length:n}=e;let s,i;const a={};for(let o=0;o<n;o++){s=e[o];let l;if(i=s,!V3(s)&&(i=Ih[(l=String(s)).toLowerCase()],i===void 0))throw new Z(`Unknown adapter '${l}'`);if(i&&(A.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(i0).join(`
`):" "+i0(o[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const _w={getAdapter:W3,adapters:Ih};function sd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ia(null,e)}function a0(e){return sd(e),e.headers=an.from(e.headers),e.data=nd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_w.getAdapter(e.adapter||Ah.adapter,e)(e).then(function(s){return sd(e),s.data=nd.call(e,e.transformResponse,s),s.headers=an.from(s.headers),s},function(s){return Pw(s)||(sd(e),s&&s.response&&(s.response.data=nd.call(e,e.transformResponse,s.response),s.response.headers=an.from(s.response.headers))),Promise.reject(s)})}const Rw="1.13.4",Xl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const o0={};Xl.transitional=function(t,n,s){function i(a,o){return"[Axios v"+Rw+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,l)=>{if(t===!1)throw new Z(i(o," has been removed"+(n?" in "+n:"")),Z.ERR_DEPRECATED);return n&&!o0[o]&&(o0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,l):!0}};Xl.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function H3(e,t,n){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Z("option "+a+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Z("Unknown option "+a,Z.ERR_BAD_OPTION)}}const To={assertOptions:H3,validators:Xl},un=To.validators;class fl{constructor(t){this.defaults=t||{},this.interceptors={request:new qg,response:new qg}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=er(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&To.assertOptions(s,{silentJSONParsing:un.transitional(un.boolean),forcedJSONParsing:un.transitional(un.boolean),clarifyTimeoutError:un.transitional(un.boolean)},!1),i!=null&&(A.isFunction(i)?n.paramsSerializer={serialize:i}:To.assertOptions(i,{encode:un.function,serialize:un.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),To.assertOptions(n,{baseUrl:un.spelling("baseURL"),withXsrfToken:un.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&A.merge(a.common,a[n.method]);a&&A.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=an.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let m,u=0,h;if(!c){const p=[a0.bind(this),void 0];for(p.unshift(...l),p.push(...d),h=p.length,m=Promise.resolve(n);u<h;)m=m.then(p[u++],p[u++]);return m}h=l.length;let f=n;for(;u<h;){const p=l[u++],g=l[u++];try{f=p(f)}catch(y){g.call(this,y);break}}try{m=a0.call(this,f)}catch(p){return Promise.reject(p)}for(u=0,h=d.length;u<h;)m=m.then(d[u++],d[u++]);return m}getUri(t){t=er(this.defaults,t);const n=Mw(t.baseURL,t.url,t.allowAbsoluteUrls);return kw(n,t.params,t.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(t){fl.prototype[t]=function(n,s){return this.request(er(s||{},{method:t,url:n,data:(s||{}).data}))}});A.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,l){return this.request(er(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fl.prototype[t]=n(),fl.prototype[t+"Form"]=n(!0)});const Mo=fl;class _h{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{s.subscribe(l),a=l}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,l){s.reason||(s.reason=new Ia(a,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new _h(function(i){t=i}),cancel:t}}}const Y3=_h;function K3(e){return function(n){return e.apply(null,n)}}function q3(e){return A.isObject(e)&&e.isAxiosError===!0}const zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zu).forEach(([e,t])=>{zu[t]=e});const Q3=zu;function Lw(e){const t=new Mo(e),n=fw(Mo.prototype.request,t);return A.extend(n,Mo.prototype,t,{allOwnKeys:!0}),A.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Lw(er(e,i))},n}const ze=Lw(Ah);ze.Axios=Mo;ze.CanceledError=Ia;ze.CancelToken=Y3;ze.isCancel=Pw;ze.VERSION=Rw;ze.toFormData=ql;ze.AxiosError=Z;ze.Cancel=ze.CanceledError;ze.all=function(t){return Promise.all(t)};ze.spread=K3;ze.isAxiosError=q3;ze.mergeConfig=er;ze.AxiosHeaders=an;ze.formToJSON=e=>Ew(A.isHTMLForm(e)?new FormData(e):e);ze.getAdapter=_w.getAdapter;ze.HttpStatusCode=Q3;ze.default=ze;const rd=ze;class X3{constructor(){He(this,"baseUrl");He(this,"isDevelopment");typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?this.baseUrl="http://localhost:3000/api":this.baseUrl="https://gamepilot.com/api",this.isDevelopment=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")}async getMoodForecast(t){if(this.isDevelopment)return{primaryForecast:{predictedMood:"chill",confidence:.85,reasoning:"Development mode fallback forecast"},alternativeForecasts:[{mood:"creative",confidence:.75,reasoning:"Alternative based on genre preferences"},{mood:"focused",confidence:.65,reasoning:"Alternative based on session patterns"}],forecastPeriod:"next_week",generatedAt:new Date().toISOString()};try{return(await rd.get(`${this.baseUrl}/mood/forecast`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood forecast:",n),{primaryForecast:{predictedMood:"chill",confidence:.7,reasoning:"Fallback forecast due to API error"},alternativeForecasts:[],forecastPeriod:"next_week",generatedAt:new Date().toISOString()}}}async getMoodResonance(t){if(this.isDevelopment)return{moodAccuracy:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},confidenceAdjustments:{chill:.9,energetic:.7,competitive:.8,social:.6,creative:.95,focused:.75,story:.8,exploratory:.85},sessionPatterns:{chill:{avgDuration:45,avgEngagement:80},energetic:{avgDuration:60,avgEngagement:90},competitive:{avgDuration:75,avgEngagement:95},social:{avgDuration:90,avgEngagement:85},creative:{avgDuration:120,avgEngagement:75},focused:{avgDuration:90,avgEngagement:88},story:{avgDuration:150,avgEngagement:82},exploratory:{avgDuration:120,avgEngagement:78}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:80,energetic:90,competitive:95,social:85,creative:75,focused:88,story:82,exploratory:78}}};try{return(await rd.get(`${this.baseUrl}/mood/resonance`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood resonance:",n),{moodAccuracy:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},confidenceAdjustments:{chill:.8,energetic:.6,competitive:.7,social:.5,creative:.9,focused:.6,story:.7,exploratory:.8},sessionPatterns:{chill:{avgDuration:45,avgEngagement:75},energetic:{avgDuration:60,avgEngagement:85},competitive:{avgDuration:75,avgEngagement:90},social:{avgDuration:90,avgEngagement:80},creative:{avgDuration:120,avgEngagement:70},focused:{avgDuration:90,avgEngagement:85},story:{avgDuration:150,avgEngagement:80},exploratory:{avgDuration:120,avgEngagement:75}},insights:{strongestPredictions:["creative","chill","exploratory"],weakestPredictions:["social","energetic","focused"],optimalSessionLength:{chill:45,energetic:60,competitive:75,social:90,creative:120,focused:90,story:150,exploratory:120},engagementPatterns:{chill:75,energetic:85,competitive:90,social:80,creative:70,focused:85,story:80,exploratory:75}}}}}async getMoodRecommendations(t){if(this.isDevelopment)return{recommendations:[{gameId:"game1",gameTitle:"Zen Puzzle Master",score:.95,reasoning:"Perfect match for current chill mood",moodAlignment:.9,genreMatch:.95,confidence:.85}],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy","adventure"],energetic:["action","shooter","racing","sports","platformer"],competitive:["action","shooter","strategy","fighting","racing"],social:["multiplayer","party","mmorpg","co-op","simulation"],creative:["sandbox","building","puzzle","simulation","adventure"],focused:["strategy","puzzle","rpg","turn-based","card"],story:["rpg","adventure","visual-novel","interactive-movie","simulation"],exploratory:["adventure","open-world","sandbox","survival","simulation"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()};try{return(await rd.get(`${this.baseUrl}/mood/recommendations`,{params:{userId:t}})).data}catch(n){return console.error("Failed to fetch mood recommendations:",n),{recommendations:[],moodToGenreMapping:{chill:["puzzle","casual","simulation","strategy"],energetic:["action","shooter","racing","sports"],competitive:["action","shooter","strategy","fighting"],social:["multiplayer","party","mmorpg","co-op"],creative:["sandbox","building","puzzle","simulation"],focused:["strategy","puzzle","rpg","turn-based"],story:["rpg","adventure","visual-novel","interactive-movie"],exploratory:["adventure","open-world","sandbox","survival"]},trendingMoods:["competitive","social","creative"],generatedAt:new Date().toISOString()}}}}const Ao=new X3;class $u{static computeMoodProfile(t){if(!t||t.length===0)return this.getDefaultProfile();const n=this.analyzeGenreDistribution(t),s=this.analyzePlaytime(t),i=this.computeMoodScores(t,n),a=this.computePersonalityTraits(i,s);return{primaryMood:Object.entries(i).reduce((l,c)=>i[l[0]]>i[c[0]]?l:c)[0],moodScores:i,genreDistribution:n,playtimeAnalysis:s,personalityTraits:a,lastComputed:new Date}}static analyzeGenreDistribution(t){const n={};let s=0;t.forEach(a=>{var o;(o=a.genres)==null||o.forEach(l=>{const c=l.name.toLowerCase();n[c]=(n[c]||0)+1,s++})});const i={};return Object.entries(n).forEach(([a,o])=>{i[a]=s>0?o/s:0}),i}static analyzePlaytime(t){const n=t.reduce((c,d)=>c+(d.hoursPlayed||0),0),s=t.filter(c=>(c.hoursPlayed||0)>0),i=s.length>0?n/s.length:0,a={};t.forEach(c=>{var m;const d=c.hoursPlayed||0;d>0&&((m=c.genres)==null||m.forEach(u=>{const h=u.name.toLowerCase();a[h]=(a[h]||0)+d}))});const o=Object.entries(a).sort((c,d)=>d[1]-c[1]).slice(0,3).map(([c])=>c),l=this.identifyGamingPatterns(t,n,i);return{totalHours:n,averageSession:i,favoriteGenres:o,gamingPatterns:l}}static identifyGamingPatterns(t,n,s){const i=[];n>1e3?i.push("hardcore-gamer"):n>500?i.push("regular-gamer"):n>100?i.push("casual-gamer"):i.push("new-gamer"),s>10?i.push("long-sessions"):s<2?i.push("short-sessions"):i.push("moderate-sessions");const a=new Set(t.flatMap(o=>{var l;return((l=o.genres)==null?void 0:l.map(c=>c.name.toLowerCase()))||[]})).size;return a>10?i.push("genre-explorer"):a<5&&i.push("genre-specialist"),i}static computeMoodScores(t,n){const s={competitive:0,social:0,creative:0,exploratory:0,focused:0,storyDriven:0,chill:0,energetic:0};t.forEach(a=>{var c,d,m;const o=Math.min((a.hoursPlayed||0)/50,1),l=1/(((c=a.genres)==null?void 0:c.length)||1);(d=a.genres)==null||d.forEach(u=>{const h=u.name.toLowerCase(),f=this.GENRE_MOOD_MAP[h]||[],p=o*l;f.forEach(g=>{s[g]=(s[g]||0)+p})}),(m=a.tags)==null||m.forEach(u=>{const h=u.toLowerCase(),f=this.TAG_MOOD_MAP[h]||[],p=o*.5;f.forEach(g=>{s[g]=(s[g]||0)+p})})});const i=Math.max(...Object.values(s));return i>0&&Object.keys(s).forEach(a=>{s[a]=s[a]/i}),s}static computePersonalityTraits(t,n){const s={...t};n.gamingPatterns.includes("hardcore-gamer")&&(s.competitive*=1.2,s.focused*=1.1),n.gamingPatterns.includes("genre-explorer")&&(s.exploratory*=1.2,s.creative*=1.1),n.gamingPatterns.includes("social-gamer")&&(s.social*=1.3);const i=Math.max(...Object.values(s));return i>1&&Object.keys(s).forEach(a=>{s[a]/=i}),s}static getDefaultProfile(){return{primaryMood:"chill",moodScores:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},genreDistribution:{},playtimeAnalysis:{totalHours:0,averageSession:0,favoriteGenres:[],gamingPatterns:["new-gamer"]},personalityTraits:{competitive:.3,social:.4,creative:.5,exploratory:.6,focused:.4,storyDriven:.5,chill:.8,energetic:.3},lastComputed:new Date}}static getMoodRecommendations(t,n,s=10){return t.filter(o=>(o.hoursPlayed||0)<2).map(o=>{var c,d,m;let l=0;return(c=o.genres)==null||c.forEach(u=>{const h=u.name.toLowerCase();(this.GENRE_MOOD_MAP[h]||[]).includes(n.primaryMood)&&(l+=2)}),(d=o.tags)==null||d.forEach(u=>{const h=u.toLowerCase();(this.TAG_MOOD_MAP[h]||[]).includes(n.primaryMood)&&(l+=1)}),(m=o.genres)==null||m.forEach(u=>{const h=u.name.toLowerCase();(this.GENRE_MOOD_MAP[h]||[]).forEach(p=>{l+=n.personalityTraits[p]||0})}),o.globalRating&&(l+=o.globalRating/10),{game:o,score:l}}).sort((o,l)=>l.score-o.score).slice(0,s).map(o=>o.game)}}He($u,"GENRE_MOOD_MAP",{action:["energetic","competitive","focused"],adventure:["exploratory","storyDriven","chill"],rpg:["storyDriven","focused","exploratory"],strategy:["focused","competitive","creative"],puzzle:["focused","creative","chill"],simulation:["creative","chill","exploratory"],sports:["energetic","competitive","social"],racing:["energetic","competitive","focused"],shooter:["competitive","energetic","focused"],platformer:["energetic","focused","exploratory"],fighting:["competitive","energetic","focused"],mmo:["social","exploratory","competitive"],casual:["chill","creative","social"],indie:["creative","exploratory","chill"],horror:["focused","storyDriven","chill"],stealth:["focused","exploratory","competitive"],survival:["exploratory","focused","creative"],music:["creative","chill","energetic"],party:["social","energetic","chill"],board:["social","focused","competitive"],card:["focused","competitive","creative"]}),He($u,"TAG_MOOD_MAP",{multiplayer:["social","competitive"],"single-player":["storyDriven","focused","exploratory"],"co-op":["social","chill","competitive"],achievements:["competitive","focused"],trading:["creative","social"],"free-to-play":["social","chill"],action:["energetic","competitive"],adventure:["exploratory","storyDriven"],rpg:["storyDriven","focused"],strategy:["focused","competitive"],simulation:["creative","chill"],sports:["energetic","competitive"],racing:["energetic","competitive"],puzzle:["focused","creative"],horror:["focused","storyDriven"],survival:["exploratory","focused"]});const J3=$u;function Jl(){const[e,t]=w.useState(null),{games:n}=ye();return w.useEffect(()=>{const s=async()=>{var a;try{if(n&&n.length>0){const c=J3.computeMoodProfile(n),d={moodId:c.primaryMood,intensity:Math.round(c.moodScores[c.primaryMood]*10),timestamp:c.lastComputed,confidence:.85,source:"steam-data"};t(d);return}const o="current-user",l=await Ao.getMoodForecast(o);if((a=l==null?void 0:l.primaryForecast)!=null&&a.predictedMood){const c={moodId:l.primaryForecast.predictedMood,intensity:Math.round(l.primaryForecast.confidence*10),timestamp:new Date(l.generatedAt||Date.now()),confidence:l.primaryForecast.confidence,source:"api"};t(c)}else t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}catch{t({moodId:"chill",intensity:5,timestamp:new Date,confidence:.5,source:"fallback"})}};s();const i=setInterval(s,5*60*1e3);return()=>clearInterval(i)},[n]),e}function Fn(){const{games:e}=ye(),t=Jl();return w.useMemo(()=>{try{const n=Z3(e);return Zs({signals:n,moodEntry:t})}catch(n){return console.warn("Persona snapshot calculation failed, using fallback:",n),Zs({signals:eM(),moodEntry:t})}},[e,t])}function Z3(e){const t=e.reduce((p,g)=>{const y=g.hoursPlayed||0;return y>0&&[...g.genres||[],...g.tags||[]].map(v=>typeof v=="string"?v:v.name||v.description||"").filter(Boolean).forEach(v=>{const b=v.toLowerCase();p[b]=(p[b]||0)+y}),p},{}),n=e.reduce((p,g)=>p+(g.hoursPlayed||0),0),s=e.filter(p=>p.lastPlayed&&new Date(p.lastPlayed).getTime()>Date.now()-30*24*60*60*1e3).length,i=s>0?Math.max(30,Math.min(180,n*60/Math.max(1,s*2))):60,a=s>0?Math.min(14,Math.max(1,Math.round(s/4))):3,o=e.filter(p=>{var v;const y=(p.tags||[]).map(b=>b.toLowerCase()).some(b=>b.includes("multiplayer")||b.includes("co-op")||b.includes("pvp")||b.includes("online")),x=(v=p.platforms)==null?void 0:v.some(b=>b.code==="steam");return y||x}).length,l=e.length>0?o/e.length:.3,c=e.filter(p=>p.playStatus==="completed").length,d=e.length>0?c/e.length:.5,m=e.filter(p=>{if(!p.lastPlayed)return!1;const g=new Date(p.lastPlayed).getHours();return g>=22||g<=6}).length,u=e.length>0?m/e.length:.2,h=Object.keys(t);let f="Normal";return h.some(p=>p.includes("souls")||p.includes("hardcore")||p.includes("brutal"))?f="Brutal":h.some(p=>p.includes("hard")||p.includes("difficult"))?f="Hard":h.some(p=>p.includes("casual")||p.includes("puzzle")||p.includes("relaxed"))&&(f="Relaxed"),{playtimeByGenre:t,averageSessionLengthMinutes:i,sessionsPerWeek:a,difficultyPreference:f,multiplayerRatio:l,lateNightRatio:u,completionRate:d}}function eM(){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:2,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.25,completionRate:.3}}function Ow(){const{games:e,intelligence:t}=ye(),n=Jl();return w.useMemo(()=>{try{const s=tM(e,t);return Zs({signals:s,moodEntry:n})}catch(s){return console.warn("Library persona calculation failed, using fallback:",s),Zs({signals:nM(),moodEntry:n})}},[e,t,n])}function tM(e,t){const n=e.reduce((f,p)=>{const g=p.hoursPlayed||0;return g>0&&[...p.genres||[],...p.subgenres||[]].forEach(x=>{f[x]=(f[x]||0)+g}),f},{}),s=e.reduce((f,p)=>f+(p.hoursPlayed||0),0),i=e.reduce((f,p)=>f+(p.localSessionCount||0),0);let a=60;t.selectedSessionLength?a={short:30,medium:60,long:120}[t.selectedSessionLength]||60:i>0&&(a=s*60/i);const o=i>0?Math.min(7,Math.max(1,Math.round(i/4))):3,l=e.filter(f=>{var y,x;const p=(y=f.tags)==null?void 0:y.some(v=>v.toLowerCase().includes("multiplayer")||v.toLowerCase().includes("co-op")||v.toLowerCase().includes("pvp")||v.toLowerCase().includes("online")),g=(x=f.genres)==null?void 0:x.some(v=>{const b=typeof v=="string"?v:(v==null?void 0:v.name)||"";return b.toLowerCase().includes("multiplayer")||b.toLowerCase().includes("mmorpg")});return p||g}).length,c=e.length>0?l/e.length:.3,d=e.filter(f=>f.playStatus==="completed").length,m=e.length>0?d/e.length:.5,u=e.reduce((f,p)=>([...p.moods||[],...(p.emotionalTags||[]).map(y=>typeof y=="string"?y:y.name||"")].forEach(y=>{y&&(f[y]=(f[y]||0)+(p.hoursPlayed||0))}),f),{}),h=Object.entries(u).reduce((f,[p,g])=>{const y=Number(g)||0;return f[p]=y>0?Math.min(100,y/(s||1)*100):0,f},{});return{playtimeByGenre:n,averageSessionLengthMinutes:a,sessionsPerWeek:o,difficultyPreference:"Normal",multiplayerRatio:c,lateNightRatio:.2,completionRate:m,moodDistribution:u,moodAffinity:h}}function nM(){return{playtimeByGenre:{},averageSessionLengthMinutes:75,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.3,lateNightRatio:.15,completionRate:.4}}function sM(e){return!e||e.length===0?rM:e.map(t=>{var n;return{id:t.id,name:t.title,coverImage:t.coverImage,steamUrl:t.appId?`https://store.steampowered.com/app/${t.appId}`:"",price:"Owned",genres:((n=t.genres)==null?void 0:n.map(s=>s.name))||[],moodTags:t.moods||[],difficulty:"Normal",playstyleTags:t.tags||[],narrativeStyle:"medium",sessionSuitability:"flexible"}})}const rM=[{id:"bg3",name:"Baldur's Gate 3",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1086940/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1086940",price:"$59.99",genres:["RPG","Adventure","Strategy"],moodTags:["immersive","strategic","social","creative"],difficulty:"Normal",playstyleTags:["story-driven","strategic","social"],narrativeStyle:"deep",sessionSuitability:"long"},{id:"cyberpunk",name:"Cyberpunk 2077",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1091500/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1091500",price:"$29.99",genres:["RPG","Action","Open World"],moodTags:["energetic","immersive","competitive","creative"],difficulty:"Normal",playstyleTags:["explorer","competitive","story-driven"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"stardew",name:"Stardew Valley",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/413150/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/413150",price:"$14.99",genres:["Simulation","RPG","Farming"],moodTags:["chill","creative","social","relaxed"],difficulty:"Relaxed",playstyleTags:["casual","creative","social"],narrativeStyle:"light",sessionSuitability:"short"},{id:"hades",name:"Hades",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1145360/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1145360",price:"$24.99",genres:["Roguelike","Action","Indie"],moodTags:["energetic","competitive","focused","challenging"],difficulty:"Hard",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"moderate",sessionSuitability:"short"},{id:"disco",name:"Disco Elysium",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/646920/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/646920",price:"$19.99",genres:["RPG","Indie","Turn-Based"],moodTags:["creative","immersive","thoughtful","relaxed"],difficulty:"Normal",playstyleTags:["story-driven","explorer","creative"],narrativeStyle:"deep",sessionSuitability:"medium"},{id:"vampire",name:"Vampire Survivors",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1794680/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1794680",price:"$4.99",genres:["Action","Roguelike","Survival"],moodTags:["energetic","competitive","focused","addictive"],difficulty:"Normal",playstyleTags:["competitive","achiever","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"elden",name:"Elden Ring",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/1245620/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/1245620",price:"$59.99",genres:["RPG","Action","Open World"],moodTags:["challenging","immersive","focused","competitive"],difficulty:"Brutal",playstyleTags:["explorer","achiever","competitive"],narrativeStyle:"moderate",sessionSuitability:"long"},{id:"hollow",name:"Hollow Knight",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/367520/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/367520",price:"$14.99",genres:["Metroidvania","Action","Indie"],moodTags:["challenging","focused","immersive","exploratory"],difficulty:"Hard",playstyleTags:["explorer","achiever","focused"],narrativeStyle:"light",sessionSuitability:"medium"},{id:"slay",name:"Slay the Spire",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/646570/library_600x900.jpg",steamUrl:"https://store.steampowered.com/app/646570",price:"$16.99",genres:["Roguelike","Strategy","Card Game"],moodTags:["strategic","thoughtful","competitive","challenging"],difficulty:"Hard",playstyleTags:["strategic","competitive","focused"],narrativeStyle:"minimal",sessionSuitability:"short"},{id:"minecraft",name:"Minecraft",coverImage:"https://cdn.akamai.steamstatic.com/steam/apps/239140/library_600x900.jpg",steamUrl:"https://www.minecraft.net",price:"$29.99",genres:["Sandbox","Survival","Creative"],moodTags:["creative","relaxed","social","exploratory"],difficulty:"Relaxed",playstyleTags:["creative","explorer","social","casual"],narrativeStyle:"minimal",sessionSuitability:"flexible"}];function iM(e){return{playtimeByGenre:{},averageSessionLengthMinutes:60,sessionsPerWeek:3,difficultyPreference:"Normal",multiplayerRatio:.4,lateNightRatio:.2,completionRate:.5}}function aM(e,t=[],n,s=0){const i=sM(t);if(!e)return{game:i[Math.floor(Math.random()*Math.min(3,i.length))],explanation:"Based on general trends and popularity",score:50};const a=n||iM(),o=i.map(m=>{let u=0;const h=[],f=oM(m.genres,a.playtimeByGenre);u+=f.points,f.points>0&&h.push(f.reason);const p=lM(m.moodTags,a);u+=p.points,p.points>0&&h.push(p.reason);const g=cM(m.playstyleTags,e.traits.archetypeId);u+=g.points,g.points>0&&h.push(g.reason);const y=dM(m.difficulty,a.difficultyPreference);u+=y.points,y.points>0&&h.push(y.reason);const x=uM(m.sessionSuitability,a.averageSessionLengthMinutes);return u+=x.points,x.points>0&&h.push(x.reason),{...m,score:u,reasons:h}});o.sort((m,u)=>u.score-m.score);const l=Math.min(s,o.length-1),c=o[l];if(!c||c.score===0){const m=s%i.length;return{game:i[m],explanation:"Based on general trends and popularity",score:50}}const d=c.reasons.length>0?c.reasons.slice(0,3).join("  "):"This game matches your gaming preferences";return{game:{id:c.id,name:c.name,coverImage:c.coverImage,steamUrl:c.steamUrl,price:c.price,genres:c.genres,moodTags:c.moodTags,difficulty:c.difficulty,playstyleTags:c.playstyleTags,narrativeStyle:c.narrativeStyle,sessionSuitability:c.sessionSuitability},explanation:d,score:c.score}}function oM(e,t){let n=0,s="";return e.forEach(i=>{const a=i.toLowerCase();if(t[a]){const o=t[a];o>50?(n+=30,s=i):o>20?(n+=20,s=i):o>5&&(n+=10,s=i)}}),{points:n,reason:n>0?`You love ${s} games`:""}}function lM(e,t){let n=0,s="";return e.includes("energetic")&&t.sessionsPerWeek>5&&(n+=15,s="Matches your energetic gaming style"),e.includes("relaxed")&&t.sessionsPerWeek<=3&&(n+=15,s="Perfect for your relaxed gaming pace"),e.includes("focused")&&t.averageSessionLengthMinutes>90&&(n+=10,s="Great for your focused gaming sessions"),e.includes("social")&&t.multiplayerRatio>.5&&(n+=10,s="Matches your social gaming preferences"),{points:n,reason:s}}function cM(e,t){let n=0,s="";return t==="Specialist"&&e.includes("achiever")&&(n+=20,s="Perfect for your achievement-oriented playstyle"),t==="Socialite"&&e.includes("social")&&(n+=20,s="Great for your social gaming preferences"),t==="Casual"&&e.includes("casual")&&(n+=15,s="Matches your casual gaming style"),{points:n,reason:s}}function dM(e,t){const n=["Relaxed","Normal","Hard","Brutal"],s=n.indexOf(e),i=n.indexOf(t),a=Math.abs(s-i);return a===0?{points:15,reason:"Perfect difficulty match for your skill level"}:a===1?{points:8,reason:"Good difficulty match for you"}:{points:0,reason:""}}function uM(e,t){let n=0,s="";return e==="short"&&t<=60?(n=10,s="Perfect for your quick gaming sessions"):e==="medium"&&t>60&&t<=120?(n=10,s="Great for your medium gaming sessions"):e==="long"&&t>120?(n=10,s="Perfect for your long gaming sessions"):e==="flexible"&&(n=5,s="Flexible gaming that fits your schedule"),{points:n,reason:s}}function mM(){const e=Fn(),{games:t}=ye(),[n,s]=w.useState(0);return w.useEffect(()=>{const a=()=>{s(l=>l+1)};return window.addEventListener("persona-refreshed",a),localStorage.getItem("persona_refresh_key")&&(a(),localStorage.removeItem("persona_refresh_key")),()=>{window.removeEventListener("persona-refreshed",a)}},[]),w.useMemo(()=>{try{const a=aM(e,t||[],void 0,n);if(n>0){const o=n%10;if(a&&Math.random()>.3)return{...a,explanation:`${a.explanation}  Fresh recommendation #${n}`,score:Math.min(a.score+(Math.random()*10-5),100)}}return a}catch(a){return console.error("Failed to generate persona recommendation:",a),null}},[e,n])}const hM=e=>{if(e.length===0)return null;const t=Date.now(),n=e.map(a=>{let o=1;if(a.lastLocalPlayedAt){const d=(t-new Date(a.lastLocalPlayedAt).getTime())/864e5;o+=d*2}const l=a.localSessionCount||0;l===0?o+=10:l<5&&(o+=5);const c=a.hoursPlayed||0;return c>1&&c<20&&a.playStatus!=="completed"&&(o+=3),{game:a,weight:o}}),s=n.reduce((a,o)=>a+o.weight,0);let i=Math.random()*s;for(const{game:a,weight:o}of n)if(i-=o,i<=0)return a;return n[0].game};function pM(e,t={}){const n=w.useRef(null),s=w.useRef(new Set);return w.useEffect(()=>(n.current=new IntersectionObserver(e,{threshold:.1,rootMargin:"50px",...t}),()=>{n.current&&(n.current.disconnect(),n.current=null),s.current.clear()}),[e,t]),{observe:o=>{n.current&&o&&(n.current.observe(o),s.current.add(o))},unobserve:o=>{n.current&&o&&(n.current.unobserve(o),s.current.delete(o))}}}class fM{constructor(t=50){He(this,"cache",new Map);He(this,"maxSize");this.maxSize=t}get(t){const n=this.cache.get(t);return n?(this.cache.delete(t),this.cache.set(t,n),n):null}set(t,n){if(this.cache.size>=this.maxSize){const s=this.cache.keys().next().value;s&&this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}const l0=new fM;function gM(e){return new Promise((t,n)=>{const s=l0.get(e);if(s){t(s);return}const i=new Image;i.onload=()=>{l0.set(e,i),t(i)},i.onerror=n,i.src=e})}function Dw({src:e,alt:t,className:n="",onLoad:s,onError:i}){const[a,o]=w.useState(!1),[l,c]=w.useState(!1),[d,m]=w.useState(!1),u=w.useRef(null),{observe:h,unobserve:f}=pM(y=>{y.forEach(x=>{x.isIntersecting&&(c(!0),u.current&&f(u.current))})},{threshold:.1,rootMargin:"50px"});w.useEffect(()=>(u.current&&h(u.current),()=>{u.current&&f(u.current)}),[h,f]);const p=()=>{o(!0),s==null||s()},g=()=>{m(!0),i==null||i()};return w.useEffect(()=>{l&&!d&&gM(e).then(p).catch(g)},[l,e,d]),r.jsxs("div",{ref:u,className:`relative aspect-square overflow-hidden ${n}`,children:[r.jsxs("div",{className:`
          absolute inset-0 bg-gradient-to-br from-gray-800 via-gray-900 to-black 
          flex items-center justify-center transition-all duration-500
          ${a?"opacity-0 scale-95":"opacity-100 scale-100"}
        `,children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"text-4xl text-gray-600",children:""}),r.jsx("div",{className:"absolute inset-0 blur-lg bg-gaming-primary/10 scale-150"})]}),r.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center",children:r.jsx("div",{className:"w-8 h-1 bg-gray-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full w-3/5 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-full"})})})]}),l&&!d&&r.jsx("img",{src:e,alt:t,className:`
            absolute inset-0 w-full h-full object-center transition-opacity duration-500
            ${a?"opacity-100":"opacity-0"}
          `,onLoad:()=>o(!0),onError:()=>m(!0),loading:"lazy",decoding:"async",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{imageRendering:"auto",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",backfaceVisibility:"hidden",transform:"translateZ(0)",willChange:"opacity"}}),d&&r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900/30 via-red-800/20 to-red-900/30 flex flex-col items-center justify-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"text-3xl text-red-500",children:""}),r.jsx("div",{className:"absolute inset-0 blur-lg bg-red-500/10 scale-150"})]}),r.jsx("span",{className:"text-xs text-red-400 mt-2 font-medium",children:"Failed to load"})]}),a&&!d&&r.jsxs("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent"})]})]})}const yM=({games:e,onLaunchGame:t})=>{const[n,s]=w.useState(null),[i,a]=w.useState(!1),o=()=>{a(!0),s(null),setTimeout(()=>{const d=hM(e);s(d),a(!1)},800)},l=()=>{n&&t(n.id)},c=()=>{o()};return r.jsxs("section",{className:"mb-12",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),"Surprise Me"]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[e.length," games available"]})]}),n?r.jsx("div",{className:"glass-morphism rounded-xl overflow-hidden",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"w-32 h-32 flex-shrink-0 overflow-hidden rounded-md bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20",children:n.coverImage?r.jsx(Dw,{src:n.coverImage,alt:n.title,className:"w-full h-full"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("div",{className:"text-3xl text-gray-500",children:""})})}),r.jsxs("div",{className:"flex-1 p-6 flex flex-col justify-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:n.title}),n.genres&&n.genres.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.genres.slice(0,3).map(d=>r.jsx("span",{className:"px-2 py-1 bg-gaming-accent/20 rounded text-xs text-gaming-accent",children:d.name},d.id))}),r.jsxs("div",{className:"space-y-2 mb-6 text-gray-300",children:[n.hoursPlayed&&r.jsxs("p",{children:[" ",Math.floor(n.hoursPlayed),"h played"]}),n.localSessionCount&&r.jsxs("p",{children:[" ",n.localSessionCount," sessions"]}),n.playStatus&&r.jsxs("p",{children:[" Status: ",n.playStatus]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:l,className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold hover:opacity-90 transition-all",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Play Now"]})}),r.jsx("button",{onClick:c,className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-semibold hover:bg-gray-600 transition-all",children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Spin Again"]})})]})]})]})}):r.jsxs("div",{className:"glass-morphism rounded-xl p-12 text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Can't decide what to play?"}),r.jsx("p",{className:"text-gray-300",children:"Let us pick the perfect game from your library based on your play history and preferences."})]}),r.jsx("button",{onClick:o,disabled:i||e.length===0,className:"px-8 py-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"animate-spin",children:""}),"Picking your game..."]}):r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("span",{children:""}),"Surprise Me"]})}),e.length===0&&r.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Import some games first to get surprised!"})]})]})};function Fw({onMoodChange:e,className:t="",variant:n="compact"}){const[s,i]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(!1);w.useState(!1);const d=w.useCallback(g=>{if(i(g),a){const y=ke.find(x=>x.id===g);y&&(y.id==="competitive"&&a==="chill"||y.id==="chill"&&a==="competitive")&&(o(null),c(!1))}e&&e(g,a||void 0)},[a,e]),m=w.useCallback(g=>{if(!s)return;const y=ke.find(x=>x.id===s);y&&!(y.id==="competitive"&&g==="chill"||y.id==="chill"&&g==="competitive")&&(o(g),e&&e(s,g))},[s,e]),u=w.useCallback(()=>{i(null),o(null),c(!1),e&&e("",void 0)},[e]),h=(g,y,x=!1)=>{const v="relative flex flex-col items-center justify-center rounded-xl transition-all duration-300 cursor-pointer overflow-hidden group",b=n==="compact"?"w-14 h-14 text-sm p-2":"w-20 h-20 text-base p-3",S=(T=>{switch(T){case"competitive":return y?"bg-gradient-to-br from-red-600 to-orange-600 shadow-red-500/50 shadow-lg scale-110 border-2 border-red-400":"bg-gradient-to-br from-red-500/20 to-orange-500/20 hover:from-red-500/30 hover:to-orange-500/30 border-2 border-red-500/30 hover:border-red-400/50";case"chill":return y?"bg-gradient-to-br from-blue-600 to-cyan-600 shadow-blue-500/50 shadow-lg scale-110 border-2 border-blue-400":"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 hover:from-blue-500/30 hover:to-cyan-500/30 border-2 border-blue-500/30 hover:border-blue-400/50";case"story":return y?"bg-gradient-to-br from-purple-600 to-pink-600 shadow-purple-500/50 shadow-lg scale-110 border-2 border-purple-400":"bg-gradient-to-br from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border-2 border-purple-500/30 hover:border-purple-400/50";case"creative":return y?"bg-gradient-to-br from-green-600 to-emerald-600 shadow-green-500/50 shadow-lg scale-110 border-2 border-green-400":"bg-gradient-to-br from-green-500/20 to-emerald-500/20 hover:from-green-500/30 hover:to-emerald-500/30 border-2 border-green-500/30 hover:border-green-400/50";case"social":return y?"bg-gradient-to-br from-teal-600 to-cyan-600 shadow-teal-500/50 shadow-lg scale-110 border-2 border-teal-400":"bg-gradient-to-br from-teal-500/20 to-cyan-500/20 hover:from-teal-500/30 hover:to-cyan-500/30 border-2 border-teal-500/30 hover:border-teal-400/50";case"focused":return y?"bg-gradient-to-br from-indigo-600 to-purple-600 shadow-indigo-500/50 shadow-lg scale-110 border-2 border-indigo-400":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 hover:from-indigo-500/30 hover:to-purple-500/30 border-2 border-indigo-500/30 hover:border-indigo-400/50";case"energetic":return y?"bg-gradient-to-br from-yellow-600 to-orange-600 shadow-yellow-500/50 shadow-lg scale-110 border-2 border-yellow-400":"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 hover:from-yellow-500/30 hover:to-orange-500/30 border-2 border-yellow-500/30 hover:border-yellow-400/50";case"exploratory":return y?"bg-gradient-to-br from-emerald-600 to-teal-600 shadow-emerald-500/50 shadow-lg scale-110 border-2 border-emerald-400":"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 hover:from-emerald-500/30 hover:to-teal-500/30 border-2 border-emerald-500/30 hover:border-emerald-400/50";default:return y?"bg-gradient-to-br from-gray-600 to-slate-600 shadow-gray-500/50 shadow-lg scale-110 border-2 border-gray-400":"bg-gradient-to-br from-gray-500/20 to-slate-500/20 hover:from-gray-500/30 hover:to-slate-500/30 border-2 border-gray-500/30 hover:border-gray-400/50"}})(g.id);return`${v} ${b} ${S}`},f=s?ke.find(g=>g.id===s):void 0,p=a?ke.find(g=>g.id===a):void 0;return n==="compact"?r.jsxs("div",{className:`glass-morphism rounded-xl p-4 ${t}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-semibold",children:"How are you feeling?"}),(s||a)&&r.jsx("button",{onClick:u,className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-4 gap-3 mb-4",children:ke.map((g,y)=>r.jsxs(V.button,{onClick:()=>d(g.id),className:h(g,g.id===s),title:g.name,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:y*.05,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsxs("div",{className:"relative z-10",children:[r.jsx("span",{className:"text-2xl mb-1 block",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-bold drop-shadow-lg",children:g.name})]}),g.id===s&&r.jsx(V.div,{className:"absolute inset-0 bg-white/20 rounded-xl",initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0}})]},g.id))}),s&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Add secondary mood?"}),r.jsx("button",{onClick:()=>c(!l),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:l?"Hide":"Show"})]}),l&&r.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"grid grid-cols-4 gap-3",children:ke.filter(g=>g.id!==s).map((g,y)=>r.jsxs(V.button,{onClick:()=>m(g.id),className:h(g,g.id===a,!0),title:g.name,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:y*.05,duration:.3},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[r.jsxs("div",{className:"relative z-10",children:[r.jsx("span",{className:"text-xl mb-1 block",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-bold drop-shadow-lg",children:g.name})]}),g.id===a&&r.jsx(V.div,{className:"absolute inset-0 bg-white/20 rounded-xl",initial:{opacity:0},animate:{opacity:[0,.3,0]},transition:{duration:2,repeat:1/0}})]},g.id))})]}),(f||p)&&r.jsxs("div",{className:"mt-3 p-2 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-lg",children:f.emoji}),r.jsx("span",{className:"text-sm text-white",children:f.name})]}),p&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsx("span",{className:"text-lg",children:p.emoji}),r.jsx("span",{className:"text-sm text-white",children:p.name})]})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[f==null?void 0:f.description,p&&` + ${p.description}`]})]})]}):r.jsxs("div",{className:`glass-morphism rounded-2xl p-6 ${t}`,children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Select Your Gaming Mood"}),r.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Choose how you're feeling to get personalized game recommendations"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Primary Mood"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:ke.map(g=>r.jsxs("button",{onClick:()=>d(g.id),className:h(g,g.id===s),title:g.name,children:[r.jsx("span",{className:"text-2xl mb-1",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-medium",children:g.name})]},g.id))})]}),s&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Secondary Mood (Optional)"}),r.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:l?"Hide":"Add Secondary Mood"})]}),l&&r.jsx("div",{className:"grid grid-cols-4 gap-3",children:ke.filter(g=>g.id!==s).map(g=>r.jsxs("button",{onClick:()=>m(g.id),className:h(g,g.id===a,!0),title:g.name,children:[r.jsx("span",{className:"text-2xl mb-1",children:g.emoji}),r.jsx("span",{className:"text-xs text-white font-medium",children:g.name})]},g.id))})]}),(f||p)&&r.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Current Selection"}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:f.emoji}),r.jsx("span",{className:"text-white font-medium",children:f.name})]}),p&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:p.emoji}),r.jsx("span",{className:"text-white font-medium",children:p.name})]})]}),r.jsx("button",{onClick:u,className:"ml-auto text-sm text-gray-400 hover:text-white transition-colors",children:"Clear"})]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[f==null?void 0:f.description,p&&` + ${p.description}`]})]})]})}function Zl(e){var i;const t=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[],n=e.moods||[],s=e.title.toLowerCase();return t.includes("sandbox")||t.includes("city-builder")||t.includes("simulation")||s.includes("minecraft")||s.includes("terraria")||s.includes("starbound")||s.includes("rimworld")||s.includes("necesse")||s.includes("garry's mod")||s.includes("project zomboid")||s.includes("core keeper")||s.includes("forager")||s.includes("cryofall")||s.includes("kenshi")||s.includes("outward")?"creative":t.includes("rpg")||t.includes("jrpg")||t.includes("visual-novel")||t.includes("interactive-fiction")||t.includes("role-playing")||s.includes("witcher")||s.includes("mass effect")||s.includes("dragon age")||s.includes("skyrim")||s.includes("fallout")||s.includes("bioshock")||s.includes("baldur's gate")||s.includes("divinity")||s.includes("god of war")||s.includes("star wars")||s.includes("kingdom come")||s.includes("cyberpunk")?"story":n.some(a=>a.includes("competitive"))||t.includes("fighting")||t.includes("racing")||s.includes("apex legends")||s.includes("pubg")||s.includes("rainbow six")||s.includes("battlebit")||s.includes("rust")||s.includes("counter-strike")||s.includes("valorant")||s.includes("overwatch")||s.includes("crab game")||s.includes("z1 battle royale")||s.includes("efootball")||s.includes("wwe 2k")?"competitive":n.some(a=>a.includes("multiplayer")||a.includes("online")||a.includes("coop"))||t.includes("multiplayer")||s.includes("left 4 dead")||s.includes("rocket league")||s.includes("helldivers")||s.includes("valheim")||s.includes("squad")||s.includes("arma")||s.includes("don't starve together")||s.includes("dayz")||s.includes("humanitz")||s.includes("insurgency")||s.includes("hell let loose")||s.includes("h1z1")||s.includes("the forest")||s.includes("stranded deep")||s.includes("survive the nights")||s.includes("unturned")?"social":t.includes("adventure")||t.includes("metroidvania")||t.includes("open-world")||s.includes("elden ring")||s.includes("dark souls")||s.includes("sekiro")||s.includes("zelda")||s.includes("assassin's creed")||s.includes("horizon")||s.includes("resident evil")||s.includes("batman")||s.includes("spider-man")||s.includes("marvel's spider-man")||s.includes("days gone")||s.includes("dying light")||s.includes("middle-earth")||s.includes("shadow of mordor")||s.includes("no man's sky")||s.includes("subnautica")||s.includes("elite dangerous")||s.includes("the long dark")||s.includes("green hell")?"exploratory":t.includes("strategy")||t.includes("tactical")||t.includes("puzzle")||s.includes("company of heroes")||s.includes("age of empires")||s.includes("command & conquer")||s.includes("starcraft")||s.includes("warcraft")||s.includes("civilization")||s.includes("total war")||s.includes("stronghold")||s.includes("anno")||s.includes("door kickers")||s.includes("shadow tactics")||s.includes("invisible inc")||s.includes("mark of the ninja")||s.includes("hitman")||s.includes("splinter cell")?"focused":t.includes("action")||t.includes("shooter")||s.includes("doom")||s.includes("quake")||s.includes("serious sam")||s.includes("ultrakill")||s.includes("painkiller")||s.includes("wolfenstein")||s.includes("resident evil")||s.includes("dying light")||s.includes("dead island")||s.includes("doom")||s.includes("quake")||s.includes("serioussam")||s.includes("ultrakill")||s.includes("painkiller")||s.includes("wolfenstein")?"energetic":t.includes("casual")||t.includes("puzzle")||t.includes("sports")||s.includes("stardew valley")||s.includes("animal crossing")||s.includes("simcity")||s.includes("the sims")||s.includes("cities: skylines")||s.includes("powerwash")||s.includes("unpacking")||s.includes("a short hike")||s.includes("flower")||s.includes("pga tour")||s.includes("snooker")||s.includes("wwe 2k")||s.includes("efootball")||s.includes("fifa")||s.includes("nba")?"chill":null}function xM(e){const t=e.title.toLowerCase(),n=[...e.moods||[]];return(t.includes("left 4 dead")||t.includes("rocket league")||t.includes("apex legends")||t.includes("helldivers")||t.includes("rust")||t.includes("valheim")||t.includes("squad")||t.includes("arma")||t.includes("pubg")||t.includes("rainbow six")||t.includes("battlebit")||t.includes("crab game")||t.includes("don't starve together")||t.includes("dayz")||t.includes("humanitz")||t.includes("insurgency")||t.includes("hell let loose")||t.includes("h1z1")||t.includes("z1 battle royale")||t.includes("the forest")||t.includes("stranded deep")||t.includes("survive the nights")||t.includes("project zomboid")||t.includes("unturned"))&&n.push("multiplayer","online"),(t.includes("apex legends")||t.includes("pubg")||t.includes("rainbow six")||t.includes("battlebit")||t.includes("rust")||t.includes("counter-strike")||t.includes("valorant")||t.includes("overwatch")||t.includes("crab game")||t.includes("z1 battle royale")||t.includes("efootball")||t.includes("wwe 2k"))&&n.push("competitive"),(t.includes("left 4 dead")||t.includes("helldivers")||t.includes("don't starve together")||t.includes("valheim")||t.includes("rust")||t.includes("project zomboid"))&&n.push("coop"),{...e,moods:[...new Set(n)]}}function zw(e){const t=Zl(e);if(!t)return[];const n=[t],s=vM(e,t);return s&&s!==t&&n.push(s),n}function vM(e,t){var a,o;const n=((a=e.genres)==null?void 0:a.map(l=>l.name.toLowerCase()))||[],s=((o=e.tags)==null?void 0:o.map(l=>l.toLowerCase()))||[],i=e.title.toLowerCase();if(e.moods&&Array.isArray(e.moods)&&e.moods.length>1)return null;switch(t){case"competitive":if(n.includes("multiplayer")||s.includes("team-based")||i.includes("valorant")||i.includes("overwatch")||i.includes("apex"))return"social";if(n.includes("shooter")||n.includes("action")||i.includes("doom")||i.includes("quake")||i.includes("ultrakill"))return"energetic";break;case"story":if(n.includes("open-world")||n.includes("adventure")||i.includes("skyrim")||i.includes("witcher")||i.includes("elden ring"))return"exploratory";if(n.includes("strategy")||n.includes("tactical")||i.includes("baldur's gate")||i.includes("divinity")||i.includes("xcom"))return"focused";break;case"creative":if(n.includes("casual")||n.includes("puzzle")||i.includes("stardew valley")||i.includes("animal crossing")||i.includes("the sims"))return"chill";if(n.includes("strategy")||n.includes("management")||i.includes("factorio")||i.includes("oxygen not included")||i.includes("rimworld"))return"focused";break;case"social":if(n.includes("casual")||n.includes("party")||i.includes("among us")||i.includes("fall guys")||i.includes("human: fall flat"))return"chill";if(s.includes("competitive")||n.includes("fighting")||n.includes("sports")||i.includes("rocket league")||i.includes("fifa")||i.includes("nba"))return"competitive";break;case"exploratory":if(n.includes("rpg")||n.includes("visual-novel")||i.includes("subnautica")||i.includes("no man's sky")||i.includes("outer wilds"))return"story";if(n.includes("action")||n.includes("shooter")||i.includes("tomb raider")||i.includes("uncharted")||i.includes("horizon"))return"energetic";break;case"focused":if(n.includes("puzzle")||n.includes("simulation")||i.includes("portal")||i.includes("zachtronics")||i.includes("infinifactory"))return"creative";if(n.includes("multiplayer")||s.includes("competitive")||i.includes("starcraft")||i.includes("age of empires")||i.includes("civilization"))return"competitive";break;case"energetic":if(n.includes("multiplayer")||n.includes("fighting")||i.includes("smash bros")||i.includes("street fighter")||i.includes("mortal kombat"))return"competitive";if(n.includes("party")||s.includes("local-multiplayer")||i.includes("mario party")||i.includes("super smash bros")||i.includes("fall guys"))return"social";break;case"chill":if(n.includes("simulation")||n.includes("building")||i.includes("powerwash")||i.includes("unpacking")||i.includes("townscaper"))return"creative";if(n.includes("multiplayer")||s.includes("co-op")||i.includes("stardew valley")||i.includes("animal crossing")||i.includes("it takes two"))return"social";break}return null}function c0(e,t){if(e===t)return 1;const n=ke.find(l=>l.id===e),s=ke.find(l=>l.id===t);if(!n||!s)return 0;const i=n.associatedGenres.filter(l=>s.associatedGenres.includes(l)),a=new Set([...n.associatedGenres,...s.associatedGenres]).size;return i.length/a}function bM(e,t){switch(e){case"competitive":return t>.7?1.2:.8;case"chill":return t<.5?1.2:.9;case"energetic":return t>.8?1.3:.7;case"focused":return t>.6?1.1:.9;case"creative":return t>.4&&t<.8?1.1:.9;default:return 1}}function wM(e,t,n,s){let i=50;const a=zw(e);if(a.includes(t)&&(i+=100),n&&a.includes(n)&&(i+=50),a.length>0){const c=c0(t,a[0]);if(i+=c*75,n&&a.length>1){const d=c0(n,a[1]);i+=d*25}}const o=bM(t,s);i=i*o;const l=ke.find(c=>c.id===t);if(l&&e.genres){const c=e.genres.filter(d=>l.associatedGenres.includes(d.name.toLowerCase()));i+=c.length*10}return Math.min(100,Math.max(0,i))}function jM(e){return e.map(t=>({...t,moods:zw(t)}))}function Rh({games:e,onRecommendationsChange:t}){const[n,s]=w.useState({intensity:.8,recommendations:[],isLoading:!1}),i=w.useCallback((c,d,m)=>wM(c,d,n.secondaryMood||null,m),[n.secondaryMood]),a=w.useCallback(async(c,d)=>{s(m=>({...m,isLoading:!0,error:void 0}));try{const m=ke.find(p=>p.id===c);if(!m)throw new Error(`Primary mood not found: ${c}`);const f=w.useMemo(()=>c?jM(e).map(y=>({game:y,score:i(y,c,n.intensity)})).sort((y,x)=>x.score-y.score).slice(0,12).map(y=>y.game):e,[e,c,n.intensity,i]).map(p=>{let g=i(p,c,n.intensity),y=`Matches ${m.name.toLowerCase()} mood`;if(d){const x=ke.find(v=>v.id===d);if(x){const v=i(p,d,n.intensity);g=(g+v)/2,y+=` and ${x.name.toLowerCase()} mood`}}return{...p,moodScore:g,reasoning:y}}).filter(p=>p.moodScore>40).sort((p,g)=>g.moodScore-p.moodScore).slice(0,10);s(p=>({...p,primaryMood:c,secondaryMood:d,recommendations:f,isLoading:!1})),t==null||t(f)}catch(m){s(u=>({...u,error:m instanceof Error?m.message:"Failed to generate recommendations",isLoading:!1,recommendations:[]}))}},[e,n.intensity,i,t]),o=w.useCallback(()=>{s(c=>({...c,primaryMood:void 0,secondaryMood:void 0,recommendations:[]})),t==null||t([])},[t]),l=w.useCallback(c=>{s(d=>({...d,intensity:c}))},[]);return{primaryMood:n.primaryMood,secondaryMood:n.secondaryMood,intensity:n.intensity,recommendations:n.recommendations,isLoading:n.isLoading,error:n.error,selectMood:a,clearMood:o,setIntensity:l,hasRecommendations:n.recommendations.length>0,recommendationCount:n.recommendations.length,primaryMoodInfo:n.primaryMood?ke.find(c=>c.id===n.primaryMood):void 0,secondaryMoodInfo:n.secondaryMood?ke.find(c=>c.id===n.secondaryMood):void 0}}const NM=({user:e,games:t=[],currentPersona:n})=>{const s=(t==null?void 0:t.length)||0,i=(e==null?void 0:e.displayName)||(e==null?void 0:e.username)||"Gamer";return r.jsxs(V.section,{className:"relative mb-8 overflow-hidden rounded-2xl gaming-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[r.jsxs("div",{className:"absolute inset-0 gaming-gradient-subtle",children:[r.jsx(V.div,{className:"absolute top-10 left-10 w-32 h-32 bg-gaming-primary/30 rounded-full blur-3xl neon-glow",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(V.div,{className:"absolute bottom-10 right-10 w-40 h-40 bg-gaming-secondary/30 rounded-full blur-3xl neon-glow",animate:{scale:[1.2,1,1.2],opacity:[.4,.7,.4]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),r.jsxs("div",{className:"relative z-10 p-8 lg:p-12",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.6},className:"mb-6 lg:mb-0",children:[r.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-4 neon-text",children:["Welcome back, ",r.jsx("span",{className:"text-gaming-accent",children:i})]}),r.jsx("p",{className:"text-xl text-gray-300 mb-6",children:"Ready to discover your perfect gaming experience?"}),(n==null?void 0:n.mood)&&typeof n.mood=="string"&&r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},className:"inline-flex items-center gap-3 px-4 py-2 rounded-full glass-enhanced border border-gaming-accent/30",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mood-${n.mood.toLowerCase()}`}),r.jsxs("span",{className:"text-white font-medium capitalize",children:[n.mood," Mood"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift",children:[r.jsx("div",{className:"text-3xl font-bold text-gaming-primary mb-1",children:s}),r.jsx("div",{className:"text-sm text-gray-300",children:"Games in Library"})]}),r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift",children:[r.jsx("div",{className:"text-3xl font-bold text-gaming-accent mb-1",children:(n==null?void 0:n.level)||1}),r.jsx("div",{className:"text-sm text-gray-300",children:"Player Level"})]}),r.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"glass-enhanced rounded-xl p-4 text-center hover-lift lg:col-span-1 col-span-2",children:r.jsx(Ue,{to:"/library",className:"gaming-button inline-block w-full text-center",children:"Browse Library"})})]})]}),r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"mt-8 flex flex-wrap gap-4",children:[r.jsx(Ue,{to:"/mood-selector",className:"gaming-button hover-scale",children:" Find Your Mood"}),r.jsx(Ue,{to:"/integrations",className:"glass-enhanced px-6 py-3 rounded-xl text-white hover-lift transition-all duration-300",children:" Connect Steam"}),r.jsx(Ue,{to:"/recommendations",className:"glass-enhanced px-6 py-3 rounded-xl text-white hover-lift transition-all duration-300",children:" Discover Games"})]})]})]})};function SM(){const[e,t]=w.useState(null),[n,s]=w.useState(!1);return w.useEffect(()=>{const a=bt.getCurrentPersona();t(a);const o=setInterval(()=>{const l=bt.getCurrentPersona();JSON.stringify(l)!==JSON.stringify(e)&&t(l)},1e3);return s(!0),()=>{clearInterval(o),s(!1)}},[]),{persona:e,isListening:n,refreshPersona:async()=>{try{const a=bt.getCurrentPersona();t(a)}catch(a){console.error("Failed to refresh persona:",a)}},isPersonaInitialized:bt.isPersonaInitialized()}}const kM=e=>{var a;const t=["multiplayer","coop","co-op","cooperative","online","party","shared-world","mmorpg","mmo","team-based","pvp","local-multiplayer"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},d0=e=>{var a;const t=["competitive","fps","shooter","moba","fighting","racing","esports","skill-based","pvp","ranked","tournament"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},CM=e=>{var i;const t=["relaxing","cozy","casual","meditative","peaceful","calm","low-stress","zen","ambient"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},EM=e=>{var a;const t=["building","crafting","sandbox","city-builder","design","creation","customization","modding","construction"],n=e.moods||[],s=((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[],i=e.title.toLowerCase();return t.some(o=>n.some(l=>l.toLowerCase().includes(o))||s.some(l=>l.includes(o))||i.includes(o))},PM=e=>{var i;const t=["story-rich","narrative","visual-novel","walking-simulator","story-driven","cinematic","dialogue-heavy","interactive-fiction"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},TM=e=>{var i;const t=["open-world","exploration","metroidvania","survival-adventure","action-adventure","platformer","quest","discovery"],n=e.moods||[],s=((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[];return t.some(a=>n.some(o=>o.toLowerCase().includes(a))||s.some(o=>o.includes(a)))},MM=[{id:"social",name:"Social",description:"Playing and connecting with others",icon:"",color:"from-teal-500 to-cyan-600",priority:10,requiredFeatures:["multiplayer","coop","co-op","cooperative","online","party","shared-world"],excludedFeatures:["single-player","solo-only"],matches:e=>kM(e),scoreReason:()=>"Multiplayer/cooperative gameplay"},{id:"competitive",name:"Competitive",description:"Challenge-seeking and achievement-focused",icon:"",color:"from-red-500 to-orange-600",priority:9,requiredFeatures:["competitive","fps","moba","fighting","racing","esports","skill-based"],excludedFeatures:["casual","relaxing","cozy"],matches:e=>d0(e),scoreReason:()=>"Competitive skill-based gameplay"},{id:"story",name:"Story",description:"Immersive narrative experiences",icon:"",color:"from-purple-500 to-pink-600",priority:7,includedGenres:["rpg","jrpg","visual-novel","interactive-fiction"],excludedGenres:["adventure","action-adventure","open-world"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["rpg","jrpg","role-playing"].includes(a)),s=PM(e);return n||s},scoreReason:()=>"Story-driven narrative experience"},{id:"adventure",name:"Adventure",description:"Exploration and discovery experiences",icon:"",color:"from-green-500 to-teal-600",priority:6,includedGenres:["action-adventure","metroidvania","platformer"],excludedGenres:["rpg","jrpg","visual-novel"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["action-adventure","metroidvania","platformer"].includes(a)),s=TM(e);return n||s},scoreReason:()=>"Exploration-focused adventure"},{id:"chill",name:"Chill",description:"Relaxed and laid-back gaming sessions",icon:"",color:"from-blue-400 to-cyan-500",priority:5,includedGenres:["puzzle","casual","simulation"],excludedGenres:["action","shooter","survival","competitive"],matches:e=>{var a;const n=(((a=e.genres)==null?void 0:a.map(o=>o.name.toLowerCase()))||[]).some(o=>["puzzle","casual","simulation"].includes(o)),s=CM(e),i=d0(e);return(n||s)&&!i},scoreReason:()=>"Relaxing, low-pressure gameplay"},{id:"creative",name:"Creative",description:"Building and expressing creativity",icon:"",color:"from-green-500 to-emerald-600",priority:4,includedGenres:["sandbox","city-builder","simulation"],excludedGenres:["action","shooter","competitive"],matches:e=>{var i;const n=(((i=e.genres)==null?void 0:i.map(a=>a.name.toLowerCase()))||[]).some(a=>["sandbox","city-builder","simulation"].includes(a)),s=EM(e);return n||s},scoreReason:()=>"Creative building and expression"}];function $w(e,t,n){const s=e.filter(i=>Zl(i)===t);return n?s.slice(0,n):s}const AM=()=>{const{games:e}=ye(),[t,n]=w.useState("social"),[s,i]=w.useState([]),[a,o]=w.useState(!1);return w.useEffect(()=>{if(e.length>0){const l=$w(e,t,20);i(l)}},[e,t]),a?r.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-gray-900 border border-gray-700 rounded-lg shadow-xl p-4 w-96 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-white font-bold",children:"Mood Filter Debug"}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white",children:""})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-white text-sm block mb-2",children:"Select Mood:"}),r.jsx("select",{value:t,onChange:l=>n(l.target.value),className:"w-full bg-gray-800 text-white border border-gray-600 rounded px-3 py-2",children:MM.map(l=>r.jsxs("option",{value:l.id,children:[l.icon," ",l.name]},l.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-white text-sm mb-2",children:["Total Games: ",e.length," | Filtered: ",s.length]}),r.jsx("div",{className:"text-gray-400 text-xs",children:s.length===0&&"No games match this mood. Check game moods and genres."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-white text-sm font-semibold",children:"Filtered Games:"}),s.length===0?r.jsx("div",{className:"text-gray-400 text-sm",children:"No games found"}):s.map(l=>r.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[r.jsx("div",{className:"text-white text-sm font-medium",children:l.title}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Moods: ",(l.moods||[]).join(", ")||"None"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Genres: ",(l.genres||[]).map(c=>c.name).join(", ")||"None"]})]},l.id))]}),e.length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[r.jsx("div",{className:"text-white text-sm font-semibold mb-2",children:"Sample Game Data:"}),r.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[r.jsx("div",{className:"text-white text-sm font-medium",children:e[0].title}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Moods: ",(e[0].moods||[]).join(", ")||"None"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:["Genres: ",(e[0].genres||[]).map(l=>l.name).join(", ")||"None"]})]})]})]}):r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:r.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-700",children:" Debug Mood Filter"})})};function u0(e){return{energetic:{ring:"ring-amber-400/20",shadow:"shadow-amber-400/10",glow:"amber-400"},creative:{ring:"ring-purple-400/20",shadow:"shadow-purple-400/10",glow:"purple-400"},focused:{ring:"ring-blue-400/20",shadow:"shadow-blue-400/10",glow:"blue-400"},relaxed:{ring:"ring-teal-400/20",shadow:"shadow-teal-400/10",glow:"teal-400"},competitive:{ring:"ring-red-400/20",shadow:"shadow-red-400/10",glow:"red-400"},exploratory:{ring:"ring-emerald-400/20",shadow:"shadow-emerald-400/10",glow:"emerald-400"},social:{ring:"ring-pink-400/20",shadow:"shadow-pink-400/10",glow:"pink-400"}}[e==null?void 0:e.toLowerCase()]||{ring:"ring-white/10",shadow:"shadow-white/5",glow:"white"}}function m0(e){var t,n,s;return((t=e.compoundMoods)==null?void 0:t.length)>0?e.compoundMoods[0].primary:((n=e.sessionInsights)==null?void 0:n.averageMoodDelta)>.5?"energetic":((s=e.sessionInsights)==null?void 0:s.averageMoodDelta)<-.5?"relaxed":"focused"}function IM(e){return!e||e.length===0?"None":e.map(t=>t===0?"12am":t===12?"12pm":t<12?`${t}am`:`${t-12}pm`).slice(0,3).join(", ")}function _M(e){return e===0?"neutral":e>0?`improved (+${e.toFixed(1)})`:`declined (${e.toFixed(1)})`}function RM(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}function LM(e){if(!e||Object.keys(e).length===0)return null;let t="",n=-1;return Object.entries(e).forEach(([s,i])=>{i>n&&(n=i,t=s)}),{day:t,value:n}}function OM({enhancedInsights:e,className:t=""}){var o,l;if(!e)return null;const{temporalInsights:n,sessionInsights:s,compoundMoods:i}=e;return n&&(((o=n.bestHours)==null?void 0:o.length)>0||n.dayTrends)||s&&s.averageMoodDelta!==void 0||i&&i.length>0?r.jsxs(V.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},whileHover:{scale:1.01,y:-2},className:`mt-2 p-3 rounded-xl bg-white/5 dark:bg-neutral-900/20
                      backdrop-blur-md border border-white/10 shadow-sm
                      transition-opacity duration-300 ${t}`,style:{ring:`1px ${u0(m0(e)).ring}`,boxShadow:`0 4px 6px -1px ${u0(m0(e)).shadow}`},children:[r.jsx(V.div,{initial:{opacity:1},animate:{opacity:[1,.9,1]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/5 to-transparent"}),r.jsx("div",{className:"text-sm font-semibold text-white/80 mb-3 relative z-10",children:"Enhanced Insights"}),n&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Temporal Patterns"}),n.bestHours&&n.bestHours.length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Best hours:"}),r.jsx("span",{className:"text-sm text-white/90",children:IM(n.bestHours)})]}),n.dayTrends&&Object.keys(n.dayTrends).length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Best day:"}),(()=>{const c=LM(n.dayTrends);return c?r.jsx("span",{className:"text-sm text-white/90",children:RM(Object.keys(n.dayTrends).indexOf(c.day))}):null})()]})]}),(s||i)&&r.jsx("div",{className:"h-px bg-white/10 my-2 relative z-10"})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Session Analysis"}),s.averageMoodDelta!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Last sessions:"}),r.jsx("span",{className:`text-sm font-medium ${s.averageMoodDelta>0?"text-green-400":s.averageMoodDelta<0?"text-red-400":"text-gray-400"}`,children:_M(s.averageMoodDelta)})]}),s.positiveSessionRatio!==void 0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Positive sessions:"}),r.jsxs("span",{className:`text-sm font-medium ${s.positiveSessionRatio>.7?"text-green-400":s.positiveSessionRatio<.3?"text-red-400":"text-yellow-400"}`,children:[Math.round(s.positiveSessionRatio*100),"%"]})]})]}),i&&r.jsx("div",{className:"h-px bg-white/10 my-2 relative z-10"})]}),i&&i.length>0&&r.jsxs("div",{className:"space-y-2 relative z-10",children:[r.jsx("div",{className:"text-xs font-medium text-white/60 uppercase tracking-wider",children:"Mood Patterns"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-white/60",children:"Frequent combo:"}),r.jsxs("span",{className:"text-sm text-white/90",children:[i[0].primary," + ",i[0].secondary]})]})]})]},((l=e.timestamp)==null?void 0:l.getTime())||"default"):null}const DM=({persona:e})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 bg-gradient-to-br from-purple-900/20 to-blue-900/20 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl font-bold",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Your Gaming Identity"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Persona-powered insights"})]})]}),r.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-white/5 border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-purple-400 text-sm font-semibold",children:"IDENTITY"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-purple-500/50 to-transparent"})]}),r.jsx("p",{className:"text-white leading-relaxed",children:e.identitySummary})]}),e.dominantTraits.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-blue-400 text-sm font-semibold",children:"TRAITS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-500/50 to-transparent"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.dominantTraits.map((t,n)=>r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-400/30 text-blue-300",children:t.charAt(0).toUpperCase()+t.slice(1)},n))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-green-400 text-sm font-semibold",children:"MOOD"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-green-500/50 to-transparent"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:e.currentMood==="neutral"?"":e.currentMood==="competitive"?"":e.currentMood==="creative"?"":""})}),r.jsx("span",{className:"text-white capitalize",children:e.currentMood})]})]}),r.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-r from-indigo-900/20 to-purple-900/20 border border-indigo-400/20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-indigo-400 text-sm font-semibold",children:"RECOMMENDATIONS"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-indigo-500/50 to-transparent"})]}),r.jsx("p",{className:"text-indigo-200 text-sm leading-relaxed",children:e.recommendationContext})]})]});function FM(e){const{games:t,sessions:n}=e.steam,s={};t.forEach(h=>{const f=h.hoursPlayed||h.totalPlaytime||1;h.genres&&Array.isArray(h.genres)&&h.genres.forEach(p=>{const g=typeof p=="string"?p:p.name;g&&(s[g]=(s[g]||0)+f)})});const i=t.map(h=>{var f;return((f=h.achievements)==null?void 0:f.total)||0}).filter(h=>h>0),a=t.filter(h=>{var f;return(((f=h.achievements)==null?void 0:f.unlocked)||0)>0}).length,l=i.reduce((h,f)=>h+f,0)>0?a/t.length:0,c=n.length>0?n.reduce((h,f)=>h+f.duration,0)/n.length:0,d=t.map(h=>h.hoursPlayed||h.totalPlaytime||0).sort((h,f)=>f-h),m=t.filter(h=>h.emotionalTags&&h.emotionalTags.some(f=>{var p;return typeof f=="string"?f.toLowerCase().includes("multiplayer"):((p=f.name)==null?void 0:p.toLowerCase().includes("multiplayer"))||!1})).length,u=t.length>0?m/t.length:0;return{genreAffinity:s,completionRate:l,sessionPattern:c,playtimeDistribution:d,multiplayerRatio:u}}function zM(e){const{genreAffinity:t,completionRate:n,sessionPattern:s,playtimeDistribution:i,multiplayerRatio:a}=e,o=Object.keys(t).length,l=Math.min(o/10,1),c=Object.values(t),d=c.reduce((b,j)=>b+j,0),m=c.length>0?Math.max(...c):0,u=d>0?m/d:0,h=Math.max(0,Math.min(a,1)),f=Math.max(0,Math.min(n,1)),p=Math.max(0,Math.min(s/180,1)),g=5,y=i.filter(b=>b<=g).length,x=i.length,v=x>0?y/x:0;return{explorer:Math.max(0,Math.min(l,1)),specialist:Math.max(0,Math.min(u,1)),competitor:Math.max(0,Math.min(h,1)),completionist:Math.max(0,Math.min(f,1)),strategist:Math.max(0,Math.min(p,1)),adventurer:Math.max(0,Math.min(v,1))}}function $M(e){return"neutral"}function GM(e,t){const s=Object.entries(e).sort(([,o],[,l])=>l-o).filter(([,o])=>o>.3).slice(0,3).map(([o])=>o);let i;if(s.length===0)i="Your gaming identity is still taking shape.";else{const o=s.map(l=>l.charAt(0).toUpperCase()+l.slice(1));o.length===1?i=`You play like a ${o[0]}.`:o.length===2?i=`You play like a ${o[0]} and ${o[1]}.`:i=`You play like a ${o[0]}, ${o[1]}, and ${o[2]}.`}return{identitySummary:i,dominantTraits:s,currentMood:t,recommendationContext:t==="neutral"?"We'll start with balanced recommendations while we learn more about you.":"We'll tune recommendations to match your current mood."}}const h0={theme:"dark",accentColor:"#3b82f6",backgroundMode:"gradient",backgroundImageUrl:void 0,animationLevel:"medium",density:"comfortable",lightingMode:"none",rgbSyncEnabled:!1,defaultBoxShape:"rounded",defaultComponentStyle:"glass-morphism",borderRadius:12,borderWidth:1,shadowIntensity:50,glassOpacity:80,cardShape:"rounded",buttonShape:"rounded",inputShape:"rounded",modalShape:"rounded",cardStyle:"glass-morphism",buttonStyle:"glass-morphism",inputStyle:"glass-morphism",modalStyle:"glass-morphism",fontFamily:"inter",fontSize:"base",fontWeight:400,animationStyle:"smooth",hoverEffects:!0,loadingAnimations:!0,soundTheme:"minimal",soundEnabled:!1,volume:50},Gw=Dl()(xv(Hm((e,t)=>({global:h0,perPage:{},setGlobalSettings:n=>e(s=>({global:{...s.global,...n}})),setPageSettings:(n,s)=>e(i=>({perPage:{...i.perPage,[n]:s}})),resetPageSettings:n=>e(s=>{const i={...s.perPage};return delete i[n],{perPage:i}}),resetAllSettings:()=>e({global:h0,perPage:{}}),getMergedSettings:n=>{const s=t(),i=n?s.perPage[n]:{};return{theme:s.global.theme,accentColor:(i==null?void 0:i.accentColor)??s.global.accentColor,backgroundMode:(i==null?void 0:i.backgroundMode)??s.global.backgroundMode,backgroundImageUrl:(i==null?void 0:i.backgroundImageUrl)??s.global.backgroundImageUrl,animationLevel:(i==null?void 0:i.animationLevel)??s.global.animationLevel,density:(i==null?void 0:i.density)??s.global.density,lightingMode:(i==null?void 0:i.lightingMode)??s.global.lightingMode,rgbSyncEnabled:s.global.rgbSyncEnabled,defaultBoxShape:s.global.defaultBoxShape,defaultComponentStyle:s.global.defaultComponentStyle,borderRadius:s.global.borderRadius,borderWidth:s.global.borderWidth,shadowIntensity:s.global.shadowIntensity,glassOpacity:s.global.glassOpacity,cardShape:s.global.cardShape,buttonShape:s.global.buttonShape,inputShape:s.global.inputShape,modalShape:s.global.modalShape,cardStyle:s.global.cardStyle,buttonStyle:s.global.buttonStyle,inputStyle:s.global.inputStyle,modalStyle:s.global.modalStyle,fontFamily:s.global.fontFamily,fontSize:s.global.fontSize,fontWeight:s.global.fontWeight,animationStyle:s.global.animationStyle,hoverEffects:s.global.hoverEffects,loadingAnimations:s.global.loadingAnimations,soundTheme:s.global.soundTheme,soundEnabled:s.global.soundEnabled,volume:s.global.volume}}}),{name:"gamepilot-customisation",version:1}),{name:"customisation-store"})),ec=e=>Gw().getMergedSettings(e),Io=()=>{const e=Gw();return{setGlobalSettings:e.setGlobalSettings,setPageSettings:e.setPageSettings,resetPageSettings:e.resetPageSettings,resetAllSettings:e.resetAllSettings}},BM=()=>{if(typeof window>"u"||typeof window.location>"u")return"default";const e=window.location.pathname;return e==="/"||e==="/home"?"home":e.startsWith("/library")?"library":e.startsWith("/analytics")?"analytics":e.startsWith("/identity")?"identity":e.startsWith("/settings")?"settings":e.startsWith("/customisation")?"customisation":"default"},Lh=({pageId:e,isOpen:t,onClose:n})=>{const s=ec(e),{setPageSettings:i}=Io(),[a,o]=w.useState(""),[l,c]=w.useState(s.accentColor||"#3b82f6"),d=y=>{i(e,{backgroundMode:y})},m=()=>{a.trim()&&(i(e,{backgroundImageUrl:a.trim()}),o(""))},u=y=>{c(y),i(e,{accentColor:y})},h=y=>{i(e,{animationLevel:y})},f=y=>{i(e,{density:y})},p=y=>{i(e,{lightingMode:y})},g=()=>{const{resetPageSettings:y}=Io();y(e)};return t?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:n}),r.jsx("div",{className:"fixed right-0 top-0 h-full w-96 bg-gray-900/95 backdrop-blur-md border-l border-white/10 z-50 overflow-y-auto shadow-2xl",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gaming-primary to-gaming-secondary rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Customise Page"}),r.jsx("p",{className:"text-xs text-gray-400",children:e})]})]}),r.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-all duration-200",title:"Close customisation panel","aria-label":"Close customisation panel",children:r.jsx("span",{className:"text-lg",children:""})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Theme"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.backgroundMode||"gradient"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Density"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.density||"comfortable"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Effects"}),r.jsx("div",{className:"text-sm text-white capitalize",children:s.lightingMode||"none"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Background Theme"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.backgroundMode||"gradient"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.backgroundMode==="solid"?" Clean solid color background for minimal distraction":s.backgroundMode==="gradient"?" Beautiful static gradient background":" Custom image background for personalization"})]}),r.jsx("div",{className:"space-y-2",children:["solid","gradient","image"].map(y=>r.jsx("button",{onClick:()=>d(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.backgroundMode===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${y==="solid"?"bg-gray-600":y==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="solid"?"Minimal & clean":y==="gradient"?"Elegant & modern":"Personal & unique"})]})]}),s.backgroundMode===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),s.backgroundMode==="image"&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Background Image"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),placeholder:"Enter image URL...",className:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 text-sm focus:border-gaming-primary focus:outline-none focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300","aria-label":"Enter background image URL"}),r.jsx("button",{onClick:m,className:"w-full px-4 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:"Set Image"}),s.backgroundImageUrl&&r.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-white/5",children:r.jsx("p",{className:"text-gray-400 text-xs truncate",children:s.backgroundImageUrl})})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:s.accentColor||"#3b82f6"}}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Accent Color"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent font-medium",children:s.accentColor||"#3b82f6"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Choose the primary accent color for buttons, links, and highlights"})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Quick Presets"}),r.jsx("div",{className:"grid grid-cols-8 gap-2",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16","#f97316","#a855f7","#14b8a6","#eab308","#dc2626","#db2777","#0891b2","#65a30d"].map(y=>r.jsx("button",{onClick:()=>u(y),className:`w-full aspect-square rounded-lg border-2 transition-all duration-300 ${s.accentColor===y?"border-white scale-110 shadow-lg":"border-gray-600 hover:border-gray-500 hover:scale-105"}`,style:{backgroundColor:y},title:`Select ${y} as accent color`,"aria-label":`Select ${y} as accent color`},y))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"Custom Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:l,onChange:y=>u(y.target.value),className:"w-16 h-10 bg-gray-800/50 border border-gray-600 rounded-lg cursor-pointer transition-all duration-300 hover:border-gaming-primary",title:"Choose custom accent color","aria-label":"Choose custom accent color"}),r.jsx("input",{type:"text",value:l,onChange:y=>u(y.target.value),placeholder:"#3b82f6",className:"flex-1 px-3 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white text-sm focus:border-gaming-primary focus:outline-none transition-all duration-300",title:"Enter hex color code","aria-label":"Enter hex color code"}),r.jsx("button",{onClick:()=>u(l),className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm",children:"Apply"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Animation Level"}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize",children:s.animationLevel||"medium"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.animationLevel==="low"?" Minimal UI animations, no background effects":s.animationLevel==="medium"?" Balanced UI animations, no background effects":" Enhanced UI animations, no background effects"})]}),r.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(y=>r.jsx("button",{onClick:()=>h(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${s.animationLevel===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white text-sm capitalize",children:y}),r.jsx("span",{className:"text-gray-400 text-xs",children:y==="low"?"Minimal":y==="medium"?"Balanced":"Full"})]})},y))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Layout Density"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.density||"comfortable"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.density==="compact"?" Tighter spacing, more content visible":" Comfortable spacing for better readability"})]}),r.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(y=>r.jsx("button",{onClick:()=>f(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.density===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded ${y==="compact"?"bg-gray-700":"bg-gray-600"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="compact"?"More content, less space":"Balanced layout"})]})]}),s.density===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded"}),r.jsx("h4",{className:"text-sm font-medium text-white",children:"Lighting Effects"})]}),r.jsxs("div",{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",r.jsx("span",{className:"text-gaming-accent capitalize font-medium",children:s.lightingMode||"none"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s.lightingMode==="none"?" No lighting effects - eye-friendly":s.lightingMode==="mood"?" Mood-based lighting effects":" RGB synchronized lighting"})]}),r.jsx("div",{className:"space-y-2",children:["none","mood","rgb-sync"].map(y=>r.jsx("button",{onClick:()=>p(y),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${s.lightingMode===y?"border-gaming-primary bg-gaming-primary/20 shadow-lg":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${y==="none"?"bg-gray-600":y==="mood"?"bg-purple-500":"bg-gradient-to-r from-red-500 to-green-500"}`}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white text-sm capitalize font-medium",children:y.replace("-"," ")}),r.jsx("div",{className:"text-xs text-gray-400",children:y==="none"?"Safe & comfortable":y==="mood"?"Dynamic mood lighting":"RGB effects"})]})]}),s.lightingMode===y&&r.jsx("div",{className:"w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]})},y))})]}),r.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-700",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{onClick:g,className:"px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Reset"]}),r.jsxs("button",{onClick:()=>{const{setGlobalSettings:y}=Io();y(s)},className:"px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Save as Default"]})]}),r.jsxs("button",{onClick:n,className:"w-full px-4 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-all duration-300 text-sm font-medium shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Done - Apply Changes"]})]}),r.jsx("div",{className:"mt-4 p-3 bg-gray-800/30 rounded-lg border border-gray-700",children:r.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[" ",r.jsx("strong",{children:"Tip:"}),' Changes are applied instantly. Use "Save as Default" to make these settings apply to all pages.']})})]})})]}):null};function UM(){var tt;const{user:e,persona:t,refreshPersona:n}=vv(),s=ln(),{games:i,actions:a}=ye();ak(),Pa();const o=ec("home");o!=null&&o.animationLevel,o!=null&&o.backgroundMode,o!=null&&o.accentColor;const l=(o==null?void 0:o.density)||"comfortable";o!=null&&o.lightingMode;const[c,d]=w.useState(!1),{primaryMood:m,secondaryMood:u,intensity:h,recommendations:f,isLoading:p,error:g,selectMood:y,clearMood:x,setIntensity:v,hasRecommendations:b}=Rh({games:i||[],onRecommendationsChange:z=>{console.log(" Enhanced mood recommendations updated:",z.length)}}),j=f.length,S=(z,Y)=>{y(z,Y),d(!1)};w.useEffect(()=>{const z=Y=>{const{primaryMood:K,secondaryMood:de}=Y.detail;S(K,de)};return window.addEventListener("moodChanged",z),()=>window.removeEventListener("moodChanged",z)},[]);const[T,E]=w.useState(!0);w.useEffect(()=>{const z=setTimeout(()=>E(!1),1e3);return()=>clearTimeout(z)},[]);const[k,C]=w.useState(!1),[M,L]=w.useState(!1),$=SM(),Q=Fn();mM();const H=$.persona||t||Q,te=z=>{console.log(`Playing game: ${z.title}`)},N=w.useMemo(()=>{if(!H||!H.signals)return null;try{return kh(H.signals)}catch(z){return console.warn("Failed to generate persona context:",z),null}},[H]),G=w.useMemo(()=>{if(!N||!i||i.length===0)return[];try{const z={selectedMoods:[],selectedSessionLength:null,timeOfDay:Ws()},Y=sw(i,N,z,{personaWeight:.4,limit:10});return console.log(" Persona-enhanced recommendations:",{personaContext:{dominantMoods:N.dominantMoods,preferredSessionLength:N.preferredSessionLength,preferredTimesOfDay:N.preferredTimesOfDay},recommendationCount:Y.length,topGames:Y.slice(0,3).map(K=>"game"in K?K.game.title:K.title)}),XP(N,Y.length),Y}catch(z){return console.warn("Failed to generate persona-enhanced recommendations:",z),[]}},[N,i]),I=FM({steam:{games:i||[],playtime:{},genres:{},achievements:{},sessions:[]}}),R=zM(I),F=$M(),X=GM(R,F),[le,ce]=w.useState(!1),[We,xe]=w.useState({forecast:null,recommendations:[],resonance:null,loading:!0});w.useEffect(()=>{(async()=>{try{const Y="current-user",[K,de,zn]=await Promise.all([Ao.getMoodForecast(Y),Ao.getMoodResonance(Y),Ao.getMoodRecommendations(Y)]);xe({forecast:K,resonance:de,recommendations:zn.recommendations.slice(0,5),loading:!1})}catch(Y){console.error("Failed to fetch mood data:",Y),xe(K=>({...K,loading:!1}))}})()},[H]),w.useEffect(()=>{t&&!Q&&n()},[t,Q,n]),(tt=i||[])==null||tt.slice(0,5).map(z=>({appId:(z==null?void 0:z.id)||"",name:(z==null?void 0:z.title)||"Unknown Game",headerImage:(z==null?void 0:z.coverImage)||Wm("/placeholder/cover/default.jpg"),playtimeRecent:Math.floor(Math.random()*120)}));const ve=()=>[{icon:"",title:"Played Hades",time:"2 hours ago"},{icon:"",title:"Unlocked achievement in Portal 2",time:"5 hours ago"},{icon:"",title:"Added The Witcher 3 to library",time:"1 day ago"},{icon:"",title:"Completed Celeste",time:"2 days ago"},{icon:"",title:"New high score in Apex Legends",time:"3 days ago"}],pe=()=>{const z=H==null?void 0:H.mood;return typeof z=="string"?z:(z==null?void 0:z.moodId)||"neutral"},ue=async z=>{console.log(" Launching game:",z);try{const Y=i==null?void 0:i.find(de=>de.id===z);if(!Y){console.error("Game not found:",z),alert("Game not found in library");return}console.log(` Launching ${Y.title}...`);let K=null;if(Y.appId&&typeof Y.appId=="number")K=Y.appId;else if(Y.steamUrl){const de=Y.steamUrl.match(/\/app\/(\d+)/);de&&(K=parseInt(de[1]))}else/^\d+$/.test(z)&&(K=parseInt(z));K?(console.log(` Launching Steam game with App ID: ${K}`),Ch(K),console.log(" Steam launch command sent")):(console.log(" Non-Steam game detected, showing game info"),alert(`Would launch: ${Y.title}

This game doesn't have a Steam App ID configured.

Game ID: ${z}
Steam URL: ${Y.steamUrl||"Not configured"}`))}catch(Y){console.error(" Error launching game:",Y),alert("Failed to launch game. Please check console for details.")}};return r.jsx(Qe,{children:r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden transition-all duration-1000 ease-in-out ${l==="compact"?"py-4":"py-8"}`,children:[r.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none"}),r.jsxs("div",{className:`relative z-10 ${l==="compact"?"px-4":"px-8"}`,children:[r.jsx(NM,{user:e,games:i,currentPersona:H}),r.jsxs("section",{className:`mb-6 ${l==="compact"?"mb-4":"mb-6"}`,children:[r.jsx(DM,{persona:X}),r.jsx(OM,{enhancedInsights:void 0})]}),r.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 relative overflow-hidden",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-gaming-primary rounded-full"}),"Quick Actions"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>window.location.href="/library",className:"w-full px-6 py-3 bg-gradient-to-r from-gaming-primary/90 to-gaming-primary/80 text-white rounded-xl hover:from-gaming-primary hover:to-gaming-primary/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("span",{children:""}),"Add Games"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>window.location.href="/analytics",className:"w-full px-6 py-3 bg-gradient-to-r from-gaming-secondary/90 to-gaming-secondary/80 text-white rounded-xl hover:from-gaming-secondary hover:to-gaming-secondary/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"View Stats"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>ce(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600/90 to-purple-500/80 text-white rounded-xl hover:from-purple-600 hover:to-purple-500/90 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("span",{children:""}),"Customise Page"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]}),r.jsxs("button",{onClick:()=>window.location.href="/settings",className:"w-full px-6 py-3 bg-white/5 border border-white/10 text-white rounded-xl hover:bg-white/10 hover:border-white/20 transition-all duration-300 relative overflow-hidden group/btn flex items-center justify-between",children:[r.jsxs("span",{className:"relative z-10 font-gaming text-xs uppercase tracking-widest flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current rounded"}),"Settings"]}),r.jsx("span",{className:"text-lg opacity-40 group-hover/btn:opacity-100 transition-opacity",children:""}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-green-500/30 relative overflow-hidden",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Surprise Me"]}),k?r.jsxs("div",{className:"space-y-4",children:[r.jsx(yM,{games:i||[],onLaunchGame:ue}),r.jsx("button",{onClick:()=>C(!1),className:"w-full px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors text-sm font-gaming",children:" Back"})]}):r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-6xl animate-bounce",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-gaming font-semibold mb-2",children:"Feeling adventurous?"}),r.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Discover something new based on your gaming patterns and current mood"})]}),r.jsxs("button",{onClick:()=>C(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/90 to-emerald-500/80 text-white rounded-xl font-gaming font-semibold hover:from-green-500 hover:to-emerald-500/90 transition-all duration-300 relative overflow-hidden group/btn",children:[r.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[r.jsx("span",{children:""}),"Surprise Me Now"]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 relative overflow-hidden group",children:[r.jsxs("h3",{className:"text-lg font-gaming font-semibold text-white mb-6 uppercase tracking-wider flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-gaming-secondary rounded-full"}),"Recent Activity"]}),r.jsxs("div",{className:"space-y-3",children:[ve().slice(0,3).map((z,Y)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-white/5 transition-all duration-200 cursor-pointer group/item",children:[r.jsx("div",{className:"text-2xl",children:z.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white text-sm font-medium",children:z.title}),r.jsx("p",{className:"text-white/40 text-xs",children:z.time})]}),r.jsx("div",{className:"w-2 h-2 bg-gaming-secondary rounded-full opacity-0 group-hover/item:opacity-100"})]},Y)),r.jsxs("button",{onClick:()=>window.location.href="/analytics",className:"w-full mt-4 p-2 text-gaming-secondary hover:text-gaming-secondary/80 text-xs font-gaming uppercase tracking-wider transition-colors flex items-center justify-center gap-2",children:["View All Activity",r.jsx("span",{children:""})]})]})]})]}),N&&G.length>0&&r.jsx("section",{className:"mb-8",children:r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-xl p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[r.jsx("span",{children:""}),"Games Chosen For You"]}),r.jsx("p",{className:"text-gray-300",children:"Based on your gaming habits, moods, and play patterns"})]})}),(()=>{try{Vg("persona","shown",{count:G.length,dominantMoods:N.dominantMoods,preferredSessionLength:N.preferredSessionLength,preferredTimesOfDay:N.preferredTimesOfDay})}catch{}return null})(),r.jsx("div",{className:"mb-6 p-4 bg-black/20 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Dominant moods:"}),r.jsxs("span",{className:"text-white ml-2 font-medium",children:[N.dominantMoods.slice(0,3).join(", "),N.dominantMoods.length>3&&"..."]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Preferred session:"}),r.jsx("span",{className:"text-white ml-2 font-medium capitalize",children:N.preferredSessionLength})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Preferred times:"}),r.jsx("span",{className:"text-white ml-2 font-medium",children:N.preferredTimesOfDay.join(", ")})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:G.map((z,Y)=>{const K="game"in z?z.game:z;return r.jsxs("div",{onClick:()=>{Vg("persona","clicked",{gameId:K.id,dominantMoods:N.dominantMoods,personaWeight:.4}),ue(K.id)},className:"group cursor-pointer transition-all duration-300 hover:scale-105",children:[r.jsxs("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900",children:[K.coverImage?r.jsx("img",{src:K.coverImage,alt:K.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[r.jsx("h4",{className:"text-white font-medium text-sm truncate mb-1",children:K.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300",children:[r.jsx("span",{children:" Personalized"}),K.hoursPlayed&&r.jsxs("span",{children:[" ",K.hoursPlayed,"h"]})]})]})})]}),r.jsx("h3",{className:"text-white text-sm font-medium mt-2 truncate group-hover:text-purple-400 transition-colors",children:K.title})]},K.id||Y)})})]})}),r.jsxs("section",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("h2",{className:"text-2xl font-gaming font-bold text-white uppercase tracking-tight flex items-center gap-4",children:[" Enhanced Mood System",r.jsx("span",{className:"h-[2px] flex-1 bg-gradient-to-r from-blue-500/40 to-transparent"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Select Your Mood"}),r.jsx(Fw,{onMoodChange:S,variant:"compact"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(BT,{userMood:m,personaTraits:t==null?void 0:t.traits})}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Mood Matches"}),b?r.jsx("div",{className:"space-y-3",children:f.slice(0,3).map(z=>{var Y,K,de;return r.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer group",onClick:()=>s(`/library/game/${z.id}`),children:[r.jsx("div",{className:"w-10 h-10 bg-gaming-primary/20 rounded-lg flex items-center justify-center group-hover:bg-gaming-primary/30 transition-colors",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white text-sm font-medium group-hover:text-gaming-accent transition-colors",children:z.title}),r.jsx("p",{className:"text-white/40 text-xs",children:typeof((Y=z.genres)==null?void 0:Y[0])=="string"?z.genres[0]:((de=(K=z.genres)==null?void 0:K[0])==null?void 0:de.name)||"Unknown"})]}),r.jsx("div",{className:"text-white/20 group-hover:text-white/40 transition-colors",children:""})]},z.id)})}):r.jsx("p",{className:"text-white/60 text-sm",children:"Select a mood to see recommendations"})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h3",{className:"text-lg font-gaming font-semibold text-white mb-4 uppercase tracking-wider",children:"Mood Analytics"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Current Mood"}),r.jsx("span",{className:"text-gaming-accent font-gaming text-sm",children:pe()})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-white/60 text-sm",children:"Recommendations"}),r.jsx("span",{className:"text-gaming-secondary font-gaming text-sm",children:j})]})]})]})]})]}),r.jsxs(V.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-gaming font-bold text-white flex items-center gap-3",children:[r.jsx(V.span,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-2xl",children:""}),"Continue Playing"]}),r.jsx(Ue,{to:"/library",className:"text-gaming-accent hover:text-gaming-primary transition-colors text-sm font-gaming",children:"View All "})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.filter(z=>z.playStatus==="playing").slice(0,3).map((z,Y)=>r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+Y*.1},whileHover:{scale:1.02,y:-5},onClick:()=>te(z),className:"glass-morphism rounded-xl p-4 border border-white/10 cursor-pointer group",children:[r.jsx("div",{className:"relative w-full h-40 rounded-lg overflow-hidden mb-4",children:z.coverImage?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.coverImage,alt:z.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:r.jsx("p",{className:"text-white text-sm font-semibold truncate",children:z.title})})]}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:z.title}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[z.hoursPlayed||0," hours played"]})]}),r.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-gaming-primary hover:bg-gaming-accent text-white p-2 rounded-lg transition-colors",children:""})]})]},z.id))})]}),r.jsxs(V.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-3xl font-gaming font-bold text-white flex items-center gap-3",children:[r.jsx(V.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0},className:"text-2xl",children:""}),"Mood Recommendations"]}),r.jsx("button",{onClick:()=>d(!c),className:"bg-gaming-primary hover:bg-gaming-accent text-white px-4 py-2 rounded-lg transition-colors text-sm font-gaming",children:"Change Mood"})]}),b&&f.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.slice(0,6).map((z,Y)=>{var K,de;return r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+Y*.1},whileHover:{scale:1.02,y:-5},className:"glass-morphism rounded-xl p-4 border border-white/10 cursor-pointer group",children:[r.jsx("div",{className:"relative w-full h-40 rounded-lg overflow-hidden mb-4",children:z.coverImage?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:z.coverImage,alt:z.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"bg-gaming-primary text-white text-xs px-2 py-1 rounded-full",children:m})})]}):r.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:r.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:z.title}),r.jsx("p",{className:"text-gray-400 text-xs",children:((de=(K=z.genres)==null?void 0:K[0])==null?void 0:de.name)||"Game"})]}),r.jsx(V.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-gaming-accent hover:bg-gaming-primary text-white p-2 rounded-lg transition-colors",children:""})]})]},z.id)})}):r.jsxs("div",{className:"glass-morphism rounded-xl p-8 border border-white/10 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Mood Selected"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Select your current mood to get personalized game recommendations"}),r.jsx("button",{onClick:()=>d(!0),className:"bg-gaming-primary hover:bg-gaming-accent text-white px-6 py-3 rounded-lg transition-colors",children:"Select Mood"})]})]}),r.jsx("section",{className:"mb-8",children:r.jsx("div",{className:"text-center",children:r.jsxs("button",{onClick:()=>L(!0),className:"group relative inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-xl font-bold",children:"I'm Not Sure What To Play"}),r.jsx("div",{className:"text-sm opacity-90",children:"Let GamePilot pick based on your mood, time, and play style"})]})]})})}),M&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"w-full max-w-4xl",children:r.jsx(hw,{onClose:()=>L(!1)})})}),r.jsx(AM,{}),le&&r.jsx(Lh,{pageId:"home",isOpen:le,onClose:()=>ce(!1)})]})]})})}const VM=()=>r.jsx(UM,{});function p0(e,t="616x353"){const n={square:"800x800",portrait:"600x900",landscape:"1200x900","616x353":"616x353","800x800":"800x800","1200x900":"1200x900"},s=n[t]||n["616x353"];return[`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/capsule_616x353.jpg`,`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/header.jpg`,`https://cdn.cloudflare.steamstatic.com/steam/apps/${e.appId||e.id}/library_600x900.jpg`,e.coverImage,e.headerImage,e.imageUrl,e.steamHeaderImage,e.steamCapsuleImage,e.capsuleImage,e.headerImage,e.smallHeaderImage,`https://picsum.photos/seed/${e.title.replace(/\s+/g,"-")}-${e.id}/${s}.jpg`].filter(Boolean)[0]||`https://picsum.photos/seed/${e.title.replace(/\s+/g,"-")}-${e.id}/${s}.jpg`}function Gu({game:e,isSelected:t,isSelectable:n,onSelect:s,currentSession:i,onLaunch:a}){var S,T;const o=ln(),{actions:l}=ye(),[c,d]=w.useState(!1),[m,u]=w.useState(!1),[h,f]=w.useState(!1);w.useEffect(()=>{u((i==null?void 0:i.gameId)===e.id)},[i,e.id]);const p=()=>{o(`/library/game/${e.id}`)},g=async()=>{if(!(h||!a)){f(!0);try{await a(e)}finally{f(!1)}}},y=async()=>{i&&await l.endGameSession(i.gameId)},x=E=>{switch(E){case"playing":return"from-green-500 to-emerald-500";case"completed":return"from-blue-500 to-indigo-500";case"backlog":return"from-gray-500 to-slate-500";case"abandoned":return"from-red-500 to-pink-500";default:return"from-gray-500 to-slate-500"}},v=E=>{switch(E){case"playing":return"";case"completed":return"";case"backlog":return"";case"abandoned":return"";default:return""}},b=E=>{const k="px-2 py-1 rounded-full text-xs font-bold text-white shadow-lg backdrop-blur-sm border";switch(E){case"playing":return`${k} bg-green-600/80 border-green-500/40`;case"completed":return`${k} bg-blue-600/80 border-blue-500/40`;case"backlog":return`${k} bg-gray-600/80 border-gray-500/40`;case"abandoned":return`${k} bg-red-600/80 border-red-500/40`;default:return`${k} bg-gray-600/80 border-gray-500/40`}},j=e.appId&&String(e.appId).trim()!=="";return r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02,y:-5},className:`group relative bg-gray-800/50 backdrop-blur-sm rounded-xl overflow-hidden border transition-all duration-300 cursor-pointer ${t?"border-gaming-primary shadow-gaming-primary/50":"border-gray-700/50 hover:border-gray-600/50"}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[n&&r.jsx(V.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1},className:"absolute top-3 left-3 z-10",children:r.jsx("input",{type:"checkbox",checked:t,onChange:E=>{E.stopPropagation(),s==null||s(e,E.target.checked)},className:"w-5 h-5 rounded border-2 border-gray-300 text-gaming-primary focus:ring-gaming-primary focus:ring-2 transition-colors","aria-label":`Select ${e.title}`,title:`Select ${e.title}`})}),r.jsxs("div",{className:"relative w-full aspect-square overflow-hidden bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20 flex-shrink-0 group",children:[p0(e)?r.jsxs(r.Fragment,{children:[r.jsx(Dw,{src:p0(e),alt:e.title,className:"w-full h-full object-contain transition-all duration-500 group-hover:scale-110 group-hover:brightness-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-700 to-gray-800 group-hover:from-gray-600 group-hover:to-gray-700 transition-all duration-300",children:r.jsx("span",{className:"text-6xl text-gray-500 group-hover:text-gray-400 transition-colors duration-300",children:""})}),e.price&&e.price.discount_percent>0&&r.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1.5 bg-gradient-to-r from-red-500 to-red-600 rounded-lg text-white text-sm font-bold z-10 shadow-lg shadow-red-500/30 animate-pulse",children:["-",e.price.discount_percent,"%"]}),e.playStatus&&e.playStatus!=="backlog"&&r.jsx("div",{className:"absolute top-3 right-3 z-10",children:r.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-bold text-white shadow-lg backdrop-blur-sm border ${b(e.playStatus)}`,children:[v(e.playStatus)," ",e.playStatus.toUpperCase()]})}),e.completionPercentage!==void 0&&e.completionPercentage>0&&r.jsx("div",{className:"absolute bottom-3 right-3 z-10",children:r.jsxs("div",{className:"relative w-12 h-12",children:[r.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[r.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"rgba(255,255,255,0.2)",strokeWidth:"4",fill:"none"}),r.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"url(#progressGradient)",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*20}`,strokeDashoffset:`${2*Math.PI*20*(1-e.completionPercentage/100)}`,className:"transition-all duration-500"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[r.jsx("stop",{offset:"0%",stopColor:"#10b981"}),r.jsx("stop",{offset:"100%",stopColor:"#34d399"})]})})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(e.completionPercentage),"%"]})})]})}),r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent p-4 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold text-xl mb-3 line-clamp-2 transition-all duration-200 group-hover:text-gaming-primary leading-tight",children:e.title}),r.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-700/40",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.platforms&&e.platforms.length>0&&r.jsxs("span",{className:"px-2.5 py-1 bg-gradient-to-r from-gray-800/90 to-gray-700/90 backdrop-blur-sm rounded-lg text-xs text-gray-200 font-semibold border border-gray-600/50 truncate shadow-sm",children:[" ",typeof e.platforms[0]=="string"?e.platforms[0]:((S=e.platforms[0])==null?void 0:S.name)||"Unknown"]}),e.genres&&e.genres.length>0&&r.jsxs("span",{className:"px-2.5 py-1 bg-gradient-to-r from-blue-600/80 to-blue-700/80 backdrop-blur-sm rounded-lg text-xs text-blue-200 font-semibold border border-blue-500/40 truncate shadow-sm",children:[" ",typeof e.genres[0]=="string"?e.genres[0]:((T=e.genres[0])==null?void 0:T.name)||"Genre"]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.playStatus&&e.playStatus!=="backlog"&&r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-gradient-to-r from-gray-900/80 to-gray-800/80 backdrop-blur-sm rounded-lg border border-gray-600/40 shadow-sm",children:[r.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${x(e.playStatus)} animate-pulse`}),r.jsx("span",{className:"text-xs text-white font-semibold capitalize",children:e.playStatus})]}),e.hoursPlayed!==void 0&&e.hoursPlayed>0&&r.jsxs("span",{className:"text-xs text-gray-300 font-bold bg-gradient-to-r from-gray-900/80 to-gray-800/80 backdrop-blur-sm px-2.5 py-1 rounded-lg border border-gray-600/40 shadow-sm",children:[" ",Math.floor(e.hoursPlayed),"h"]})]})]})]}),r.jsxs("div",{className:"flex-1 py-3",children:[e.description&&typeof e.description=="string"&&r.jsx("p",{className:"text-gray-300 text-xs line-clamp-3 mb-3 leading-relaxed",children:e.description}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.moods&&Array.isArray(e.moods)&&e.moods.length>0?e.moods.slice(0,2).map((E,k)=>{const C=ke.find(M=>M.id===E);return C?r.jsxs(V.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:k*.1},className:`px-2 py-1 rounded-full text-xs font-medium border ${C.id==="competitive"?"bg-red-500/20 border-red-500/40 text-red-300":C.id==="chill"?"bg-blue-500/20 border-blue-500/40 text-blue-300":C.id==="story"?"bg-purple-500/20 border-purple-500/40 text-purple-300":C.id==="creative"?"bg-green-500/20 border-green-500/40 text-green-300":C.id==="social"?"bg-teal-500/20 border-teal-500/40 text-teal-300":C.id==="focused"?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":C.id==="energetic"?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":C.id==="exploratory"?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[C.emoji," ",C.name]},E):null}):(()=>{const E=Zl(e),k=E?ke.find(C=>C.id===E):null;return k?r.jsxs(V.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`px-2 py-1 rounded-full text-xs font-medium border ${k.id==="competitive"?"bg-red-500/20 border-red-500/40 text-red-300":k.id==="chill"?"bg-blue-500/20 border-blue-500/40 text-blue-300":k.id==="story"?"bg-purple-500/20 border-purple-500/40 text-purple-300":k.id==="creative"?"bg-green-500/20 border-green-500/40 text-green-300":k.id==="social"?"bg-teal-500/20 border-teal-500/40 text-teal-300":k.id==="focused"?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":k.id==="energetic"?"bg-yellow-500/20 border-yellow-500/40 text-yellow-300":k.id==="exploratory"?"bg-emerald-500/20 border-emerald-500/40 text-emerald-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[k.emoji," ",k.name]}):null})(),e.playStatus&&e.playStatus!=="backlog"&&r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.playStatus==="playing"?"bg-green-500/20 border-green-500/40 text-green-300":e.playStatus==="completed"?"bg-blue-500/20 border-blue-500/40 text-blue-300":e.playStatus==="abandoned"?"bg-red-500/20 border-red-500/40 text-red-300":"bg-gray-500/20 border-gray-500/40 text-gray-300"}`,children:[v(e.playStatus)," ",e.playStatus]})]}),e.rating||e.achievements?r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.rating&&typeof e.rating=="string"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-400",children:""}),r.jsx("span",{className:"text-gray-300",children:e.rating})]}),e.achievements&&typeof e.achievements=="string"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-green-400",children:""}),r.jsx("span",{className:"text-gray-300",children:e.achievements})]})]}):null]}),r.jsx("div",{children:r.jsxs("div",{className:"flex gap-2.5",children:[r.jsxs("button",{onClick:p,className:"flex-1 px-4 py-3 bg-gradient-to-r from-gaming-primary/90 to-gaming-secondary/90 text-white rounded-xl text-sm font-bold hover:opacity-90 transition-all duration-200 hover:scale-105 hover:shadow-lg hover:shadow-gaming-primary/40 border border-gaming-primary/30 flex items-center justify-center gap-2 backdrop-blur-sm",children:[r.jsx("span",{className:"text-base",children:""}),r.jsx("span",{children:"Details"})]}),j&&r.jsxs("button",{onClick:m?y:g,disabled:h,className:`px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 hover:scale-105 flex items-center justify-center gap-2 border backdrop-blur-sm ${m?"bg-gradient-to-r from-red-600/90 to-red-700/90 text-white hover:opacity-90 hover:shadow-lg hover:shadow-red-600/40 border-red-500/30":h?"bg-gradient-to-r from-gray-600/90 to-gray-700/90 text-gray-300 cursor-not-allowed border-gray-500/30":"bg-gradient-to-r from-green-600/90 to-emerald-600/90 text-white hover:opacity-90 hover:shadow-lg hover:shadow-green-600/40 border-green-500/30"}`,children:[r.jsx("span",{className:"text-base",children:m?"":h?"":""}),r.jsx("span",{children:m?"End":h?"Launching...":"Play"})]}),n&&r.jsx("button",{onClick:()=>s==null?void 0:s(e,!0),className:"px-3 py-3 bg-gradient-to-r from-blue-600/90 to-blue-700/90 text-white rounded-xl text-sm font-bold hover:opacity-90 transition-all duration-200 hover:scale-105 hover:shadow-lg hover:shadow-blue-600/40 border border-blue-500/30 backdrop-blur-sm",title:"Select game",children:r.jsx("span",{className:"text-base",children:""})})]})})]})]})]})}function ar(e,t,n){let s=n.initialDeps??[],i,a=!0;function o(){var l,c,d;let m;n.key&&((l=n.debug)!=null&&l.call(n))&&(m=Date.now());const u=e();if(!(u.length!==s.length||u.some((p,g)=>s[g]!==p)))return i;s=u;let f;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(f=Date.now()),i=t(...u),n.key&&((d=n.debug)!=null&&d.call(n))){const p=Math.round((Date.now()-m)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,x=(v,b)=>{for(v=String(v);v.length<b;)v=" "+v;return v};console.info(`%c ${x(g,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(a&&n.skipInitialOnChange)&&n.onChange(i),a=!1,i}return o.updateDeps=l=>{s=l},o}function f0(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const WM=(e,t)=>Math.abs(e-t)<1.01,HM=(e,t,n)=>{let s;return function(...i){e.clearTimeout(s),s=e.setTimeout(()=>t.apply(this,i),n)}},g0=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},YM=e=>e,KM=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let i=t;i<=n;i++)s.push(i);return s},qM=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;const i=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(i(g0(n)),!s.ResizeObserver)return()=>{};const a=new s.ResizeObserver(o=>{const l=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const d=c.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(g0(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},y0={passive:!0},x0=typeof window>"u"?!0:"onscrollend"in window,QM=(e,t)=>{const n=e.scrollElement;if(!n)return;const s=e.targetWindow;if(!s)return;let i=0;const a=e.options.useScrollendEvent&&x0?()=>{}:HM(s,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=m=>()=>{const{horizontal:u,isRtl:h}=e.options;i=u?n.scrollLeft*(h&&-1||1):n.scrollTop,a(),t(i,m)},l=o(!0),c=o(!1);n.addEventListener("scroll",l,y0);const d=e.options.useScrollendEvent&&x0;return d&&n.addEventListener("scrollend",c,y0),()=>{n.removeEventListener("scroll",l),d&&n.removeEventListener("scrollend",c)}},XM=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const s=t.borderBoxSize[0];if(s)return Math.round(s[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},JM=(e,{adjustments:t=0,behavior:n},s)=>{var i,a;const o=e+t;(a=(i=s.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[s.options.horizontal?"left":"top"]:o,behavior:n})};class ZM{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const s=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const o=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=s())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=s())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=s())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([s,i])=>{typeof i>"u"&&delete n[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:YM,rangeExtractor:KM,onChange:()=>{},measureElement:XM,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var s,i;(i=(s=this.options).onChange)==null||i.call(s,this,n)},this.maybeNotify=ar(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,s)=>{const i=new Map,a=new Map;for(let o=s-1;o>=0;o--){const l=n[o];if(i.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=ar(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,s,i,a,o,l)=>(this.prevLanes!==void 0&&this.prevLanes!==l&&(this.lanesChangedFlag=!0),this.prevLanes=l,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:s,scrollMargin:i,getItemKey:a,enabled:o,lanes:l}),{key:!1}),this.getMeasurements=ar(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:s,scrollMargin:i,getItemKey:a,enabled:o,lanes:l},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const h of this.laneAssignments.keys())h>=n&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const d=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const m=this.measurementsCache.slice(0,d),u=new Array(l).fill(void 0);for(let h=0;h<d;h++){const f=m[h];f&&(u[f.lane]=h)}for(let h=d;h<n;h++){const f=a(h),p=this.laneAssignments.get(h);let g,y;if(p!==void 0&&this.options.lanes>1){g=p;const j=u[g],S=j!==void 0?m[j]:void 0;y=S?S.end+this.options.gap:s+i}else{const j=this.options.lanes===1?m[h-1]:this.getFurthestMeasurement(m,h);y=j?j.end+this.options.gap:s+i,g=j?j.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,g)}const x=c.get(f),v=typeof x=="number"?x:this.options.estimateSize(h),b=y+v;m[h]={index:h,start:y,size:v,end:b,key:f,lane:g},u[g]=h}return this.measurementsCache=m,m},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ar(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,s,i,a)=>this.range=n.length>0&&s>0?eA({measurements:n,outerSize:s,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ar(()=>{let n=null,s=null;const i=this.calculateRange();return i&&(n=i.startIndex,s=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,s]},(n,s,i,a,o)=>a===null||o===null?[]:n({startIndex:a,endIndex:o,overscan:s,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const s=this.options.indexAttribute,i=n.getAttribute(s);return i?parseInt(i,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(n,s)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,s,this))},this.resizeItem=(n,s)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,o=s-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,s)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((s,i)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ar(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,s)=>{const i=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=s[l];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const s=this.getMeasurements();if(s.length!==0)return f0(s[Bw(0,s.length-1,i=>f0(s[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,s,i=0)=>{if(!this.scrollElement)return 0;const a=this.getSize(),o=this.getScrollOffset();s==="auto"&&(s=n>=o+a?"end":"start"),s==="center"?n+=(i-a)/2:s==="end"&&(n-=a);const l=this.getMaxScrollOffset();return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,s="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),o=this.getScrollOffset();if(s==="auto")if(i.end>=o+a-this.options.scrollPaddingEnd)s="end";else if(i.start<=o+this.options.scrollPaddingStart)s="start";else return[o,s];if(s==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),s];const l=s==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,s,i.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:s="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,s),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:s="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let a=0;const o=10,l=d=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(n,d);if(!m){console.warn("Failed to get offset for index:",n);return}const[u,h]=m;this._scrollToOffset(u,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=()=>{if(this.currentScrollToIndex!==n)return;const p=this.getScrollOffset(),g=this.getOffsetForIndex(n,h);if(!g){console.warn("Failed to get offset for index:",n);return}WM(g[0],p)||c(h)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(f):f()})},c=d=>{this.targetWindow&&this.currentScrollToIndex===n&&(a++,a<o?this.targetWindow.requestAnimationFrame(()=>l(d)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(s)},this.scrollBy=(n,{behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var n;const s=this.getMeasurements();let i;if(s.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=s[s.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let o=s.length-1;for(;o>=0&&a.some(l=>l===null);){const l=s[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}i=Math.max(...a.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:s,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Bw=(e,t,n,s)=>{for(;e<=t;){const i=(e+t)/2|0,a=n(i);if(a<s)e=i+1;else if(a>s)t=i-1;else return i}return e>0?e-1:0};function eA({measurements:e,outerSize:t,scrollOffset:n,lanes:s}){const i=e.length-1,a=c=>e[c].start;if(e.length<=s)return{startIndex:0,endIndex:i};let o=Bw(0,i,a,n),l=o;if(s===1)for(;l<i&&e[l].end<n+t;)l++;else if(s>1){const c=Array(s).fill(0);for(;l<i&&c.some(m=>m<n+t);){const m=e[l];c[m.lane]=m.end,l++}const d=Array(s).fill(n+t);for(;o>=0&&d.some(m=>m>=n);){const m=e[o];d[m.lane]=m.start,o--}o=Math.max(0,o-o%s),l=Math.min(i,l+(s-1-l%s))}return{startIndex:o,endIndex:l}}const v0=typeof document<"u"?w.useLayoutEffect:w.useEffect;function tA({useFlushSync:e=!0,...t}){const n=w.useReducer(()=>({}),{})[1],s={...t,onChange:(a,o)=>{var l;e&&o?ba.flushSync(n):n(),(l=t.onChange)==null||l.call(t,a,o)}},[i]=w.useState(()=>new ZM(s));return i.setOptions(s),v0(()=>i._didMount(),[]),v0(()=>i._willUpdate()),i}function nA(e){return tA({observeElementRect:qM,observeElementOffset:QM,scrollToFn:JM,...e})}const sA=260,rA=({games:e,onGameLaunch:t,onGameEdit:n,onGameDelete:s,selectedGames:i,onGameSelectToggle:a,isBulkSelectMode:o})=>{const l=w.useMemo(()=>{const u=[];for(let h=0;h<e.length;h+=3)u.push(e.slice(h,h+3));return u},[e]),c=w.useRef(null),d=nA({count:l.length,getScrollElement:()=>c.current,estimateSize:()=>sA,overscan:5}),m=w.useCallback(({rowIndex:u,gameRow:h})=>r.jsxs("div",{className:"flex gap-4 p-2",children:[h.map(f=>r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx(Gu,{game:f,onSelect:()=>a(f.id),onLaunch:()=>t(f),onEdit:()=>n(f.id,{}),onDelete:()=>s(f),isSelectable:o,isSelected:i.has(f.id)})},f.id)),h.length<3&&r.jsx(r.Fragment,{children:Array.from({length:3-h.length}).map((f,p)=>r.jsx("div",{className:"flex-1"},`empty-${u}-${p}`))})]}),[t,n,s,i,a,o]);return r.jsx("div",{className:"virtualized-game-list",children:r.jsx("div",{ref:c,className:"h-[700px] overflow-auto",style:{contain:"strict"},children:r.jsx("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},children:d.getVirtualItems().map(u=>r.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${u.size}px`,transform:`translateY(${u.start}px)`},children:r.jsx(m,{rowIndex:u.index,gameRow:l[u.index]})},u.index))})})})};class gl{static async searchGames(t,n=10){try{const s=`${this.SEARCH_URL}?query=${encodeURIComponent(t)}&limit=${n}&productType=game&sortBy=popularity&order=desc`,i=await fetch(s,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!i.ok)throw new Error(`GOG API Error: ${i.status}`);const a=await i.json();return a.products?a.products.map(this.transformGOGGame):[]}catch(s){return console.error("GOG Search Error:",s),[]}}static async getGameDetails(t){try{const n=`${this.BASE_URL}/products/${t}`,s=await fetch(n,{headers:{Accept:"application/json","User-Agent":"GamePilot/1.0"}});if(!s.ok)throw new Error(`GOG API Error: ${s.status}`);const i=await s.json();return this.transformGOGGame(i)}catch(n){return console.error("GOG Game Details Error:",n),null}}static getGOGStoreUrl(t){return`https://www.gog.com/game/${t}`}static getGOGLauncherUrl(t){return`goggalaxy://openGame/${t}`}static transformGOGGame(t){var n;return{id:t.id||t.slug,title:t.title||t.name,slug:t.slug,url:t.url||`https://www.gog.com/game/${t.slug}`,image:t.coverHorizontal||t.image||t.cover,price:((n=t.price)==null?void 0:n.amount)||"Free",developers:t.developers||[],genres:t.genres||[],platforms:t.platforms||[],releaseDate:t.releaseDate||t.release_date,description:t.description||t.summary||""}}static convertGOGGameToGame(t){return{title:t.title,launcherId:t.id,platforms:["GOG"],status:"backlog",playtime:0,coverImage:t.image,genres:t.genres,tags:[],achievements:{unlocked:0,total:0},description:t.description}}static extractGOGIdFromUrl(t){const n=t.match(/gog\.com\/game\/([^\/\?]+)/);return n?n[1]:null}static extractGOGIdFromStoreUrl(t){const n=t.match(/gog\.com\/en\/game\/([^\/\?]+)/);return n?n[1]:null}}He(gl,"BASE_URL","https://api.gog.com/v2"),He(gl,"SEARCH_URL","https://catalog.gog.com/v1/catalog");class Bu{static async searchWithCache(t){const n=t.toLowerCase().trim();if(this.searchCache.has(n))return this.searchCache.get(n);const s=await gl.searchGames(t);return this.searchCache.set(n,s),setTimeout(()=>{this.searchCache.delete(n)},this.cacheTimeout),s}static clearCache(){this.searchCache.clear()}}He(Bu,"searchCache",new Map),He(Bu,"cacheTimeout",5*60*1e3);const iA=({onGameSelect:e,placeholder:t="Search GOG games..."})=>{const[n,s]=w.useState(""),[i,a]=w.useState([]),[o,l]=w.useState(!1),[c,d]=w.useState(!1);w.useEffect(()=>{const f=setTimeout(async()=>{if(n.trim().length<2){a([]),d(!1);return}l(!0);try{const p=await Bu.searchWithCache(n);a(p.slice(0,8)),d(!0)}catch(p){console.error("GOG search error:",p),a([])}finally{l(!1)}},300);return()=>clearTimeout(f)},[n]);const m=h=>{e(h),s(""),a([]),d(!1)},u=h=>{h.key==="Escape"&&d(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n,onChange:h=>s(h.target.value),onFocus:()=>n.trim().length>=2&&d(!0),onKeyDown:u,className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:t}),o&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gaming-accent"})})]}),c&&i.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:i.map(h=>r.jsxs("div",{onClick:()=>m(h),className:"flex items-center gap-3 p-3 hover:bg-gray-700 cursor-pointer border-b border-gray-700 last:border-b-0",children:[r.jsx("img",{src:h.image,alt:h.title,className:"w-12 h-12 rounded object-cover",onError:f=>{f.currentTarget.src="https://via.placeholder.com/48x48/8b5cf6/ffffff?text=GOG"}}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-white font-medium truncate",children:h.title}),r.jsx("p",{className:"text-gray-400 text-sm truncate",children:h.genres.slice(0,2).join(", ")})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-gaming-accent text-sm font-medium",children:h.price==="0"?"Free":`$${h.price}`}),r.jsx("div",{className:"text-gray-500 text-xs",children:h.platforms.slice(0,2).join(", ")})]})]},h.id))}),c&&n.trim().length>=2&&i.length===0&&!o&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4",children:r.jsxs("p",{className:"text-gray-400 text-center",children:['No GOG games found for "',n,'"']})})]})},aA=({children:e,fallback:t,onError:n})=>{const{showError:s}=Pa(),i=(a,o)=>{s(`Component error: ${a.message}`),n&&n(a,o)};return r.jsx(Bl,{fallback:t,onError:i,children:e})},Uw=({options:e,selected:t,onChange:n,placeholder:s="Select options...",className:i=""})=>{const[a,o]=w.useState(!1),[l,c]=w.useState(""),d=w.useRef(null),m=e.filter(p=>p.toLowerCase().includes(l.toLowerCase())&&!t.includes(p));w.useEffect(()=>{const p=g=>{d.current&&!d.current.contains(g.target)&&(o(!1),c(""))};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const u=p=>{n([...t,p]),c("")},h=p=>{n(t.filter(g=>g!==p))},f=p=>{p.key==="Enter"&&a&&m.length>0?u(m[0]):p.key==="Escape"&&(o(!1),c(""))};return r.jsxs("div",{ref:d,className:`relative ${i}`,children:[r.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>o(!a),children:t.length===0?r.jsx("span",{className:"text-gray-400",children:s}):r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(p=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[p,r.jsx("button",{onClick:g=>{g.stopPropagation(),h(p)},className:"hover:text-gaming-secondary transition-colors",children:""})]},p))})}),a&&r.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:p=>c(p.target.value),onKeyDown:f,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),m.length===0?r.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:l?"No options found":"All options selected"}):m.map(p=>r.jsx("div",{onClick:()=>u(p),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:p},p))]})]})},Vw=({selected:e,onChange:t,placeholder:n="Select tags...",className:s=""})=>{const[i,a]=w.useState(!1),[o,l]=w.useState(""),[c,d]=w.useState(""),m=w.useRef(null),u=G2.filter(y=>y.name.toLowerCase().includes(o.toLowerCase())&&!e.includes(y.name));w.useEffect(()=>{const y=x=>{m.current&&!m.current.contains(x.target)&&(a(!1),l(""),d(""))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=y=>{t([...e,y]),l("")},f=y=>{t(e.filter(x=>x!==y))},p=()=>{const y=c.trim();y&&!e.includes(y)&&(t([...e,y]),d(""),l(""))},g=y=>{y.key==="Enter"?(y.preventDefault(),u.length===0&&c.trim()?p():u.length>0&&h(u[0].name)):y.key==="Escape"&&(a(!1),l(""),d(""))};return r.jsxs("div",{ref:m,className:`relative ${s}`,children:[r.jsx("div",{className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white cursor-pointer min-h-[42px] focus:outline-none focus:border-gaming-primary",onClick:()=>a(!i),children:e.length===0?r.jsx("span",{className:"text-gray-400",children:n}):r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(y=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-sm",children:[y,r.jsx("button",{onClick:x=>{x.stopPropagation(),f(y)},className:"hover:text-gaming-secondary transition-colors",children:""})]},y))})}),i&&r.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-gray-800 border border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsx("input",{type:"text",placeholder:"Search or add custom tag...",value:c||o,onChange:y=>{const x=y.target.value;x.startsWith("+")||x.startsWith("#")?(d(x),l("")):(l(x),d(""))},onKeyDown:g,className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-gaming-primary",autoFocus:!0})}),c&&r.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 border-b border-gray-700",children:['Press Enter to add custom tag: "',c,'"']}),u.length===0&&!c?r.jsx("div",{className:"p-3 text-gray-400 text-sm text-center",children:o?"No tags found":"All tags selected"}):u.map(y=>r.jsxs("div",{onClick:()=>h(y.name),className:"px-3 py-2 hover:bg-gray-700 cursor-pointer text-white transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:y.name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.color} bg-gray-900`,children:y.category.charAt(0).toUpperCase()})]}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:y.description})]},y.id))]})]})},oA=({isOpen:e,onClose:t,onAddGame:n})=>{const{showSuccess:s,showError:i}=Pa(),[a,o]=w.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"backlog",status:"backlog",coverImage:"",launcherId:""}),[l,c]=w.useState("manual"),d=h=>{var p;const f=gl.convertGOGGameToGame(h);o({title:f.title||"",genres:((p=f.genres)==null?void 0:p.map(g=>g.name))||[],moods:[],platforms:f.platforms||[],playStatus:"backlog",status:"backlog",tags:f.tags||[],coverImage:f.coverImage||"",launcherId:f.launcherId||""})},m=async h=>{h.preventDefault();try{const f={title:a.title,genres:a.genres.map(p=>({id:p.toLowerCase().replace(/\s+/g,"-"),name:p,description:`${p} games`,icon:"",color:"#"+Math.floor(Math.random()*16777215).toString(16),tags:[p.toLowerCase()]})),platforms:a.platforms.map(p=>({id:p,name:p.charAt(0).toUpperCase()+p.slice(1),code:p,isConnected:!1})),playStatus:a.playStatus,tags:a.tags,coverImage:a.coverImage||"",hoursPlayed:0,userRating:void 0,achievements:{unlocked:0,total:0},launcherId:a.launcherId||void 0,addedAt:new Date,releaseYear:new Date().getFullYear(),emotionalTags:a.moods.map(p=>p),moods:a.moods,isFavorite:!1,notes:"",globalRating:void 0,lastPlayed:void 0,totalPlaytime:0,averageRating:void 0,completionPercentage:void 0};console.log(" Adding game:",f),n(f),s(`"${f.title}" added to your library`),t()}catch(f){console.error(" Failed to add game:",f),i("Failed to add game. Please try again.")}},u=h=>{o(f=>({...f,platforms:f.platforms.includes(h)?f.platforms.filter(p=>p!==h):[...f.platforms,h]}))};return e?r.jsx(aA,{children:r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Game"}),r.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Add From Platform"}),r.jsxs("select",{value:l,onChange:h=>c(h.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select platform to add game from",children:[r.jsx("option",{value:"manual",children:" Manual Entry"}),r.jsx("option",{value:"steam",children:" Steam Search"}),r.jsx("option",{value:"gog",children:" GOG Search"})]})]}),l==="gog"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search GOG Games"}),r.jsx(iA,{onGameSelect:d,placeholder:"Search GOG catalog..."})]}),l==="steam"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Steam Games"}),r.jsx("div",{className:"text-gray-400 text-sm p-3 bg-gray-800 rounded-lg",children:"Steam search coming soon! Use Steam Import for full library access."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",required:!0,value:a.title,onChange:h=>o(f=>({...f,title:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Enter game title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),r.jsx(Uw,{options:Ot.map(h=>h.name),selected:a.genres,onChange:h=>o(f=>({...f,genres:h})),placeholder:"Select genres..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),r.jsx("div",{className:"space-y-2",children:ke.map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300 cursor-pointer hover:text-white transition-colors",children:[r.jsx("input",{type:"checkbox",checked:a.moods.includes(h.id),onChange:f=>{f.target.checked?o(p=>({...p,moods:[...p.moods,h.id]})):o(p=>({...p,moods:p.moods.filter(g=>g!==h.id)}))},className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("span",{children:h.name}),r.jsx("span",{className:"text-gray-500 text-sm",children:h.emoji})]},h.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:["steam","epic","gog"].map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300",children:[r.jsx("input",{type:"checkbox",checked:a.platforms.includes(h),onChange:()=>u(h),className:"rounded border-gray-600 bg-gray-700 text-gaming-primary focus:ring-gaming-primary"}),r.jsx("span",{className:"text-sm capitalize",children:h})]},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),r.jsxs("select",{value:a.status,onChange:h=>o(f=>({...f,status:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none","aria-label":"Select game status",children:[r.jsx("option",{value:"backlog",children:" Backlog"}),r.jsx("option",{value:"playing",children:" Playing"}),r.jsx("option",{value:"completed",children:" Completed"}),r.jsx("option",{value:"abandoned",children:" Abandoned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Launcher ID"}),r.jsx("input",{type:"text",value:a.launcherId,onChange:h=>o(f=>({...f,launcherId:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Steam App ID, Epic Catalog ID, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),r.jsx(Vw,{selected:a.tags,onChange:h=>o(f=>({...f,tags:h})),placeholder:"Select or add tags..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),r.jsx("input",{type:"url",value:a.coverImage,onChange:h=>o(f=>({...f,coverImage:h.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"https://example.com/cover.jpg"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Add Game"})]})]})]})})})}):null},lA=({size:e="md",className:t=""})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return r.jsx("div",{className:`inline-block animate-spin ${n[e]} ${t}`,children:r.jsxs("svg",{className:"w-full h-full text-gaming-primary",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},_a=({children:e,message:t="Loading...",size:n="lg",fullScreen:s=!1,className:i=""})=>{const a=r.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${i}`,children:[r.jsx(lA,{size:n}),t&&r.jsx("p",{className:"text-gray-300 text-center animate-pulse",children:t}),e]});return s?r.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker z-50 flex items-center justify-center",children:r.jsx("div",{className:"glass-morphism rounded-xl p-8 border border-white/10",children:a})}):a},cA=({isOpen:e,onClose:t,game:n,onUpdateGame:s})=>{const[i,a]=w.useState({title:"",genres:[],moods:[],tags:[],platforms:[],playStatus:"unplayed",hoursPlayed:0,userRating:void 0,notes:"",coverImage:"",launcherId:"",isFavorite:!1,totalPlaytime:void 0,averageRating:void 0,completionPercentage:void 0}),[o,l]=w.useState(!1),[c,d]=w.useState(null);w.useEffect(()=>{var h,f;n&&a({title:n.title||"",genres:((h=n.genres)==null?void 0:h.map(p=>p.name))||[],moods:n.moods||[],platforms:((f=n.platforms)==null?void 0:f.map(p=>p.code))||[],playStatus:n.playStatus||"unplayed",tags:n.tags||[],hoursPlayed:n.hoursPlayed||0,userRating:n.userRating||void 0,notes:n.notes||"",coverImage:n.coverImage||"",launcherId:n.launcherId||"",isFavorite:n.isFavorite||!1,totalPlaytime:n.totalPlaytime||void 0,averageRating:n.averageRating||void 0,completionPercentage:n.completionPercentage||void 0})},[n]);const m=async h=>{if(h.preventDefault(),!!n){l(!0),d(null);try{const f={title:i.title,genres:i.genres.map(p=>({id:p.toLowerCase().replace(/\s+/g,"-"),name:p,description:`${p} games`,icon:"",color:"#"+Math.floor(Math.random()*16777215).toString(16),tags:[p.toLowerCase()]})),platforms:i.platforms.map(p=>({id:p,name:p,code:p,isConnected:!1})),playStatus:i.playStatus,tags:i.tags,hoursPlayed:i.hoursPlayed,userRating:i.userRating||0,notes:i.notes,isFavorite:i.isFavorite,emotionalTags:i.moods.map(p=>p),moods:i.moods};await s(n.id,f),t()}catch(f){d(f instanceof Error?f.message:"Failed to update game")}finally{l(!1)}}},u=(h,f)=>{a(p=>({...p,[h]:f}))};return!e||!n?null:r.jsx(Qe,{children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Game"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),r.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[c&&r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30",children:r.jsx("p",{className:"text-red-400 text-sm",children:c})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:i.title,onChange:h=>u("title",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"Enter game title",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genres"}),r.jsx(Uw,{options:Ot.map(h=>h.name),selected:i.genres,onChange:h=>u("genres",h),placeholder:"Select genres..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods"}),r.jsx("div",{className:"space-y-2",children:ke.map(h=>r.jsxs("label",{className:"flex items-center space-x-2 text-gray-300 cursor-pointer hover:text-white transition-colors",children:[r.jsx("input",{type:"checkbox",checked:i.moods.includes(h.id),onChange:f=>{f.target.checked?u("moods",[...i.moods,h.id]):u("moods",i.moods.filter(p=>p!==h.id))},className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:border-blue-500"}),r.jsx("span",{children:h.name}),r.jsx("span",{className:"text-gray-500 text-sm",children:h.emoji})]},h.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platforms"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["steam","epic","gog","manual"].map(h=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:i.platforms.includes(h),onChange:f=>{const p=f.target.checked?[...i.platforms,h]:i.platforms.filter(g=>g!==h);u("platforms",p)},className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),r.jsx("span",{className:"text-sm text-gray-300 capitalize",children:h})]},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Play Status"}),r.jsxs("select",{value:i.playStatus,onChange:h=>u("playStatus",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-gaming-primary/50","aria-label":"Select game play status",children:[r.jsx("option",{value:"unplayed",children:"Unplayed"}),r.jsx("option",{value:"playing",children:"Playing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"abandoned",children:"Abandoned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hours Played"}),r.jsx("input",{type:"number",min:"0",step:"0.1",value:i.hoursPlayed,onChange:h=>u("hoursPlayed",parseFloat(h.target.value)||0),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Rating"}),r.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(h=>r.jsx("button",{type:"button",onClick:()=>u("userRating",h),className:`w-8 h-8 rounded-full border-2 transition-all ${i.userRating&&i.userRating>=h?"border-gaming-primary bg-gaming-primary text-white":"border-white/20 bg-white/10 text-gray-400 hover:border-gaming-primary/50"}`,children:h},h))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),r.jsx(Vw,{selected:i.tags,onChange:h=>u("tags",h),placeholder:"Select or add tags..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cover Image URL"}),r.jsx("input",{type:"url",value:i.coverImage,onChange:h=>u("coverImage",h.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50",placeholder:"https://example.com/cover.jpg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),r.jsx("textarea",{value:i.notes,onChange:h=>u("notes",h.target.value),rows:3,className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50 resize-none",placeholder:"Your thoughts about this game..."})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"isFavorite",checked:i.isFavorite,onChange:h=>u("isFavorite",h.target.checked),className:"rounded border-white/20 bg-white/10 text-gaming-primary focus:ring-gaming-primary/50"}),r.jsx("label",{htmlFor:"isFavorite",className:"text-sm text-gray-300 cursor-pointer",children:"Mark as Favorite"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-white/10",children:[r.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o||!i.title.trim(),className:"px-6 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(_a,{message:"",size:"sm"}),"Saving..."]}):r.jsx(r.Fragment,{children:" Save Changes"})})]})]})]})})})},dA=({isOpen:e,onClose:t,game:n,onDeleteGame:s})=>{var h;const[i,a]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(""),m=async()=>{if(n){a(!0),l(null);try{await s(n.id),t()}catch(f){l(f instanceof Error?f.message:"Failed to delete game")}finally{a(!1)}}},u=f=>{d(f.target.value)};return!e||!n?null:r.jsx(Qe,{children:r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"glass-morphism rounded-xl border border-white/10 max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Delete Game"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:""})]}),r.jsxs("div",{className:"p-6",children:[o&&r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-red-500/30 mb-4",children:r.jsx("p",{className:"text-red-400 text-sm",children:o})}),r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex-shrink-0 overflow-hidden",children:n.coverImage?r.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:n.title}),r.jsx("p",{className:"text-sm text-gray-400",children:((h=n.genres)==null?void 0:h.map(f=>f.name).join(", "))||"No genres"}),n.hoursPlayed&&r.jsxs("p",{className:"text-sm text-gray-400",children:[n.hoursPlayed," hours played"]})]})]}),r.jsx("div",{className:"glass-morphism rounded-lg p-4 border border-yellow-500/30 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("span",{className:"text-2xl text-yellow-400",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-400 font-medium mb-2",children:"This action cannot be undone!"}),r.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"All game data, including playtime, ratings, and notes will be permanently deleted."})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Type ",r.jsx("span",{className:"text-gaming-primary font-bold",children:"DELETE"})," to confirm:"]}),r.jsx("input",{type:"text",value:c,onChange:u,placeholder:"Type DELETE to confirm",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gaming-primary/50"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:m,disabled:i||c!=="DELETE",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(_a,{message:"",size:"sm"}),"Deleting..."]}):r.jsx(r.Fragment,{children:" Delete Game"})})]})]})]})})})},uA=({isOpen:e,onClose:t,onImportGames:n})=>{const[s,i]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),{actions:d,isLoading:m}=ye(),{user:u}=Ss();w.useEffect(()=>{u!=null&&u.steamId&&(i(u.steamId),console.log(" Auto-filled Steam ID from logged-in user:",u.steamId))},[u]);const h=async()=>{if(console.log(" SteamImportModal: handleImport called!"),console.log(" SteamImportModal: Steam ID:",s),!s){console.log(" SteamImportModal: No Steam ID provided"),o("Steam ID is required"),c("Please try logging in with Steam again");return}console.log(" SteamImportModal: Starting import process..."),o("Fetching your Steam library..."),c("");try{const f="FBB124C9352519E8F9FE820ADF0DA87C";console.log(" SteamImportModal: Calling importSteamLibrary with Steam ID:",s);const p=await d.importSteamLibrary(s,f);console.log(" SteamImportModal: Import result:",p),p.success&&p.gameCount>0?(console.log(" SteamImportModal: Import successful! Games:",p.gameCount),o(`Successfully imported ${p.gameCount} games!`),console.log(" SteamImportModal: Calling onImportGames callback with",p.games.length,"games"),n(p.games.map(g=>({...g,id:g.id}))),setTimeout(()=>{console.log(" SteamImportModal: Closing modal..."),t(),o(""),c(""),i("")},2e3)):(console.log(" SteamImportModal: No games found"),o("No games found in your Steam library"),c("Make sure your Steam profile is public and you own games"))}catch(f){console.error(" SteamImportModal: Import error:",f);let p="Unknown error occurred",g="Please try again later";f instanceof Error?(p=f.message,console.log(" SteamImportModal: Error message:",p),console.log(" SteamImportModal: Error stack:",f.stack)):typeof f=="string"?p=f:f&&typeof f=="object"&&(p="Steam API request failed",g=JSON.stringify(f,null,2),console.log(" SteamImportModal: Error object:",f)),p.includes("Invalid Steam Web API key")?(o("Invalid API Key"),c("Please check your Steam Web API key and try again")):p.includes("Steam profile is private")?(o("Private Profile"),c("Please make your Steam profile public and set your game details to public")):p.includes("Invalid Steam ID")?(o("Invalid Steam ID"),c("Please check your Steam ID and ensure your profile is public")):p.includes("Failed to connect")||p.includes("Failed to fetch")?(o("Connection Error"),c("Unable to connect to Steam API. Please check your internet connection and try again.")):p.includes("Steam API request failed")?(o("API Error"),c("Steam API is temporarily unavailable. Please try again in a few minutes.")):(o("Import Failed"),c(`${p}. ${g}`))}finally{console.log(" SteamImportModal: Import process completed")}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"glass-morphism rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto cinematic-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Import Steam Library"}),r.jsx("button",{onClick:t,className:"w-10 h-10 bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Steam ID"}),r.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",placeholder:"Your Steam ID (auto-filled from login)",disabled:m||!!(u!=null&&u.steamId)}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:u!=null&&u.steamId?"Steam ID auto-filled from your login":"Find your Steam ID in your profile URL"})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Import Your Steam Library"}),r.jsx("p",{className:"text-xs text-gray-400",children:'Click "Import Library" to fetch all games from your Steam account. This will import game titles, playtime, achievements, and cover images.'})]}),(a||l)&&r.jsxs("div",{className:`p-3 rounded-lg text-sm ${a.includes("Successfully")?"bg-green-600/20 text-green-400 border border-green-600/50":"bg-red-600/20 text-red-400 border border-red-600/50"}`,children:[r.jsxs("div",{className:"font-medium flex items-center gap-2",children:[m&&r.jsx(_a,{}),a]}),l&&r.jsx("div",{className:"text-xs mt-1 opacity-75",children:l})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:t,disabled:m,className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{onClick:h,disabled:m||!s,className:"flex-1 px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Importing...":"Import Library"})]})]})]})})}):null},mA=({children:e,onClick:t,className:n,variant:s="default",disabled:i=!1,type:a="button",...o})=>r.jsx("button",{type:a,onClick:t,disabled:i,className:ps("px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"bg-blue-500 hover:bg-blue-600 text-white":s==="default","bg-red-500 hover:bg-red-600 text-white":s==="destructive","bg-gray-600 hover:bg-gray-700 text-white":s==="secondary","opacity-50 cursor-not-allowed":i},n),...o,children:e});function hA({className:e=""}){ye();const[t,n]=re.useState(!1),[s,i]=re.useState(""),a=()=>{n(!0),i("Redirecting to Steam...");const o="http://localhost:3001";window.location.href=`${o}/api/auth/steam`};return r.jsx("div",{className:`glass-morphism rounded-xl p-6 ${e}`,children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Import from Steam"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Connect your Steam account to automatically import your game library"})]}),t?r.jsxs("div",{className:"space-y-3",children:[r.jsx(_a,{size:"sm"}),r.jsx("p",{className:"text-blue-400 text-sm",children:s})]}):r.jsx(mA,{onClick:a,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white",disabled:t,children:"Import Steam Library"}),s&&!t&&r.jsx("p",{className:`text-sm mt-2 ${s.includes("Successfully")?"text-green-400":s.includes("failed")||s.includes("Failed")?"text-red-400":"text-blue-400"}`,children:s}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:r.jsx("p",{className:"text-xs text-gray-500",children:"This is a demo import that adds sample games to your library"})})]})})}function pA({isSearchResult:e,onImportSteam:t}){const[n,s]=w.useState(!1);return e?r.jsxs("div",{className:"glass-morphism rounded-2xl p-12 text-center border border-gray-700/30",children:[r.jsx("div",{className:"text-6xl mb-6",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"No games found"}),r.jsx("p",{className:"text-gray-400 mb-8 text-base max-w-md mx-auto",children:"Try adjusting your search terms or filters to find what you're looking for."}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-700 text-white font-medium rounded-lg hover:bg-gray-600 transition-all duration-200",children:"Clear Search"})})]}):r.jsx("div",{className:"text-center py-8",children:n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-gray-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Import Steam Library"}),r.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),r.jsx(hA,{onComplete:i=>{s(!1),t()},onError:i=>{console.error("Steam import error:",i),s(!1)}})]})})})})}function fA(e,t){const[n,s]=w.useState(e);return w.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const b0=()=>{var $h,Gh,Bh,Uh,Vh,Wh,Hh,Yh;const{games:e,isLoading:t,actions:n}=ye(),{showSuccess:s,showError:i}=Pa(),[a,o]=w.useState(!1),l=Ow(),[c,d]=w.useState(!1),[m,u]=w.useState("all"),[h,f]=w.useState(!1),{primaryMood:p,secondaryMood:g,intensity:y,recommendations:x,isLoading:v,error:b,selectMood:j,clearMood:S,setIntensity:T,hasRecommendations:E}=Rh({games:e||[],onRecommendationsChange:O=>{console.log("Library mood recommendations updated:",O.length)}}),k=(O,W)=>{j(O,W),u("mood"),d(!1)},C=p?ke.find(O=>O.id===p):void 0,M=g?ke.find(O=>O.id===g):void 0,[L,$]=w.useState(""),Q=fA(L,300),[H,te]=w.useState("all"),[N,G]=w.useState("title-asc"),[P,I]=w.useState([]),[R,F]=w.useState(null),[X,le]=w.useState(Ws());w.useEffect(()=>{const O=setInterval(()=>{le(Ws())},6e4);return()=>clearInterval(O)},[]);const[ce,We]=w.useState(!1),[xe,ve]=w.useState(!1),[pe,ue]=w.useState(!1),[tt,z]=w.useState(!1),[Y,K]=w.useState(null),[de,zn]=w.useState(new Set),[$n,Ra]=w.useState(!1),Jw=w.useMemo(()=>{const O=Ot.map($e=>$e.name),W=new Set;e.forEach($e=>{$e.genres&&$e.genres.forEach(je=>{typeof je=="string"?W.add(je):je!=null&&je.name&&W.add(je.name)})});const ae=new Set([...O,...W]);return Array.from(ae).sort()},[e]);w.useMemo(()=>{const O=[{title:"Test Energetic",moods:["energetic"],genres:["Action"],hoursPlayed:.5,addedAt:new Date().toISOString()},{title:"Test Chill",moods:["chill"],genres:["Puzzle"],hoursPlayed:3,addedAt:new Date().toISOString()},{title:"Test Creative",moods:["creative"],genres:["RPG"],hoursPlayed:1.5,addedAt:new Date().toISOString()},{title:"Test No Moods",moods:[],genres:["Strategy"],hoursPlayed:0,addedAt:new Date().toISOString()}];console.log(" CONTEXTUAL TAGGING TEST:"),O.forEach(ne=>{const be=ne.hoursPlayed||0;let Ie="medium";be<.5?Ie="short":be<=2?Ie="medium":Ie="long";const Te=new Set;ne.moods.forEach(rc=>{["chill","cozy","casual","puzzle","relaxed"].includes(rc)&&Te.add("late-night"),["energetic","competitive","focused","intense"].includes(rc)&&Te.add("morning"),["creative","immersive","story-driven","exploration"].includes(rc)&&(Te.add("afternoon"),Te.add("evening"))}),Te.size===0&&Te.add("evening"),console.log(`  ${ne.title}:`,{playtime:be,sessionLength:Ie,recommendedTimes:Array.from(Te),moods:ne.moods,genres:ne.genres})});const W=O.filter(ne=>P.length===0||P.every(Ie=>ne.moods.includes(Ie)));console.log(" TEST A (all):",W.map(ne=>ne.title));const ae=O.filter(ne=>{const be=["energetic"];return be.length===0||be.every(Te=>ne.moods.includes(Te))});console.log(" TEST B (energetic):",ae.map(ne=>ne.title));const Le=O.filter(ne=>{const be=["chill"];return be.length===0||be.every(Te=>ne.moods.includes(Te))});console.log(" TEST C (chill):",Le.map(ne=>ne.title));const $e=O.filter(ne=>{const be=["creative"];return be.length===0||be.every(Te=>ne.moods.includes(Te))});console.log(" TEST D (creative):",$e.map(ne=>ne.title));const je=O.filter(ne=>{const be=["competitive"];return be.length===0||be.every(Te=>ne.moods.includes(Te))});console.log(" TEST E (competitive - should be empty):",je.map(ne=>ne.title));const rr=O.filter(ne=>{const be=["chill","creative"];return be.length===0||be.every(Te=>ne.moods.includes(Te))});console.log(" TEST F (chill + creative):",rr.map(ne=>ne.title))},[]);const Zw=O=>{const W={DOOM:["FPS"],"Resident Evil":["Horror","FPS"],"Dying Light":["Horror","FPS"],"Dead Island":["Horror","FPS"],"PUBG: BATTLEGROUNDS":["FPS","Multiplayer"],"Tom Clancy's Rainbow Six":["FPS","Tactical"],"BattleBit Remastered":["FPS","Multiplayer"],HELLDIVERS:["FPS","Multiplayer"],Squad:["FPS","Tactical"],"Insurgency: Sandstorm":["FPS","Tactical"],"The Witcher 3":["RPG","Adventure"],"Baldur's Gate":["RPG","Strategy"],"Divinity: Original Sin":["RPG","Strategy"],Fallout:["RPG","Adventure"],"STAR WARS Knights of the Old Republic":["RPG","Story"],"Kingdom Come: Deliverance":["RPG","Adventure"],"Elden Ring":["RPG","Adventure"],"DARK SOULS":["RPG","Adventure"],Sekiro:["RPG","Adventure"],"Rocket League":["Sports","Racing"],"WWE 2K":["Sports"],"PGA TOUR":["Sports"],eFootball:["Sports"],Wreckfest:["Racing"],"Mad Max":["Racing","Adventure"],"Company of Heroes":["Strategy"],"Age of Empires":["Strategy"],"Door Kickers":["Strategy","Tactical"],"Shadow Tactics":["Strategy","Tactical"],"God of War":["Action","Adventure"],"Marvel's Spider-Man":["Action","Adventure"],Batman:["Action","Adventure"],"Assassin's Creed":["Action","Adventure"],Mafia:["Action","Adventure"],"METAL GEAR SOLID":["Action","Stealth"],Rust:["Survival","Multiplayer"],DayZ:["Survival","Multiplayer"],"7 Days to Die":["Survival"],"The Forest":["Survival","Horror"],"Project Zomboid":["Survival","Horror"],"Don't Starve Together":["Survival","Multiplayer"],"Stranded Deep":["Survival"],"Green Hell":["Survival"],Terraria:["Creative","Sandbox"],Starbound:["Creative","Sandbox"],Minecraft:["Creative","Sandbox"],RimWorld:["Creative","Strategy"],"Garry's Mod":["Creative","Sandbox"],"Left 4 Dead 2":["Multiplayer","Co-op"],"Apex Legends":["Multiplayer","FPS"],"Crab Game":["Multiplayer"],Valheim:["Multiplayer","Survival"],"Pummel Party":["Multiplayer","Party"],"Cities: Skylines":["Simulation"],"Dawn of Man":["Simulation","Strategy"],Kenshi:["Simulation","RPG"]},ae=O.title.toLowerCase();for(const[Le,$e]of Object.entries(W))if(ae.includes(Le.toLowerCase()))return{...O,genres:$e.map(je=>({id:je.toLowerCase().replace(/\s+/g,"-"),name:je,description:`${je} games`,icon:"",color:"from-blue-500 to-purple-600",tags:[je.toLowerCase()]}))};return O},Gn=w.useMemo(()=>e.map(O=>{const W=xM(O),ae=Zw(W),Le=Zl(ae);return{...ae,primaryMood:Le}}),[e]),ej=O=>{I(W=>{const ae=W.includes(O)?W.filter(Le=>Le!==O):[...W,O];try{ed("moods","changed",{selectedMoodsCount:ae.length,selectedMoods:ae})}catch{}return ae})},sr=w.useMemo(()=>{if(Gn.length>0&&(console.log(" DEBUG: First 3 games in library:"),Gn.slice(0,3).forEach((W,ae)=>{var Le;console.log(`Game ${ae+1}: ${W.title}`),console.log(`  Primary Mood: ${W.primaryMood}`),console.log(`  Moods: ${JSON.stringify(W.moods)}`),console.log(`  Genres: ${JSON.stringify((Le=W.genres)==null?void 0:Le.map($e=>$e.name))}`)})),Gn.length>0&&P.length>0){const W=Gn[0];console.log(` Testing mood filtering on: ${W.title}`),console.log(`Selected moods: ${P}`),P.forEach(ae=>{const Le=$w([W],ae,1);console.log(`  Mood "${ae}": ${Le.length>0?" MATCH":" NO MATCH"}`)})}if(Gn.length>0&&H!=="all"){const W=Gn.filter(ae=>{var $e;return($e=ae.genres)==null?void 0:$e.some(je=>(typeof je=="string"?je:(je==null?void 0:je.name)||"").toLowerCase()===H.toLowerCase())});console.log(` Found ${W.length} games for genre "${H}"`)}let O=Gn.filter(W=>{var be;const ae=!Q||W.title.toLowerCase().includes(Q.toLowerCase()),Le=H==="all"||((be=W.genres)==null?void 0:be.some(Ie=>(typeof Ie=="string"?Ie:(Ie==null?void 0:Ie.name)||"").toLowerCase()===H.toLowerCase()));let $e=P.length===0;P.length>0&&($e=P.some(Ie=>{const Te=W.primaryMood===Ie;return Te&&W.title.includes("Call of Duty")&&console.log(` ${W.title} matches mood ${Ie}:`,{gamePrimaryMood:W.primaryMood,gameMoods:W.moods,moodId:Ie,matches:Te}),Te}));const ne=KP([W],{selectedMoods:P,selectedSessionLength:R,timeOfDay:X},{limit:1}).length>0;return ae&&Le&&$e&&ne});return O.sort((W,ae)=>{var Le,$e,je,rr;switch(N){case"title-asc":return W.title.localeCompare(ae.title);case"title-desc":return ae.title.localeCompare(W.title);case"recently-added":return new Date(ae.addedAt).getTime()-new Date(W.addedAt).getTime();case"playtime-desc":return(ae.hoursPlayed||0)-(W.hoursPlayed||0);case"playtime-asc":return(W.hoursPlayed||0)-(ae.hoursPlayed||0);case"last-played":return new Date(ae.lastPlayed||0).getTime()-new Date(W.lastPlayed||0).getTime();case"release-date-desc":return new Date(ae.releaseDate||0).getTime()-new Date(W.releaseDate||0).getTime();case"release-date-asc":return new Date(W.releaseDate||0).getTime()-new Date(ae.releaseDate||0).getTime();case"genre":const ne=(($e=(Le=W.genres)==null?void 0:Le[0])==null?void 0:$e.name)||"",be=((rr=(je=ae.genres)==null?void 0:je[0])==null?void 0:rr.name)||"";return ne.localeCompare(be);default:return 0}}),O},[Gn,Q,H,P,N,R,X]),tc=O=>{$n?zh(O.id):(K(O),ve(!0))},nc=async O=>{try{O.appId?(await Ch(O.appId),s(`Launching ${O.title}...`)):i(`No launch ID available for ${O.title}`)}catch(W){i(`Failed to launch ${O.title}`),console.error("Launch error:",W)}},sc=O=>{K(O),ue(!0)},zh=O=>{const W=new Set(de);W.has(O)?W.delete(O):W.add(O),zn(W)},tj=()=>{de.size===sr.length?zn(new Set):zn(new Set(sr.map(O=>O.id)))},nj=()=>{de.size!==0&&confirm(`Are you sure you want to delete ${de.size} game(s)?`)&&(n.deleteGames(Array.from(de)),zn(new Set),Ra(!1),s(`Deleted ${de.size} game(s)`))},sj=O=>{n.addGame(O),We(!1),s("Game added successfully!")},rj=(O,W)=>{n.updateGame(O,W),ve(!1),K(null),s("Game updated successfully!")},ij=()=>{Y&&(n.deleteGame(Y.id),ue(!1),K(null),s("Game deleted successfully!"))},aj=O=>{z(!1),s(`Successfully imported ${O.length} games from Steam!`)};return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_a,{size:"lg"})}):r.jsxs("div",{className:"container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Game Library"}),r.jsxs("p",{className:"text-gray-400",children:[e.length," ",e.length===1?"game":"games"," in your library"]}),(($h=l==null?void 0:l.traits)==null?void 0:$h.archetypeId)&&r.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-full",children:[r.jsxs("span",{className:"text-purple-300 text-sm font-medium",children:[" ",l.traits.archetypeId]}),r.jsxs("span",{className:"text-gray-400 text-xs",children:[Math.round((l.confidence||0)*100),"% match"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>z(!0),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),"Import Steam"]}),r.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),C?C.name:"Select Mood"]}),r.jsx("button",{onClick:()=>We(!0),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Add Game"}),r.jsxs("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("span",{children:""}),"I'm Not Sure What To Play"]}),e.length>=30&&r.jsxs("button",{onClick:()=>o(!a),className:`px-4 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${a?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,title:`Virtual scrolling ${a?"ON":"OFF"} - Better performance for large libraries`,children:[r.jsx("span",{children:a?"":""}),r.jsx("span",{className:"hidden sm:inline",children:a?"Virtual ON":"Virtual OFF"})]})]})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Games"}),r.jsx("input",{type:"text",value:L,onChange:O=>$(O.target.value),placeholder:"Search by title...",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Moods (Multi-Select)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ke.map(O=>{const W=P.includes(O.id);return r.jsx("button",{onClick:()=>ej(O.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${W?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:O.name},O.id)})}),P.length>0&&r.jsx("button",{onClick:()=>I([]),className:"mt-2 text-xs text-gray-400 hover:text-white transition-colors",children:"Clear all moods"}),r.jsxs("div",{className:"session-length-filter mt-4",children:[r.jsx("h4",{className:"block text-sm font-medium text-gray-300 mb-2",children:"How long do you have?"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[["short","medium","long"].map(O=>r.jsxs("button",{className:`px-3 py-1 rounded-lg text-sm transition-all ${R===O?"bg-blue-600 text-white border border-blue-500":"bg-gray-700 text-gray-300 border border-gray-600 hover:bg-gray-600"}`,onClick:()=>{F(O);try{ed("session_length","changed",{selectedSessionLength:O})}catch{}},children:[O==="short"&&"1530 min",O==="medium"&&"12 hours",O==="long"&&"2+ hours"]},O)),R&&r.jsx("button",{onClick:()=>{F(null);try{ed("session_length","cleared",{selectedSessionLength:void 0})}catch{}},className:"px-3 py-1 rounded-lg text-xs text-gray-400 hover:text-white transition-colors",children:"Clear"})]})]}),r.jsx("div",{className:"time-of-day-display mt-3",children:r.jsxs("span",{className:"text-xs text-gray-400",children:["Current time: ",r.jsx("span",{className:"text-white font-medium",children:X})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Genre"}),r.jsxs("select",{value:H,onChange:O=>te(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none","aria-label":"Filter by genre",title:"Filter by genre",children:[r.jsx("option",{value:"all",children:"All Genres"}),Jw.map(O=>r.jsx("option",{value:O,children:O},O))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),r.jsxs("select",{value:N,onChange:O=>G(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none","aria-label":"Sort games",title:"Sort games",children:[r.jsx("option",{value:"title-asc",children:"Title (A-Z)"}),r.jsx("option",{value:"title-desc",children:"Title (Z-A)"}),r.jsx("option",{value:"recently-added",children:"Recently Added"}),r.jsx("option",{value:"playtime-desc",children:"Most Played"}),r.jsx("option",{value:"playtime-asc",children:"Least Played"}),r.jsx("option",{value:"last-played",children:"Last Played"}),r.jsx("option",{value:"release-date-desc",children:"Newest First"}),r.jsx("option",{value:"release-date-asc",children:"Oldest First"}),r.jsx("option",{value:"genre",children:"Genre (A-Z)"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{$(""),te("all"),I([]),F(null),G("title-asc")},className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Clear Filters"})})]})}),E&&C&&P.length===0&&H==="all"&&!Q&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[r.jsx("span",{children:C.emoji}),C.name," Recommendations",M&&r.jsxs("span",{className:"text-purple-400",children:["+ ",M.emoji," ",M.name]}),l&&r.jsxs("span",{className:"text-xs bg-purple-600/50 px-2 py-1 rounded-full ml-2",children:[(Gh=l.traits)==null?void 0:Gh.archetypeId," Match"]})]}),r.jsxs("p",{className:"text-gray-300 text-sm",children:[x.length," games matching your current mood",l&&`  Personalized for ${(Bh=l.traits)==null?void 0:Bh.archetypeId} playstyle`]})]}),r.jsx("button",{onClick:()=>S(),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Clear Mood"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.slice(0,8).map(O=>r.jsx(Gu,{game:O,onSelect:()=>tc(O),onLaunch:()=>nc(O),onDelete:()=>sc(O),isSelectable:$n,isSelected:de.has(O.id)},O.id))})]}),l&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-bold text-lg",children:((Uh=l.traits)==null?void 0:Uh.archetypeId)||"Gaming Persona"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Your personalized gaming profile"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Confidence"}),r.jsxs("div",{className:"text-lg font-bold text-purple-400",children:[Math.round((l.confidence||0)*100),"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Archetype"}),r.jsx("div",{className:"text-white font-medium capitalize",children:((Vh=l.traits)==null?void 0:Vh.archetypeId)||"Balanced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Intensity"}),r.jsx("div",{className:"text-white font-medium",children:((Wh=l.traits)==null?void 0:Wh.intensity)||"Medium"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Pacing"}),r.jsx("div",{className:"text-white font-medium",children:((Hh=l.traits)==null?void 0:Hh.pacing)||"Flow"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Social Style"}),r.jsx("div",{className:"text-white font-medium",children:((Yh=l.traits)==null?void 0:Yh.socialStyle)||"Solo"})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Select Your Mood"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white transition-colors",title:"Close mood selector","aria-label":"Close mood selector",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(Fw,{onMoodChange:k})})]})}),$n&&r.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-white",children:[de.size," game",de.size!==1?"s":""," selected"]}),r.jsx("button",{onClick:tj,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:de.size===sr.length?"Deselect All":"Select All"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:nj,disabled:de.size===0,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:opacity-50 text-white rounded-lg text-sm transition-colors",children:"Delete Selected"}),r.jsx("button",{onClick:()=>{Ra(!1),zn(new Set)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors",children:"Cancel"})]})]})}),e.length===0?r.jsx(pA,{isSearchResult:!1,onImportSteam:()=>{}}):sr.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400 text-lg",children:"No games found matching your filters"})}):a?r.jsx(rA,{games:sr,onGameLaunch:nc,onGameEdit:(O,W)=>handleGameEdit(O,W),onGameDelete:sc,selectedGames:de,onGameSelectToggle:zh,isBulkSelectMode:$n}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 p-6",children:sr.map(O=>r.jsx("div",{className:"group",children:r.jsx("div",{className:"transform transition-all duration-300 ease-out hover:scale-105 hover:-translate-y-2",children:r.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-2 border border-gray-700/50 shadow-lg group-hover:shadow-xl group-hover:border-gray-600/50 transition-all duration-300",children:r.jsx(Gu,{game:O,onSelect:()=>tc(O),onLaunch:()=>nc(O),onEdit:()=>tc(O),onDelete:()=>sc(O),isSelectable:$n,isSelected:de.has(O.id)})})})},O.id))}),e.length>0&&r.jsx("div",{className:"fixed bottom-6 right-6",children:r.jsx("button",{onClick:()=>{$n?(Ra(!1),zn(new Set)):Ra(!0)},className:`px-4 py-3 rounded-lg font-medium transition-colors ${$n?"bg-gray-600 hover:bg-gray-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:$n?"Exit Selection":"Select Games"})}),r.jsx(oA,{isOpen:ce,onClose:()=>We(!1),onAddGame:sj}),r.jsx(cA,{isOpen:xe,onClose:()=>ve(!1),onUpdateGame:rj,game:Y}),r.jsx(dA,{isOpen:pe,onClose:()=>ue(!1),onDeleteGame:ij,game:Y}),r.jsx(uA,{isOpen:tt,onClose:()=>z(!1),onImportGames:aj}),h&&e&&e.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"w-full max-w-4xl",children:r.jsx(hw,{onClose:()=>f(!1)})})})]})},gA=w.lazy(()=>qx(()=>import("./GameDetailsLayout-47625b77.js"),["assets/GameDetailsLayout-47625b77.js","assets/emulatorLauncher-803a0f26.js","assets/GameDetailsLayout-69afa292.css"]).then(e=>({default:e.GameDetailsLayout}))),yA=()=>{const{gameId:e}=hS(),t=ln(),{games:n}=ye(),s=n.find(i=>i.id===e);return s?r.jsx(w.Suspense,{fallback:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"Loading game details..."})}),children:r.jsx(gA,{game:s})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Game not found"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"The game you're looking for doesn't exist in your library."}),r.jsx("button",{onClick:()=>t("/library"),className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Back to Library"})]})})},w0=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),xA=()=>{const e=Fn();if(!e)return r.jsx(w0,{className:"p-6",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"Loading playstyle data..."})]})});const t=o=>{switch(o){case"Achiever":return"You thrive on completing challenges and earning rewards";case"Explorer":return"You love discovering new worlds and hidden secrets";case"Socializer":return"You enjoy playing with others and building communities";case"Competitor":return"You seek victory and excel in competitive gameplay";case"Strategist":return"You excel at planning and tactical decision-making";case"Creative":return"You enjoy building, creating, and expressing yourself";case"Casual":return"You prefer relaxed, stress-free gaming experiences";case"Specialist":return"You focus on mastering specific genres or games";default:return"Your unique gaming style"}},n=o=>{switch(o){case"Achiever":return"";case"Explorer":return"";case"Socializer":return"";case"Competitor":return"";case"Strategist":return"";case"Creative":return"";case"Casual":return"";case"Specialist":return"";default:return""}},s=o=>{switch(o){case"Low":return"Prefers short, casual gaming sessions";case"Medium":return"Enjoys balanced gaming sessions";case"High":return"Thrives in intense, extended gameplay";default:return"Moderate gaming approach"}},i=o=>{switch(o){case"Burst":return"Short, intense gaming sessions";case"Flow":return"Moderate, steady gaming sessions";case"Marathon":return"Long, extended gaming sessions";default:return"Balanced gaming pace"}},a=o=>{switch(o){case"Solo":return"Prefers single-player experiences";case"Coop":return"Enjoys cooperative multiplayer";case"Competitive":return"Thrives in competitive multiplayer";default:return"Flexible social preferences"}};return r.jsx(w0,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Playstyle Archetype"})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:n(e.traits.archetypeId)}),r.jsx("h4",{className:"text-xl font-bold text-white capitalize mb-2",children:e.traits.archetypeId}),r.jsx("p",{className:"text-sm text-gray-300",children:t(e.traits.archetypeId)})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Intensity"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.intensity})]}),r.jsx("p",{className:"text-xs text-gray-400",children:s(e.traits.intensity)})]}),r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Pacing"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.pacing})]}),r.jsx("p",{className:"text-xs text-gray-400",children:i(e.traits.pacing)})]}),r.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-gray-300",children:"Social Style"}),r.jsx("span",{className:"text-gaming-accent font-semibold",children:e.traits.socialStyle})]}),r.jsx("p",{className:"text-xs text-gray-400",children:a(e.traits.socialStyle)})]})]})]})})},vA=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),bA=()=>{const e=Jl(),t=Fn(),{games:n}=ye(),i=(()=>n.filter(c=>c.lastPlayed).sort((c,d)=>new Date(d.lastPlayed).getTime()-new Date(c.lastPlayed).getTime()).slice(0,7).map((c,d)=>{var y,x;let m="Neutral";const u=v=>typeof v=="string"?v.toLowerCase():v&&typeof v=="object"&&v.name?v.name.toLowerCase():"",h=v=>typeof v=="string"?v.toLowerCase():v&&typeof v=="object"&&v.name?v.name.toLowerCase():"",f=((y=c.genres)==null?void 0:y.map(u))||[],p=((x=c.tags)==null?void 0:x.map(h))||[];f.some(v=>v.includes("action"))||p.some(v=>v.includes("competitive"))?m="Competitive":f.some(v=>v.includes("puzzle"))||p.some(v=>v.includes("relaxing"))?m="Relaxed":f.some(v=>v.includes("sandbox"))||p.some(v=>v.includes("creative"))?m="Creative":f.some(v=>v.includes("rpg"))&&(m="Immersive");const g=c.hoursPlayed?Math.min(5,Math.max(1,Math.floor(c.hoursPlayed/10)+1)):3;return{id:`mood-${d}`,mood:m,intensity:g,timestamp:c.lastPlayed,gameTitle:c.title,confidence:(t==null?void 0:t.confidence)||.7}}))(),a=l=>{switch(l.toLowerCase()){case"competitive":return"";case"relaxed":return"";case"creative":return"";case"immersive":return"";case"neutral":return"";default:return""}},o=l=>{if(!l)return"Unknown time";try{const c=typeof l=="string"?new Date(l):l;return isNaN(c.getTime())?"Invalid date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c)}catch(c){return console.warn("Date formatting error:",c,"Input:",l),"Invalid date"}};return r.jsx(vA,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Mood History"})]}),e&&r.jsxs("div",{className:"p-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary/20 rounded-lg border border-gaming-primary/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-gray-300",children:"Current Mood"}),r.jsx("span",{className:"text-gaming-accent font-semibold capitalize",children:e.moodId})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:a(e.moodId)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Intensity"}),r.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((l,c)=>r.jsx("div",{className:`h-2 flex-1 rounded-full ${c<e.intensity?"bg-gaming-accent":"bg-gray-700"}`},c))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-gray-300 text-sm",children:"Recent Moods"}),i.length>0?i.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:a(l.mood)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-white capitalize",children:l.mood}),r.jsx("div",{className:"text-xs text-gray-400",children:l.gameTitle})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-xs text-gray-400",children:o(l.timestamp)}),r.jsxs("div",{className:"text-xs text-gaming-accent",children:["Intensity ",l.intensity,"/5"]})]})]},l.id)):r.jsxs("div",{className:"text-center text-gray-400 py-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("p",{className:"text-sm mt-2",children:"No mood history available"})]})]})]})})},wA=({children:e,className:t=""})=>r.jsx("div",{className:`glass-morphism rounded-xl p-6 cursor-pointer hover:bg-white/15 transition-colors ${t}`,children:e}),jA=()=>{const{games:e}=ye(),n=(()=>{const a={};let o=0;return e.forEach(c=>{var m;const d=c.hoursPlayed||0;o+=d,(m=c.genres)==null||m.forEach(u=>{const h=typeof u=="string"?u:u.name||u.description||"Unknown";a[h]=(a[h]||0)+d})}),Object.entries(a).map(([c,d])=>({name:c,hours:d,percentage:o>0?d/o*100:0,gameCount:e.filter(m=>{var u;return(u=m.genres)==null?void 0:u.some(h=>(typeof h=="string"?h:h.name||h.description||"")===c)}).length})).sort((c,d)=>d.hours-c.hours).slice(0,5)})(),s=a=>{const o=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-teal-500","from-yellow-500 to-orange-500","from-red-500 to-pink-500"];return o[a%o.length]},i=a=>a<1?"< 1h":a<24?`${Math.floor(a)}h`:a<24*7?`${Math.floor(a/24)}d`:`${Math.floor(a/(24*7))}w`;return r.jsx(wA,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Genre Breakdown"})]}),n.length>0?r.jsx("div",{className:"space-y-3",children:n.map((a,o)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${s(o)}`}),r.jsx("span",{className:"text-white font-medium",children:a.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gaming-accent font-semibold",children:[a.percentage.toFixed(1),"%"]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[a.gameCount," games  ",i(a.hours)]})]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${s(o)} transition-all duration-1000 ease-out`,style:{width:`${a.percentage}%`},children:r.jsx("div",{className:"h-full bg-white/20"})})})]},a.name))}):r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx("span",{className:"text-4xl",children:""}),r.jsx("p",{className:"text-sm mt-2",children:"No genre data available"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add games to your library to see genre breakdown"})]}),n.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:n.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Genres"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:e.length}),r.jsx("div",{className:"text-xs text-gray-400",children:"Games"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gaming-accent",children:i(e.reduce((a,o)=>a+(o.hoursPlayed||0),0))}),r.jsx("div",{className:"text-xs text-gray-400",children:"Total Hours"})]})]})})]})})},NA=({children:e,className:t="",onClick:n})=>r.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-xl ${t}`,onClick:n,children:e}),SA=({insight:e,isExpanded:t,onToggle:n})=>{const s=l=>{switch(l){case"strength":return"border-green-500/30 bg-green-500/10";case"behaviour":return"border-blue-500/30 bg-blue-500/10";case"recommendation":return"border-purple-500/30 bg-purple-500/10";default:return"border-gray-500/30 bg-gray-500/10"}},i=l=>{switch(l){case"strength":return"text-green-400";case"behaviour":return"text-blue-400";case"recommendation":return"text-purple-400";default:return"text-gray-400"}},o=(()=>{switch(e.type){case"strength":return{details:"This strength reflects your natural gaming tendencies and core motivations. It influences how you approach challenges and what brings you the most satisfaction.",recommendations:"Lean into games that highlight this strength for maximum enjoyment and personal growth.",genres:e.title.includes("Discovery")?["Open World","Adventure","Exploration"]:e.title.includes("Goal")?["RPG","Action","Platformer"]:e.title.includes("Social")?["MMO","Co-op","Party Games"]:["Strategy","Puzzle","Simulation"]};case"behaviour":return{details:"This behavioral pattern shows how you typically engage with games over time. Understanding these patterns helps optimize your gaming experience.",recommendations:"Schedule gaming sessions when this behavior is most beneficial for your mood and energy levels.",triggers:e.title.includes("Evening")?"Lower stress, more focused mindset":e.title.includes("Weekend")?"More free time, relaxed pace":"Consistent routine and habits"};case"recommendation":return{details:"This recommendation is based on your persona analysis and gaming history. It's designed to enhance your gaming experience.",reasoning:"Your persona traits and mood patterns suggest this type of game would be particularly enjoyable for you.",expectedOutcome:"Increased satisfaction, better mood alignment, and more engaging gameplay sessions"};default:return{details:"This insight provides valuable information about your gaming preferences and patterns.",recommendations:"Use this information to make more informed decisions about your gaming choices.",benefits:"Better game selection, improved enjoyment, and more satisfying gaming experiences"}}})();return r.jsx(NA,{className:`${s(e.type)} border ${t?"ring-2 ring-white/20":""}`,onClick:n,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`text-2xl ${i(e.type)}`,children:e.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-white font-semibold mb-1",children:e.title}),r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:e.description}),t&&o&&r.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Details:"})," ",o.details]}),o.recommendations&&r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Recommendations:"})," ",o.recommendations]}),o.genres&&r.jsxs("div",{className:"text-gray-200",children:[r.jsx("span",{className:"font-medium text-white",children:"Suggested Genres:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.genres.map((l,c)=>r.jsx("span",{className:"px-2 py-1 bg-white/10 rounded text-xs",children:l},c))})]})]}),r.jsx("button",{className:"text-xs text-gray-400 hover:text-white transition-colors mt-2",onClick:l=>{l.stopPropagation(),n()},children:t?"Show less":"Show more"})]})]})})},kA=()=>{const e=Fn();if(!e)return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{children:"Loading insights..."})]});const n=(()=>{const a=[],o={Achiever:{title:"Goal-Oriented Excellence",description:"Your drive for achievement pushes you to complete challenges and master new skills.",icon:""},Explorer:{title:"Natural Curiosity",description:"Your love for discovery leads you to explore new worlds and uncover hidden secrets.",icon:""},Socializer:{title:"Community Builder",description:"Your social nature helps you build connections and create lasting friendships.",icon:""},Competitor:{title:"Victory Drive",description:"Your competitive spirit drives you to excel and overcome challenges.",icon:""},Strategist:{title:"Tactical Mind",description:"Your strategic thinking helps you plan ahead and make optimal decisions.",icon:""},Creative:{title:"Artistic Expression",description:"Your creativity allows you to express yourself through unique gameplay experiences.",icon:""},Casual:{title:"Balanced Approach",description:"Your relaxed attitude helps you enjoy gaming without stress or pressure.",icon:""},Specialist:{title:"Deep Expertise",description:"Your dedication to mastery makes you an expert in your chosen domains.",icon:""}},l=o[e.traits.archetypeId]||o.Explorer;a.push({...l,type:"strength"});const c={Burst:{title:"High-Energy Sessions",description:"You prefer short, intense gaming sessions that maximize engagement.",icon:""},Flow:{title:"Steady Engagement",description:"You maintain consistent focus and enjoy extended gaming sessions.",icon:""},Marathon:{title:"Endurance Gaming",description:"You excel at long gaming sessions and can maintain focus for hours.",icon:""}},d=c[e.traits.pacing]||c.Flow;a.push({...d,type:"behaviour"});const m={title:"Optimal Gaming Time",description:`Your ${e.traits.archetypeId.toLowerCase()} nature suggests gaming during ${e.traits.intensity==="High"?"peak energy hours":"relaxed evening times"} for best results.`,icon:"",type:"recommendation"};return a.push(m),a})(),[s,i]=w.useState(null);return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Personal Insights"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map((a,o)=>r.jsx(SA,{insight:a,isExpanded:s===`${o}`,onToggle:()=>i(s===`${o}`?null:`${o}`)},o))})]})},CA=({isOpen:e,onClose:t,trait:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20",onClick:s=>s.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-4xl",children:n.icon}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:n.label}),r.jsx("p",{className:"text-gaming-accent font-medium",children:n.value})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors text-2xl",children:""})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About This Trait"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.fullDescription})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How We Discovered This"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.inference})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Impact on Your Archetype"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.archetypeEffect})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Perfect Game Types for You"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.suggestedGames.map((s,i)=>r.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer",children:r.jsx("div",{className:"text-gaming-accent font-medium",children:s})},i))})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:r.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Got it!"})})]})}):null,yi=({icon:e,label:t,value:n,description:s,theme:i})=>{const[a,o]=w.useState(!1),[l,c]=w.useState(!1),m=((u,h)=>{const f={Intensity:{fullDescription:"Intensity represents your energy level and engagement during gaming sessions. It reflects how deeply you immerse yourself in gameplay and how much mental and emotional energy you invest.",inference:"We analyze this from your average session length, game completion patterns, and the types of games that keep you engaged for extended periods.",archetypeEffect:"High intensity players often excel in competitive and challenging games, while lower intensity players prefer more relaxed experiences.",suggestedGames:h==="High"?["Souls-like","Competitive FPS","Strategy Games"]:["Casual Puzzle","Simulation","Story Games"]},Pacing:{fullDescription:"Pacing describes your preferred session duration and how you structure your gaming time. It reveals whether you prefer short bursts or extended gaming marathons.",inference:"This is determined by your typical play session lengths, frequency of gaming, and how you break up your gaming time.",archetypeEffect:"Your pacing affects which game types feel most natural and enjoyable, matching your lifestyle and gaming habits.",suggestedGames:h==="Burst"?["Mobile Games","Quick Match","Arcade"]:h==="Flow"?["RPG","Adventure","Open World"]:["MMO","Strategy","Sandbox"]},"Social Style":{fullDescription:"Social Style indicates your preference for multiplayer versus single-player experiences and how you interact with others in gaming environments.",inference:"We assess this from your multiplayer game preferences, community engagement, and social gaming patterns.",archetypeEffect:"This trait strongly influences which games will provide the most fulfilling experience based on your social needs.",suggestedGames:h==="Solo"?["Single-Player RPG","Story Games","Puzzle"]:h==="Coop"?["Co-op Campaigns","Team Games","MMO"]:["Competitive","FPS","Sports"]},Challenge:{fullDescription:"Challenge Tolerance reflects your comfort level with difficult gameplay mechanics and complex systems. It shows how much you enjoy being pushed to your limits.",inference:"This is measured by the difficulty levels you choose, your persistence with challenging games, and your preference for complex mechanics.",archetypeEffect:"Understanding your challenge tolerance helps recommend games that provide the right balance of difficulty and enjoyment.",suggestedGames:h==="Experimental"?["Roguelikes","Strategy","Puzzle"]:h==="Comfort"?["Casual","Simulation","Story"]:["Action-Adventure","RPG","Strategy"]},Narrative:{fullDescription:"Narrative Preference indicates how important story and character development are to your gaming experience. It reveals whether you prioritize plot or gameplay mechanics.",inference:"We analyze this from your game library composition, completion rates of story-driven games, and engagement with narrative elements.",archetypeEffect:"This trait helps determine whether story-rich games or gameplay-focused experiences will be more satisfying.",suggestedGames:["RPG","Visual Novel","Adventure","Action-Adventure"]}};return f[u]||f.Intensity})(t,n);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`glass-morphism rounded-xl p-4 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl ${a?i.bg:""} border border-white/10`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>c(!0),children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-2xl mb-2 ${a?i.accent:"text-gray-400"} transition-colors`,children:e}),r.jsx("div",{className:"text-xs text-gray-400 mb-1 uppercase tracking-wider",children:t}),r.jsx("div",{className:`text-sm font-semibold ${a?"text-white":"text-gray-200"} mb-1 transition-colors`,children:n}),r.jsx("div",{className:"text-xs text-gray-500 leading-relaxed",children:s})]})}),r.jsx(CA,{isOpen:l,onClose:()=>c(!1),trait:{label:t,value:n,description:s,icon:e,...m}})]})},EA=({isOpen:e,onClose:t,archetype:n})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs("div",{className:"glass-morphism rounded-3xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/20",onClick:s=>s.stopPropagation(),children:[r.jsxs("div",{className:`bg-gradient-to-r ${n.theme.primary} rounded-2xl p-8 mb-8 text-center`,children:[r.jsx("div",{className:"text-6xl mb-4",children:n.symbol}),r.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:n.name.toUpperCase()}),r.jsx("p",{className:"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto",children:n.fullDescription})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Strengths"]}),r.jsx("ul",{className:"space-y-2",children:n.strengths.map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsx("span",{className:"text-gray-300 text-sm",children:s})]},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Challenges"]}),r.jsx("ul",{className:"space-y-2",children:n.weaknesses.map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsx("span",{className:"text-gray-300 text-sm",children:s})]},i))})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Mood Tendencies"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:n.moodTendencies.map((s,i)=>r.jsx("span",{className:`px-4 py-2 rounded-full ${n.theme.bg} ${n.theme.accent} border border-white/20`,children:s},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Perfect Game Genres"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:n.recommendedGenres.map((s,i)=>r.jsx("div",{className:"glass-morphism rounded-lg p-3 text-center hover:bg-white/10 transition-colors cursor-pointer border border-white/10",children:r.jsx("div",{className:"text-gaming-accent font-medium",children:s})},i))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:""}),"Signature Traits"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.signatureTraits.map((s,i)=>r.jsx("div",{className:`glass-morphism rounded-lg p-4 ${n.theme.bg} border border-white/10`,children:r.jsx("div",{className:"text-gaming-accent font-medium mb-2",children:s})},i))})]}),r.jsx("div",{className:"flex gap-4",children:r.jsx("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity",children:"Close"})})]})}):null,PA=({primaryArchetype:e,currentMood:t})=>{const[n,s]=w.useState(0);w.useEffect(()=>{const d=setInterval(()=>{s(m=>(m+1)%4)},3e3);return()=>clearInterval(d)},[]);const i=d=>{const m={Achiever:{gradient:"from-yellow-600/20 via-amber-500/15 to-orange-500/10",pulseColor:"rgba(251, 191, 36, 0.3)",effect:"pulse",animation:""},Explorer:{gradient:"from-teal-600/20 via-cyan-500/15 to-blue-500/10",pulseColor:"rgba(20, 184, 166, 0.3)",effect:"fog",animation:""},Strategist:{gradient:"from-blue-800/20 via-indigo-600/15 to-purple-500/10",pulseColor:"rgba(59, 130, 246, 0.3)",effect:"geometric",animation:""},Socializer:{gradient:"from-pink-500/20 via-rose-400/15 to-red-400/10",pulseColor:"rgba(236, 72, 153, 0.3)",effect:"ripple",animation:""},Immersive:{gradient:"from-purple-700/20 via-violet-600/15 to-indigo-500/10",pulseColor:"rgba(147, 51, 234, 0.3)",effect:"vignette",animation:""}};return m[d]||m.Explorer},a=d=>d?{Chill:{opacity:.6,blur:"blur-xl"},Focused:{opacity:.8,blur:"blur-md"},Energetic:{opacity:1,blur:"blur-sm"},Creative:{opacity:.9,blur:"blur-md"},Competitive:{opacity:.95,blur:"blur-sm"}}[d]||{}:{},o=i(e),l=a(t),c=()=>{switch(o.effect){case"pulse":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 70%)`,transform:`scale(${1+n*.1})`,transition:"transform 3s ease-in-out"}})});case"fog":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`linear-gradient(${45+n*45}deg, ${o.pulseColor} 0%, transparent 50%, ${o.pulseColor} 100%)`,opacity:.6,filter:"blur(40px)"}})});case"geometric":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`
                  conic-gradient(from ${n*90}deg at 50% 50%, 
                    ${o.pulseColor} 0deg, 
                    transparent 60deg, 
                    ${o.pulseColor} 120deg, 
                    transparent 180deg, 
                    ${o.pulseColor} 240deg, 
                    transparent 300deg, 
                    ${o.pulseColor} 360deg)
                `,opacity:.4,filter:"blur(30px)"}})});case"ripple":return r.jsx("div",{className:"absolute inset-0",children:[0,1,2].map(d=>r.jsx("div",{className:`absolute inset-0 rounded-full ${o.animation}`,style:{background:`radial-gradient(circle at 50% 50%, ${o.pulseColor} 0%, transparent 60%)`,transform:`scale(${1+(n+d)*.3})`,opacity:.3-d*.1,transition:"transform 3s ease-in-out, opacity 3s ease-in-out"}},d))});case"vignette":return r.jsx("div",{className:"absolute inset-0",children:r.jsx("div",{className:`absolute inset-0 ${o.animation}`,style:{background:`radial-gradient(ellipse at center, transparent 30%, ${o.pulseColor} 100%)`,opacity:.7}})});default:return null}};return r.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 overflow-hidden",style:l,children:[r.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${o.gradient})`}}),c(),r.jsx("div",{className:"absolute inset-0",children:[...Array(6)].map((d,m)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full",style:{left:`${20+m*15}%`,top:`${30+m%2*40}%`,animationDelay:`${m*.5}s`,animationDuration:"3s"}},m))})]})},TA=({theme:e})=>{const t=Fn(),n=l=>{const{intensity:c,pacing:d,socialStyle:m,riskProfile:u}=l;return m==="Coop"&&c==="High"?"Socializer":u==="Experimental"&&d==="Flow"?"Explorer":c==="High"&&d==="Burst"?"Competitor":d==="Marathon"&&m==="Solo"?"Immersive":u==="Balanced"&&c==="Medium"?"Strategist":m==="Solo"&&c==="Low"?"Casual":c==="High"?"Achiever":m!=="Solo"?"Socializer":u==="Experimental"?"Explorer":"Strategist"},s=(l,c)=>{const d={"Achiever-Socializer":{name:"The Leader",symbol:"",description:"You drive others toward success while achieving your own goals. Your competitive spirit inspires teams to victory."},"Achiever-Strategist":{name:"The Tactician",symbol:"",description:"You combine goal-driven ambition with brilliant planning. Every achievement is a calculated step toward mastery."},"Achiever-Explorer":{name:"The Pioneer",symbol:"",description:"You conquer new territories while collecting achievements. Your drive pushes boundaries and discovers new paths."},"Explorer-Immersive":{name:"The Wanderer",symbol:"",description:"You lose yourself in vast worlds, discovering every secret while becoming one with the adventure."},"Explorer-Socializer":{name:"The Guide",symbol:"",description:"You lead others through new experiences, sharing discoveries and building communities around exploration."},"Socializer-Achiever":{name:"The Champion",symbol:"",description:"You rally teams to victory while celebrating every win. Your success is measured by the group's achievements."},"Strategist-Immersive":{name:"The Architect",symbol:"",description:"You design complex worlds and master their systems. Every detail is part of your grand vision."},"Immersive-Explorer":{name:"The Seeker",symbol:"",description:"You dive deep into worlds, uncovering their deepest secrets and becoming part of their stories."},"Competitor-Strategist":{name:"The Commander",symbol:"",description:"You outthink opponents while dominating the battlefield. Strategy and skill make you unstoppable."},"Casual-Explorer":{name:"The Wanderer",symbol:"",description:"You explore at your own pace, enjoying the journey without pressure. Every discovery is a pleasant surprise."}},m=`${l}-${c}`,u=`${c}-${l}`;return d[m]||d[u]||d["Achiever-Strategist"]};if(!t)return r.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:r.jsxs("div",{className:"text-center text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("p",{className:"text-sm",children:"Loading hybrid identity..."})]})});const i=t.traits.archetypeId,a=n(t.traits),o=s(i,a);return r.jsx("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300 cursor-pointer",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"text-5xl mb-2",children:o.symbol})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:o.name}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:i}),r.jsx("span",{className:"text-gray-400",children:"+"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.bg} ${e.accent} border border-white/20`,children:a})]}),r.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:o.description}),r.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:r.jsxs("div",{className:"text-xs text-gray-400",children:[r.jsxs("span",{className:"block mb-1",children:["Primary: ",i]}),r.jsxs("span",{className:"block",children:["Secondary: ",a]})]})})]})})},MA=({theme:e})=>{const[t,n]=w.useState(!1),s=Fn(),{games:i}=ye(),a=()=>{const u=i.filter(p=>p.lastPlayed).sort((p,g)=>new Date(p.lastPlayed).getTime()-new Date(g.lastPlayed).getTime()).slice(-7),h=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f=new Date().getDay();return h.map((p,g)=>{const y=u.filter(k=>new Date(k.lastPlayed).getDay()===(f-g+7)%7),x=y.reduce((k,C)=>k+(C.hoursPlayed||0),0)/Math.max(1,y.length),v=Math.min(100,Math.max(20,x*10+y.length*15));let b="Focused";const j=k=>typeof k=="string"?k.toLowerCase():k&&typeof k=="object"&&k.name?k.name.toLowerCase():"",S=k=>typeof k=="string"?k.toLowerCase():k&&typeof k=="object"&&k.name?k.name.toLowerCase():"",T=y.flatMap(k=>{var C;return((C=k.tags)==null?void 0:C.map(j))||[]}),E=y.flatMap(k=>{var C;return((C=k.genres)==null?void 0:C.map(S))||[]});return T.some(k=>k.includes("competitive"))?b="Energetic":E.some(k=>k.includes("creative"))?b="Creative":E.some(k=>k.includes("puzzle"))&&(b="Chill"),{day:p,mood:b,value:Math.round(v)}})},o=()=>{const u=i.filter(j=>j.lastPlayed).slice(-20),h=i.filter(j=>j.lastPlayed).slice(0,-20),f=j=>{const S={};return j.forEach(T=>{var E;(E=T.genres)==null||E.forEach(k=>{const C=typeof k=="string"?k:k.name;S[C]=(S[C]||0)+1})}),S},p=f(u),g=f(h),y=Object.values(p).reduce((j,S)=>j+S,0)||1,x=Object.values(g).reduce((j,S)=>j+S,0)||1,v=new Set([...Object.keys(p),...Object.keys(g)]);return Array.from(v).slice(0,5).map(j=>({genre:j,current:Math.round((p[j]||0)/y*100),previous:Math.round((g[j]||0)/x*100)}))},l=Math.round(((s==null?void 0:s.confidence)||.7)*100),c=a(),d=o(),m=u=>({Focused:"bg-blue-500",Energetic:"bg-orange-500",Creative:"bg-purple-500",Chill:"bg-green-500"})[u]||"bg-gray-500";return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:bg-white/5 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white",children:"Identity Evolution"})]}),r.jsx("button",{onClick:()=>n(!t),className:"text-gaming-accent hover:text-white transition-colors text-sm",children:t?"Collapse":"Expand"})]}),!t&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Mood Trend (7 days)"}),r.jsx("span",{className:"text-sm text-gaming-accent",children:" 12%"})]}),r.jsx("div",{className:"flex gap-1",children:c.slice(-5).map((u,h)=>r.jsxs("div",{className:"flex-1 text-center",children:[r.jsx("div",{className:"text-xs text-gray-400",children:u.day}),r.jsx("div",{className:`h-2 rounded-full ${m(u.mood)} mt-1`,style:{width:`${u.value}%`}})]},h))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Genre Preferences"}),r.jsx("span",{className:"text-sm text-gaming-accent",children:"Stable"})]}),r.jsx("div",{className:"space-y-1",children:d.slice(0,3).map((u,h)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-400",children:u.genre}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-gray-500",children:[u.previous,"%"]}),r.jsx("span",{className:"text-gaming-accent",children:""}),r.jsxs("span",{className:"text-white",children:[u.current,"%"]})]})]},h))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Playstyle Stability"}),r.jsxs("span",{className:"text-sm text-gaming-accent",children:[l,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${l}%`}})})]})]}),t&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Mood Evolution (Last 7 Days)"}),r.jsx("div",{className:"space-y-2",children:c.map((u,h)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-300 w-8",children:u.day}),r.jsx("span",{className:"text-sm text-white",children:u.mood})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${m(u.mood)} transition-all duration-300`,style:{width:`${u.value}%`}})}),r.jsxs("span",{className:"text-sm text-gaming-accent w-10 text-right",children:[u.value,"%"]})]})]},h))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Genre Preference Drift"}),r.jsx("div",{className:"space-y-3",children:d.map((u,h)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-300",children:u.genre}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:["Previous: ",u.previous,"%"]}),r.jsxs("span",{className:"text-xs text-gaming-accent",children:["Current: ",u.current,"%"]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:"h-1 rounded-full bg-gray-500",style:{width:`${u.previous}%`}})}),r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-1",children:r.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${e.primary}`,style:{width:`${u.current}%`}})})]})]},h))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Playstyle Consistency"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Stability Score"}),r.jsxs("span",{className:"text-lg font-bold text-gaming-accent",children:[l,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${e.primary} transition-all duration-500`,style:{width:`${l}%`}})}),r.jsx("p",{className:"text-xs text-gray-400",children:l>=80?"Very consistent playstyle patterns":l>=60?"Moderately consistent with some variation":"Highly variable playstyle preferences"})]})]}),r.jsx("div",{className:"pt-4 border-t border-white/10",children:r.jsx("button",{className:`w-full bg-gradient-to-r ${e.primary} text-white py-3 rounded-lg font-medium hover:opacity-90 transition-opacity`,onClick:()=>console.log("View full evolution timeline"),children:"View Full Evolution Timeline"})})]})]})},Ww=({onClick:e,isActive:t=!1})=>r.jsx("button",{onClick:e,className:`
        w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200
        ${t?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/50":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white"}
      `,title:"Customise this page","aria-label":"Customise this page",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),AA=e=>{const{personaContext:t,analyticsInsights:n}=e;if(!t&&!n)return"Your gaming identity is waiting to be discovered. Start playing games to unlock your personalized gaming story.";const s=[],i=IA(t,n);i&&s.push(i);const a=_A(t,n);a&&s.push(a);const o=RA(t,n);o&&s.push(o);const l=LA(t);l&&s.push(l);const c=OA(t);c&&s.push(c);const d=DA(t);return d&&s.push(d),FA(s)},IA=(e,t)=>{const n=(e==null?void 0:e.preferredTimesOfDay)||[],s=(t==null?void 0:t.timeOfDayUsage)||{};let i="",a="";switch(n.length>0?i=n[0]:Object.keys(s).length>0&&(i=Object.entries(s).reduce((l,c)=>c[1]>l[1]?c:l)[0]),i){case"late-night":a="You're a night owl who finds your gaming groove when the world sleeps";break;case"evening":a="Evening sessions are your sweet spot, perfect for unwinding after a long day";break;case"afternoon":a="Afternoons are when you shine, tackling gaming challenges with fresh energy";break;case"morning":a="You're an early bird who starts the day with gaming adventures";break;default:return null}return e!=null&&e.lateNightRatio&&e.lateNightRatio>.5&&(a+=", often diving deep into immersive worlds when others are winding down"),a},_A=(e,t)=>{const n=e==null?void 0:e.preferredSessionLength;t!=null&&t.sessionLengthUsage;const s=(e==null?void 0:e.averageSessionLengthMinutes)||0;let i="";switch(n){case"short":i="You prefer quick gaming sessions that pack maximum fun into minimal time";break;case"medium":i="Medium-length sessions are your sweet spot, perfect for immersive adventures without burning out";break;case"long":i="You're a marathon gamer who loves diving deep into extensive gaming sessions";break;default:if(s>0)s<30?i="Your gaming sessions tend to be quick bursts of entertainment":s<90?i="You balance your gaming time with thoughtful, moderate-length sessions":i="You're someone who really sinks into your gaming experiences";else return null}return i},RA=(e,t)=>{const n=(e==null?void 0:e.dominantMoods)||[],s=(t==null?void 0:t.moodUsage)||{};let i=[];if(n.length>0?i=n.slice(0,3):Object.keys(s).length>0&&(i=Object.entries(s).sort(([,l],[,c])=>c-l).slice(0,3).map(([l])=>l)),i.length===0)return null;const a={chill:"seeking relaxation and stress-free entertainment",creative:"expressing yourself through imaginative gameplay",competitive:"thriving on challenges and strategic thinking",focused:"diving deep into concentrated gaming experiences",intense:"craving high-energy, adrenaline-pumping action",cozy:"finding comfort in warm, welcoming gaming worlds",exploration:"discovering new worlds and hidden secrets",puzzle:"exercising your mind with clever challenges",social:"connecting with others through shared gaming experiences",immersive:"losing yourself in rich, detailed narratives"},o=i.map(l=>a[l.toLowerCase()]).filter(Boolean);return o.length===0?`You're drawn to ${i.join(", ")} experiences that shape your unique gaming personality`:`You're naturally ${o.join(", and ")}`},LA=e=>{const t=(e==null?void 0:e.recentPlayPatterns)||[];if(t.length===0)return null;const n={completionist:"a completionist who loves seeing games through to the end",explorer:"an explorer who always seeks out new paths and hidden content",strategist:"a strategist who plans every move carefully",social:"a social gamer who enjoys connecting with others",casual:"a casual player who values fun and relaxation",competitive:"a competitive spirit who always aims for victory",collector:"a collector who loves gathering achievements and rare items",speedrunner:"a speedrunner who challenges themselves to beat records"},s=t.slice(0,2).map(i=>n[i.toLowerCase()]).filter(Boolean);return s.length===0?`Your play style shows ${t.join(" and ")} tendencies`:`You're ${s.join(" and ")}`},OA=(e,t)=>{const n=(e==null?void 0:e.completionRate)||0;return n>.7?"You have a remarkable ability to see games through to completion, showing dedication and perseverance":n>.4?"You balance exploration with completion, enjoying both the journey and the destination":n>0?"You're more of an explorer who loves discovering new experiences rather than finishing every game":null},DA=e=>{const t=(e==null?void 0:e.multiplayerRatio)||0;return t>.6?"Gaming is a social experience for you, thriving on multiplayer connections and shared adventures":t>.3?"You enjoy both solo adventures and social gaming, finding balance in different play styles":t>0?"You prefer solitary gaming experiences, finding peace and focus in single-player worlds":null},FA=e=>{if(e.length===0)return"Your gaming identity is uniquely yours, shaped by your choices and experiences.";if(e.length===1)return e[0]+".";let t=e[0];for(let n=1;n<e.length;n++)n===e.length-1?t+=`, and ${e[n].toLowerCase()}`:t+=`, ${e[n].toLowerCase()}`;return t+"."},zA={chill:"",creative:"",competitive:"",focused:"",intense:"",cozy:"",exploration:"",puzzle:"",social:"",immersive:"",relaxed:"",energetic:"",strategic:"",adventurous:"",mysterious:"",playful:""},$A={short:"",medium:"",long:""},GA={morning:"",afternoon:"",evening:"","late-night":""},BA={completionist:"",explorer:"",strategist:"",social:"",casual:"",competitive:"",collector:"",speedrunner:""},UA=({personaContext:e,identityNarrative:t,identityDefiningGames:n,className:s=""})=>{var u,h,f;const i=w.useRef(null),a=((u=e==null?void 0:e.dominantMoods)==null?void 0:u.slice(0,4))||[],o=(e==null?void 0:e.preferredSessionLength)||"medium",l=((h=e==null?void 0:e.preferredTimesOfDay)==null?void 0:h.slice(0,2))||[],c=((f=e==null?void 0:e.recentPlayPatterns)==null?void 0:f.slice(0,3))||[],d=(n==null?void 0:n.slice(0,4))||[],m=t?t.split(".").filter(Boolean).slice(0,2).join(". ")+".":"Your unique gaming identity awaits discovery.";return r.jsxs("div",{ref:i,className:`identity-share-card ${s}`,style:{width:"400px",height:"600px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",padding:"32px",color:"white",fontFamily:"system-ui, -apple-system, sans-serif",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},children:[r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.1) 0%, transparent 50%)",pointerEvents:"none"}}),r.jsxs("div",{style:{position:"relative",textAlign:"center",marginBottom:"24px"},children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"My Gaming Identity"}),r.jsx("div",{style:{fontSize:"14px",opacity:.9,marginTop:"8px"},children:"Generated with GamePilot"})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Gaming Moods"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.map(p=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",backdropFilter:"blur(10px)"},children:[r.jsx("span",{children:zA[p.toLowerCase()]||""}),r.jsx("span",{children:p})]},p))})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Gaming Preferences"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:$A[o]||""}),r.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Session Length"}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:o})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:l.map(p=>GA[p.toLowerCase()]||"").join(" ")}),r.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Peak Times"}),r.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:l.join(", ")})]})]})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Play Style"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:c.map(p=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"8px 12px",borderRadius:"12px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",backdropFilter:"blur(10px)"},children:[r.jsx("span",{children:BA[p.toLowerCase()]||""}),r.jsx("span",{children:p})]},p))})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"My Gaming Story"}),r.jsxs("p",{style:{fontSize:"14px",lineHeight:"1.5",opacity:.9,fontStyle:"italic",background:"rgba(255,255,255,0.1)",padding:"12px",borderRadius:"12px",backdropFilter:"blur(10px)"},children:['"',m,'"']})]}),r.jsxs("div",{style:{marginBottom:"24px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Games That Define Me"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:d.map((p,g)=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"8px 12px",borderRadius:"8px",fontSize:"13px",display:"flex",justifyContent:"space-between",alignItems:"center",backdropFilter:"blur(10px)"},children:[r.jsxs("span",{children:[g+1,". ",p.game.title]}),r.jsx("span",{style:{fontSize:"11px",opacity:.8,background:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"4px"},children:p.score.toFixed(1)})]},p.game.id))})]}),r.jsxs("div",{style:{position:"absolute",bottom:"16px",right:"16px",fontSize:"10px",opacity:.7,textAlign:"right"},children:[r.jsxs("div",{children:["Generated on ",new Date().toLocaleDateString()]}),r.jsx("div",{children:"gamepilot.app"})]})]})},VA=async e=>{const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("Could not get 2D context from canvas");window.getComputedStyle(e);const s=e.getBoundingClientRect(),i=2;t.width=s.width*i,t.height=s.height*i,n.scale(i,i);const a=document.createElement("div");a.style.position="absolute",a.style.left="-9999px",a.style.width=`${s.width}px`,a.style.height=`${s.height}px`,a.style.overflow="hidden";const o=e.cloneNode(!0);o.style.width=`${s.width}px`,o.style.height=`${s.height}px`,o.style.transform="scale(1)",o.style.transformOrigin="top left",a.appendChild(o),document.body.appendChild(a);try{await WA(o),await HA(n,o,s.width,s.height)}finally{document.body.removeChild(a)}return new Promise((l,c)=>{t.toBlob(d=>{d?l(d):c(new Error("Failed to create blob from canvas"))},"image/png",.9)})},WA=e=>{const t=e.querySelectorAll("img"),n=Array.from(t).map(s=>s.complete?Promise.resolve():new Promise((i,a)=>{s.onload=()=>i(),s.onerror=()=>i(),setTimeout(a,5e3)}));return Promise.all(n).then(()=>{})},HA=async(e,t,n,s)=>{const i=window.getComputedStyle(t),a=i.background||i.backgroundColor;if(a)e.fillStyle=a,e.fillRect(0,0,n,s);else{const c=e.createLinearGradient(0,0,n,s);c.addColorStop(0,"#667eea"),c.addColorStop(1,"#764ba2"),e.fillStyle=c,e.fillRect(0,0,n,s)}const o=t.querySelectorAll("h1, h2, h3, p, div, span");let l=20;Array.from(o).forEach(c=>{var y;const d=(y=c.textContent)==null?void 0:y.trim();if(!d)return;const m=window.getComputedStyle(c),u=parseFloat(m.fontSize)||16,h=m.fontWeight||"normal",f=m.color||"#ffffff",p=m.textAlign||"left";e.font=`${h} ${u}px system-ui, -apple-system, sans-serif`,e.fillStyle=f,e.textAlign=p;const g=p==="center"?n/2:20;e.fillText(d,g,l),l+=u+10}),e.fillStyle="rgba(255,255,255,0.7)",e.font="10px system-ui, -apple-system, sans-serif",e.textAlign="right",e.fillText("Generated with GamePilot",n-16,s-16),e.fillText("gamepilot.app",n-16,s-4)},YA=(e,t)=>{const n=URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},KA=async e=>{try{await navigator.clipboard.write([new ClipboardItem({"image/png":e})])}catch(t){throw console.warn("Failed to copy to clipboard:",t),new Error("Clipboard API not available or failed")}},qA=({isOpen:e,onClose:t,personaContext:n,identityNarrative:s,identityDefiningGames:i})=>{const a=w.useRef(null),[o,l]=w.useState(!1),[c,d]=w.useState(null),[m,u]=w.useState(null),h=async()=>{if(a.current){l(!0),u(null);try{const y=await VA(a.current),x=URL.createObjectURL(y);d(x)}catch(y){console.error("Failed to generate card:",y),u("Failed to generate card. Please try again.")}finally{l(!1)}}},f=()=>{c&&fetch(c).then(y=>y.blob()).then(y=>{const x=`gaming-identity-${new Date().toISOString().split("T")[0]}.png`;YA(y,x)}).catch(y=>{console.error("Failed to download:",y),u("Failed to download image.")})},p=async()=>{if(c)try{const y=await fetch(c).then(v=>v.blob());await KA(y);const x=document.getElementById("copy-to-clipboard-btn");if(x){const v=x.textContent;x.textContent=" Copied!",x.classList.add("bg-green-600"),setTimeout(()=>{x.textContent=v,x.classList.remove("bg-green-600")},2e3)}}catch(y){console.error("Failed to copy to clipboard:",y),u("Failed to copy to clipboard. Your browser may not support this feature.")}},g=()=>{d(null),u(null),setTimeout(h,100)};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Your Gaming Identity Card"}),r.jsx("p",{className:"text-gray-400",children:"Share your unique gaming personality with the world"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:c?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:c,alt:"Generated Identity Card",className:"rounded-lg shadow-2xl max-w-full",style:{maxHeight:"500px"}})}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsxs("button",{onClick:f,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l4 4m-4-4h4m4 0v4"})}),"Download"]}),r.jsxs("button",{id:"copy-to-clipboard-btn",onClick:p,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Image"]}),r.jsxs("button",{onClick:g,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Regenerate"]})]}),r.jsx("div",{className:"text-center text-gray-400 text-sm",children:r.jsx("p",{children:"Share your gaming identity on social media, with friends, or save it as a keepsake!"})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{ref:a,className:"transform scale-75 origin-top",style:{transform:"scale(0.75)",transformOrigin:"top center"},children:r.jsx(UA,{personaContext:n,identityNarrative:s,identityDefiningGames:i})})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:h,disabled:o,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:o?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8C0 5.79 5.79 0 12 0s12 5.79 12 12v4a8 8 0 01-8 8z"})]}),"Generating Card..."]}):"Generate Identity Card"})}),m&&r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-red-400 text-sm bg-red-900/20 px-4 py-2 rounded-lg",children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293-1.293a1 1 0 00-1.414 1.414L7.172 11.414l1.293 1.293a1 1 0 001.414 0l4-4a1 1 0 000-1.414l-2.293-2.293z",clipRule:"evenodd"})}),m]})})]})})]})}):null},QA=({snapshots:e,onRegenerateCard:t,onDelete:n})=>{const[s,i]=w.useState(new Set),a=c=>{const d=new Set(s);d.has(c)?d.delete(c):d.add(c),i(d)},o=c=>new Date(c).toLocaleDateString(),l=c=>new Date(c).toLocaleTimeString();return!e||e.length===0?r.jsxs("div",{className:"identity-history-empty",children:[r.jsx("div",{className:"empty-state-icon",children:""}),r.jsx("h3",{children:"No Identity History Yet"}),r.jsx("p",{children:"Your gaming identity will evolve as you play. Start tracking your gaming sessions to see your identity timeline here."})]}):r.jsxs("div",{className:"identity-timeline",children:[r.jsxs("div",{className:"timeline-header",children:[r.jsx("h2",{children:"Your Identity Timeline"}),r.jsxs("div",{className:"timeline-stats",children:[r.jsxs("div",{className:"timeline-stat",children:[r.jsx("div",{className:"timeline-stat-number",children:e.length}),r.jsx("div",{className:"timeline-stat-label",children:"Snapshots"})]}),e.length>1&&r.jsxs("div",{className:"timeline-stat",children:[r.jsx("div",{className:"timeline-stat-number",children:e.length>1?Math.round(e[0].timestamp?(new Date().getTime()-new Date(e[0].timestamp).getTime())/(1e3*60*60*24):0):0}),r.jsx("div",{className:"timeline-stat-label",children:"Days Ago"})]})]})]}),r.jsx("div",{className:"timeline",children:e.map((c,d)=>r.jsxs("div",{className:"timeline-item",children:[r.jsx("div",{className:"timeline-dot",children:r.jsx("div",{className:"timeline-dot-inner"})}),r.jsxs("div",{className:"timeline-content",children:[r.jsxs("div",{className:"timeline-header",children:[r.jsxs("div",{className:"timeline-date",children:[r.jsx("div",{className:"timeline-date-text",children:o(c.timestamp)}),r.jsx("div",{className:"timeline-time-text",children:l(c.timestamp)})]}),r.jsxs("div",{className:"timeline-actions",children:[r.jsx("button",{onClick:()=>a(c.id),className:"timeline-toggle-btn",children:s.has(c.id)?"Collapse":"Expand"}),r.jsx("button",{onClick:()=>t(c),className:"timeline-regenerate-btn",children:"Regenerate Card"}),r.jsx("button",{onClick:()=>n(c.id),className:"timeline-delete-btn",children:"Delete"})]})]}),r.jsxs("div",{className:"timeline-summary",children:[r.jsx("h3",{children:c.shortNarrative}),r.jsx("div",{className:"timeline-moods",children:c.dominantMoods.slice(0,3).map(m=>r.jsx("span",{className:"timeline-mood-tag",children:m},m))})]}),s.has(c.id)&&r.jsx("div",{className:"timeline-expanded",children:r.jsxs("div",{className:"timeline-expanded-details",children:[r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Gaming Moods"}),r.jsx("div",{className:"timeline-moods-grid",children:c.dominantMoods.map(m=>r.jsx("div",{className:"timeline-mood-item",children:r.jsx("span",{children:m})},m))})]}),r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Gaming Stats"}),r.jsxs("div",{className:"timeline-stats-grid",children:[r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Completion Rate"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.completionRate*100),"%"]})]}),r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Social Gaming"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.multiplayerRatio*100),"%"]})]}),r.jsxs("div",{className:"timeline-stat-item",children:[r.jsx("div",{className:"timeline-stat-label",children:"Avg Session"}),r.jsxs("div",{className:"timeline-stat-value",children:[Math.round(c.averageSessionLengthMinutes)," min"]})]})]})]}),r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Top Games"}),r.jsx("div",{className:"timeline-games-list",children:c.topIdentityGames.map((m,u)=>r.jsxs("div",{className:"timeline-game-item",children:[r.jsxs("div",{className:"timeline-game-rank",children:["#",u+1]}),r.jsxs("div",{className:"timeline-game-info",children:[r.jsx("div",{className:"timeline-game-title",children:m.title}),r.jsxs("div",{className:"timeline-game-score",children:["Score: ",m.score.toFixed(1)]})]})]},m.id))})]}),c.fullNarrative&&r.jsxs("div",{className:"timeline-section",children:[r.jsx("h4",{children:"Full Story"}),r.jsx("div",{className:"timeline-full-narrative",children:r.jsx("p",{children:c.fullNarrative})})]})]})})]})]},c.id))})]})},j0=(e,t={})=>{const{maxSnapshots:n=20,storageKey:s="identity_history"}=t;try{const i=Oh(t),a={...e,id:JA()},l=[a,...i].slice(0,n);localStorage.setItem(s,JSON.stringify(l)),window.dispatchEvent(new CustomEvent("identity-history-updated",{detail:{snapshot:a,history:l}}))}catch(i){console.warn("Failed to save identity snapshot:",i)}},Oh=(e={})=>{const{storageKey:t="identity_history"}=e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch(n){return console.warn("Failed to load identity history:",n),[]}},XA=(e,t={})=>{const{storageKey:n="identity_history"}=t;try{const s=Oh(t),i=s.filter(a=>a.id!==e);return i.length!==s.length?(localStorage.setItem(n,JSON.stringify(i)),window.dispatchEvent(new CustomEvent("identity-history-deleted",{detail:{snapshotId:e,history:i}})),!0):!1}catch(s){return console.warn("Failed to delete identity snapshot:",s),!1}},JA=()=>`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,N0=(e,t,n,s)=>{const i=t.slice(0,5).map(a=>({id:a.game.id,title:a.game.title,score:a.score}));return{timestamp:new Date().toISOString(),dominantMoods:e.dominantMoods||[],preferredSessionLength:e.preferredSessionLength||"medium",preferredTimesOfDay:e.preferredTimesOfDay||[],recentPlayPatterns:e.recentPlayPatterns||[],completionRate:e.completionRate||0,multiplayerRatio:e.multiplayerRatio||0,averageSessionLengthMinutes:e.averageSessionLengthMinutes||0,topIdentityGames:i,shortNarrative:n,fullNarrative:s}},ZA=e=>{if(!e)return!0;const t=new Date(e);return(new Date().getTime()-t.getTime())/(1e3*60*60*24)>=7},Hw={chill_master:{title:"Chill Master",description:"Chill mood dominant in 5+ snapshots",icon:"",color:"#60a5fa",category:"mood",requirements:e=>e.filter(t=>t.dominantMoods.includes("chill")).length>=5},creative_shift:{title:"Creative Shift",description:"Creative becomes new dominant mood",icon:"",color:"#a78bfa",category:"mood",requirements:e=>{if(e.length<2)return!1;const t=e.slice(0,2),n=e.slice(2);return t[0].dominantMoods.includes("creative")&&n.length>0&&!n[0].dominantMoods.includes("creative")}},mood_evolution:{title:"Mood Evolution",description:"Dominant mood changes after 30+ days",icon:"",color:"#f59e0b",category:"mood",requirements:e=>{if(e.length<2)return!1;const t=e[0],n=e[e.length-1];return(new Date(t.timestamp).getTime()-new Date(n.timestamp).getTime())/(1e3*60*60*24)>=30&&t.dominantMoods[0]!==n.dominantMoods[0]}},balanced_moods:{title:"Balanced Moods",description:"3+ different dominant moods across history",icon:"",color:"#10b981",category:"mood",requirements:e=>new Set(e.flatMap(n=>n.dominantMoods)).size>=3},intense_gamer:{title:"Intense Gamer",description:"Intense mood dominant in 3+ snapshots",icon:"",color:"#ef4444",category:"mood",requirements:e=>e.filter(t=>t.dominantMoods.includes("intense")).length>=3},quick_burst_player:{title:"Quick Burst Player",description:"Short sessions dominate for 3 snapshots",icon:"",color:"#fbbf24",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="short").length>=3},immersion_era:{title:"Immersion Era",description:"Long sessions dominate for 3 snapshots",icon:"",color:"#8b5cf6",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="long").length>=3},balanced_sessions:{title:"Balanced Sessions",description:"Medium sessions in 5+ snapshots",icon:"",color:"#06b6d4",category:"session",requirements:e=>e.filter(t=>t.preferredSessionLength==="medium").length>=5},marathon_gamer:{title:"Marathon Gamer",description:"Average session > 120 minutes",icon:"",color:"#dc2626",category:"session",requirements:e=>e.reduce((n,s)=>n+s.averageSessionLengthMinutes,0)/e.length>120},night_owl:{title:"Night Owl",description:"Late-night > 50% for 3 snapshots",icon:"",color:"#6366f1",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="late-night").length>0).length>=3},morning_warrior:{title:"Morning Warrior",description:"Morning > 50% for 3 snapshots",icon:"",color:"#f59e0b",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="morning").length>0).length>=3},afternoon_enthusiast:{title:"Afternoon Enthusiast",description:"Afternoon > 50% for 3 snapshots",icon:"",color:"#fbbf24",category:"time",requirements:e=>e.filter(t=>t.preferredTimesOfDay.filter(n=>n==="afternoon").length>0).length>=3},weekend_warrior:{title:"Weekend Warrior",description:"Weekend gaming pattern detected",icon:"",color:"#10b981",category:"time",requirements:e=>e.length>=3},completionist_level_up:{title:"Completionist Level Up",description:"Completion rate crosses threshold",icon:"",color:"#f59e0b",category:"pattern",requirements:e=>{if(!e||e.length===0)return 0;const t=e[0];return(t==null?void 0:t.completionRate)||0}},explorer_badge:{title:"Explorer Badge",description:"Explorer pattern in 3+ snapshots",icon:"",color:"#10b981",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("explorer")).length>=3},strategist_mind:{title:"Strategist Mind",description:"Strategist pattern in 3+ snapshots",icon:"",color:"#6366f1",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("strategist")).length>=3},social_butterfly:{title:"Social Butterfly",description:"Social pattern emerges",icon:"",color:"#ec4899",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("social")).length>=2},competitive_spirit:{title:"Competitive Spirit",description:"Competitive pattern in 3+ snapshots",icon:"",color:"#ef4444",category:"pattern",requirements:e=>e.filter(t=>t.recentPlayPatterns.includes("competitive")).length>=3},identity_journey_begins:{title:"Identity Journey Begins",description:"First snapshot created",icon:"",color:"#8b5cf6",category:"meta",requirements:e=>e.length>=1},consistency_badge:{title:"Consistency Badge",description:"5 snapshots created",icon:"",color:"#06b6d4",category:"meta",requirements:e=>e.length>=5},historian:{title:"Historian",description:"10 snapshots created",icon:"",color:"#7c3aed",category:"meta",requirements:e=>e.length>=10},legendary_gamer:{title:"Legendary Gamer",description:"15 snapshots created",icon:"",color:"#dc2626",category:"meta",requirements:e=>e.length>=15},identity_master:{title:"Identity Master",description:"20 snapshots created (max)",icon:"",color:"#fbbf24",category:"meta",requirements:e=>e.length>=20},completion_rate_70:{title:"70% Completion Rate",description:"Achieved 70% game completion rate",icon:"",color:"#10b981",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.7?70:0}},completion_rate_80:{title:"80% Completion Rate",description:"Achieved 80% game completion rate",icon:"",color:"#f59e0b",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.8?80:0}},completion_rate_90:{title:"90% Completion Rate",description:"Achieved 90% game completion rate",icon:"",color:"#8b5cf6",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.completionRate)>=.9?90:0}},social_ratio_50:{title:"Social Butterfly",description:"50% multiplayer gaming",icon:"",color:"#ec4899",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.multiplayerRatio)>=.5?50:0}},social_ratio_75:{title:"Community Leader",description:"75% multiplayer gaming",icon:"",color:"#06b6d4",category:"achievement",requirements:e=>{var t;return((t=e[0])==null?void 0:t.multiplayerRatio)>=.75?75:0}}},S0=e=>{const t=[],n={},s=[],i=Dh(),a=new Set(i.map(o=>o.id));return Object.entries(Hw).forEach(([o,l])=>{const c=l.requirements(e);if(typeof c=="boolean")c&&!a.has(o)?t.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:new Date().toISOString(),category:l.category}):c||(n[o]=tI(o,e),n[o]>0&&s.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:"",category:l.category}));else if(typeof c=="number"){const d=nI(o);c>=d&&!a.has(o)?t.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:new Date().toISOString(),value:c,category:l.category}):(n[o]=Math.min(100,c/d*100),n[o]>0&&s.push({id:o,type:o,title:l.title,description:l.description,icon:l.icon,color:l.color,timestamp:"",value:c,category:l.category}))}}),{unlocked:t.sort((o,l)=>new Date(l.timestamp).getTime()-new Date(o.timestamp).getTime()),progress:n,nextMilestones:s.sort((o,l)=>(l.value||0)-(o.value||0))}},eI=(e,t)=>{const n=[t,...e],s=S0(n),i=S0(e),a=new Set(i.unlocked.map(l=>l.id));new Set(s.unlocked.map(l=>l.id));const o=s.unlocked.filter(l=>!a.has(l.id));return o.length>0&&sI([...Dh(),...o]),o},tI=(e,t)=>{if(!Hw[e])return 0;switch(e){case"chill_master":return Math.min(100,t.filter(s=>s.dominantMoods.includes("chill")).length/5*100);case"consistency_badge":return Math.min(100,t.length/5*100);case"historian":return Math.min(100,t.length/10*100);case"legendary_gamer":return Math.min(100,t.length/15*100);case"identity_master":return Math.min(100,t.length/20*100);case"quick_burst_player":return Math.min(100,t.filter(s=>s.preferredSessionLength==="short").length/3*100);case"immersion_era":return Math.min(100,t.filter(s=>s.preferredSessionLength==="long").length/3*100);case"balanced_sessions":return Math.min(100,t.filter(s=>s.preferredSessionLength==="medium").length/5*100);case"explorer_badge":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("explorer")).length/3*100);case"strategist_mind":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("strategist")).length/3*100);case"competitive_spirit":return Math.min(100,t.filter(s=>s.recentPlayPatterns.includes("competitive")).length/3*100);case"night_owl":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="late-night").length>0).length/3*100);case"morning_warrior":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="morning").length>0).length/3*100);case"afternoon_enthusiast":return Math.min(100,t.filter(s=>s.preferredTimesOfDay.filter(i=>i==="afternoon").length>0).length/3*100);default:return 0}},nI=e=>{switch(e){case"completion_rate_70":return 70;case"completion_rate_80":return 80;case"completion_rate_90":return 90;case"social_ratio_50":return 50;case"social_ratio_75":return 75;default:return 0}},Dh=()=>{try{const e=localStorage.getItem("identity_milestones");return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to load milestones:",e),[]}},sI=e=>{try{localStorage.setItem("identity_milestones",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("milestones-updated",{detail:{milestones:e}}))}catch(t){console.warn("Failed to save milestones:",t)}},rI=({milestones:e,onClose:t,isOpen:n})=>{const[s,i]=w.useState(0),[a,o]=w.useState(!1);w.useEffect(()=>{n&&e.length>0&&(o(!0),i(0))},[n,e]);const l=()=>{s<e.length-1?(i(m=>m+1),o(!0)):t()},c=()=>{s>0&&(i(m=>m-1),o(!0))},d=e[s];return!n||!d?null:r.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 rounded-2xl max-w-md w-full border border-purple-500/30 shadow-2xl",children:[r.jsx("div",{className:"p-6 border-b border-purple-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Milestone Unlocked!"}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Your gaming identity evolves"})]}),r.jsx("button",{onClick:t,className:"text-purple-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:`text-center transition-all duration-500 ${a?"scale-105":"scale-100"}`,children:[r.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:d.icon}),r.jsx("h4",{className:"text-xl font-bold text-white mb-2",style:{color:d.color},children:d.title}),r.jsx("p",{className:"text-gray-300 text-sm mb-4",children:d.description}),r.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/20 border border-purple-500/30 mb-4",children:r.jsx("span",{className:"text-xs text-purple-300 uppercase tracking-wide",children:d.category})}),e.length>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{children:s+1}),r.jsx("span",{children:"/"}),r.jsx("span",{children:e.length})]})]})}),r.jsx("div",{className:"p-6 border-t border-purple-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:c,disabled:s===0,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:"Previous"}),r.jsx("div",{className:"flex gap-2",children:e.map((m,u)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${u===s?d.color:"bg-gray-600"}`},u))}),r.jsx("button",{onClick:l,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg font-medium transition-all",children:s===e.length-1?"Finish":"Next"})]})}),r.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:r.jsx("div",{className:"confetti-container",children:[...Array(20)].map((m,u)=>r.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`,backgroundColor:["#f59e0b","#8b5cf6","#10b981","#ef4444","#ec4899"][Math.floor(Math.random()*5)]}},u))})})]}),r.jsx("style",{jsx:!0,children:`
        .confetti-container {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .confetti {
          position: absolute;
          width: 6px;
          height: 6px;
          border-radius: 50%;
          animation: confetti-fall linear infinite;
        }

        @keyframes confetti-fall {
          0% {
            transform: translateY(-100vh) rotate(0deg);
            opacity: 1;
          }
          100% {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }
      `})]})},iI=()=>{const[e,t]=w.useState([]),[n,s]=w.useState(!1);return{notifications:e,isNotificationOpen:n,showNotifications:o=>{o.length>0&&(t(o),s(!0))},closeNotifications:()=>{s(!1),setTimeout(()=>t([]),300)}}},aI=(e,t,n={})=>{if(e.length===0)return null;const s=e[0],i=new Date(s.timestamp),a=i.getMonth()+1,o=i.getFullYear(),l=e.filter(v=>{const b=new Date(v.timestamp);return b.getMonth()+1===a&&b.getFullYear()===o});if(l.length===0)return null;Fh(n);const c=gI(e,a,o),d=cI(l),m=dI(l),u=uI(l),h=mI(t,l),f=hI(l),p=pI(c,l),g=fI(c,l),y=yI({dominantMoods:d,sessionLengthTrends:m,timeOfDayPatterns:u,newMilestones:h,topIdentityGames:f,snapshotCount:l.length,completionRateChange:p,playPatternShifts:g,monthName:id(a),year:o}),x=xI({dominantMoods:d,sessionLengthTrends:m,timeOfDayPatterns:u,newMilestones:h,topIdentityGames:f,snapshotCount:l.length,completionRateChange:p,playPatternShifts:g,monthName:id(a),year:o});return{id:`season_${o}_${a}`,month:a,year:o,monthName:id(a),dominantMoods:d,sessionLengthTrends:m,timeOfDayPatterns:u,newMilestones:h,topIdentityGames:f,shortNarrative:y,fullNarrative:x,snapshotCount:l.length,completionRateChange:p,playPatternShifts:g,generatedAt:new Date().toISOString()}},oI=(e,t={})=>{const{maxSeasons:n=12,storageKey:s="identity_seasons"}=t;try{const i=Fh(t),a=i.findIndex(l=>l.id===e.id);a>=0?i[a]=e:i.push(e),i.sort((l,c)=>{const d=new Date(l.year,l.month-1);return new Date(c.year,c.month-1).getTime()-d.getTime()});const o=i.slice(0,n);localStorage.setItem(s,JSON.stringify(o)),window.dispatchEvent(new CustomEvent("season-reports-updated",{detail:{reports:o}}))}catch(i){console.warn("Failed to save season report:",i)}},Fh=(e={})=>{const{storageKey:t="identity_seasons"}=e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):[]}catch(n){return console.warn("Failed to load season reports:",n),[]}},lI=e=>{if(!e)return!0;const t=new Date,n=new Date(e.year,e.month-1);return t.getMonth()!==n.getMonth()||t.getFullYear()!==n.getFullYear()},cI=e=>{const t={};return e.forEach(n=>{n.dominantMoods.forEach(s=>{t[s]=(t[s]||0)+1})}),Object.entries(t).sort(([,n],[,s])=>s-n).slice(0,3).map(([n])=>n)},dI=e=>{const t={short:0,medium:0,long:0};return e.forEach(n=>{t[n.preferredSessionLength]++}),t},uI=e=>{const t={morning:0,afternoon:0,evening:0,"late-night":0};return e.forEach(n=>{n.preferredTimesOfDay.forEach(s=>{t[s]++})}),t},mI=(e,t,n)=>{if(t.length===0)return[];const s=new Date(t[t.length-1].timestamp),i=new Date(t[0].timestamp);return e.filter(a=>{const o=new Date(a.timestamp);return o>=s&&o<=i})},hI=e=>{const t={};return e.forEach(n=>{n.topIdentityGames.forEach(s=>{t[s.id]||(t[s.id]={title:s.title,score:s.score,appearances:0}),t[s.id].appearances++,t[s.id].score=Math.max(t[s.id].score,s.score)})}),Object.entries(t).sort(([,n],[,s])=>s.score-n.score).slice(0,5).map(([n,s])=>({id:n,title:s.title,score:s.score,appearances:s.appearances}))},pI=(e,t)=>{const n=e.length>0?e.reduce((i,a)=>i+a.completionRate,0)/e.length:0,s=t.length>0?t.reduce((i,a)=>i+a.completionRate,0)/t.length:0;return{start:n,end:s,change:s-n}},fI=(e,t)=>{const n={},s={};e.forEach(a=>{a.recentPlayPatterns.forEach(o=>{n[o]=(n[o]||0)+1})}),t.forEach(a=>{a.recentPlayPatterns.forEach(o=>{s[o]=(s[o]||0)+1})});const i=new Set([...Object.keys(n),...Object.keys(s)]);return Array.from(i).map(a=>({pattern:a,startCount:n[a]||0,endCount:s[a]||0,change:(s[a]||0)-(n[a]||0)})).filter(a=>Math.abs(a.change)>0)},gI=(e,t,n,s)=>{let i=t-1,a=n;return i===0&&(i=12,a--),e.filter(o=>{const l=new Date(o.timestamp);return l.getMonth()+1===i&&l.getFullYear()===a})},yI=e=>{var p,g;const{dominantMoods:t,sessionLengthTrends:n,timeOfDayPatterns:s,newMilestones:i,topIdentityGames:a,snapshotCount:o,completionRateChange:l,playPatternShifts:c,monthName:d,year:m}=e;let u=`In ${d} ${m}, `;t.length>0&&(u+=`you were primarily ${t.join(", ").replace(/, ([^,]+)$/," and $1")}, `);const h=((p=Object.entries(n).sort(([,y],[,x])=>x-y)[0])==null?void 0:p[0])||"medium";u+=`favoring ${h} sessions, `;const f=((g=Object.entries(s).sort(([,y],[,x])=>x-y)[0])==null?void 0:g[0])||"evening";if(u+=`mostly gaming in the ${f.replace("-"," ")}. `,i.length>0&&(u+=`You unlocked ${i.length} milestone${i.length>1?"s":""} including ${i[0].title}. `),a.length>0&&(u+=`${a[0].title} was your most identity-defining game. `),l.change!==0){const y=Math.abs(l.change*100),x=l.change>0?"increased":"decreased";u+=`Your completion rate ${x} by ${y.toFixed(0)}%. `}return u+=`You created ${o} identity snapshot${o>1?"s":""}.`,u},xI=e=>{var y,x,v;const{dominantMoods:t,sessionLengthTrends:n,timeOfDayPatterns:s,newMilestones:i,topIdentityGames:a,snapshotCount:o,completionRateChange:l,playPatternShifts:c,monthName:d,year:m}=e;let u=`Your ${d} ${m} gaming identity was a month of `;t.length>1?u+=`diverse emotional experiences, primarily ${t.join(", ").replace(/, ([^,]+)$/," and $1")}. `:t.length===1&&(u+=`consistent ${t[0]} gaming. `);const h=Object.values(n).reduce((b,j)=>b+j,0),f=((y=Object.entries(n).sort(([,b],[,j])=>j-b)[0])==null?void 0:y[0])||"medium",p=(n[f]||0)/h*100;u+=`Your ${f} sessions dominated your playtime at ${p.toFixed(0)}%, `;const g=((x=Object.entries(s).sort(([,b],[,j])=>j-b)[0])==null?void 0:x[0])||"evening";if(u+=`with ${g.replace("-"," ")} being your preferred gaming time. `,i.length>0&&(u+=`This month marked significant achievements as you unlocked ${i.length} milestone${i.length>1?"s":""}. `,i.length===1?u+=`You earned the "${i[0].title}" achievement, `:u+=`Notable achievements include "${i[0].title}" and "${(v=i[1])==null?void 0:v.title}". `),a.length>0&&(u+=`${a[0].title} emerged as your most identity-defining game, `,a[0].appearances>1&&(u+=`appearing in ${a[0].appearances} of your snapshots. `)),c.length>0){u+="Your play patterns showed interesting shifts, ";const b=c.sort((j,S)=>Math.abs(S.change)-Math.abs(j.change))[0];b.change>0?u+=`with increased ${b.pattern} tendencies. `:u+=`with decreased ${b.pattern} tendencies. `}if(l.change!==0){const b=Math.abs(l.change*100),j=l.change>0?"improvement":"decline";u+=`Your completion rate showed ${j} of ${b.toFixed(0)}%, `,l.change>0?u+="demonstrating your growing dedication to completing games. ":u+="perhaps indicating a shift toward exploration over completion. "}return u+=`With ${o} identity snapshot${o>1?"s":""} created, `,u+=`${d} ${m} represents a significant chapter in your ongoing gaming journey, `,u+="showcasing your evolving preferences and growing identity as a gamer.",u},id=e=>["January","February","March","April","May","June","July","August","September","October","November","December"][e-1]||"Unknown",vI=({report:e,isExpanded:t,onToggle:n,onGenerateCard:s})=>{var d,m;const i={chill:"",creative:"",competitive:"",focused:"",intense:"",cozy:"",exploration:"",puzzle:"",social:"",immersive:"",relaxed:"",energetic:"",strategic:"",adventurous:"",mysterious:"",playful:""},a={short:"",medium:"",long:""},o={morning:"",afternoon:"",evening:"","late-night":""},l=((d=Object.entries(e.sessionLengthTrends).sort(([,u],[,h])=>h-u)[0])==null?void 0:d[0])||"medium",c=((m=Object.entries(e.timeOfDayPatterns).sort(([,u],[,h])=>h-u)[0])==null?void 0:m[0])||"evening";return r.jsxs("div",{className:"season-item",children:[r.jsx("div",{className:"timeline-dot",children:r.jsx("div",{className:"timeline-dot-inner season-dot"})}),r.jsxs("div",{className:"timeline-content season-content",children:[r.jsxs("div",{className:"season-header",children:[r.jsxs("div",{className:"season-date",children:[r.jsxs("div",{className:"season-date-text",children:[e.monthName," ",e.year]}),r.jsxs("div",{className:"season-meta",children:[e.snapshotCount," snapshots  ",e.newMilestones.length," milestones"]})]}),r.jsxs("div",{className:"season-actions",children:[r.jsx("button",{onClick:()=>n(e.id),className:"timeline-expand-btn","aria-label":t?"Collapse":"Expand",children:t?"":"+"}),r.jsx("button",{onClick:()=>s(e),className:"season-generate-btn","aria-label":"Generate season card",children:""})]})]}),!t&&r.jsxs("div",{className:"season-compact",children:[r.jsxs("div",{className:"season-compact-overview",children:[r.jsx("div",{className:"season-compact-moods",children:e.dominantMoods.slice(0,3).map(u=>r.jsxs("span",{className:"season-mood-tag",children:[i[u.toLowerCase()]||"",u]},u))}),r.jsxs("div",{className:"season-compact-patterns",children:[r.jsxs("span",{className:"season-compact-pattern",children:[a[l]," ",l]}),r.jsxs("span",{className:"season-compact-pattern",children:[o[c]," ",c.replace("-"," ")]})]})]}),r.jsxs("div",{className:"season-compact-games",children:[r.jsx("div",{className:"season-games-label",children:"Top Games:"}),r.jsx("div",{className:"season-games-list",children:e.topIdentityGames.slice(0,3).map((u,h)=>r.jsxs("div",{className:"season-compact-game",children:[r.jsxs("span",{className:"season-game-rank",children:["#",h+1]}),r.jsx("span",{className:"season-game-title",children:u.title}),r.jsx("span",{className:"season-game-score",children:u.score.toFixed(1)})]},u.id))})]}),r.jsx("p",{className:"season-compact-narrative",children:e.shortNarrative}),e.newMilestones.length>0&&r.jsxs("div",{className:"season-compact-milestones",children:[r.jsx("div",{className:"season-milestones-label",children:"New Milestones:"}),r.jsx("div",{className:"season-milestones-list",children:e.newMilestones.slice(0,3).map(u=>r.jsxs("div",{className:"season-compact-milestone",children:[r.jsx("span",{className:"season-milestone-icon",children:u.icon}),r.jsx("span",{className:"season-milestone-title",children:u.title})]},u.id))})]})]}),t&&r.jsxs("div",{className:"season-expanded",children:[r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"Season Overview"}),r.jsxs("div",{className:"season-overview-grid",children:[r.jsxs("div",{className:"season-overview-item",children:[r.jsx("div",{className:"season-overview-label",children:"Snapshots"}),r.jsx("div",{className:"season-overview-value",children:e.snapshotCount})]}),r.jsxs("div",{className:"season-overview-item",children:[r.jsx("div",{className:"season-overview-label",children:"Milestones"}),r.jsx("div",{className:"season-overview-value",children:e.newMilestones.length})]}),r.jsxs("div",{className:"season-overview-item",children:[r.jsx("div",{className:"season-overview-label",children:"Completion Rate"}),r.jsxs("div",{className:"season-overview-value",children:[Math.round(e.completionRateChange.end*100),"%",e.completionRateChange.change!==0&&r.jsxs("span",{className:`season-change ${e.completionRateChange.change>0?"positive":"negative"}`,children:[" ",e.completionRateChange.change>0?"":"",Math.abs(e.completionRateChange.change*100).toFixed(0),"%"]})]})]})]})]}),r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"Gaming Patterns"}),r.jsxs("div",{className:"season-patterns-grid",children:[r.jsxs("div",{className:"season-pattern-item",children:[r.jsxs("div",{className:"season-pattern-header",children:[r.jsx("span",{className:"season-pattern-icon",children:""}),r.jsx("span",{children:"Dominant Moods"})]}),r.jsx("div",{className:"season-pattern-content",children:e.dominantMoods.map(u=>r.jsxs("div",{className:"season-pattern-mood",children:[r.jsx("span",{children:i[u.toLowerCase()]||""}),r.jsx("span",{children:u})]},u))})]}),r.jsxs("div",{className:"season-pattern-item",children:[r.jsxs("div",{className:"season-pattern-header",children:[r.jsx("span",{className:"season-pattern-icon",children:""}),r.jsx("span",{children:"Session Length"})]}),r.jsx("div",{className:"season-pattern-content",children:Object.entries(e.sessionLengthTrends).map(([u,h])=>r.jsxs("div",{className:"season-pattern-stat",children:[r.jsx("span",{children:a[u]||""}),r.jsx("span",{children:u}),r.jsx("span",{children:h})]},u))})]}),r.jsxs("div",{className:"season-pattern-item",children:[r.jsxs("div",{className:"season-pattern-header",children:[r.jsx("span",{className:"season-pattern-icon",children:""}),r.jsx("span",{children:"Time of Day"})]}),r.jsx("div",{className:"season-pattern-content",children:Object.entries(e.timeOfDayPatterns).map(([u,h])=>r.jsxs("div",{className:"season-pattern-stat",children:[r.jsx("span",{children:o[u]||""}),r.jsx("span",{children:u.replace("-"," ")}),r.jsx("span",{children:h})]},u))})]})]})]}),r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"Identity-Defining Games"}),r.jsx("div",{className:"season-games-expanded",children:e.topIdentityGames.map((u,h)=>r.jsxs("div",{className:"season-game-item",children:[r.jsxs("div",{className:"season-game-rank",children:["#",h+1]}),r.jsxs("div",{className:"season-game-info",children:[r.jsx("div",{className:"season-game-title",children:u.title}),r.jsxs("div",{className:"season-game-meta",children:["Score: ",u.score.toFixed(1),"  ",u.appearances," appearances"]})]})]},u.id))})]}),e.newMilestones.length>0&&r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"New Milestones Unlocked"}),r.jsx("div",{className:"season-milestones-expanded",children:e.newMilestones.map(u=>r.jsxs("div",{className:"season-milestone-item",children:[r.jsx("div",{className:"season-milestone-icon",children:u.icon}),r.jsxs("div",{className:"season-milestone-info",children:[r.jsx("div",{className:"season-milestone-title",children:u.title}),r.jsx("div",{className:"season-milestone-description",children:u.description}),r.jsx("div",{className:"season-milestone-category",children:u.category})]})]},u.id))})]}),e.playPatternShifts.length>0&&r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"Play Pattern Shifts"}),r.jsx("div",{className:"season-shifts",children:e.playPatternShifts.map(u=>r.jsxs("div",{className:"season-shift-item",children:[r.jsx("div",{className:"season-shift-pattern",children:u.pattern}),r.jsxs("div",{className:"season-shift-change",children:[u.startCount,"  ",u.endCount,r.jsxs("span",{className:`season-shift-indicator ${u.change>0?"positive":"negative"}`,children:[u.change>0?"":"",Math.abs(u.change)]})]})]},u.pattern))})]}),r.jsxs("div",{className:"season-section",children:[r.jsx("h4",{children:"Season Story"}),r.jsx("div",{className:"season-full-narrative",children:r.jsx("p",{children:e.fullNarrative})})]})]})]})]})},bI=({reports:e,onGenerateSeasonCard:t})=>{const[n,s]=w.useState(new Set),i=o=>{s(l=>{const c=new Set(l);return c.has(o)?c.delete(o):c.add(o),c})},a=o=>{t&&t(o)};return e.length===0?r.jsxs("div",{className:"identity-seasons-empty",children:[r.jsx("div",{className:"empty-state-icon",children:""}),r.jsx("h3",{children:"No Season Reports Yet"}),r.jsx("p",{children:"Your monthly gaming identity seasons will appear here as you continue your journey."}),r.jsx("p",{children:"Keep creating snapshots to build your season history!"})]}):r.jsxs("div",{className:"identity-seasons",children:[r.jsxs("div",{className:"identity-seasons-header",children:[r.jsx("h2",{children:"Your Seasons"}),r.jsxs("div",{className:"identity-seasons-stats",children:[r.jsxs("div",{className:"season-stat",children:[r.jsx("div",{className:"season-stat-number",children:e.length}),r.jsx("div",{className:"season-stat-label",children:"Seasons"})]}),r.jsxs("div",{className:"season-stat",children:[r.jsx("div",{className:"season-stat-number",children:e.reduce((o,l)=>o+l.snapshotCount,0)}),r.jsx("div",{className:"season-stat-label",children:"Total Snapshots"})]}),r.jsxs("div",{className:"season-stat",children:[r.jsx("div",{className:"season-stat-number",children:e.reduce((o,l)=>o+l.newMilestones.length,0)}),r.jsx("div",{className:"season-stat-label",children:"Milestones"})]})]})]}),r.jsx("div",{className:"timeline season-timeline",children:e.map((o,l)=>r.jsx(vI,{report:o,isExpanded:n.has(o.id),onToggle:i,onGenerateCard:a},o.id))})]})},Yw=document.createElement("style");Yw.textContent=`
.identity-seasons {
  margin: 2rem 0;
}

.identity-seasons-header {
  text-align: center;
  margin-bottom: 2rem;
}

.identity-seasons-header h2 {
  font-size: 2rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.5rem;
}

.identity-seasons-stats {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
}

.season-stat {
  text-align: center;
}

.season-stat-number {
  font-size: 1.5rem;
  font-weight: bold;
  color: #8b5cf6;
}

.season-stat-label {
  font-size: 0.875rem;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.season-timeline {
  position: relative;
  padding-left: 2rem;
}

.season-timeline::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, #4b5563, #374151);
}

.season-item {
  position: relative;
  padding-bottom: 2rem;
}

.season-dot {
  position: absolute;
  left: -2rem;
  top: 0;
  width: 1rem;
  height: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.season-dot-inner {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 50%;
  background: #8b5cf6;
  border: 2px solid #1e293b;
  transition: all 0.2s ease;
}

.season-dot-inner.season-dot {
  background: #f59e0b;
}

.season-item:hover .season-dot-inner {
  transform: scale(1.2);
}

.season-content {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
  padding: 1.5rem;
  margin-left: 1rem;
  transition: all 0.3s ease;
}

.season-content.season-content {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
}

.season-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
}

.season-date {
  display: flex;
  flex-direction: column;
}

.season-date-text {
  font-size: 1.125rem;
  font-weight: 600;
  color: #e5e7eb;
}

.season-meta {
  font-size: 0.875rem;
  color: #9ca3af;
  margin-top: 0.25rem;
}

.season-actions {
  display: flex;
  gap: 0.5rem;
}

.timeline-expand-btn,
.season-generate-btn {
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.1);
  color: #e5e7eb;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.timeline-expand-btn:hover,
.season-generate-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.season-compact {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.season-compact-overview {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  align-items: center;
}

.season-compact-moods {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.season-mood-tag {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: rgba(139, 92, 246, 0.2);
  border-radius: 0.25rem;
  font-size: 0.75rem;
  color: #a78bfa;
}

.season-compact-patterns {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
}

.season-compact-pattern {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.875rem;
  color: #9ca3af;
}

.season-compact-games {
  margin-top: 0.5rem;
}

.season-games-label {
  font-size: 0.75rem;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

.season-games-list {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.season-compact-game {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: #d1d5db;
}

.season-game-rank {
  font-weight: 600;
  color: #f59e0b;
  min-width: 1.5rem;
}

.season-game-title {
  flex: 1;
  font-weight: 500;
}

.season-game-score {
  color: #9ca3af;
}

.season-compact-narrative {
  font-size: 0.875rem;
  color: #d1d5db;
  line-height: 1.4;
  font-style: italic;
  margin: 0;
}

.season-compact-milestones {
  margin-top: 0.5rem;
}

.season-milestones-label {
  font-size: 0.75rem;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

.season-milestones-list {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.season-compact-milestone {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: #d1d5db;
}

.season-milestone-icon {
  font-size: 1rem;
}

.season-milestone-title {
  font-weight: 500;
}

.season-expanded {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.season-section {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding-top: 1rem;
}

.season-section h4 {
  font-size: 1rem;
  font-weight: 600;
  color: #e5e7eb;
  margin-bottom: 0.75rem;
}

.season-overview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 1rem;
}

.season-overview-item {
  text-align: center;
  padding: 0.75rem;
  background: rgba(139, 92, 246, 0.1);
  border-radius: 0.5rem;
}

.season-overview-label {
  font-size: 0.75rem;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.25rem;
}

.season-overview-value {
  font-size: 1.125rem;
  font-weight: 600;
  color: #e5e7eb;
}

.season-change {
  font-size: 0.75rem;
  margin-left: 0.25rem;
}

.season-change.positive {
  color: #10b981;
}

.season-change.negative {
  color: #ef4444;
}

.season-patterns-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.season-pattern-item {
  background: rgba(34, 197, 94, 0.1);
  border-radius: 0.5rem;
  padding: 1rem;
}

.season-pattern-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  color: #e5e7eb;
  margin-bottom: 0.75rem;
}

.season-pattern-icon {
  font-size: 1.25rem;
}

.season-pattern-content {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.season-pattern-mood {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: #d1d5db;
}

.season-pattern-stat {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: #d1d5db;
}

.season-games-expanded {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.season-game-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(55, 65, 81, 0.1);
  border-radius: 0.5rem;
}

.season-game-info {
  flex: 1;
}

.season-game-meta {
  font-size: 0.75rem;
  color: #9ca3af;
  margin-top: 0.25rem;
}

.season-milestones-expanded {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.season-milestone-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(245, 158, 11, 0.1);
  border-radius: 0.5rem;
}

.season-milestone-info {
  flex: 1;
}

.season-milestone-title {
  font-weight: 600;
  color: #e5e7eb;
  margin-bottom: 0.25rem;
}

.season-milestone-description {
  font-size: 0.875rem;
  color: #d1d5db;
  margin-bottom: 0.25rem;
}

.season-milestone-category {
  font-size: 0.75rem;
  color: #9ca3af;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.season-shifts {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.season-shift-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem;
  background: rgba(55, 65, 81, 0.1);
  border-radius: 0.5rem;
}

.season-shift-pattern {
  font-weight: 500;
  color: #e5e7eb;
}

.season-shift-change {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: #d1d5db;
}

.season-shift-indicator {
  font-weight: 600;
}

.season-full-narrative {
  font-size: 0.875rem;
  color: #d1d5db;
  line-height: 1.5;
  font-style: italic;
  background: rgba(255, 255, 255, 0.05);
  padding: 1rem;
  border-radius: 0.5rem;
  margin: 0;
}

.identity-seasons-empty {
  text-align: center;
  padding: 4rem 2rem;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.empty-state-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.identity-seasons-empty h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #e5e7eb;
  margin-bottom: 0.5rem;
}

.identity-seasons-empty p {
  color: #9ca3af;
  line-height: 1.5;
  max-width: 400px;
  margin: 0 auto 0.5rem;
}
`;document.head.appendChild(Yw);const wI=({report:e,className:t=""})=>{var c,d;const n=w.useRef(null),s={chill:"",creative:"",competitive:"",focused:"",intense:"",cozy:"",exploration:"",puzzle:"",social:"",immersive:"",relaxed:"",energetic:"",strategic:"",adventurous:"",mysterious:"",playful:""},i={short:"",medium:"",long:""},a={morning:"",afternoon:"",evening:"","late-night":""},o=((c=Object.entries(e.sessionLengthTrends).sort(([,m],[,u])=>u-m)[0])==null?void 0:c[0])||"medium",l=((d=Object.entries(e.timeOfDayPatterns).sort(([,m],[,u])=>u-m)[0])==null?void 0:d[0])||"evening";return r.jsxs("div",{ref:n,className:`season-share-card ${t}`,style:{width:"450px",height:"650px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",color:"white",fontFamily:"system-ui, -apple-system, sans-serif",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},children:[r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),r.jsxs("div",{style:{position:"relative",textAlign:"center",marginBottom:"24px"},children:[r.jsxs("h1",{style:{fontSize:"28px",fontWeight:"bold",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:[e.monthName," ",e.year]}),r.jsx("div",{style:{fontSize:"14px",opacity:.9,marginTop:"8px"},children:"Your Gaming Season"}),r.jsxs("div",{style:{fontSize:"12px",opacity:.8,marginTop:"4px"},children:[e.snapshotCount," Snapshots  ",e.newMilestones.length," Milestones"]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Season Overview"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[r.jsxs("div",{style:{textAlign:"center",padding:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"20px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Snapshots"}),r.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:e.snapshotCount})]}),r.jsxs("div",{style:{textAlign:"center",padding:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"20px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Milestones"}),r.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:e.newMilestones.length})]}),r.jsxs("div",{style:{textAlign:"center",padding:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[r.jsx("div",{style:{fontSize:"20px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Completion"}),r.jsxs("div",{style:{fontSize:"16px",fontWeight:"600"},children:[Math.round(e.completionRateChange.end*100),"%",e.completionRateChange.change!==0&&r.jsxs("span",{style:{fontSize:"12px",marginLeft:"4px",color:e.completionRateChange.change>0?"#10b981":"#ef4444"},children:[e.completionRateChange.change>0?"":"",Math.abs(e.completionRateChange.change*100).toFixed(0),"%"]})]})]})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Gaming Patterns"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"16px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Dominant Moods"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px"},children:e.dominantMoods.slice(0,3).map(m=>r.jsxs("span",{style:{fontSize:"14px",background:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"2px"},children:[s[m.toLowerCase()]||"",m]},m))})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"16px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Session Length"}),r.jsxs("div",{style:{fontSize:"14px",fontWeight:"600"},children:[i[o]," ",o]}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8",marginTop:"2px"},children:Object.entries(e.sessionLengthTrends).map(([m,u])=>r.jsxs("span",{style:{marginRight:"8px"},children:[m,": ",u]},m))})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"16px",marginBottom:"4px"},children:""}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8"},children:"Peak Time"}),r.jsxs("div",{style:{fontSize:"14px",fontWeight:"600"},children:[a[l]," ",l.replace("-"," ")]}),r.jsx("div",{style:{fontSize:"12px",opacity:"0.8",marginTop:"2px"},children:Object.entries(e.timeOfDayPatterns).map(([m,u])=>r.jsxs("span",{style:{marginRight:"8px"},children:[a[m]," ",u]},m))})]})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Top Identity Games"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.topIdentityGames.slice(0,5).map((m,u)=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#f59e0b",minWidth:"20px",textAlign:"center"},children:["#",u+1]}),r.jsxs("div",{style:{flex:1,textAlign:"left"},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"500"},children:m.title}),r.jsxs("div",{style:{fontSize:"12px",opacity:"0.8"},children:["Score: ",m.score.toFixed(1),"  ",m.appearances," appearances"]})]})]},m.id))})]}),e.newMilestones.length>0&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"New Milestones"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.newMilestones.slice(0,4).map(m=>r.jsxs("div",{style:{background:"rgba(255,255,255,0.15)",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",minWidth:"120px"},children:[r.jsx("span",{style:{fontSize:"16px"},children:m.icon}),r.jsxs("div",{style:{fontSize:"12px",textAlign:"center"},children:[r.jsx("div",{style:{fontWeight:"500"},children:m.title}),r.jsx("div",{style:{fontSize:"10px",opacity:"0.8"},children:m.category})]})]},m.id))})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",opacity:.95},children:"Your Season Story"}),r.jsx("div",{style:{fontSize:"13px",lineHeight:"1.4",opacity:.9,fontStyle:"italic",background:"rgba(255,255,255,0.1)",padding:"12px",borderRadius:"8px",maxHeight:"80px",overflow:"hidden"},children:r.jsx("p",{style:{margin:0},children:e.shortNarrative})})]}),r.jsxs("div",{style:{position:"absolute",bottom:"16px",right:"16px",fontSize:"10px",opacity:.7,textAlign:"right"},children:[r.jsxs("div",{children:["Generated on ",new Date(e.generatedAt).toLocaleDateString()]}),r.jsx("div",{children:"gamepilot.app  Season Report"})]})]})},jI=()=>{const e=Fn(),t=Jl(),[n,s]=w.useState(!1),[i,a]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[m,u]=w.useState([]),h=iI(),{isNotificationOpen:f,showNotifications:p,closeNotifications:g}=h,[y,x]=w.useState([]),[v,b]=w.useState([]),[j,S]=w.useState(!1),[T,E]=w.useState(null);w.useEffect(()=>{const P=Oh();u(P);const I=Dh();x(I);const R=Fh();b(R)},[]),w.useEffect(()=>{const P=I=>{const{milestones:R}=I.detail;x(R)};return window.addEventListener("milestones-updated",P),()=>{window.removeEventListener("milestones-updated",P)}},[]),w.useEffect(()=>{const P=I=>{const{reports:R}=I.detail;b(R)};return window.addEventListener("season-reports-updated",P),()=>{window.removeEventListener("season-reports-updated",P)}},[]),w.useEffect(()=>{if(m.length>0){const P=v[0];if(lI(P||null)){const I=aI(m,y);I&&(oI(I),b(R=>[I,...R]))}}},[m,y,v]);const{games:k}=ye(),C=w.useMemo(()=>{if(!k||k.length===0)return null;try{return kh(k)}catch(P){return console.warn("Failed to generate persona context:",P),null}},[k]),M=w.useMemo(()=>{if(!C||!k)return[];try{const P=Sh(),I=Ws();return k.map(F=>{var le;const X={...F,genres:((le=F.genres)==null?void 0:le.map(ce=>typeof ce=="string"?ce:ce.name))||[],moods:F.moods||[],sessionLength:F.sessionLength||void 0,recommendedTimes:F.recommendedTimes||void 0,hoursPlayed:F.hoursPlayed||0,lastPlayed:F.lastPlayed||void 0};return Di(X,{selectedMoods:C.dominantMoods,selectedSessionLength:C.preferredSessionLength,timeOfDay:I,personaContext:C,personaWeight:.6})}).slice(0,10)}catch(P){return console.warn("Failed to get identity-defining games:",P),[]}},[C,k]),L=w.useMemo(()=>{try{const P=localStorage.getItem("analytics_stats");return P?JSON.parse(P):null}catch{return null}},[]),$=w.useMemo(()=>{try{return AA({personaContext:C||void 0,analyticsInsights:L||void 0})}catch(P){return console.warn("Failed to generate identity narrative:",P),"Your gaming journey is uniquely yours, shaped by your choices and experiences."}},[C,L]);w.useEffect(()=>{if(C&&M&&$){const P=m[0];if(ZA(P==null?void 0:P.timestamp)){const I=N0(C,M,$.split(".").filter(Boolean).slice(0,2).join(". ")+".",$);j0(I);const R=eI(m,I);R.length>0&&p(R),u(F=>[{...I,id:`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},...F])}}},[C,M,$,m]),w.useEffect(()=>{const P=setTimeout(()=>s(!0),100);return()=>clearTimeout(P)},[]);const Q=P=>{const I={Achiever:{primary:"from-yellow-500 to-amber-600",accent:"text-yellow-400",bg:"bg-yellow-500/10"},Explorer:{primary:"from-purple-500 to-indigo-600",accent:"text-purple-400",bg:"bg-purple-500/10"},Socializer:{primary:"from-blue-500 to-cyan-600",accent:"text-blue-400",bg:"bg-blue-500/10"},Competitor:{primary:"from-red-500 to-orange-600",accent:"text-red-400",bg:"bg-red-500/10"},Strategist:{primary:"from-emerald-500 to-teal-600",accent:"text-emerald-400",bg:"bg-emerald-500/10"},Creative:{primary:"from-pink-500 to-rose-600",accent:"text-pink-400",bg:"bg-pink-500/10"},Casual:{primary:"from-green-500 to-lime-600",accent:"text-green-400",bg:"bg-green-500/10"},Specialist:{primary:"from-indigo-500 to-purple-600",accent:"text-indigo-400",bg:"bg-indigo-500/10"}};return I[P]||I.Explorer},H=P=>({Achiever:"",Explorer:"",Socializer:"",Competitor:"",Strategist:"",Creative:"",Casual:"",Specialist:""})[P]||"",te=P=>{const I={Achiever:{fullDescription:"You are driven by goals, achievements, and the thrill of completion. Every challenge is an opportunity to prove your worth and climb higher.",strengths:["Goal-oriented mindset","High motivation","Persistent determination","Strategic thinking"],weaknesses:["May over-extend","Can be too competitive","Sometimes misses the journey","Perfectionist tendencies"],moodTendencies:["Focused","Determined","Competitive","Accomplished"],recommendedGenres:["RPG","Action","Platformer","Sports"],signatureTraits:["Completionist","Perfectionist","Competitive","Goal-driven"]},Explorer:{fullDescription:"You are driven by curiosity and the desire to discover new worlds. Every uncharted territory calls to your adventurous spirit.",strengths:["Curiosity-driven","Adaptable","Open-minded","Detail-oriented"],weaknesses:["Can get distracted","May not finish","Overly curious","Risk-taking"],moodTendencies:["Curious","Adventurous","Wonder-filled","Restless"],recommendedGenres:["Open World","Adventure","Exploration","Survival"],signatureTraits:["Curious","Adventurous","Detail-oriented","Open-minded"]},Socializer:{fullDescription:"You thrive on connections and shared experiences. Gaming is your way to build communities and forge lasting friendships.",strengths:["Empathetic","Team player","Communication skills","Community builder"],weaknesses:["May avoid solo content","Too accommodating","Social pressure","Distraction-prone"],moodTendencies:["Connected","Collaborative","Friendly","Engaged"],recommendedGenres:["MMO","Co-op","Social","Party Games"],signatureTraits:["Empathetic","Collaborative","Social","Community-focused"]},Competitor:{fullDescription:"You live for the thrill of victory and the challenge of opposition. Every match is a chance to prove your superiority.",strengths:["Competitive drive","Quick thinking","Strategic mind","Performance under pressure"],weaknesses:["Can be ruthless","Poor sportsmanship","Overly aggressive","Burnout risk"],moodTendencies:["Competitive","Focused","Intense","Victorious"],recommendedGenres:["FPS","MOBA","Fighting","Sports"],signatureTraits:["Competitive","Strategic","Intense","Victory-driven"]},Strategist:{fullDescription:"You see the bigger picture and excel at planning. Every game is a puzzle to be solved with perfect precision.",strengths:["Analytical thinking","Planning skills","Pattern recognition","Patience"],weaknesses:["Analysis paralysis","Over-planning","Slow adaptation","Perfectionism"],moodTendencies:["Analytical","Patient","Methodical","Strategic"],recommendedGenres:["Strategy","Turn-based","Puzzle","Management"],signatureTraits:["Analytical","Strategic","Methodical","Patient"]},Creative:{fullDescription:"You express yourself through creation and imagination. Every game is a canvas for your artistic vision.",strengths:["Creativity","Innovation","Expression","Imagination"],weaknesses:["Lack of focus","Perfectionism","Over-ambitious","Procrastination"],moodTendencies:["Inspired","Expressive","Imaginative","Artistic"],recommendedGenres:["Sandbox","Building","Art","Simulation"],signatureTraits:["Creative","Innovative","Expressive","Imaginative"]},Casual:{fullDescription:"You seek balance and enjoyment in gaming. Every session should be relaxing and stress-free.",strengths:["Balanced approach","Stress management","Consistency","Enjoyment-focused"],weaknesses:["Lack of challenge","Slow progress","Comfort zone","Limited growth"],moodTendencies:["Relaxed","Balanced","Content","Peaceful"],recommendedGenres:["Casual","Puzzle","Simulation","Story"],signatureTraits:["Balanced","Relaxed","Consistent","Enjoyment-focused"]},Specialist:{fullDescription:"You dedicate yourself to mastering specific genres or games. Excellence is your only acceptable standard.",strengths:["Expertise","Dedication","Mastery","Deep knowledge"],weaknesses:["Narrow focus","Resistance to change","Perfectionism","Burnout risk"],moodTendencies:["Focused","Dedicated","Expert","Mastery-driven"],recommendedGenres:["Specialized","Complex","Deep","Niche"],signatureTraits:["Specialized","Dedicated","Expert","Mastery-focused"]}};return I[P]||I.Explorer},N=(e==null?void 0:e.traits.archetypeId)||"Explorer",G=Q(N);return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden ${o?"ring-2 ring-gaming-primary/50 ring-offset-2 ring-offset-gray-900":""}`,children:[r.jsx(PA,{primaryArchetype:N,currentMood:t==null?void 0:t.moodId}),r.jsxs("div",{className:"container mx-auto px-4 py-8 pointer-events-auto relative z-10",children:[r.jsx("header",{className:`mb-16 ${n?"animate-fade-in":"opacity-0"}`,children:r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:`inline-block ${G.bg} px-8 py-4 rounded-2xl border border-white/10 backdrop-blur-sm mb-6 cursor-pointer hover:scale-105 transition-transform`,onClick:()=>a(!0),children:[r.jsx("h1",{className:`text-6xl md:text-7xl font-black ${G.accent} mb-2 tracking-tight`,children:N.toUpperCase()}),r.jsx("div",{className:"text-6xl mb-4",children:H(N)}),r.jsx("div",{className:"text-sm text-gray-400",children:"Click for detailed analysis"})]}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-3xl mx-auto leading-relaxed font-light",children:te(N).fullDescription})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-200`,children:r.jsx(TA,{theme:G})}),r.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-5 gap-4 mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-300`,children:[r.jsx(yi,{icon:"",label:"Intensity",value:(e==null?void 0:e.traits.intensity)||"Medium",description:"Energy and engagement level",theme:G}),r.jsx(yi,{icon:"",label:"Pacing",value:(e==null?void 0:e.traits.pacing)||"Flow",description:"Session duration preference",theme:G}),r.jsx(yi,{icon:"",label:"Social Style",value:(e==null?void 0:e.traits.socialStyle)||"Solo",description:"Multiplayer preference",theme:G}),r.jsx(yi,{icon:"",label:"Challenge",value:(e==null?void 0:e.traits.riskProfile)||"Balanced",description:"Risk tolerance level",theme:G}),r.jsx(yi,{icon:"",label:"Narrative",value:"Story-driven",description:"Story preference",theme:G})]}),C&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-400`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Gaming Identity"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Dominant Moods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:C.dominantMoods.map(P=>r.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:P},P))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Preferred Sessions"}),r.jsx("span",{className:"text-white text-lg font-medium capitalize",children:C.preferredSessionLength})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Peak Times"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:C.preferredTimesOfDay.map(P=>r.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm capitalize",children:P},P))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Play Patterns"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:C.recentPlayPatterns.slice(0,2).map(P=>r.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-sm capitalize",children:P},P))})]})]})]})}),r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-450`,children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-teal-500/20 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Gaming Story"}),r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsx("p",{className:"text-xl text-gray-200 leading-relaxed font-light",children:$})}),r.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Personalized Narrative"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Data-Driven Insights"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{children:"Unique Gaming Identity"})]})]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsxs("button",{onClick:()=>{if(d(!0),C&&M&&$){const P=N0(C,M,$.split(".").filter(Boolean).slice(0,2).join(". ")+".",$);j0(P),u(I=>[{...P,id:`snapshot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},...I])}},className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg font-medium transition-all transform hover:scale-105 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""}),"Generate Shareable Card"]})})]})})}),M.length>0&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-500`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Games That Define You"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.slice(0,9).map((P,I)=>{var R;return r.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-white font-medium",children:P.game.title}),r.jsx("span",{className:"text-green-400 text-sm font-mono",children:P.score.toFixed(1)})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:(R=P.game.moods)==null?void 0:R.slice(0,3).map(F=>r.jsx("span",{className:"text-xs px-2 py-1 bg-gray-700 text-gray-300 rounded",children:F},F))})]},P.game.id)})})]})}),L&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-600`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"How You Play"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Time-of-Day Engagement"}),r.jsx("div",{className:"space-y-2",children:Object.entries(L.timeOfDayUsage||{}).map(([P,I])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm capitalize",children:P}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.max(10,Number(I)/Math.max(...Object.values(L.timeOfDayUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(I)})]})]},P))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Session Length Distribution"}),r.jsx("div",{className:"space-y-2",children:Object.entries(L.sessionLengthUsage||{}).map(([P,I])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm capitalize",children:P}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${Math.max(10,Number(I)/Math.max(...Object.values(L.sessionLengthUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(I)})]})]},P))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Top Moods"}),r.jsx("div",{className:"space-y-2",children:Object.entries(L.moodUsage||{}).sort(([,P],[,I])=>Number(I)-Number(P)).slice(0,5).map(([P,I])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm",children:P}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${Math.max(10,Number(I)/Math.max(...Object.values(L.moodUsage||{}).map(Number))*100)}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs w-8",children:Number(I)})]})]},P))})]})]})]})}),C&&r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-700`,children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Your Recent Behavior"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Average Session"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(C.averageSessionLengthMinutes)," min"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Night Owl Ratio"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(C.lateNightRatio*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Completion Rate"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(C.completionRate*100),"%"]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-2",children:"Social Gaming"}),r.jsxs("span",{className:"text-white text-lg font-medium",children:[Math.round(C.multiplayerRatio*100),"%"]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-gray-400 text-sm mb-3",children:"Mood Affinity"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(C.moodAffinity).sort(([,P],[,I])=>I-P).slice(0,8).map(([P,I])=>r.jsxs("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm",children:[P,": ",(I*100).toFixed(0),"%"]},P))})]})]})}),r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-800`,children:r.jsx(QA,{snapshots:m,onRegenerateCard:P=>{P.dominantMoods,P.preferredSessionLength,P.preferredTimesOfDay,P.recentPlayPatterns,P.averageSessionLengthMinutes,P.completionRate,P.multiplayerRatio,P.topIdentityGames.map(I=>({id:I.id,title:I.title,moods:[],genres:[],hoursPlayed:0,sessionLength:P.preferredSessionLength,recommendedTimes:P.preferredTimesOfDay,score:I.score})),d(!0)},onDelete:P=>{XA(P),u(I=>I.filter(R=>R.id!==P))}})}),r.jsx("div",{className:`mb-12 ${n?"animate-slide-up":"opacity-0"} animate-delay-900`,children:r.jsx(bI,{reports:v,onGenerateSeasonCard:P=>{E(P),S(!0)}})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"relative z-10 p-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Identity"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Your gaming personality decoded"})]}),r.jsx(Ww,{onClick:()=>l(!o),isActive:o})]})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-200`,children:r.jsx(xA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-250`,children:r.jsx(MA,{theme:G})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-300`,children:r.jsx(bA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-400`,children:r.jsx(jA,{})}),r.jsx("div",{className:`${n?"animate-slide-up":"opacity-0"} animate-delay-500`,children:r.jsx(kA,{})})]})]})]}),r.jsx(EA,{isOpen:i,onClose:()=>a(!1),archetype:{id:N,name:N,symbol:H(N),description:te(N).fullDescription,fullDescription:te(N).fullDescription,strengths:te(N).strengths,weaknesses:te(N).weaknesses,moodTendencies:te(N).moodTendencies,recommendedGenres:te(N).recommendedGenres,signatureTraits:te(N).signatureTraits,theme:G}}),r.jsx(Lh,{pageId:"identity",isOpen:o,onClose:()=>l(!1)}),r.jsx(qA,{isOpen:c,onClose:()=>d(!1),personaContext:C||void 0,identityNarrative:$,identityDefiningGames:M}),r.jsx(rI,{milestones:h.notifications,isOpen:h.isNotificationOpen,onClose:h.closeNotifications}),j&&T&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-amber-900 via-orange-900 to-red-900 rounded-2xl max-w-4xl w-full border border-amber-500/30 shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-amber-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",children:[T.monthName," ",T.year," Season Report"]}),r.jsx("p",{className:"text-amber-300 text-sm",children:"Your monthly gaming identity summary"})]}),r.jsx("button",{onClick:()=>S(!1),className:"text-amber-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:r.jsx(wI,{report:T})}),r.jsx("div",{className:"p-6 border-t border-amber-500/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-amber-300 text-sm",children:["Generated on ",new Date(T.generatedAt).toLocaleDateString()]}),r.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white rounded-lg font-medium transition-all",children:"Close"})]})})]})})]})},Kw=document.createElement("style");Kw.textContent=`
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slide-up 0.6s ease-out forwards;
    opacity: 0;
  }
`;document.head.appendChild(Kw);class NI{constructor(t){this.baseUrl="https://www.googleapis.com/youtube/v3",this.maxResultsPerPage=50,this.apiKey=t||"AIzaSyCX7KLLA_xWd6G7nC8w8H04XrpOSLpuSas",this.apiKey||console.warn("YouTube API key not provided. Some features will be limited.")}async getTrendingGamingVideos(t){if(!this.apiKey)return this.getMockResponse("trending");try{const n=new URLSearchParams({part:"snippet,statistics,contentDetails",chart:"mostPopular",videoCategoryId:"20",maxResults:this.maxResultsPerPage.toString(),key:this.apiKey,...t&&{pageToken:t}}),i=await(await fetch(`${this.baseUrl}/videos?${n}`)).json();if(i.error)throw new Error(`YouTube API Error: ${i.error.message}`);return this.transformVideoResponse(i)}catch(n){return console.error("Error fetching trending gaming videos:",n),this.getMockResponse("trending")}}async getCreatorVideos(t,n){var s,i,a;if(!this.apiKey)return this.getMockResponse("creator");try{const o=new URLSearchParams({part:"contentDetails",id:t,key:this.apiKey}),c=await(await fetch(`${this.baseUrl}/channels?${o}`)).json();if(c.error)throw new Error(`YouTube API Error: ${c.error.message}`);const d=(a=(i=(s=c.items[0])==null?void 0:s.contentDetails)==null?void 0:i.relatedPlaylists)==null?void 0:a.uploads;if(!d)throw new Error("Channel not found or has no public uploads");return this.getPlaylistVideos(d,n)}catch(o){return console.error("Error fetching creator videos:",o),this.getMockResponse("creator")}}async searchGamingContent(t,n,s=25){if(!this.apiKey)return this.getMockResponse("search");try{const i=new URLSearchParams({part:"snippet,statistics",q:`${t} gaming`,type:"video",maxResults:Math.min(s,this.maxResultsPerPage).toString(),key:this.apiKey,relevanceLanguage:"en",safeSearch:"moderate",...n&&{pageToken:n}}),o=await(await fetch(`${this.baseUrl}/search?${i}`)).json();if(o.error)throw new Error(`YouTube API Error: ${o.error.message}`);return this.transformSearchResponse(o)}catch(i){return console.error("Error searching gaming content:",i),this.getMockResponse("search")}}async getChannelInfo(t){if(!this.apiKey)return this.getMockChannel();try{const n=new URLSearchParams({part:"snippet,statistics",id:t,key:this.apiKey}),i=await(await fetch(`${this.baseUrl}/channels?${n}`)).json();if(i.error)throw new Error(`YouTube API Error: ${i.error.message}`);return!i.items||i.items.length===0?null:this.transformChannelResponse(i.items[0])}catch(n){return console.error("Error fetching channel info:",n),this.getMockChannel()}}async getPlaylistVideos(t,n){try{const s=new URLSearchParams({part:"snippet,statistics,contentDetails",playlistId:t,maxResults:this.maxResultsPerPage.toString(),key:this.apiKey,...n&&{pageToken:n}}),a=await(await fetch(`${this.baseUrl}/playlistItems?${s}`)).json();if(a.error)throw new Error(`YouTube API Error: ${a.error.message}`);return this.transformPlaylistResponse(a)}catch(s){return console.error("Error fetching playlist videos:",s),this.getMockResponse("playlist")}}transformVideoResponse(t){var s,i;const n=t.items.map(a=>{var d,m,u,h;const o=a.snippet,l=a.statistics||{},c=a.contentDetails||{};return{id:a.id,title:o.title,description:o.description,thumbnailUrl:((m=(d=o.thumbnails)==null?void 0:d.high)==null?void 0:m.url)||((h=(u=o.thumbnails)==null?void 0:u.default)==null?void 0:h.url),publishedAt:new Date(o.publishedAt),duration:c.duration,viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken,prevPageToken:t.prevPageToken}}transformSearchResponse(t){var s,i;const n=t.items.map(a=>{var c,d,m,u;const o=a.snippet,l=a.statistics||{};return{id:a.id.videoId,title:o.title,description:o.description,thumbnailUrl:((d=(c=o.thumbnails)==null?void 0:c.high)==null?void 0:d.url)||((u=(m=o.thumbnails)==null?void 0:m.default)==null?void 0:u.url),publishedAt:new Date(o.publishedAt),duration:"",viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken,prevPageToken:t.prevPageToken}}transformPlaylistResponse(t){var s,i;const n=t.items.map(a=>{var c,d,m,u;const o=a.snippet,l=a.statistics||{};return{id:a.contentDetails.videoId,title:o.title,description:o.description,thumbnailUrl:((d=(c=o.thumbnails)==null?void 0:c.high)==null?void 0:d.url)||((u=(m=o.thumbnails)==null?void 0:m.default)==null?void 0:u.url),publishedAt:new Date(o.publishedAt),duration:"",viewCount:parseInt(l.viewCount||"0"),likeCount:parseInt(l.likeCount||"0"),channelTitle:o.channelTitle,channelId:o.channelId,tags:o.tags||[],categoryId:o.categoryId}});return{videos:n,totalResults:((s=t.pageInfo)==null?void 0:s.totalResults)||n.length,resultsPerPage:((i=t.pageInfo)==null?void 0:i.resultsPerPage)||n.length,nextPageToken:t.nextPageToken}}transformChannelResponse(t){var i,a,o,l;const n=t.snippet,s=t.statistics;return{id:t.id,title:n.title,description:n.description,thumbnailUrl:((a=(i=n.thumbnails)==null?void 0:i.high)==null?void 0:a.url)||((l=(o=n.thumbnails)==null?void 0:o.default)==null?void 0:l.url),subscriberCount:parseInt(s.subscriberCount||"0"),videoCount:parseInt(s.videoCount||"0"),viewCount:parseInt(s.viewCount||"0"),publishedAt:new Date(n.publishedAt)}}getMockResponse(t){const n=[{id:"mock1",title:"Best Gaming Moments 2024",description:"Amazing gaming highlights and funny moments from the past year",thumbnailUrl:"/images/mock/youtube-thumbnail-1.jpg",publishedAt:new Date(Date.now()-864e5),duration:"PT10M32S",viewCount:125e4,likeCount:85e3,channelTitle:"GamePilot Highlights",channelId:"UCgamepilot",tags:["gaming","highlights","funny","2024"],categoryId:"20"},{id:"mock2",title:"Epic Gaming Comeback",description:"Incredible comeback in the final moments of the championship",thumbnailUrl:"/images/mock/youtube-thumbnail-2.jpg",publishedAt:new Date(Date.now()-1728e5),duration:"PT5M45S",viewCount:89e4,likeCount:62e3,channelTitle:"Pro Gaming Channel",channelId:"UCprogaming",tags:["gaming","comeback","esports","competitive"],categoryId:"20"}];return{videos:n,totalResults:n.length,resultsPerPage:n.length}}getMockChannel(){return{id:"UCmockchannel",title:"GamePilot Official",description:"Your source for gaming content and community highlights",thumbnailUrl:"/images/mock/channel-avatar.jpg",subscriberCount:15e4,videoCount:450,viewCount:25e6,publishedAt:new Date("2020-01-01")}}isApiAvailable(){return!!this.apiKey}getApiInfo(){return{available:this.isApiAvailable(),maxResultsPerPage:this.maxResultsPerPage,rateLimits:{requestsPerDay:1e4,requestsPer100Seconds:100}}}}class SI{constructor(t,n){this.baseUrl="https://discord.com/api/v10",this.cdnUrl="https://cdn.discordapp.com",this.botToken=t||"your_discord_bot_token_here",this.userToken=n||"your_discord_user_token_here",!this.botToken&&!this.userToken&&console.warn("Discord tokens not provided. Some features will be limited to public data only.")}async getPublicGuildInfo(t){try{const n=await fetch(`${this.baseUrl}/guilds/${t}/widget.json`);if(n.ok){const s=await n.json();return this.transformWidgetResponse(s,t)}if(this.botToken){const s=await fetch(`${this.baseUrl}/guilds/${t}`,{headers:{Authorization:`Bot ${this.botToken}`}});if(s.ok){const i=await s.json();return this.transformGuildResponse(i)}}return null}catch(n){return console.error("Error fetching guild info:",n),null}}async getGuildChannels(t){if(!this.botToken)return console.warn("Bot token required for channel list"),[];try{const n=await fetch(`${this.baseUrl}/guilds/${t}/channels`,{headers:{Authorization:`Bot ${this.botToken}`}});if(!n.ok)throw new Error(`Discord API Error: ${n.statusText}`);return(await n.json()).map(i=>this.transformChannelResponse(i))}catch(n){return console.error("Error fetching guild channels:",n),[]}}async getGuildsForUser(t){const n=t||this.userToken;if(!n)return console.warn("User token required for guild list"),[];try{const s=await fetch(`${this.baseUrl}/users/@me/guilds`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Discord API Error: ${s.statusText}`);return(await s.json()).map(a=>this.transformGuildResponse(a))}catch(s){return console.error("Error fetching user guilds:",s),[]}}async getUserInfo(t){const n=t||this.userToken;if(!n)return console.warn("User token required for user info"),null;try{const s=await fetch(`${this.baseUrl}/users/@me`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Discord API Error: ${s.statusText}`);return this.transformUserResponse(await s.json())}catch(s){return console.error("Error fetching user info:",s),null}}async getUserActivity(t){const n=t||this.userToken;if(!n)return console.warn("User token required for activity info"),null;try{const s=await fetch(`${this.baseUrl}/users/@me/activities`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)return console.log("Activity info requires additional Discord permissions"),null;const i=await s.json();return i.length>0?this.transformActivityResponse(i[0]):null}catch(s){return console.error("Error fetching user activity:",s),null}}transformWidgetResponse(t,n){return{id:n,name:t.name,description:t.description,icon:t.icon?`${this.cdnUrl}/icons/${n}/${t.icon}.png`:void 0,memberCount:t.presence_count,presenceCount:t.presence_count,channels:[],features:[],createdAt:new Date}}transformGuildResponse(t){return{id:t.id,name:t.name,description:t.description,icon:t.icon?`${this.cdnUrl}/icons/${t.id}/${t.icon}.png`:void 0,memberCount:t.member_count,presenceCount:t.presence_count,ownerId:t.owner_id,features:t.features||[],channels:[],createdAt:t.id?this.extractSnowflakeDate(t.id):new Date}}transformChannelResponse(t){return{id:t.id,name:t.name,type:t.type,topic:t.topic,position:t.position,parentId:t.parent_id,nsfw:t.nsfw||!1,permissionOverwrites:t.permission_overwrites}}transformUserResponse(t){return{id:t.id,username:t.username,discriminator:t.discriminator,avatar:t.avatar?`${this.cdnUrl}/avatars/${t.id}/${t.avatar}.png`:void 0,publicFlags:t.public_flags,bot:t.bot||!1}}transformActivityResponse(t){return{type:t.type,name:t.name,details:t.details,state:t.state,applicationId:t.application_id,sessionId:t.session_id,assets:t.assets,timestamps:t.timestamps,party:t.party,secrets:t.secrets}}extractSnowflakeDate(t){const i=(BigInt(t)>>BigInt(22))+BigInt(14200704e5);return new Date(Number(i))}getMockGuilds(){return[{id:"123456789012345678",name:"GamePilot Community",description:"Official GamePilot Discord server for gaming enthusiasts",icon:"/images/mock/discord-icon.png",memberCount:2500,presenceCount:850,channels:[],features:["COMMUNITY","NEWS","WELCOME_SCREEN_ENABLED"],createdAt:new Date("2020-06-15")},{id:"987654321098765432",name:"Competitive Gaming Hub",description:"Tournaments, scrims, and competitive gaming discussion",icon:"/images/mock/discord-icon-2.png",memberCount:1200,presenceCount:420,channels:[],features:["COMMUNITY"],createdAt:new Date("2021-03-20")}]}getMockChannels(){return[{id:"123456789012345678",name:"general",type:"text",topic:"General gaming discussion",position:0,nsfw:!1},{id:"987654321098765432",name:"looking-for-group",type:"text",topic:"Find teammates for your favorite games",position:1,nsfw:!1},{id:"555566667778889999",name:"Gaming Voice",type:"voice",position:2,nsfw:!1}]}isIntegrationAvailable(){return{botAvailable:!!this.botToken,userAvailable:!!this.userToken,publicAvailable:!0}}getIntegrationInfo(){return{version:"1.0",features:{publicGuildInfo:!0,userGuilds:!!this.userToken,guildChannels:!!this.botToken,userInfo:!!this.userToken,richPresence:!1},rateLimits:{requestsPerSecond:50,requestsPerMinute:1e3}}}}class kI{constructor(t){this.baseUrl="https://store.steampowered.com/api/featured",this.apiUrl="https://api.steampowered.com",this.maxResultsPerPage=100,this.apiKey=t||"FBB124C9352519E8F9FE820ADF0DA87C",this.apiKey||console.warn("Steam API key not provided. Some features will be limited.")}async getOwnedGames(t){if(!this.apiKey)return this.getMockOwnedGames();try{const n=new URLSearchParams({key:this.apiKey,steamid:t,format:"json",include_appinfo:"true",include_played_free_games:"true"}),s=await fetch(`${this.apiUrl}/IPlayerService/GetOwnedGames/v0001/?${n}`);if(!s.ok)throw new Error(`Steam API Error: ${s.statusText}`);const i=await s.json();return this.transformOwnedGamesResponse(i)}catch(n){return console.error("Error fetching owned games:",n),this.getMockOwnedGames()}}async getRecentlyPlayed(t){if(!this.apiKey)return this.getMockRecentlyPlayedGames();try{const n=new URLSearchParams({key:this.apiKey,steamid:t,format:"json"}),s=await fetch(`${this.apiUrl}/IPlayerService/GetRecentlyPlayedGames/v0001/?${n}`);if(!s.ok)throw new Error(`Steam API Error: ${s.statusText}`);const i=await s.json();return this.transformRecentlyPlayedResponse(i)}catch(n){return console.error("Error fetching recently played games:",n),this.getMockRecentlyPlayedGames()}}async getGameDetails(t){var n,s;if(!this.apiKey)return this.getMockGameDetails(t);try{const i=new URLSearchParams({appids:t.toString(),key:this.apiKey,format:"json",cc:"us",l:"english"}),a=await fetch(`${this.apiUrl}/ISteamUser/GetPlayerSummaries/v0002/?${i}`);if(!a.ok)throw new Error(`Steam API Error: ${a.statusText}`);if((((n=(await a.json()).response)==null?void 0:n.games)||[]).length===0)return null;const c=new URLSearchParams({appid:t.toString(),key:this.apiKey,format:"json",cc:"us",l:"english"}),d=await fetch(`${this.apiUrl}/ISteamUser/GetAppList/v2/?${c}`);if(!d.ok)throw new Error(`Steam API Error: ${d.statusText}`);const u=(s=(await d.json()).applist)==null?void 0:s.find(h=>h.appid===t);return u?this.transformGameDetailsResponse(u):null}catch(i){return console.error("Error fetching game details:",i),this.getMockGameDetails(t)}}async getPlayerSummary(t){var n;if(!this.apiKey)return this.getMockPlayerSummary();try{const s=new URLSearchParams({key:this.apiKey,steamids:t,format:"json"}),i=await fetch(`${this.apiUrl}/ISteamUser/GetPlayerSummaries/v0002/?${s}`);if(!i.ok)throw new Error(`Steam API Error: ${i.statusText}`);const o=((n=(await i.json()).response)==null?void 0:n.players)||[];return o.length===0?null:this.transformPlayerSummaryResponse(o[0])}catch(s){return console.error("Error fetching player summary:",s),this.getMockPlayerSummary()}}transformOwnedGamesResponse(t){var s;return(((s=t.response)==null?void 0:s.games)||[]).map(i=>{var o;const a=i.data||{};return{appId:a.appid,name:a.name||"Unknown Game",steamId:i.steamid,playtimeForever:a.playtime_forever||0,playtimeWindows:a.playtime_windows||0,playtimeMac:a.playtime_mac||0,playtimeLinux:a.playtime_linux||0,imgIconUrl:a.img_icon_url||"",imgLogoUrl:a.img_logo_url||"",hasCommunityVisibleStats:a.has_community_visible_stats||!1,playtimeLastTwoWeeks:a.playtime_last_two_weeks||0,playtimeAtLastUpdate:new Date,headerImage:a.header_image||"",shortDescription:a.short_description||"",supportedLanguages:a.supported_languages||[],developers:a.developers||[],publishers:a.publishers||[],genres:a.genres||[],categories:a.categories||[],releaseDate:a.release_date?new Date(a.release_date*1e3):new Date,metacriticScore:(o=a.metacritic)==null?void 0:o.score,recommendations:a.recommendations||0,isFree:a.is_free||!1,priceOverview:a.price_overview,platforms:a.platforms||[]}})}transformRecentlyPlayedResponse(t){var s;return(((s=t.response)==null?void 0:s.games)||[]).map(i=>({appId:i.appid,name:i.name||"Unknown Game",playtime2weeks:i.playtime_2weeks||0,playtimeForever:i.playtime_forever||0,imgIconUrl:i.img_icon_url||"",lastPlayed:i.last_played?new Date(i.last_played*1e3):new Date}))}transformGameDetailsResponse(t){return{steamId:t.steamid||"",name:t.name||"Unknown Game",description:t.detailed_description||"",aboutTheGame:t.about_the_game||"",shortDescription:t.short_description||"",supportedLanguages:t.supported_languages||[],reviews:t.reviews||"",headerImage:t.header_image||"",website:t.website,developers:t.developers||[],publishers:t.publishers||[],genres:t.genres||[],categories:t.categories||[],releaseDate:t.steam_release_date?new Date(t.steam_release_date*1e3):new Date,platforms:t.platforms||[],metacritic:t.metacritic||{score:0,url:""},recommendations:t.recommendations||0,priceOverview:t.price_overview,screenshots:t.screenshots||[],movies:t.movies||[],dlc:t.dlc||[],requirements:t.requirements||{minimum:"",recommended:""}}}transformPlayerSummaryResponse(t){return{steamId:t.steamid||"",personaName:t.personaname||"Unknown Player",profileUrl:t.profileurl||"",avatar:t.avatarfull||t.avatar||"",realName:t.realname||"",primaryClanId:t.primaryclanid,timeCreated:t.timecreated?new Date(t.timecreated*1e3):new Date,lastLogoff:t.lastlogoff?new Date(t.lastlogoff*1e3):new Date,gameCount:t.gamecount||0,gameServerIp:t.gameserverip,gameServerPort:t.gameserverport}}getMockOwnedGames(){return[{appId:730,name:"Counter-Strike: Global Offensive",steamId:"76561197960287930",playtimeForever:1250,playtimeWindows:1200,playtimeMac:50,playtimeLinux:0,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/icon.jpg",imgLogoUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/logo.jpg",hasCommunityVisibleStats:!0,playtimeLastTwoWeeks:300,playtimeAtLastUpdate:new Date,headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/730/header.jpg",shortDescription:"Play the world's number 1 online action game.",supportedLanguages:["English","French","German","Spanish","Italian","Japanese"],developers:["Valve","Hidden Path Entertainment"],publishers:["Valve"],genres:["Action"],categories:["Multi-player","FPS"],releaseDate:new Date("2012-08-21"),metacriticScore:83,recommendations:0,isFree:!1,platforms:["Windows","macOS","Linux"]},{appId:440,name:"Team Fortress 2",steamId:"76561197960287930",playtimeForever:890,playtimeWindows:850,playtimeMac:40,playtimeLinux:0,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/icon.jpg",imgLogoUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/logo.jpg",hasCommunityVisibleStats:!0,playtimeLastTwoWeeks:200,playtimeAtLastUpdate:new Date,headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/440/header.jpg",shortDescription:"Team-based multiplayer FPS.",supportedLanguages:["English","French","German","Spanish","Italian"],developers:["Valve"],publishers:["Valve"],genres:["Action"],categories:["Multi-player","FPS"],releaseDate:new Date("2007-10-10"),metacriticScore:92,recommendations:0,isFree:!1,platforms:["Windows","macOS","Linux"]}]}getMockRecentlyPlayedGames(){return[{appId:730,name:"Counter-Strike: Global Offensive",playtime2weeks:25,playtimeForever:1250,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/730/icon.jpg",lastPlayed:new Date(Date.now()-1e3*60*60*24)},{appId:440,name:"Team Fortress 2",playtime2weeks:15,playtimeForever:890,imgIconUrl:"https://cdn.akamai.steamstatic.com/steam/apps/440/icon.jpg",lastPlayed:new Date(Date.now()-1e3*60*60*48)}]}getMockPlayerSummary(){return{steamId:"76561197960287930",personaName:"GamePilotUser",profileUrl:"https://steamcommunity.com/id/GamePilotUser",avatar:"https://cdn.akamai.steamstatic.com/steamcommunity/public/images/avatars/01/01/12345678901234567890_full.jpg",realName:"GamePilot User",timeCreated:new Date("2020-01-15"),lastLogoff:new Date(Date.now()-1e3*60*60*2),gameCount:156,gameServerIp:"192.168.1.100",gameServerPort:27015}}isApiAvailable(){return!!this.apiKey}getMockGameDetails(t){return{steamId:t.toString(),name:"Mock Game",description:"Mock game description for testing",aboutTheGame:"Mock about the game",shortDescription:"Mock short description",supportedLanguages:["English"],reviews:"Mock reviews",headerImage:"https://cdn.akamai.steamstatic.com/steam/apps/730/header.jpg",developers:["Mock Developer"],publishers:["Mock Publisher"],genres:["Action"],categories:["Multi-player"],releaseDate:new Date,platforms:["Windows"],metacritic:{score:85,url:"https://www.metacritic.com"},recommendations:1e3,priceOverview:{currency:"USD",initial:5999,final:2999,discountPercent:50,individual:2999},screenshots:[],movies:[],dlc:[],requirements:{minimum:"OS: Windows 10 64-bit",recommended:"OS: Windows 10 64-bit, 16GB RAM"}}}getApiInfo(){return{available:this.isApiAvailable(),maxResultsPerPage:this.maxResultsPerPage,rateLimits:{requestsPerMinute:1e5,requestsPerDay:1e6}}}}class ad{constructor(t){var n,s,i,a;this.config=t,this.youtube=new NI((n=t.youtube)==null?void 0:n.apiKey),this.discord=new SI((s=t.discord)==null?void 0:s.botToken,(i=t.discord)==null?void 0:i.userToken),this.steam=new kI((a=t.steam)==null?void 0:a.apiKey)}getYouTube(){return this.youtube}getDiscord(){return this.discord}getSteam(){return this.steam}getAvailableIntegrations(){var t,n,s;return{youtube:{available:this.youtube.isApiAvailable(),enabled:((t=this.config.youtube)==null?void 0:t.enabled)||!1},discord:{available:this.discord.isIntegrationAvailable(),enabled:((n=this.config.discord)==null?void 0:n.enabled)||!1},steam:{available:this.steam.isApiAvailable(),enabled:((s=this.config.steam)==null?void 0:s.enabled)||!1}}}getIntegrationStatus(){const t=this.getAvailableIntegrations();return{youtube:{status:t.youtube.enabled&&t.youtube.available?"connected":t.youtube.enabled?"error":"disabled",message:t.youtube.available?"Connected to YouTube API":t.youtube.enabled?"YouTube API unavailable":"YouTube integration disabled"},discord:{status:t.discord.available.botAvailable?"connected":t.discord.enabled?"partial":"disabled",message:t.discord.available.botAvailable?"Connected to Discord API":t.discord.enabled?"Discord partially connected":"Discord integration disabled"},steam:{status:t.steam.enabled&&t.steam.available?"connected":t.steam.enabled?"error":"disabled",message:t.steam.available?"Connected to Steam API":t.steam.enabled?"Steam API unavailable":"Steam integration disabled"}}}}const CI=()=>{const[e,t]=w.useState(null),[n,s]=w.useState([{id:"steam",name:"Steam",description:"Connect your Steam account to import your game library, track playtime, and sync achievements",icon:"",color:"from-blue-500 to-blue-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Steam integration disabled",features:[" Import game library"," Track playtime statistics"," Sync achievements"," Game recommendations"," Gaming analytics"]},{id:"youtube",name:"YouTube",description:"Connect YouTube to discover gaming content, watch trailers, and follow your favorite creators",icon:"",color:"from-red-500 to-red-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"YouTube integration disabled",features:[" Gaming content discovery"," Watch trailers & gameplay"," Follow creators"," Search gaming videos"," Trending content"]},{id:"discord",name:"Discord",description:"Link Discord to join gaming communities, chat with friends, and share your gaming status",icon:"",color:"from-indigo-500 to-purple-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Discord integration disabled",features:[" Join gaming communities"," Chat with friends"," Rich presence"," Server analytics"," Share gaming status"]},{id:"twitch",name:"Twitch",description:"Connect Twitch to watch live streams, follow streamers, and discover gaming content",icon:"",color:"from-purple-500 to-purple-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Twitch integration coming soon",features:[" Watch live streams"," Follow streamers"," Gaming content"," Chat integration"," Stream analytics"]},{id:"reddit",name:"Reddit",description:"Connect Reddit to join gaming subreddits, discuss games, and share content",icon:"",color:"from-orange-500 to-red-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Reddit integration coming soon",features:[" Gaming subreddits"," Game discussions"," Trending topics"," Content sharing"," Community engagement"]},{id:"spotify",name:"Spotify",description:"Sync Spotify to share gaming playlists and discover music that matches your gaming mood",icon:"",color:"from-green-500 to-green-600",isConnected:!1,isAvailable:!1,status:"disabled",message:"Spotify integration coming soon",features:[" Gaming playlists"," Mood-based music"," Listening stats"," Share playlists"," Game soundtracks"]},{id:"twitter",name:"Twitter/X",description:"Connect Twitter/X to follow gaming news, share achievements, and join gaming conversations",icon:"",color:"from-blue-400 to-blue-500",isConnected:!1,isAvailable:!1,status:"disabled",message:"Twitter/X integration coming soon",features:[" Gaming news"," Share achievements"," Gaming discussions"," Follow creators"," Trending topics"]}]);w.useEffect(()=>{const h=localStorage.getItem("gamepilot-integration-config");let f={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!1}};if(h)try{f=JSON.parse(h)}catch(g){console.error("Error loading integration config:",g)}const p=new ad(f);t(p),i(p)},[]);const i=h=>{const f=h.getIntegrationStatus(),p=h.getAvailableIntegrations();s(g=>g.map(y=>{var j;const x=f[y.id],v=p[y.id];if(!v)return{...y,isConnected:!1,isAvailable:!1,status:"disabled",message:`${y.name} integration not available`};if(!x)return{...y,isConnected:!1,isAvailable:!1,status:"disabled",message:`${y.name} status unknown`};const b=typeof v.available=="boolean"?v.available:((j=v.available)==null?void 0:j.botAvailable)||!1;return{...y,isConnected:x.status==="connected",isAvailable:b,status:x.status,message:x.message}}))},a=async h=>{const f=n.find(p=>p.id===h);if(f){if(["twitch","reddit","twitter","spotify"].includes(h)){alert(`${f.name} integration is coming soon! 

We're working on bringing ${f.name} to GamePilot. Stay tuned for updates!`);return}try{const p=n.map(S=>S.id===h?{...S,status:"partial",message:`Connecting to ${S.name}...`}:S);s(p);let g;if(h==="youtube")g={youtube:{enabled:!0,apiKey:"AIzaSyCX7KLLA_xWd6G7nC8w8H04XrpOSLpuSas"},discord:{enabled:!1},steam:{enabled:!1}};else if(h==="discord")g={youtube:{enabled:!1},discord:{enabled:!0,botToken:"your_discord_bot_token_here",userToken:"your_discord_user_token_here"},steam:{enabled:!1}};else if(h==="steam")g={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!0,apiKey:"FBB124C9352519E8F9FE820ADF0DA87C"}};else return;const y=new ad(g),x=y.getIntegrationStatus(),v=y.getAvailableIntegrations(),b=x[h],j=v[h];if(j!=null&&j.available&&(b==null?void 0:b.status)!=="error"){const S=n.map(E=>E.id===h?{...E,isConnected:!0,status:"connected",lastConnected:new Date().toISOString(),message:`${E.name} connected successfully!`}:E);s(S),t(y),localStorage.setItem("gamepilot-integration-config",JSON.stringify(g)),confirm(` ${f.name} integration activated!

Would you like to open ${f.name} to start exploring?`)&&u(h)}else throw new Error((b==null?void 0:b.message)||"Integration test failed")}catch(p){const g=n.map(y=>y.id===h?{...y,status:"error",message:`Failed to connect: ${p instanceof Error?p.message:"Unknown error"}`}:y);s(g),alert(` Failed to connect ${f.name}: ${p instanceof Error?p.message:"Unknown error"}`)}}},o=h=>{const f=n.map(g=>g.id===h?{...g,isConnected:!1,status:"disabled",settings:{}}:g);s(f);const p={youtube:{enabled:!1},discord:{enabled:!1},steam:{enabled:!1}};if(localStorage.setItem("gamepilot-integration-config",JSON.stringify(p)),e){const g=new ad(p);t(g),i(g)}},l=h=>{const f=n.find(p=>p.id===h);f&&alert(h==="youtube"?` ${f.name} Settings

Features available:
 Gaming video search
 Channel discovery
 Trending content
 Creator following

API Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:h==="discord"?` ${f.name} Settings

Features available:
 Server discovery
 Community chat
 Rich presence
 Activity sharing

Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:h==="steam"?` ${f.name} Settings

Features available:
 Game library sync
 Playtime tracking
 Achievement sync
 Profile integration

Status: ${f.isAvailable?" Connected":" Not configured"}

Full settings panel coming soon!`:`${f.name} settings coming soon!`)},c=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=h=>{switch(h){case"connected":return"bg-green-500";case"partial":return"bg-yellow-500";case"error":return"bg-red-500";case"disabled":return"bg-gray-500";default:return"bg-gray-500"}},m=h=>{switch(h){case"connected":return"Connected";case"partial":return"Partial";case"error":return"Error";case"disabled":return"Disabled";default:return"Unknown"}},u=h=>{const f=n.find(y=>y.id===h);if(!f)return;const g={youtube:"https://youtube.com",discord:"https://discord.com/app",steam:"https://store.steampowered.com",spotify:"https://spotify.com",twitch:"https://twitch.tv",reddit:"https://reddit.com/r/gaming",twitter:"https://twitter.com"}[h];if(g){window.open(g,"_blank");const y=document.createElement("div");y.className="fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50",y.textContent=` Launching ${f.name}...`,document.body.appendChild(y),setTimeout(()=>{y.remove()},3e3)}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),r.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gaming-primary/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gaming-secondary/10 rounded-full blur-3xl"}),r.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[r.jsxs("header",{className:"mb-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold font-gaming bg-gradient-to-r from-gaming-primary via-gaming-accent to-gaming-secondary bg-clip-text text-transparent mb-4 animate-gradient",children:"Platform Integrations"}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Connect your favorite platforms to enhance your gaming experience with real-time data, social features, and personalized content"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"glass-morphism rounded-full px-6 py-3 flex items-center gap-3 border border-white/10",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"Integration Manager Active"}),r.jsx("div",{className:"w-px h-4 bg-white/20"}),r.jsxs("span",{className:"text-sm text-gray-400",children:[n.filter(h=>h.isConnected).length," Connected"]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8 mb-16",children:n.map((h,f)=>r.jsxs("div",{className:"group relative",style:{animationDelay:`${f*100}ms`},children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${h.color} opacity-0 group-hover:opacity-20 rounded-2xl blur-xl transition-all duration-500`}),r.jsxs("div",{className:"relative glass-morphism rounded-2xl p-6 cinematic-shadow hover:transform hover:scale-[1.02] transition-all duration-500 border border-white/10 hover:border-white/20",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`relative w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-gradient-to-br ${h.color} ${h.isConnected?"ring-4 ring-white/30 shadow-lg":"shadow-md"} transform transition-all duration-300 group-hover:scale-110`,children:[r.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:h.icon}),h.isConnected&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:r.jsx("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:h.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="connected"?"bg-green-500/20 text-green-400 border border-green-500/30":h.status==="partial"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":h.status==="error"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d(h.status)}`}),m(h.status)]}),h.isAvailable&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs",children:[r.jsx("div",{className:"w-1 h-1 bg-blue-400 rounded-full"}),"Available"]})]})]})]})}),r.jsx("div",{className:"mb-4",children:r.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:h.description})}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-1",children:h.features.slice(0,4).map((p,g)=>r.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[r.jsx("span",{className:"text-gaming-accent text-xs",children:""}),r.jsx("span",{className:"truncate",children:p.replace(/[]/g,"").trim()})]},g))})}),r.jsxs("div",{className:"mb-4 p-2 bg-gray-800/50 rounded-lg border border-gray-700/50",children:[r.jsx("p",{className:"text-xs text-gray-400 truncate",children:h.message}),h.lastConnected&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Connected ",c(h.lastConnected)]})]}),r.jsx("div",{className:"flex gap-2",children:h.isConnected?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>u(h.id),className:"flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gray-700 text-white hover:bg-gray-600 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r.jsx("span",{className:"text-xs",children:"Launch"})]})}),r.jsx("button",{onClick:()=>l(h.id),className:`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gradient-to-r ${h.color} text-white hover:opacity-90 hover:shadow-lg transform hover:scale-105 text-sm`,children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-xs",children:"Settings"})]})}),r.jsx("button",{onClick:()=>o(h.id),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-red-600 text-white hover:bg-red-700 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),r.jsx("span",{className:"text-xs",children:"Disconnect"})]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>a(h.id),disabled:h.id==="spotify"||h.status==="partial",className:`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-200 text-sm ${h.id==="spotify"?"bg-gray-700 text-gray-400 cursor-not-allowed":h.status==="partial"?"bg-yellow-600 text-white cursor-wait":`bg-gradient-to-r ${h.color} text-white hover:opacity-90 hover:shadow-lg transform hover:scale-105`}`,children:h.id==="spotify"?"Coming Soon":h.status==="partial"?r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-xs",children:"Connecting..."})]}):r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Connect"]})}),h.id!=="spotify"&&!["twitch","reddit","twitter"].includes(h.id)&&r.jsx("button",{onClick:()=>u(h.id),className:"px-3 py-2 rounded-lg font-medium transition-all duration-200 bg-gray-700 text-white hover:bg-gray-600 transform hover:scale-105 text-sm",children:r.jsxs("span",{className:"flex items-center justify-center gap-1",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),r.jsx("span",{className:"text-xs",children:"Launch"})]})})]})})]})]},h.id))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:[r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-gaming-primary to-gaming-secondary flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Enhanced Gaming Experience"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Real-time Synchronization"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your game library stays updated across all platforms automatically"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Achievement Tracking"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Automatic playtime and achievement tracking from connected services"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Smart Recommendations"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Personalized content based on your gaming preferences"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-gaming-accent mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Social Integration"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Connect with friends and share your gaming experiences"})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Privacy & Security"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Local Data Processing"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your data stays on your device with optional cloud backup"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Granular Permissions"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Control exactly what each integration can access"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"Easy Disconnect"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Remove integrations instantly with one click"})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 mt-1",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-medium mb-1",children:"No Data Sharing"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"We never share your data without explicit consent"})]})]})]})]})]}),r.jsx("div",{className:"glass-morphism rounded-2xl p-8 border border-white/10 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center text-3xl mx-auto mb-6",children:r.jsx("span",{children:""})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),r.jsx("p",{className:"text-gray-300 text-lg mb-8 leading-relaxed",children:"Get help setting up integrations or troubleshoot connection issues with our comprehensive support resources"}),r.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[r.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl hover:opacity-90 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Documentation"]}),r.jsxs("button",{className:"px-6 py-3 bg-gray-700 text-white rounded-xl hover:bg-gray-600 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Support Chat"]}),r.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:opacity-90 transition-all duration-200 font-medium transform hover:scale-105 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})]})]})})]})]})},EI=({isOpen:e,onClose:t,title:n,description:s,children:i,position:a="center"})=>{const[o,l]=w.useState(!1);if(w.useEffect(()=>{l(!!e)},[e]),!e)return null;const c=d=>{d.target===d.currentTarget&&t()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 animate-fade-in",onClick:c}),r.jsx("div",{className:`fixed z-50 ${a==="bottom"?"bottom-0 left-0 right-0":"inset-0 flex items-center justify-center"}`,children:r.jsxs("div",{className:`
            glass-morphism rounded-2xl border border-white/20 shadow-2xl
            ${a==="bottom"?"mx-4 mb-4":"mx-4 max-w-lg w-full"}
            ${o?"animate-scale-in":"animate-scale-out"}
            transition-all duration-300
          `,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:n}),r.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-colors duration-200",children:r.jsx("span",{className:"text-lg",children:""})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-300 mb-4",children:s}),i&&r.jsx("div",{className:"mt-4",children:i})]})]})})]})},or=({title:e,icon:t,value:n,subtitle:s,progress:i,progressColor:a="from-gaming-primary to-gaming-accent",onClick:o,children:l})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:transform hover:-translate-y-1 hover:shadow-cinematic-epic transition-all duration-300 cursor-pointer group relative overflow-hidden",onClick:o,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),r.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[r.jsx("h3",{className:"text-xs font-gaming font-semibold text-white/50 uppercase tracking-widest",children:e}),r.jsx("span",{className:"text-2xl group-hover:scale-125 transition-transform duration-500 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.4)]",children:t})]}),r.jsx("p",{className:"text-3xl font-gaming font-bold text-white mb-1 relative z-10 tracking-tight",children:n}),r.jsx("p",{className:"text-xs text-white/40 mb-4 relative z-10 font-medium uppercase tracking-wide",children:s}),l,i!==void 0&&r.jsx("div",{className:"mt-4 w-full bg-gray-700/50 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${a} transition-all duration-500`,style:{width:`${Math.min(i,100)}%`}})}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),PI=({moodDistribution:e,totalTrends:t,getMoodEmoji:n,getMoodColor:s,onMoodClick:i})=>{const a=Object.values(e).reduce((o,l)=>o+l,0)||1;return r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-cinematic transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gaming-primary/5 blur-[60px] rounded-full"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 flex items-center gap-3 uppercase tracking-tight relative z-10",children:["Mood Distribution",r.jsx("span",{className:"h-[1px] w-12 bg-white/20"}),r.jsx("span",{className:"text-[10px] text-white/40 font-sans tracking-widest uppercase",children:"Emotional Analysis"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,o],[,l])=>l-o).map(([o,l],c)=>{const d=l/a*100;return r.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${c*100}ms`},onClick:()=>i==null?void 0:i(o,l,d),children:[r.jsxs("div",{className:"flex items-center gap-2 w-24",children:[r.jsx("span",{className:"text-xl group-hover:scale-110 transition-transform duration-200",children:n(o)}),r.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:o})]}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[r.jsx("div",{className:`h-4 rounded-full ${s(o)} transition-all duration-1000 ease-out`,style:{width:`${d}%`,animationDelay:`${c*150}ms`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:l}),r.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(",Math.round(d),"%)"]})]})]},o)})})]})},TI=({genreAffinity:e,mostPlayedMood:t,onGenreClick:n})=>r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-cinematic transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gaming-secondary/5 blur-[60px] rounded-full"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 flex items-center gap-3 uppercase tracking-tight relative z-10",children:["Genre Affinity",r.jsx("span",{className:"h-[1px] w-12 bg-white/20"}),r.jsx("span",{className:"text-[10px] text-white/40 font-sans tracking-widest uppercase",children:"Preference Mapping"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(e).sort(([,s],[,i])=>i-s).map(([s,i],a)=>r.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer hover:bg-white/5 rounded-lg p-2 transition-all duration-200",style:{animationDelay:`${a*100}ms`},onClick:()=>n==null?void 0:n(s,i),title:`You play this most when you're ${t}`,children:[r.jsx("div",{className:"w-24",children:r.jsx("span",{className:"text-white capitalize group-hover:text-gaming-primary transition-colors duration-200",children:s})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-4 relative overflow-hidden",children:[r.jsx("div",{className:"h-4 rounded-full bg-gradient-to-r from-gaming-primary to-gaming-accent transition-all duration-1000 ease-out",style:{width:`${i*100}%`,animationDelay:`${a*150}ms`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-white font-medium group-hover:scale-105 transition-transform duration-200 inline-block",children:[Math.round(i*100),"%"]})})]},s))})]}),MI=({bestGamingTime:e,preferredSessionLength:t,topRecommendedMoods:n,getMoodEmoji:s,onInsightClick:i})=>r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-8 border border-white/5 shadow-cinematic relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gaming-primary/5 via-transparent to-transparent pointer-events-none"}),r.jsxs("h3",{className:"text-xl font-gaming font-semibold text-white mb-8 uppercase tracking-widest flex items-center gap-3",children:["Personal Insights",r.jsx("span",{className:"flex-1 h-[1px] bg-white/10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 relative z-10",children:[r.jsxs("div",{className:"group cursor-pointer transition-all duration-300 p-4 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/10",onClick:()=>i==null?void 0:i("time"),children:[r.jsx("h4",{className:"text-gaming-primary font-gaming text-xs uppercase tracking-widest mb-3 opacity-80 group-hover:opacity-100 transition-opacity",children:"Optimal Window"}),r.jsx("p",{className:"text-2xl font-bold text-white capitalize mb-1 group-hover:text-gaming-secondary transition-colors",children:e}),r.jsx("p",{className:"text-white/40 text-sm leading-relaxed",children:"Performance peaks during these hours."}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),r.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>i==null?void 0:i("session"),children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Preferred Session Length"}),r.jsxs("p",{className:"text-white",children:[t," minutes"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your optimal gaming session duration"}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]}),r.jsxs("div",{className:"group cursor-pointer hover:transform hover:-translate-y-1 transition-all duration-300",onClick:()=>i==null?void 0:i("moods"),children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Top Recommendation Moods"}),r.jsx("div",{className:"flex gap-2",children:n.map(a=>r.jsxs("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm capitalize",children:[s(a)," ",a]},a))}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Moods that work best for you"}),r.jsx("div",{className:"mt-2 text-xs text-gaming-accent opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Tap for deeper insight"})]})]})]}),AI=({analyticsData:e,getMoodEmoji:t,getMoodColor:n,AnimatedNumber:s,onCardClick:i,onMoodClick:a,onGenreClick:o,onInsightClick:l})=>{var h,f,p,g,y;const c=Ow(),{games:d}=ye(),{primaryMoodInfo:m,hasRecommendations:u}=Rh({games:d});return r.jsxs("div",{className:"space-y-8",children:[c&&r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:r.jsx(or,{title:"Gaming Persona",icon:"",value:((h=c.traits)==null?void 0:h.archetypeId)||"Unknown",subtitle:`${(f=c.traits)==null?void 0:f.intensity} intensity  ${Math.round((c.confidence||0)*100)}% confidence`,progress:(c.confidence||0)*100,progressColor:"from-purple-500 to-pink-500",onClick:()=>i==null?void 0:i("persona",c),children:r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Pacing"}),r.jsx("div",{className:"text-white font-medium",children:(p=c.traits)==null?void 0:p.pacing})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Social"}),r.jsx("div",{className:"text-white font-medium",children:(g=c.traits)==null?void 0:g.socialStyle})]})]})})}),u&&m&&r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s"},children:r.jsx(or,{title:"Current Mood",icon:m.emoji,value:m.name,subtitle:"Active mood state",progress:75,progressColor:((y=m.color)==null?void 0:y.replace("from-","from-").replace(" to-"," to-"))||"from-blue-500 to-cyan-500",onClick:()=>i==null?void 0:i("currentMood",m)})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in-up",style:{animationDelay:"0.6s"},children:[r.jsx(or,{title:"Total Playtime",icon:"",value:r.jsx(s,{value:Math.round(e.gamingPatterns.totalPlaytime),suffix:"h"}),subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:Math.round(e.gamingPatterns.averageSessionLength),suffix:"min"})," avg session"]}),progress:Math.min(e.gamingPatterns.totalPlaytime/100*100,100),onClick:()=>i==null?void 0:i("totalPlaytime",e.gamingPatterns)}),r.jsx(or,{title:"Favorite Mood",icon:t(e.gamingPatterns.mostPlayedMood),value:e.gamingPatterns.mostPlayedMood,subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]})," sessions"]}),onClick:()=>i==null?void 0:i("favoriteMood",e.gamingPatterns),children:r.jsxs("div",{className:"mt-4 relative w-12 h-12 mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gray-700/50 rounded-full"}),r.jsx("div",{className:`absolute inset-0 ${n(e.gamingPatterns.mostPlayedMood)} rounded-full transition-all duration-500`,style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+e.gamingPatterns.moodDistribution[e.gamingPatterns.mostPlayedMood]/e.moodTrends.length*100}% 0%, 50% 50%)`}})]})}),r.jsx(or,{title:"Recommendation Success",icon:"",value:r.jsx(s,{value:e.recommendationMetrics.successRate,suffix:"%"}),subtitle:r.jsxs(r.Fragment,{children:[r.jsx(s,{value:e.recommendationMetrics.acceptedRecommendations})," of ",r.jsx(s,{value:e.recommendationMetrics.totalRecommendations})," accepted"]}),progress:e.recommendationMetrics.successRate,progressColor:"from-green-500 to-emerald-500",onClick:()=>i==null?void 0:i("recommendationSuccess",e.recommendationMetrics)}),r.jsx(or,{title:"Mood Stability",icon:"",value:r.jsx(s,{value:Math.round(e.userInsights.moodStability*100),suffix:"%"}),subtitle:"Consistent mood patterns",progress:e.userInsights.moodStability*100,progressColor:"from-blue-500 to-purple-500",onClick:()=>i==null?void 0:i("moodStability",e.userInsights),children:r.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-gray-700/50 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${e.userInsights.moodStability*100}%`}})}),r.jsx("div",{className:`w-2 h-2 rounded-full ${e.userInsights.moodStability>.7?"bg-green-500":e.userInsights.moodStability>.4?"bg-yellow-500":"bg-red-500"}`})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in-up",style:{animationDelay:"0.8s"},children:[r.jsx(PI,{moodDistribution:e.gamingPatterns.moodDistribution,totalTrends:e.moodTrends.length,getMoodEmoji:t,getMoodColor:n,onMoodClick:a}),r.jsx(TI,{genreAffinity:e.userInsights.genreAffinity,mostPlayedMood:e.gamingPatterns.mostPlayedMood,onGenreClick:o})]}),r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"1.0s"},children:r.jsx(MI,{bestGamingTime:e.userInsights.bestGamingTime,preferredSessionLength:e.userInsights.preferredSessionLength,topRecommendedMoods:e.recommendationMetrics.topRecommendedMoods,getMoodEmoji:t,onInsightClick:l})})]})},oo=({value:e,suffix:t="",duration:n=1e3})=>{const[s,i]=w.useState(0);return w.useEffect(()=>{const a=Date.now(),o=0,l=e,c=()=>{const d=Date.now(),m=Math.min((d-a)/n,1),u=1-Math.pow(1-m,4),h=o+(l-o)*u;i(h),m<1&&requestAnimationFrame(c)};c()},[e,n]),r.jsxs(r.Fragment,{children:[Math.round(s),t]})},II=()=>{const[e,t]=w.useState(!0),[n,s]=w.useState(null),[i,a]=w.useState("week"),[o,l]=w.useState(null),[c,d]=w.useState(null);w.useEffect(()=>{(async()=>{try{const L=await De("api/analytics/summary");if(L.ok){const $=await L.json();$.success&&s($.data)}}catch{console.warn("Failed to fetch real analytics, falling back to local calculation")}finally{t(!1)}})()},[]);const m=Fn(),{games:u}=ye(),[h,f]=w.useState(!1),[p,g]=w.useState({isOpen:!1,title:"",description:"",content:void 0}),y=w.useCallback((M,L,$)=>{var We,xe,ve;if(!m||!u.length)return null;const Q=new Date,H=M==="week"?7:M==="month"?30:365,te=new Date(Q.getTime()-H*24*60*60*1e3),N=u.filter(pe=>{const ue=pe.lastPlayed?new Date(pe.lastPlayed):null,tt=!ue||ue>=te,z=!L||(pe.emotionalTags||[]).some(K=>typeof K=="string"?K===L:K.name===L),Y=!$||(pe.genres||[]).some(K=>typeof K=="string"?K===$:K.name===$);return tt&&z&&Y}),G=n?[{date:new Date().toLocaleDateString(),mood:n.favoriteMood,confidence:.8,sessionLength:n.averageSessionLength}]:[{date:new Date().toLocaleDateString(),mood:((We=m.mood)==null?void 0:We.moodId)||"chill",confidence:.8,sessionLength:60}],P={totalPlaytime:(n==null?void 0:n.totalPlaytime)??N.reduce((pe,ue)=>pe+(ue.hoursPlayed||0),0),averageSessionLength:(n==null?void 0:n.averageSessionLength)??60,mostPlayedMood:(n==null?void 0:n.favoriteMood)||((xe=m.mood)==null?void 0:xe.moodId)||"chill",moodDistribution:(n==null?void 0:n.moodDistribution)||{[((ve=m.mood)==null?void 0:ve.moodId)||"chill"]:35,competitive:25,story:20,creative:15,social:5}},I={totalRecommendations:Math.floor(N.length*1.5),acceptedRecommendations:Math.floor(N.length*.85),successRate:85,topRecommendedMoods:Object.keys(P.moodDistribution).slice(0,3)},R={},F={};u.forEach(pe=>{pe.genres&&pe.genres.forEach(ue=>{const tt=typeof ue=="string"?ue:ue.name;F[tt]||(F[tt]={playtime:0,rating:0,frequency:0}),pe.hoursPlayed&&(F[tt].playtime+=pe.hoursPlayed),pe.userRating&&(F[tt].rating+=pe.userRating),F[tt].frequency++})});const X=Math.max(...Object.values(F).map(pe=>pe.playtime),1),le=Math.max(...Object.values(F).map(pe=>pe.frequency),1);return Object.entries(F).forEach(([pe,ue])=>{const tt=ue.playtime/X,z=ue.frequency/le,Y=ue.rating/5;R[pe]=tt*.5+z*.3+Y*.2}),{moodTrends:G,gamingPatterns:P,recommendationMetrics:I,userInsights:{bestGamingTime:"Evening",preferredSessionLength:60,moodStability:.75,genreAffinity:R}}},[m,u]),x=w.useMemo(()=>y(i,o||void 0,c||void 0),[y,i,o,c]);if(w.useEffect(()=>{t(!1)},[i]),e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading analytics..."})]})});const v=M=>({chill:"bg-blue-500",energetic:"bg-orange-500",competitive:"bg-red-500",social:"bg-purple-500",creative:"bg-green-500",focused:"bg-yellow-500",story:"bg-indigo-500",exploratory:"bg-teal-500"})[M]||"bg-gray-500",b=M=>({chill:"",energetic:"",competitive:"",social:"",creative:"",focused:"",story:"",exploratory:""})[M]||"",j=()=>{g(M=>({...M,isOpen:!1}))},S=(M,L,$)=>{g({isOpen:!0,title:M,description:L,content:$})},T=(M,L)=>{var $;switch(M){case"totalPlaytime":S("Total Playtime Analysis","You have accumulated significant gaming time with consistent session patterns.",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Breakdown"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Short sessions (<30min)"}),r.jsx("span",{className:"text-white",children:"25%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Medium sessions (30-90min)"}),r.jsx("span",{className:"text-white",children:"60%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Long sessions (>90min)"}),r.jsx("span",{className:"text-white",children:"15%"})]})]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Peak Gaming Hours"}),r.jsxs("p",{className:"text-gray-300",children:["You play most during ",L.bestGamingTime||"evening"," hours"]})]})]}));break;case"favoriteMood":S(`${L.mostPlayedMood} Mood Analysis`,`Your most frequent gaming mood is ${L.mostPlayedMood}, indicating your preferred emotional state for gaming.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Mood Triggers"}),r.jsxs("p",{className:"text-gray-300",children:["You enter ",L.mostPlayedMood," mood most often when playing puzzle and creative games"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Performance"}),r.jsxs("p",{className:"text-gray-300",children:["In ",L.mostPlayedMood," mood, you tend to play 20% longer sessions"]})]})]}));break;case"recommendationSuccess":S("Recommendation Success Analysis",`You have a ${L.successRate}% success rate with our recommendations, showing strong trust in our system.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Acceptance Patterns"}),r.jsxs("p",{className:"text-gray-300",children:["You most often accept recommendations in the ",(($=L.topRecommendedMoods)==null?void 0:$[0])||"creative"," mood"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Favorite Categories"}),r.jsx("p",{className:"text-gray-300",children:"Puzzle and adventure games get the highest acceptance rates"})]})]}));break;case"moodStability":S("Mood Stability Analysis",`Your mood stability is ${Math.round(L.moodStability*100)}%, indicating ${L.moodStability>.7?"very consistent":L.moodStability>.4?"moderately consistent":"variable"} gaming patterns.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Consistency Factors"}),r.jsxs("p",{className:"text-gray-300",children:["Your mood is most stable during ",L.bestGamingTime||"evening"," gaming sessions"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Improvement Tips"}),r.jsx("p",{className:"text-gray-300",children:"Try maintaining consistent gaming times for better mood stability"})]})]}));break}},E=(M,L,$)=>{S(`${M} Mood Deep Dive`,`You've experienced ${M} mood ${L} times (${Math.round($)}% of your sessions).`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Your Most Played Games"}),r.jsxs("div",{className:"space-y-1",children:[((n==null?void 0:n.topGames)||[]).map((Q,H)=>r.jsxs("div",{className:"text-gray-300",children:[" ",Q.title," (",Q.hours,"h played)"]},H)),(!(n!=null&&n.topGames)||n.topGames.length===0)&&r.jsx("div",{className:"text-gray-500 italic",children:"No games analyzed for this mood yet"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Time-of-Day Correlation"}),r.jsxs("p",{className:"text-gray-300",children:["You feel ",M," most often during evening hours"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Length"}),r.jsxs("p",{className:"text-gray-300",children:["Average ",M," sessions last 45 minutes"]})]})]}))},k=(M,L)=>{S(`${M} Genre Analysis`,`You have a ${Math.round(L*100)}% affinity for ${M} games.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("h4",{className:"text-gaming-primary font-medium mb-2",children:["When You Play ",M]}),r.jsxs("p",{className:"text-gray-300",children:["You prefer ",M," games most during evening hours"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Typical Mood"}),r.jsxs("p",{className:"text-gray-300",children:["You're usually in a ",(x==null?void 0:x.gamingPatterns.mostPlayedMood)||"creative"," mood when playing ",M]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Duration"}),r.jsxs("p",{className:"text-gray-300",children:["Average ",M," sessions last ",(x==null?void 0:x.gamingPatterns.averageSessionLength)||60," minutes"]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Most Played in Library"}),r.jsx("div",{className:"space-y-1",children:((n==null?void 0:n.topGames)||[]).map(($,Q)=>r.jsxs("div",{className:"text-gray-300",children:[" ",$.title," (",$.hours,"h)"]},Q))})]})]}))},C=M=>{switch(M){case"time":S("Best Gaming Time Analysis",`Your optimal gaming time is ${(x==null?void 0:x.userInsights.bestGamingTime)||"evening"}.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why Evening Works Best"}),r.jsx("p",{className:"text-gray-300",children:"Your mood stability is highest during evening hours, leading to better gaming performance and enjoyment."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Performance Metrics"}),r.jsx("p",{className:"text-gray-300",children:"Evening sessions show 25% higher completion rates and better mood consistency."})]})]}));break;case"session":S("Optimal Session Length Analysis",`Your ideal session length is ${(x==null?void 0:x.userInsights.preferredSessionLength)||60} minutes.`,r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why This Length Works"}),r.jsx("p",{className:"text-gray-300",children:"This duration maximizes engagement while preventing fatigue, maintaining optimal focus and enjoyment."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Session Patterns"}),r.jsx("p",{className:"text-gray-300",children:"Sessions longer than 90 minutes show decreased performance, while sessions under 30 minutes feel incomplete."})]})]}));break;case"moods":S("Top Recommendation Moods Analysis","These moods consistently lead to your best gaming experiences.",r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Why These Moods Work"}),r.jsx("p",{className:"text-gray-300",children:"Creative, Chill, and Exploratory moods align with your playstyle, maximizing enjoyment and engagement."})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[r.jsx("h4",{className:"text-gaming-primary font-medium mb-2",children:"Recommendation Success"}),r.jsx("p",{className:"text-gray-300",children:"Games recommended during these moods have a 85% acceptance rate and higher satisfaction scores."})]})]}));break}};return r.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker p-6 ${h?"ring-2 ring-gaming-primary/50 ring-offset-2 ring-offset-gray-900":""}`,children:[r.jsxs("div",{className:"mb-12 relative",children:[r.jsx("div",{className:"absolute inset-0 -top-20 -left-20 w-[500px] h-[500px] bg-gaming-primary/10 rounded-full blur-[100px]"}),r.jsx("div",{className:"absolute inset-0 -top-10 -right-10 w-[400px] h-[400px] bg-gaming-accent/5 rounded-full blur-[80px]"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"relative",children:r.jsx("h1",{className:"text-5xl font-gaming font-bold text-white",children:"Mood Analytics"})}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Ww,{onClick:()=>f(!h)})})]}),r.jsx("p",{className:"text-white/40 font-medium text-xl tracking-wide uppercase font-gaming",children:"Your gaming rhythm, decoded."}),m&&r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("span",{className:"px-3 py-1 bg-gaming-primary/20 text-gaming-primary rounded-full text-sm font-medium border border-gaming-primary/30 hover:bg-gaming-primary/30 transition-colors duration-200",children:m.traits.archetypeId}),m.mood&&r.jsx("span",{className:"px-3 py-1 bg-gaming-accent/20 text-gaming-accent rounded-full text-sm font-medium border border-gaming-accent/30 capitalize hover:bg-gaming-accent/30 transition-colors duration-200",children:m.mood.moodId}),r.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm font-medium border border-purple-500/30 hover:bg-purple-500/30 transition-colors duration-200",children:[(x==null?void 0:x.userInsights.bestGamingTime)||"Evening"," Player"]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-6 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Time Range:"}),r.jsx("div",{className:"flex gap-1",children:["week","month","all"].map(M=>r.jsx("button",{onClick:()=>a(M),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${i===M?"bg-gaming-primary text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Mood:"}),r.jsxs("select",{value:o||"",onChange:M=>l(M.target.value||null),"aria-label":"Filter by mood",className:"bg-gray-800 text-gray-300 rounded-lg px-3 py-1 text-sm border border-gray-600 focus:border-gaming-primary focus:outline-none",children:[r.jsx("option",{value:"",children:"All Moods"}),ke.map(M=>r.jsxs("option",{value:M.id,children:[M.emoji," ",M.name]},M.id))]})]}),(o||c)&&r.jsx("button",{onClick:()=>{l(null),d(null)},className:"px-3 py-1 bg-red-500/20 text-red-400 rounded-lg text-sm font-medium border border-red-500/30 hover:bg-red-500/30 transition-colors",children:"Clear Filters"})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[e&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gaming-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Loading analytics data..."})]}),!e&&(!x||u.length===0)&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-800/50 flex items-center justify-center",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Gaming Data Yet"}),r.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Start by importing your Steam library or adding games manually to see your gaming analytics and insights."}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx("button",{onClick:()=>window.location.href="/library",className:"bg-gaming-primary hover:bg-gaming-primary/80 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Go to Library"}),r.jsx("button",{onClick:()=>window.location.href="/library?import=steam",className:"bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-6 rounded-lg border border-gray-600 transition-colors",children:"Import Steam Games"})]})]}),x&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("totalPlaytime",x.gamingPatterns),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Total Hours"})]}),r.jsx(oo,{value:x.gamingPatterns.totalPlaytime,suffix:"h"})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("favoriteMood",x.gamingPatterns),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:b(x.gamingPatterns.mostPlayedMood)}),r.jsx("span",{className:"text-xs text-gray-400",children:"Favorite Mood"})]}),r.jsx("div",{className:"text-white font-medium capitalize",children:x.gamingPatterns.mostPlayedMood})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("recommendationSuccess",x.recommendationMetrics),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Success Rate"})]}),r.jsx(oo,{value:x.recommendationMetrics.successRate,suffix:"%"})]}),r.jsxs("div",{className:"glass-morphism-dark rounded-xl p-6 border border-white/5 hover:border-gaming-primary/30 transition-all duration-300 cursor-pointer hover:scale-105",onClick:()=>T("moodStability",x.userInsights),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-3xl",children:""}),r.jsx("span",{className:"text-xs text-gray-400",children:"Mood Stability"})]}),r.jsx(oo,{value:Math.round(x.userInsights.moodStability*100),suffix:"%"})]})]}),r.jsx(AI,{analyticsData:x,getMoodEmoji:b,getMoodColor:v,AnimatedNumber:oo,onCardClick:T,onMoodClick:E,onGenreClick:k,onInsightClick:C})]})]}),p.isOpen&&r.jsx(EI,{isOpen:p.isOpen,onClose:j,title:p.title,description:p.description,children:p.content}),h&&r.jsx(Lh,{pageId:"analytics",isOpen:h,onClose:()=>f(!1)})]})},_I=({data:e,title:t,color:n="#3b82f6"})=>{const s=Math.max(...Object.values(e));return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"space-y-2",children:Object.entries(e).map(([i,a])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-300 text-sm w-24 truncate",children:i}),r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-4 relative overflow-hidden",children:r.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${a/s*100}%`,backgroundColor:n}})}),r.jsx("span",{className:"text-gray-300 text-sm w-8 text-right",children:a})]},i))})]})},RI=({data:e,title:t})=>{const n=Object.values(e).reduce((i,a)=>i+a,0),s=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"space-y-2",children:Object.entries(e).map(([i,a],o)=>{const l=n>0?a/n*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s[o%s.length]}}),r.jsx("span",{className:"text-gray-300 text-sm flex-1",children:i}),r.jsxs("span",{className:"text-gray-300 text-sm",children:[l.toFixed(1),"%"]})]},i)})})]})},LI=({data:e,title:t})=>{const n=Math.max(...Object.values(e)),s=["morning","afternoon","evening","late-night"];return r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:t}),r.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:s.map(i=>{const a=e[i]||0,o=n>0?a/n*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full bg-gray-700 rounded-t relative",children:r.jsx("div",{className:"w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t transition-all duration-300",style:{height:`${o}%`}})}),r.jsx("span",{className:"text-gray-400 text-xs mt-1",children:i}),r.jsx("span",{className:"text-gray-300 text-xs",children:a})]},i)})})]})},OI=()=>{const[e,t]=w.useState([]),[n,s]=w.useState({contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}});w.useEffect(()=>{const l=()=>{try{const d=localStorage.getItem("analytics_events"),m=localStorage.getItem("analytics_stats");if(d){const u=JSON.parse(d);t(u.slice(-50))}m&&s(JSON.parse(m))}catch(d){console.warn("Failed to load analytics data:",d)}};l();const c=setInterval(l,5e3);return()=>clearInterval(c)},[]);const i=n.contextualShown>0?(n.contextualClicked/n.contextualShown*100).toFixed(1):"0.0",a=n.personaShown>0?(n.personaClicked/n.personaShown*100).toFixed(1):"0.0",o=()=>{localStorage.removeItem("analytics_events"),localStorage.removeItem("analytics_stats"),t([]),s({contextualShown:0,personaShown:0,contextualClicked:0,personaClicked:0,sessionLengthUsage:{},moodUsage:{},timeOfDayUsage:{},personaEffectiveness:{}})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:" Insights Dashboard"}),r.jsx("p",{className:"text-gray-300",children:"Real-time analytics for contextual and persona recommendation systems"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Ue,{to:"/",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Back to Home"}),r.jsx("button",{onClick:o,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Clear Data"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Contextual Shown"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:n.contextualShown})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Contextual CTR"}),r.jsxs("p",{className:"text-3xl font-bold text-green-400",children:[i,"%"]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Persona Shown"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:n.personaShown})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-gray-300 text-sm mb-2",children:"Persona CTR"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-400",children:[a,"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsx(_I,{data:n.moodUsage,title:"Most Selected Moods",color:"#8b5cf6"}),r.jsx(RI,{data:n.sessionLengthUsage,title:"Session Length Distribution"}),r.jsx(LI,{data:n.timeOfDayUsage,title:"Time-of-Day Engagement"}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:"Persona Effectiveness"}),r.jsx("div",{className:"space-y-2",children:Object.entries(n.personaEffectiveness).map(([l,c])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300 text-sm truncate flex-1",children:l}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-gray-400 text-xs",children:[c.impressions," imp"]}),r.jsxs("span",{className:"text-gray-400 text-xs",children:[c.clicks," clicks"]}),r.jsxs("span",{className:"text-green-400 text-sm font-medium",children:[c.impressions>0?(c.clicks/c.impressions*100).toFixed(1):0,"%"]})]})]},l))})]})]}),!1,r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Live Event Stream (Last 20)"}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.length===0?r.jsx("p",{className:"text-gray-400 text-center py-8",children:"No events recorded yet"}):e.slice(-20).reverse().map((l,c)=>r.jsxs("div",{className:"bg-black/20 rounded p-3 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-blue-400 font-medium",children:l.name}),r.jsx("span",{className:"text-gray-400 text-xs",children:new Date(l.timestamp).toLocaleTimeString()})]}),r.jsx("pre",{className:"text-gray-300 text-xs overflow-x-auto",children:JSON.stringify(l.payload,null,2)})]},c))})]})]})})};function Yt({children:e}){const t=Ns(),{isAuthenticated:n,isLoading:s}=Ss(),i=!0;return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):!n&&!i?r.jsx(rv,{to:"/login",state:{from:t},replace:!0}):r.jsx(r.Fragment,{children:e})}function DI(){const[e]=GS(),t=ln(),{setUser:n,setAuthenticated:s}=Ss(),{actions:i}=ye();return w.useEffect(()=>{const a=e.get("sessionToken"),o=e.get("userId"),l=e.get("steamId"),c=e.get("displayName"),d=e.get("avatar"),m=e.get("loginError");if(console.log(" Steam callback params:",{sessionToken:a,userId:o,steamId:l,displayName:c,avatar:d,error:m}),console.log(" Full URL params object:",e),console.log(" All available params:",Array.from(e.entries())),a&&o&&c){localStorage.setItem("sessionToken",a),console.log(" Stored session token:",a.substring(0,10)+"...");const u={id:o,username:c,displayName:c,avatar:d||"",steamId:l||o,personaName:c};localStorage.setItem("user",JSON.stringify(u)),console.log(" Stored user data:",u),n(u),s(!0),console.log(" Updated auth store with user data"),(async()=>{try{console.log(" Auto-importing Steam library for user:",o);const f="FBB124C9352519E8F9FE820ADF0DA87C",p=await i.importSteamLibrary(o,f);if(p.success&&p.gameCount>0){console.log(` Auto-imported ${p.gameCount} Steam games!`);const g=p.games.map(y=>({...y,id:y.steamAppId||y.id,platforms:y.platforms||["Steam"],genres:y.genres||[],coverImage:y.coverImage||y.header_image,playStatus:y.playStatus||"backlog",isFavorite:!1,addedAt:new Date,hoursPlayed:y.hoursPlayed||0,userRating:y.userRating,globalRating:y.globalRating,releaseYear:y.releaseYear}));i.setGames(g),console.log(" Steam games added to library:",g.length)}else console.log(" No Steam games found to import")}catch(f){console.error(" Auto-import failed:",f),console.log(" Navigating to library despite import error")}})(),console.log(" Steam callback processed successfully"),setTimeout(()=>{console.log(" Navigating to /library"),t("/library")},1e3)}else console.error(" Steam login failed:",m),t("/login?error="+(m||"unknown"))},[e,t,n,s,i]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-white text-lg",children:"Processing Steam authentication..."})]})})}function FI(){const{login:e,isLoading:t,error:n,clearError:s}=Ss(),[i,a]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState(!1),[m,u]=w.useState({}),[h,f]=w.useState(!1),p=ln(),g=()=>{const j={};return i.trim()||(j.username="Username or email is required"),o?o.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",u(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!(h||t)&&g()){f(!0);try{s(),await e(i.trim(),o),p("/settings")}catch{}finally{f(!1)}}},x=async()=>{try{s(),u({}),window.location.href="/api/auth/steam"}catch(j){console.error("Login error:",j)}},v=j=>{m[j]&&u(S=>({...S,[j]:void 0})),n&&s()},b=i.trim()&&o&&o.length>=6&&Object.keys(m).length===0;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"GamePilot"}),r.jsx("h2",{className:"text-2xl font-semibold text-white/90",children:"Sign in to your account"}),r.jsx("p",{className:"text-white/70 mt-2",children:"Welcome back to your gaming universe"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl",children:[r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username or Email"}),r.jsx("input",{id:"username",type:"text",value:i,onChange:j=>{a(j.target.value),v("username")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${m.username?"border-red-500":"border-white/20"}`,placeholder:"Enter your username or email",required:!0,disabled:t}),m.username&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.username})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:c?"text":"password",value:o,onChange:j=>{l(j.target.value),v("password")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${m.password?"border-red-500":"border-white/20"}`,placeholder:"Enter your password",required:!0,disabled:t}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:t,children:c?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),m.password&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.password})]}),n&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:r.jsx("p",{className:"text-red-200 text-sm",children:n})}),r.jsx("button",{type:"submit",disabled:t||h||!b,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:t||h?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-white/20"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-transparent text-white/60",children:"Or continue with"})})]}),r.jsx("button",{onClick:x,disabled:t,className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-2",children:"Connecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11.979 0C5.678 0 .511 5.254.5 11.577c0 2.347.744 4.521 2.009 6.298L.5 24l6.572-2.379c1.659.938 3.569 1.476 5.607 1.476 6.301 0 11.468-5.254 11.468-11.577C23.647 5.254 18.48 0 11.979 0zm6.489 14.5c-.318.879-1.732 1.637-3.492 1.822-1.76.185-3.492.185-4.713-.185-1.221-.37-2.068-1.113-2.068-1.856 0-.743.747-1.392 1.99-1.856 1.244-.464 2.975-.649 4.713-.649 1.739 0 3.492.185 4.713.649 1.221.464 1.99 1.113 1.99 1.856 0 .743-.747 1.486-2.068 1.856z"})}),r.jsx("span",{children:"Continue with Steam"})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-white/70",children:["Don't have an account?"," ",r.jsx(Ue,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsx(Ue,{to:"/",className:"text-white/60 hover:text-white transition-colors",children:" Back to Home"})})]})})}function zI(){const[e,t]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState(""),[m,u]=w.useState(!1),[h,f]=w.useState(!1),[p,g]=w.useState({}),{register:y,isLoading:x,error:v,clearError:b}=Ss(),j=ln(),S=()=>{const C={};return e.trim()?e.length<3&&(C.username="Username must be at least 3 characters"):C.username="Username is required",c.trim()?c.length<1&&(C.displayName="Display name cannot be empty"):C.displayName="Display name is required",n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(C.email="Please enter a valid email address"):C.email="Email is required",i?i.length<8&&(C.password="Password must be at least 8 characters"):C.password="Password is required",o?i!==o&&(C.confirmPassword="Passwords do not match"):C.confirmPassword="Please confirm your password",g(C),Object.keys(C).length===0},T=async C=>{if(C.preventDefault(),!!S())try{b(),await y(e.trim(),n.trim(),i,c.trim()),j("/library")}catch{}},E=C=>{p[C]&&g(M=>({...M,[C]:void 0})),v&&b()},k=e.trim().length>=3&&c.trim().length>=1&&n.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&i&&i.length>=8&&o&&i===o&&Object.keys(p).length===0;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"GamePilot"}),r.jsx("h2",{className:"text-2xl font-semibold text-white/90",children:"Create your account"}),r.jsx("p",{className:"text-white/70 mt-2",children:"Join the gaming universe"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl",children:[r.jsxs("form",{onSubmit:T,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),r.jsx("input",{id:"username",type:"text",value:e,onChange:C=>{t(C.target.value),E("username")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.username?"border-red-500":"border-white/20"}`,placeholder:"Choose a username",required:!0,disabled:x}),p.username&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.username})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-white/90 mb-2",children:"Display Name"}),r.jsx("input",{id:"displayName",type:"text",value:c,onChange:C=>{d(C.target.value),E("displayName")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.displayName?"border-red-500":"border-white/20"}`,placeholder:"How others will see you",required:!0,disabled:x}),p.displayName&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.displayName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-2",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:n,onChange:C=>{s(C.target.value),E("email")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${p.email?"border-red-500":"border-white/20"}`,placeholder:"Enter your email",required:!0,disabled:x}),p.email&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:m?"text":"password",value:i,onChange:C=>{a(C.target.value),E("password")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${p.password?"border-red-500":"border-white/20"}`,placeholder:"Create a password (min. 8 characters)",required:!0,disabled:x}),r.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:x,children:m?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),p.password&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.password})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white/90 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",type:h?"text":"password",value:o,onChange:C=>{l(C.target.value),E("confirmPassword")},className:`w-full px-4 py-3 bg-white/10 border rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12 ${p.confirmPassword?"border-red-500":"border-white/20"}`,placeholder:"Confirm your password",required:!0,disabled:x}),r.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80 transition-colors",disabled:x,children:h?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),p.confirmPassword&&r.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.confirmPassword})]}),v&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:r.jsx("p",{className:"text-red-200 text-sm",children:v})}),r.jsx("button",{type:"submit",disabled:x||!k,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:x?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-white/70",children:["Already have an account?"," ",r.jsx(Ue,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in"})]})})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-white/50 text-sm",children:["By creating an account, you agree to our"," ",r.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Privacy Policy"})]})})]})})}const qw=({isAuthenticated:e,user:t})=>{var f,p;const[n,s]=w.useState(!1),[i,a]=w.useState(!1),o=Ns(),l=ln(),{logout:c}=Ss(),d=async()=>{try{await c(),l("/login")}catch(g){console.error("Logout error:",g)}};w.useEffect(()=>{const g=()=>{a(window.scrollY>10)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]),w.useEffect(()=>{s(!1)},[o.pathname]);const m=[{path:"/",label:"Home",icon:""},{path:"/library",label:"Library",icon:""},{path:"/analytics",label:"Analytics",icon:""},{path:"/identity",label:"Identity",icon:""},{path:"/integrations",label:"Integrations",icon:""},{path:"/customisation",label:"Customisation",icon:""},{path:"/settings",label:"Settings",icon:""}],u=g=>g==="/"&&o.pathname==="/"?!0:o.pathname.startsWith(g)&&g!=="/",h=t;return r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:`
        hidden md:block glass-morphism border-b border-white/10 fixed top-0 left-0 right-0 z-50 transition-all duration-300
        ${i?"py-2":"py-4"}
      `,children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs(Ue,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"h-8 w-auto object-contain"}),r.jsx("span",{className:"text-2xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"GamePilot"})]}),r.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:m.map(g=>r.jsxs(Ue,{to:g.path,className:`
                      flex items-center space-x-2 px-3 py-2 rounded-lg font-medium transition-all duration-200
                      ${u(g.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                    `,children:[r.jsx("span",{className:"text-lg",children:g.icon}),r.jsx("span",{children:g.label})]},g.path))})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden sm:block",children:r.jsxs("span",{className:"text-white/70 text-sm",children:["Welcome, ",h==null?void 0:h.username]})}),r.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Logout"})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ue,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Login"}),r.jsx(Ue,{to:"/register",className:"px-4 py-2 text-sm font-medium bg-gaming-primary text-white hover:bg-gaming-primary/80 rounded-lg transition-all",children:"Register"})]}),r.jsx("button",{onClick:()=>s(!n),className:"lg:hidden p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Toggle menu",children:r.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"rotate-45 translate-y-1.5":""}`}),r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"opacity-0":""}`}),r.jsx("span",{className:`block h-0.5 w-6 bg-current transition-all duration-300 ${n?"-rotate-45 -translate-y-1.5":""}`})]})})]})]})})}),n&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>s(!1)}),r.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 lg:hidden",children:r.jsx("div",{className:"glass-morphism border-b border-white/10",children:r.jsxs("div",{className:"container mx-auto px-4 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs(Ue,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[r.jsx("img",{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"h-8 w-auto object-contain"}),r.jsx("span",{className:"text-xl font-gaming bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"GamePilot"})]}),r.jsx("button",{onClick:()=>s(!1),className:"p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close menu",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:e?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gaming-primary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold",children:((p=(f=h==null?void 0:h.username)==null?void 0:f.charAt(0))==null?void 0:p.toUpperCase())||"U"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:h==null?void 0:h.username}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Welcome back!"})]})]}),r.jsx("button",{onClick:d,className:"px-3 py-1 text-sm text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Logout"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-white font-medium mb-2",children:"Welcome to GamePilot"}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx(Ue,{to:"/login",onClick:()=>s(!1),className:"w-full px-4 py-2 text-center text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:"Login"}),r.jsx(Ue,{to:"/register",onClick:()=>s(!1),className:"w-full px-4 py-2 text-center text-sm font-medium bg-gaming-primary text-white hover:bg-gaming-primary/80 rounded-lg transition-all",children:"Register"})]})]})}),r.jsx("div",{className:"space-y-2",children:m.map(g=>r.jsxs(Ue,{to:g.path,onClick:()=>s(!1),className:`
                        flex items-center space-x-3 w-full px-4 py-3 rounded-lg font-medium transition-all duration-200
                        ${u(g.path)?"bg-gaming-primary/20 text-gaming-primary border border-gaming-primary/30":"text-gray-300 hover:text-white hover:bg-white/10"}
                      `,children:[r.jsx("span",{className:"text-xl",children:g.icon}),r.jsx("span",{className:"text-lg",children:g.label}),u(g.path)&&r.jsx("span",{className:"ml-auto",children:r.jsx("svg",{className:"w-5 h-5 text-gaming-primary",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]},g.path))})]})})})]}),r.jsx("div",{className:"h-16 md:h-20"})]})},Kt=({children:e,showNavigation:t=!0,className:n=""})=>{const{isAuthenticated:s,user:i}=Ss();return r.jsxs("div",{className:`min-h-screen ${n}`,children:[t&&s&&r.jsx(qw,{isAuthenticated:s,user:i}),r.jsx("main",{className:"bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:r.jsx("div",{className:"w-full",children:e})}),t&&s&&r.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden",children:r.jsx("div",{className:"glass-morphism border-t border-white/10",children:r.jsx("div",{className:"grid grid-cols-5 gap-1 p-2",children:[{path:"/",icon:"",label:"Home"},{path:"/library",icon:"",label:"Library"},{path:"/identity",icon:"",label:"Identity"},{path:"/integrations",icon:"",label:"Links"},{path:"/settings",icon:"",label:"Settings"}].map(a=>r.jsxs("a",{href:a.path,className:"flex flex-col items-center space-y-1 p-2 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200",children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsx("span",{className:"text-xs",children:a.label})]},a.path))})})}),t&&s&&r.jsx("div",{className:"h-20 lg:hidden"})]})},_o=[{id:"getting-started",name:"Getting Started Tour",description:"Learn the basics of GamePilot and set up your profile",showOnFirstVisit:!0,steps:[{id:"welcome",title:"Welcome to GamePilot!",content:"Let's take a quick tour to help you get started with your personalized gaming experience.",target:"body",position:"center",showProgress:!0},{id:"navigation",title:"Navigation Menu",content:"This is your main navigation. Access your library, discover games, view your gaming identity, and manage settings.",target:'[data-testid="main-navigation"]',position:"bottom",showProgress:!0},{id:"home-dashboard",title:"Your Dashboard",content:"Your personalized dashboard shows mood-based recommendations, recent activity, and gaming stats.",target:'[data-testid="home-dashboard"]',position:"right",showProgress:!0},{id:"mood-selector",title:"Mood Selector",content:"Choose how you're feeling to get personalized game recommendations that match your current mood.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0,validation:()=>document.querySelector('[data-testid="mood-selector"] .mood-button.selected')!==null},{id:"recommendations",title:"Game Recommendations",content:"Based on your mood, we'll suggest games you might enjoy. Click on any game to learn more about it.",target:'[data-testid="game-recommendations"]',position:"left",showProgress:!0},{id:"library-access",title:"Game Library",content:"Access your complete game collection here. Import from Steam or add games manually.",target:'[data-testid="nav-library"]',position:"bottom",showProgress:!0},{id:"profile-setup",title:"Complete Your Profile",content:"Add your gaming preferences and connect accounts to get better recommendations.",target:'[data-testid="nav-settings"]',position:"bottom",showProgress:!0},{id:"tour-complete",title:"Tour Complete!",content:"You're all set! Explore GamePilot and discover your next favorite game. Help is always available in the settings.",target:"body",position:"center",showProgress:!0}]},{id:"library-features",name:"Library Features Tour",description:"Learn how to manage and organize your game library",startCondition:()=>window.location.pathname==="/library",steps:[{id:"library-overview",title:"Your Game Library",content:"This is your complete game collection. Let's explore the features available.",target:'[data-testid="game-library"]',position:"center",showProgress:!0},{id:"search-bar",title:"Search Games",content:"Search your library by title, genre, platform, or tags. Use advanced filters for precise results.",target:'[data-testid="game-search"]',position:"bottom",showProgress:!0},{id:"filter-options",title:"Filter Options",content:"Filter your games by platform, genre, play status, or custom tags to find exactly what you're looking for.",target:'[data-testid="game-filters"]',position:"left",showProgress:!0},{id:"sort-options",title:"Sort Games",content:"Sort your library by recently played, playtime, alphabetically, or custom criteria.",target:'[data-testid="game-sort"]',position:"left",showProgress:!0},{id:"add-game",title:"Add New Game",content:"Add games to your library. Import from Steam, enter manually, or scan barcode.",target:'[data-testid="add-game-button"]',position:"top",showProgress:!0},{id:"game-card",title:"Game Cards",content:"Each game card shows cover art, playtime, achievements, and status. Click to view details.",target:'[data-testid="game-card"]:first-child',position:"right",showProgress:!0},{id:"bulk-actions",title:"Bulk Actions",content:"Select multiple games to perform bulk operations like tagging, status updates, or deletion.",target:'[data-testid="bulk-actions"]',position:"top",showProgress:!0}]},{id:"mood-engine-features",name:"Mood Engine Tour",description:"Learn how to use the mood engine for personalized recommendations",startCondition:()=>document.querySelector('[data-testid="mood-selector"]')!==null,steps:[{id:"mood-overview",title:"Mood-Based Recommendations",content:"The Mood Engine analyzes how you're feeling to suggest perfect games for your current state.",target:'[data-testid="mood-selector"]',position:"top",showProgress:!0},{id:"mood-categories",title:"Mood Categories",content:"Choose from 8 different moods: Competitive, Chill, Story, Creative, Social, Focused, Energetic, or Exploratory.",target:'[data-testid="mood-selector"]',position:"bottom",showProgress:!0},{id:"mood-history",title:"Mood History",content:"Track your mood patterns over time to understand your gaming habits and preferences.",target:'[data-testid="mood-history"]',position:"left",showProgress:!0},{id:"recommendation-algorithm",title:"How Recommendations Work",content:"We analyze your mood, gaming history, and preferences to suggest games you'll love.",target:'[data-testid="recommendation-info"]',position:"bottom",showProgress:!0},{id:"save-recommendations",title:"Save for Later",content:"Save games you're interested in to your wishlist or backlog to play later.",target:'[data-testid="save-recommendation"]',position:"top",showProgress:!0}]},{id:"integrations-tour",name:"Integrations Tour",description:"Learn how to connect your gaming accounts",startCondition:()=>window.location.pathname==="/integrations",steps:[{id:"integrations-overview",title:"Connected Accounts",content:"Enhance your GamePilot experience by connecting your gaming accounts.",target:'[data-testid="integrations-page"]',position:"center",showProgress:!0},{id:"steam-integration",title:"Steam Integration",content:"Connect Steam to import your game library, track playtime, and sync achievements.",target:'[data-testid="steam-connect"]',position:"right",showProgress:!0},{id:"discord-integration",title:"Discord Integration",content:"Connect Discord to show your gaming status and join communities.",target:'[data-testid="discord-connect"]',position:"left",showProgress:!0},{id:"youtube-integration",title:"YouTube Integration",content:"Connect YouTube for gaming content recommendations and creator discovery.",target:'[data-testid="youtube-connect"]',position:"right",showProgress:!0},{id:"privacy-settings",title:"Privacy Controls",content:"Control what data you share with each integration and manage permissions.",target:'[data-testid="privacy-controls"]',position:"top",showProgress:!0}]}],$I=()=>{const[e,t]=w.useState(null),[n,s]=w.useState(0),[i,a]=w.useState(!1),[o,l]=w.useState({top:0,left:0}),[c,d]=w.useState(null),m=w.useCallback(()=>{a(!1),e!=null&&e.endAction&&e.endAction(),setTimeout(()=>{t(null),s(0),d(null)},300)},[e]),u=w.useCallback(()=>{if(!e)return;const v=e.steps[n];v.validation&&!v.validation()||(v.action&&v.action(),n<e.steps.length-1?s(n+1):m())},[e,n,m]),h=w.useCallback(()=>{n>0&&s(n-1)},[n]),f=w.useCallback(()=>{m()},[m]),p=w.useCallback(()=>{if(!e||!i)return;const v=e.steps[n],b=document.querySelector(v.target);if(!b){console.warn(`Tour target element not found: ${v.target}`);return}const j=b.getBoundingClientRect(),S=window.scrollX,T=window.scrollY;let E=0,k=0;switch(v.position){case"top":E=j.top+T-120,k=j.left+S+j.width/2-200;break;case"bottom":E=j.bottom+T+20,k=j.left+S+j.width/2-200;break;case"left":E=j.top+T+j.height/2-60,k=j.left+S-420;break;case"right":E=j.top+T+j.height/2-60,k=j.right+S+20;break;case"center":E=window.innerHeight/2-100,k=window.innerWidth/2-200;break}k<S+20?k=S+20:k+400>S+window.innerWidth-20&&(k=S+window.innerWidth-420),E<T+20?E=T+20:E+200>T+window.innerHeight-20&&(E=T+window.innerHeight-220),l({top:E,left:k}),v.position!=="center"?d(b):d(null)},[e,n,i]);if(w.useEffect(()=>{i&&p()},[i,p]),w.useEffect(()=>{const v=()=>{i&&p()},b=()=>{i&&p()};return window.addEventListener("resize",v),window.addEventListener("scroll",b),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",b)}},[i,p]),w.useEffect(()=>{window.location.pathname==="/login"||window.location.pathname==="/register"||_o.forEach(v=>{v.showOnFirstVisit&&!localStorage.getItem(`tour-${v.id}-seen`)&&(!v.startCondition||v.startCondition())&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("startTour",{detail:v})),localStorage.setItem(`tour-${v.id}-seen`,"true")},1e3)})},[]),!e||!i)return null;const g=e.steps[n],y=(n+1)/e.steps.length*100;return ba.createPortal(r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:f}),c&&r.jsx("div",{className:"absolute z-40 border-4 border-purple-500 rounded-lg pointer-events-none",style:{top:`${c.getBoundingClientRect().top+window.scrollY-4}px`,left:`${c.getBoundingClientRect().left+window.scrollX-4}px`,width:`${c.getBoundingClientRect().width+8}px`,height:`${c.getBoundingClientRect().height+8}px`}}),r.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white p-6 rounded-xl shadow-2xl border border-gray-700 max-w-md",style:{top:`${o.top}px`,left:`${o.left}px`},children:[g.showProgress&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[r.jsxs("span",{children:["Step ",n+1," of ",e.steps.length]}),r.jsxs("span",{children:[Math.round(y),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-3",children:g.title}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:g.content})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-2",children:[n>0&&r.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Previous"}),g.skipable!==!1&&r.jsx("button",{onClick:f,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Skip Tour"})]}),r.jsx("button",{onClick:u,className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium",children:n===e.steps.length-1?"Finish":"Next"})]}),r.jsx("button",{onClick:m,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close tour",title:"Close tour",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),document.body)},GI=()=>{const e=w.useCallback(a=>{const o=_o.find(l=>l.id===a);o&&window.dispatchEvent(new CustomEvent("startTour",{detail:o}))},[]),t=w.useCallback(()=>{window.dispatchEvent(new CustomEvent("endTour"))},[]),n=w.useCallback(a=>{localStorage.removeItem(`tour-${a}-seen`)},[]),s=w.useCallback(a=>localStorage.getItem(`tour-${a}-seen`)==="true",[]),i=w.useCallback(()=>_o.map(a=>({id:a.id,name:a.name,description:a.description,hasSeen:s(a.id)})),[s]);return{startTour:e,endTour:t,resetTourProgress:n,hasSeenTour:s,getAvailableTours:i,tourConfigs:_o}},BI=()=>{const[e,t]=w.useState(null);return w.useEffect(()=>{const n=i=>{t(i.detail)},s=()=>{t(null)};return window.addEventListener("startTour",n),window.addEventListener("endTour",s),()=>{window.removeEventListener("startTour",n),window.removeEventListener("endTour",s)}},[]),w.useEffect(()=>{(window.location.pathname==="/login"||window.location.pathname==="/register")&&(t(null),window.dispatchEvent(new CustomEvent("endTour")))},[]),e?r.jsx($I,{}):null},UI=({children:e,className:t=""})=>r.jsx("div",{className:`bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6 ${t}`,children:e}),VI=()=>{const[e,t]=w.useState(""),[n,s]=w.useState("all"),[i,a]=w.useState(new Set),o=[{id:"getting-started",title:"Getting Started with GamePilot",description:"Learn the basics of GamePilot and set up your profile",content:`
# Getting Started with GamePilot

Welcome to GamePilot! This guide will help you get started with your personalized gaming experience.

## What is GamePilot?

GamePilot is your personal gaming companion that helps you:
- Discover new games based on your mood and preferences
- Track your gaming progress and achievements
- Connect with friends and share your experiences
- Get personalized recommendations

## First Steps

### 1. Complete Your Profile
- Add your display name and bio
- Select your favorite genres and platforms
- Set your gaming preferences

### 2. Connect Your Accounts
- Link Steam to import your game library
- Connect Discord for social features
- Add YouTube for gaming content

### 3. Explore Features
- Browse your game library
- Use the mood engine for recommendations
- Track your gaming statistics

## Tips for New Users

- Start with the mood selector to get personalized recommendations
- Import your existing game library from Steam
- Explore different moods to discover new games
- Join the community to share your experiences
      `,category:"basics",tags:["beginner","setup","profile"],relatedTopics:["profile-setup","integrations","mood-engine"]},{id:"profile-setup",title:"Setting Up Your Profile",description:"Customize your profile and privacy settings",content:`
# Setting Up Your Profile

Your profile is your gaming identity on GamePilot. Here's how to make it yours.

## Profile Information

### Display Name
- Choose a name that represents you
- Can be changed anytime
- Visible to other users based on privacy settings

### Bio
- Share your gaming interests and background
- Tell others about your favorite genres
- Mention your gaming goals or preferences

### Avatar
- Upload a profile picture
- Choose from default avatars
- Can be changed anytime

## Privacy Settings

### Profile Visibility
- **Public**: Anyone can see your profile
- **Friends**: Only friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
- **Playtime Statistics**: Share your gaming hours
- **Achievements**: Show off your gaming accomplishments
- **Game Library**: Display your game collection

## Gaming Preferences

### Favorite Genres
Select genres you enjoy:
- Action, Adventure, RPG
- Strategy, Simulation, Sports
- Horror, Sci-Fi, Fantasy
- And many more!

### Preferred Platforms
Choose your gaming platforms:
- Steam, Epic Games, GOG
- Xbox, PlayStation, Nintendo Switch
- Mobile gaming

### Playstyle
Define your gaming style:
- Competitive, Casual
- Story-driven, Exploration
- Creative, Social
- Achievement Hunter, Completionist

## Tips

- Be honest about your preferences for better recommendations
- Update your profile as your interests change
- Use privacy settings to control what you share
      `,category:"profile",tags:["profile","privacy","preferences"],relatedTopics:["getting-started","privacy-settings"]},{id:"mood-engine",title:"Using the Mood Engine",description:"Get personalized game recommendations based on your mood",content:`
# Using the Mood Engine

The Mood Engine is GamePilot's intelligent recommendation system that suggests games based on how you're feeling.

## What is the Mood Engine?

The Mood Engine analyzes your current mood and gaming preferences to recommend games that match your emotional state and playstyle.

## Available Moods

###  Competitive
- **Best for**: When you want to challenge yourself
- **Game types**: Competitive multiplayer, strategy games, FPS
- **Examples**: Valorant, Chess, StarCraft

###  Chill
- **Best for**: Relaxing and unwinding
- **Game types**: Casual games, simulation, creative
- **Examples**: Stardew Valley, Animal Crossing, Minecraft

###  Story
- **Best for**: Immersive narratives
- **Game types**: RPGs, adventure games, visual novels
- **Examples**: The Witcher 3, Life is Strange, Detroit: Become Human

###  Creative
- **Best for**: Expressing creativity
- **Game types**: Building games, sandbox, art games
- **Examples**: Minecraft Dreams, LittleBigPlanet, Dreams

###  Social
- **Best for**: Playing with others
- **Game types**: Co-op games, party games, MMOs
- **Examples: Among Us, Fall Guys, World of Warcraft**

###  Focused
- **Best for**: Deep concentration
- **Game types**: Puzzle games, strategy, single-player
- **Examples**: Portal, Civilization, Factorio**

###  Energetic
- **Best for**: High-energy gaming
- **Game types**: Action games, rhythm games, sports
- **Examples**: DOOM, Beat Saber, FIFA

###  Exploratory
- **Best for**: Discovery and adventure
- **Game types**: Open-world, exploration, mystery
- **Examples**: Zelda, No Man's Sky, Outer Wilds

## How to Use

1. **Select Your Mood**: Choose how you're feeling right now
2. **Get Recommendations**: Receive personalized game suggestions
3. **Filter Results**: Narrow down by genre, platform, or features
4. **Save Favorites**: Keep track of games you want to play

## Tips

- Be honest about your current mood for better recommendations
- Try different moods to discover new games
- Combine moods with filters for precise results
- Save games you like to your wishlist

## Advanced Features

### Mood History
- Track your mood patterns over time
- See how your gaming preferences change
- Get insights into your gaming habits

### Mood-Based Stats
- View playtime by mood
- See which moods you game in most
- Discover your gaming patterns

### Social Moods
- See what moods your friends are in
- Join mood-based gaming sessions
- Share your mood with the community
      `,category:"features",tags:["recommendations","mood","discovery"],relatedTopics:["game-discovery","recommendations","social-features"]},{id:"integrations",title:"Connecting External Accounts",description:"Link your gaming accounts for a complete experience",content:`
# Connecting External Accounts

Enhance your GamePilot experience by connecting your external gaming accounts.

## Supported Integrations

###  Steam
**What it does:**
- Imports your entire game library
- Tracks playtime and achievements
- Syncs game ownership status
- Provides game metadata and details

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Steam"
3. Sign in with your Steam account
4. Authorize GamePilot access
5. Wait for library import

**Benefits:**
- Automatic game library updates
- Playtime tracking
- Achievement synchronization
- Rich game metadata

###  Discord
**What it does:**
- Shows your Discord activity
- Displays gaming status
- Connects with Discord communities
- Enables social features

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect Discord"
3. Sign in with Discord
4. Authorize required permissions
5. Customize privacy settings

**Benefits:**
- See what friends are playing
- Join gaming communities
- Share your gaming status
- Discord rich presence

###  YouTube
**What it does:**
- Imports gaming content
- Suggests relevant videos
- Tracks creator subscriptions
- Provides gaming news

**How to connect:**
1. Go to Settings > Integrations
2. Click "Connect YouTube"
3. Sign in with Google account
4. Authorize YouTube access
5. Select channels to follow

**Benefits:**
- Gaming content recommendations
- Creator suggestions
- Gaming news and updates
- Video integration

## Privacy & Security

### Data Protection
- All connections use secure OAuth
- Your passwords are never stored
- You control what data is shared
- Disconnect anytime

### Permission Control
- Choose what each integration can access
- Set privacy preferences per platform
- Control who sees your activity
- Manage data sharing settings

### Disconnecting Accounts
- Go to Settings > Integrations
- Click "Disconnect" next to any account
- Confirm the disconnection
- Data will be removed from GamePilot

## Troubleshooting

### Steam Issues
- **Library not importing**: Check Steam privacy settings
- **Missing games**: Ensure games are public in Steam
- **Sync errors**: Try reconnecting your account

### Discord Issues
- **Status not updating**: Check Discord permissions
- **Friends not showing**: Verify friend list visibility
- **Rich presence not working**: Enable Discord rich presence

### YouTube Issues
- **No content loading**: Check YouTube API limits
- **Channel not found**: Verify channel is public
- **Recommendations not working**: Update your preferences

## Best Practices

- Keep your accounts connected for the best experience
- Regularly review your privacy settings
- Disconnect accounts you no longer use
- Report any integration issues to support
      `,category:"integrations",tags:["steam","discord","youtube","connections"],relatedTopics:["privacy-settings","profile-setup"]},{id:"game-library",title:"Managing Your Game Library",description:"Organize and manage your game collection",content:`
# Managing Your Game Library

Your game library is your personal gaming collection. Learn how to organize, manage, and get the most out of it.

## Adding Games

### Automatic Import
- **Steam**: Automatically imports your Steam library
- **Other platforms**: Manual import or API integration
- **Bulk import**: Add multiple games at once

### Manual Entry
1. Click "Add Game" in your library
2. Enter game details (title, platform, etc.)
3. Add cover art and metadata
4. Save to your library

### Game Metadata
- **Title**: The game's name
- **Platform**: Where you play it
- **Genre**: Game category
- **Release date**: When it was released
- **Developer**: Who made it
- **Cover art**: Game's box art or screenshot

## Organizing Games

### Collections
Create custom collections to organize your games:
- **Currently Playing**: Games you're actively playing
- **Completed**: Games you've finished
- **Backlog**: Games you want to play
- **Favorites**: Your most-loved games
- **Custom**: Create your own categories

### Tags
Add tags to games for better organization:
- **Genre tags**: RPG, FPS, Strategy, etc.
- **Mood tags**: Competitive, Relaxing, Story-driven
- **Status tags**: Playing, Completed, Paused
- **Custom tags**: Create your own tags

### Filtering & Sorting
- **Filter by**: Platform, genre, tags, status
- **Sort by**: Recently played, playtime, alphabetically
- **Search**: Find games by title or tags
- **Advanced filters**: Multiple criteria

## Game Status

### Play Status
- **Unplayed**: Haven't started yet
- **Playing**: Currently playing
- **Completed**: Finished the main story
- **Paused**: Taking a break
- **Dropped**: Won't continue playing

### Playtime Tracking
- **Total hours**: Overall time spent
- **Recent activity**: Last 30 days
- **Session history**: Individual gaming sessions
- **Platform breakdown**: Time per platform

### Achievements
- **Unlocked achievements**: What you've accomplished
- **Achievement progress**: How close to completion
- **Rare achievements**: Hard-to-unlock accomplishments
- **Platform achievements**: Per-platform tracking

## Library Features

### Quick Actions
- **Mark as playing**: Start tracking a game
- **Add to favorites**: Quick access to loved games
- **Set status**: Update your progress
- **Add notes**: Personal thoughts and reminders

### Bulk Operations
- **Bulk edit**: Update multiple games at once
- **Bulk tag**: Add tags to multiple games
- **Bulk status**: Update status for multiple games
- **Bulk delete**: Remove multiple games

### Statistics
- **Library size**: Total number of games
- **Playtime distribution**: Time spent per game
- **Platform breakdown**: Games per platform
- **Genre distribution**: Games by category

## Tips & Tricks

### Organization
- Use collections for different gaming goals
- Tag games with multiple categories
- Keep your status up to date
- Regularly review and clean up your library

### Discovery
- Use filters to find specific games
- Sort by playtime to see favorites
- Check unplayed games for new experiences
- Use mood-based recommendations

### Maintenance
- Regularly update game metadata
- Remove games you no longer own
- Keep tags consistent
- Backup your library data
      `,category:"library",tags:["games","organization","management"],relatedTopics:["mood-engine","integrations"]},{id:"privacy-settings",title:"Privacy and Security Settings",description:"Control your data and privacy preferences",content:`
# Privacy and Security Settings

Your privacy is important. Learn how to control your data and secure your account.

## Privacy Controls

### Profile Visibility
Control who can see your profile information:
- **Public**: Anyone can view your profile
- **Friends**: Only approved friends can see your profile
- **Private**: Only you can see your profile

### Data Sharing
Choose what information to share:
- **Playtime Statistics**: Your gaming hours and habits
- **Achievements**: Games you've completed and accomplishments
- **Game Library**: Your game collection and ownership
- **Activity Status**: When you're playing and what games

### Social Features
Manage your social interactions:
- **Friend Requests**: Who can send you requests
- **Profile Views**: Who can see your profile visits
- **Activity Feed**: Share your gaming activity
- **Direct Messages**: Who can contact you

## Security Settings

### Account Security
- **Two-Factor Authentication**: Add an extra layer of security
- **Login Alerts**: Get notified of new sign-ins
- **Session Management**: Control active sessions
- **Password Requirements**: Set strong password policies

### Connected Accounts
- **Permissions**: Review what each integration can access
- **Data Sharing**: Control data shared with third parties
- **Disconnect Options**: Remove connected accounts anytime
- **Privacy Policies**: Review third-party privacy terms

### Data Management
- **Data Export**: Download your personal data
- **Data Deletion**: Remove your account and data
- **Data Retention**: How long we keep your data
- **Data Portability**: Move your data to other services

## Privacy Best Practices

### Profile Information
- Use a display name you're comfortable sharing
- Be mindful of what personal information you include
- Review your privacy settings regularly
- Consider using a separate gaming email

### Social Interactions
- Only accept friend requests from people you know
- Be cautious about sharing personal details
- Use privacy settings to control who can contact you
- Report inappropriate behavior

### Connected Accounts
- Only connect accounts you trust
- Review permissions carefully
- Disconnect accounts you no longer use
- Monitor third-party app access

## Security Tips

### Password Security
- Use a unique, strong password
- Enable two-factor authentication
- Don't reuse passwords from other sites
- Change your password regularly

### Session Management
- Sign out when using shared devices
- Review active sessions regularly
- Sign out unfamiliar sessions
- Use secure networks only

### Phishing Protection
- Never share your password via email
- Verify official communications
- Be wary of suspicious links
- Report phishing attempts

## Your Rights

### Data Access
- View all data we have about you
- Download your personal information
- Request corrections to inaccurate data
- Understand how your data is used

### Data Control
- Delete your account and data
- Opt out of data collection
- Control what's shared publicly
- Manage connected account permissions

### Transparency
- Clear privacy policy explanations
- Regular updates about changes
- Easy-to-understand settings
- Direct support for privacy questions

## Getting Help

### Privacy Questions
- Contact our privacy team
- Review our privacy policy
- Check our FAQ section
- Join our community discussions

### Security Issues
- Report security concerns immediately
- Use our secure reporting system
- Contact our security team
- Follow security best practices

Remember: You have control over your data. Take time to review your settings and make choices that work for you.
      `,category:"privacy",tags:["security","privacy","data-protection"],relatedTopics:["profile-setup","integrations"]}],l=[{id:"all",name:"All Topics",icon:""},{id:"basics",name:"Basics",icon:""},{id:"profile",name:"Profile",icon:""},{id:"features",name:"Features",icon:""},{id:"library",name:"Library",icon:""},{id:"integrations",name:"Integrations",icon:""},{id:"privacy",name:"Privacy",icon:""}],c=o.filter(u=>{const h=u.title.toLowerCase().includes(e.toLowerCase())||u.description.toLowerCase().includes(e.toLowerCase())||u.tags.some(p=>p.toLowerCase().includes(e.toLowerCase())),f=n==="all"||u.category===n;return h&&f}),d=u=>{a(h=>{const f=new Set(h);return f.has(u)?f.delete(u):f.add(u),f})},m=u=>u.split(`
`).map((h,f)=>{if(h.startsWith("# "))return r.jsx("h2",{className:"text-2xl font-bold text-white mb-4 mt-6",children:h.slice(2)},f);if(h.startsWith("## "))return r.jsx("h3",{className:"text-xl font-semibold text-white mb-3 mt-4",children:h.slice(3)},f);if(h.startsWith("### "))return r.jsx("h4",{className:"text-lg font-medium text-white mb-2 mt-3",children:h.slice(4)},f);if(h.startsWith("- **")){const p=h.match(/- \*\*(.*?)\*\*: (.*)/);if(p)return r.jsxs("li",{className:"ml-4 mb-2",children:[r.jsxs("span",{className:"font-semibold text-purple-300",children:[p[1],":"]})," ",p[2]]},f)}else return h.startsWith("- ")?r.jsx("li",{className:"ml-4 mb-2",children:h.slice(2)},f):h.startsWith("**")&&h.endsWith("**")?r.jsx("p",{className:"font-semibold text-purple-300 mb-2",children:h.slice(2,-2)},f):h.trim()===""?r.jsx("br",{},f):r.jsx("p",{className:"mb-2 text-white/80",children:h},f)});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Help Center"}),r.jsx("p",{className:"text-white/70",children:"Find answers to your questions and learn how to get the most out of GamePilot"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6",children:[r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search for help topics...",value:e,onChange:u=>t(u.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-white/40"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>r.jsxs("button",{onClick:()=>s(u.id),className:`px-4 py-2 rounded-lg border transition-colors ${n===u.id?"bg-purple-500/20 border-purple-500 text-purple-300":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20"}`,children:[r.jsx("span",{className:"mr-2",children:u.icon}),u.name]},u.id))})]})}),r.jsx("div",{className:"space-y-4",children:c.map(u=>r.jsxs(UI,{className:"bg-white/10 backdrop-blur-md border-white/20 p-6",children:[r.jsxs("div",{className:"cursor-pointer",onClick:()=>d(u.id),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:u.title}),r.jsx("span",{className:"text-white/60",children:i.has(u.id)?"":""})]}),r.jsx("p",{className:"text-white/70 mb-3",children:u.description}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.tags.map(h=>r.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm",children:h},h))})]}),i.has(u.id)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[r.jsx("div",{className:"prose prose-invert max-w-none",children:m(u.content)}),u.relatedTopics&&u.relatedTopics.length>0&&r.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20",children:[r.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Related Topics"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.relatedTopics.map(h=>{const f=o.find(p=>p.id===h);return f?r.jsx("button",{onClick:()=>d(h),className:"px-3 py-1 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors",children:f.title},h):null})})]})]})]},u.id))}),c.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No topics found"}),r.jsx("p",{className:"text-white/70",children:"Try adjusting your search or filters"})]})]})})},WI=({content:e,children:t,position:n="top",delay:s=300,persistent:i=!1,maxWidth:a=300,className:o="",showOnHover:l=!0,showOnClick:c=!1,hideDelay:d=100})=>{const[m,u]=w.useState(!1),[h,f]=w.useState({top:0,left:0}),p=w.useRef(null),g=w.useRef(null),y=w.useRef(),x=w.useRef(),v=w.useCallback(()=>{if(!p.current||!g.current)return;const E=p.current.getBoundingClientRect(),k=g.current.getBoundingClientRect(),C=window.scrollX,M=window.scrollY;let L=0,$=0;switch(n){case"top":L=E.top+M-k.height-8,$=E.left+C+(E.width-k.width)/2;break;case"bottom":L=E.bottom+M+8,$=E.left+C+(E.width-k.width)/2;break;case"left":L=E.top+M+(E.height-k.height)/2,$=E.left+C-k.width-8;break;case"right":L=E.top+M+(E.height-k.height)/2,$=E.right+C+8;break;case"auto":const Q=E.top,H=window.innerHeight-E.bottom,te=window.innerWidth-E.right;H>=k.height+8?(L=E.bottom+M+8,$=E.left+C+(E.width-k.width)/2):Q>=k.height+8?(L=E.top+M-k.height-8,$=E.left+C+(E.width-k.width)/2):te>=k.width+8?(L=E.top+M+(E.height-k.height)/2,$=E.right+C+8):(L=E.top+M+(E.height-k.height)/2,$=E.left+C-k.width-8);break}$<C+8?$=C+8:$+k.width>C+window.innerWidth-8&&($=C+window.innerWidth-k.width-8),L<M+8?L=M+8:L+k.height>M+window.innerHeight-8&&(L=M+window.innerHeight-k.height-8),f({top:L,left:$})},[n]),b=w.useCallback(()=>{y.current&&clearTimeout(y.current),x.current&&clearTimeout(x.current),y.current=setTimeout(()=>{u(!0)},s)},[s]),j=w.useCallback(()=>{y.current&&clearTimeout(y.current),i?x.current=setTimeout(()=>{u(!1)},d):u(!1)},[i,d]),S=w.useCallback(()=>{c&&u(!m)},[c,m]);w.useEffect(()=>{m&&v()},[m,v]),w.useEffect(()=>{const E=()=>{m&&v()};return window.addEventListener("resize",E),window.addEventListener("scroll",()=>{m&&v()}),()=>{window.removeEventListener("resize",E),y.current&&clearTimeout(y.current),x.current&&clearTimeout(x.current)}},[m,v]);const T=m?ba.createPortal(r.jsxs("div",{ref:g,className:`fixed z-50 bg-gray-900 text-white p-3 rounded-lg shadow-lg border border-gray-700 max-w-${a} ${o}`,style:{top:`${h.top}px`,left:`${h.left}px`,maxWidth:`${a}px`},onMouseEnter:()=>i&&j(),onMouseLeave:()=>i&&j(),children:[r.jsx("div",{className:"text-sm",children:typeof e=="string"?r.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):e}),r.jsx("div",{className:"absolute w-2 h-2 bg-gray-900 border border-gray-700 transform rotate-45"})]}),document.body):null;return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:p,className:`inline-block ${o}`,onMouseEnter:l?b:void 0,onMouseLeave:l?j:void 0,onClick:S,children:t}),T]})};re.createContext({enabledTooltips:new Set,disabledTooltips:new Set,enableTooltip:()=>{},disableTooltip:()=>{},isTooltipEnabled:()=>!0});const HI=({position:e="fixed",location:t="bottom-right",size:n="medium",showTooltip:s=!0,className:i=""})=>{const[a,o]=w.useState(!1),[l,c]=w.useState(""),d=w.useRef(null),m=w.useRef(null),{startTour:u,getAvailableTours:h}=GI(),f=h(),g=[...f.filter(C=>!C.hasSeen).map(C=>({id:`tour-${C.id}`,title:C.name,description:C.description,icon:"",action:()=>{u(C.id),o(!1)},category:"tour",badge:"New"})),{id:"help-center",title:"Help Center",description:"Browse comprehensive documentation and guides",icon:"",action:()=>{window.open("/help","_blank"),o(!1)},category:"documentation"},{id:"quick-start",title:"Quick Start Guide",description:"Get started with GamePilot in 5 minutes",icon:"",action:()=>{window.open("/help/quick-start","_blank"),o(!1)},category:"documentation"},{id:"features-guide",title:"Features Guide",description:"Learn about all GamePilot features",icon:"",action:()=>{window.open("/help/features","_blank"),o(!1)},category:"documentation"},{id:"contact-support",title:"Contact Support",description:"Get help from our support team",icon:"",action:()=>{window.open("/support","_blank"),o(!1)},category:"support"},{id:"report-bug",title:"Report a Bug",description:"Help us improve by reporting issues",icon:"",action:()=>{window.open("/support/bug-report","_blank"),o(!1)},category:"support"},{id:"feature-request",title:"Request a Feature",description:"Suggest new features or improvements",icon:"",action:()=>{window.open("/support/feature-request","_blank"),o(!1)},category:"support"},{id:"send-feedback",title:"Send Feedback",description:"Share your thoughts and suggestions",icon:"",action:()=>{window.open("/feedback","_blank"),o(!1)},category:"feedback"},{id:"rate-experience",title:"Rate Your Experience",description:"Help us improve by rating your experience",icon:"",action:()=>{window.open("/feedback/rating","_blank"),o(!1)},category:"feedback"},{id:"community-forum",title:"Community Forum",description:"Connect with other GamePilot users",icon:"",action:()=>{window.open("https://community.gamepilot.app","_blank"),o(!1)},category:"support"},{id:"discord-server",title:"Discord Server",description:"Join our Discord community",icon:"",action:()=>{window.open("https://discord.gg/gamepilot","_blank"),o(!1)},category:"support"}].filter(C=>C.title.toLowerCase().includes(l.toLowerCase())||C.description.toLowerCase().includes(l.toLowerCase())),y=()=>e==="static"?"":{"bottom-right":"bottom-6 right-6","bottom-left":"bottom-6 left-6","top-right":"top-6 right-6","top-left":"top-6 left-6"}[t],x=()=>({small:"w-10 h-10",medium:"w-12 h-12",large:"w-14 h-14"})[n],v=()=>({small:"text-lg",medium:"text-xl",large:"text-2xl"})[n],b=()=>e==="static"?"bottom-full mb-2 left-1/2 transform -translate-x-1/2":{"bottom-right":"bottom-full mb-2 right-0","bottom-left":"bottom-full mb-2 left-0","top-right":"top-full mt-2 right-0","top-left":"top-full mt-2 left-0"}[t],j=C=>{m.current&&!m.current.contains(C.target)&&d.current&&!d.current.contains(C.target)&&o(!1)};w.useEffect(()=>{if(a)return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[a]);const S=C=>{C.key==="Escape"&&a&&o(!1)};w.useEffect(()=>(document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}),[a]);const T=C=>({tour:"bg-purple-500/20 text-purple-300 border-purple-500",documentation:"bg-blue-500/20 text-blue-300 border-blue-500",support:"bg-green-500/20 text-green-300 border-green-500",feedback:"bg-orange-500/20 text-orange-300 border-orange-500"})[C]||"bg-gray-500/20 text-gray-300 border-gray-500",E=r.jsxs("button",{ref:d,onClick:()=>o(!a),className:`
        ${e==="fixed"?"fixed":"relative"} 
        ${y()}
        ${x()}
        bg-gradient-to-r from-purple-500 to-blue-500 
        text-white rounded-full 
        shadow-lg hover:shadow-xl 
        transform transition-all duration-200 
        hover:scale-110 
        flex items-center justify-center
        z-50
        ${i}
      `,"aria-label":"Help",children:[r.jsx("span",{className:v(),children:"?"}),f.some(C=>!C.hasSeen)&&r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),k=a?ba.createPortal(r.jsxs("div",{ref:m,className:`
        fixed z-50 
        ${b()}
        w-80 max-h-96 
        bg-gray-900 border border-gray-700 
        rounded-xl shadow-2xl 
        overflow-hidden
      `,children:[r.jsxs("div",{className:"p-4 border-b border-gray-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How can we help?"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search for help...",value:l,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500",autoFocus:!0}),r.jsx("svg",{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{children:"No help options found"})]}):r.jsx("div",{className:"p-2",children:g.map(C=>r.jsx("button",{onClick:C.action,className:"w-full p-3 text-left hover:bg-gray-800 rounded-lg transition-colors group",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center text-sm",children:C.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"text-white font-medium truncate",children:C.title}),C.badge&&r.jsx("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded-full",children:C.badge})]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1 line-clamp-2",children:C.description}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full border ${T(C.category)}`,children:C.category})})]})]})},C.id))})}),r.jsx("div",{className:"p-3 border-t border-gray-700 bg-gray-800",children:r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Need more help?"}),r.jsx("button",{onClick:()=>{window.open("/help","_blank"),o(!1)},className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Visit Help Center "})]})})]}),document.body):null;return r.jsxs(r.Fragment,{children:[s?r.jsx(WI,{content:"Get help with GamePilot",position:"left",children:E}):E,k]})};re.createContext({showHelp:()=>{},hideHelp:()=>{},isHelpVisible:!1});const Qw=w.createContext(void 0),YI=()=>{const e=w.useContext(Qw);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},KI=({children:e})=>{const[t,n]=w.useState({}),s=w.useCallback((u,h,f,p)=>{n(g=>{var y;return{...g,[u]:{...g[u],isLoading:h,message:f,progress:p,error:h||(y=g[u])==null?void 0:y.error}}})},[]),i=w.useCallback((u,h)=>{n(f=>({...f,[u]:{...f[u],isLoading:!1,error:h}}))},[]),a=w.useCallback(u=>{n(h=>{const f={...h};return delete f[u],f})},[]),o=w.useCallback(()=>{n({})},[]),l=w.useCallback(u=>{var h;return u?((h=t[u])==null?void 0:h.isLoading)||!1:Object.values(t).some(f=>f.isLoading)},[t]),c=w.useCallback(u=>{var h;return(h=t[u])==null?void 0:h.message},[t]),d=w.useCallback(u=>{var h;return(h=t[u])==null?void 0:h.progress},[t]),m=w.useCallback(u=>{var h;return(h=t[u])==null?void 0:h.error},[t]);return r.jsx(Qw.Provider,{value:{loadingStates:t,setLoading:s,setError:i,clearLoading:a,clearAllLoading:o,isLoading:l,getLoadingMessage:c,getLoadingProgress:d,getLoadingError:m},children:e})},qI=()=>{const{isLoading:e}=YI();return e()?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"glass-morphism rounded-lg p-6 border border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gaming-primary"}),r.jsx("span",{className:"text-white",children:"Loading..."})]})})}):null};const qt=({children:e,pageId:t})=>{try{const n=t||BM(),s=ec(n),i=()=>{try{const o={};if(s.backgroundMode==="solid")o.backgroundColor=s.accentColor+"1a",o.backgroundColor="#111827";else if(s.backgroundMode==="gradient"){const l=s.accentColor;o.background=`linear-gradient(135deg, ${l}22 0%, #111827 50%, ${l}11 100%)`}else s.backgroundMode==="image"&&s.backgroundImageUrl&&(o.backgroundImage=`url(${s.backgroundImageUrl})`,o.backgroundSize="cover",o.backgroundPosition="center",o.backgroundRepeat="no-repeat",o.backgroundAttachment="fixed");return o}catch(o){return console.warn("Error generating custom styles:",o),{}}},a=()=>{try{const o=["customisation-provider"];return s.animationLevel==="low"?o.push("animations-low"):s.animationLevel==="high"?o.push("animations-high"):o.push("animations-medium"),s.density==="compact"?o.push("density-compact"):o.push("density-comfortable"),s.lightingMode==="mood"?o.push("lighting-mood"):s.lightingMode==="rgb-sync"&&s.rgbSyncEnabled&&o.push("lighting-rgb-sync"),o.join(" ")}catch(o){return console.warn("Error generating custom classes:",o),"customisation-provider"}};return re.useEffect(()=>{try{if(typeof window<"u"&&s){const o=document.documentElement,l=s.accentColor;o.style.setProperty("--accent-color",l),o.style.setProperty("--accent-color-hover",l+"dd"),o.style.setProperty("--accent-color-light",l+"33"),o.style.setProperty("--accent-color-lighter",l+"1a"),o.style.setProperty("--accent-color-ultralight",l+"0d"),o.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${l}, ${l}dd)`),o.style.setProperty("--accent-glow",`0 0 20px ${l}33`),o.style.setProperty("--accent-glow-strong",`0 0 40px ${l}66`),s.backgroundMode==="image"&&s.backgroundImageUrl?o.style.setProperty("--bg-overlay","rgba(0, 0, 0, 0.4)"):o.style.setProperty("--bg-overlay","transparent")}}catch(o){console.warn("Error setting CSS custom properties:",o)}},[s==null?void 0:s.accentColor,s==null?void 0:s.backgroundMode,s==null?void 0:s.backgroundImageUrl]),s?r.jsx("div",{className:a(),style:i(),"data-page-id":n,"data-animation-level":s.animationLevel,"data-density":s.density,"data-lighting-mode":s.lightingMode,children:e}):r.jsx("div",{className:"customisation-provider",children:e})}catch(n){return console.error("Error in CustomisationProvider:",n),r.jsx("div",{className:"customisation-provider",children:e})}},QI=()=>{const e=ec(),{setGlobalSettings:t}=Io(),[n,s]=w.useState("global"),[i,a]=w.useState(""),o=w.useRef(null),l=[{id:"global",label:" Global Settings",icon:""},{id:"pages",label:" Page Specific",icon:""},{id:"presets",label:" Gaming Presets",icon:""},{id:"themes",label:" Themes & Backgrounds",icon:""},{id:"advanced",label:" Advanced",icon:""}],c=N=>t({fontFamily:N}),d=N=>t({fontSize:N}),m=N=>t({fontWeight:N}),u=N=>t({animationStyle:N}),h=N=>t({hoverEffects:N}),f=N=>t({loadingAnimations:N}),p=N=>t({soundTheme:N}),g=N=>t({soundEnabled:N}),y=N=>t({volume:N}),x=N=>t({theme:N}),v=N=>t({backgroundMode:N}),b=N=>t({accentColor:N}),j=N=>t({defaultBoxShape:N}),S=N=>t({defaultComponentStyle:N}),T=N=>t({borderRadius:N}),E=N=>t({borderWidth:N}),k=N=>t({shadowIntensity:N}),C=N=>t({glassOpacity:N}),M=N=>t({animationLevel:N}),L=N=>t({density:N}),$=N=>t({lightingMode:N}),Q=N=>t({rgbSyncEnabled:N}),H=N=>{var P;const G=(P=N.target.files)==null?void 0:P[0];if(G&&G.type.startsWith("image/")){const I=new FileReader;I.onload=R=>{var X;const F=(X=R.target)==null?void 0:X.result;t({backgroundImageUrl:F})},I.readAsDataURL(G)}},te=()=>{i.trim()&&(t({backgroundImageUrl:i.trim()}),a(""))};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:r.jsxs("div",{className:"container mx-auto px-6 py-10",children:[r.jsx("div",{className:"mb-10",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"Customisation"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Personalise your GamePilot experience"})]}),r.jsxs("button",{onClick:()=>alert("Page editor coming soon! This will allow you to customize the customisation page layout itself."),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium flex items-center gap-2 shadow-lg",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Edit Page"})]})]})}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:l.map(N=>r.jsxs("button",{onClick:()=>s(N.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${n===N.id?"bg-gaming-primary text-white shadow-lg shadow-gaming-primary/30":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[r.jsx("span",{className:"mr-2",children:N.icon}),N.label]},N.id))}),r.jsxs("div",{className:"space-y-8",children:[n==="global"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Typography"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Family"}),r.jsx("div",{className:"space-y-2",children:["inter","jetbrains-mono","space-mono","roboto","open-sans","poppins"].map(N=>r.jsx("button",{onClick:()=>c(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.fontFamily===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsx("span",{className:"text-white capitalize",style:{fontFamily:N==="jetbrains-mono"||N==="space-mono"?"monospace":"sans-serif"},children:N.replace("-"," ")})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Size"}),r.jsx("div",{className:"space-y-2",children:["xs","sm","base","lg","xl","2xl"].map(N=>r.jsx("button",{onClick:()=>d(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.fontSize===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="xs"?"12px":N==="sm"?"14px":N==="base"?"16px":N==="lg"?"18px":N==="xl"?"20px":"24px"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Font Weight"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"range",min:"100",max:"900",step:"100",value:e.fontWeight,onChange:N=>m(Number(N.target.value)),className:"w-full"}),r.jsx("div",{className:"text-center text-gray-400 text-sm",children:e.fontWeight})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Enhanced Animations"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Style"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["smooth","bounce","slide","fade","glow"].map(N=>r.jsx("button",{onClick:()=>u(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.animationStyle===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-4 h-4 ${N==="smooth"?"rounded-full bg-gaming-primary/20":N==="bounce"?"rounded-full bg-gaming-primary/40 animate-bounce":N==="slide"?"rounded bg-gaming-primary/20":N==="fade"?"rounded bg-gaming-primary/10":"rounded-full bg-gaming-primary/30 shadow-lg shadow-gaming-primary/50"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Effects"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Hover Effects"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Interactive hover animations"})]}),r.jsx("button",{onClick:()=>h(!e.hoverEffects),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.hoverEffects?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.hoverEffects?"translate-x-6":"translate-x-0.5"}`})})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Loading Animations"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Spinners and loading effects"})]}),r.jsx("button",{onClick:()=>f(!e.loadingAnimations),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.loadingAnimations?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.loadingAnimations?"translate-x-6":"translate-x-0.5"}`})})]})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Sound Themes"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sound Theme"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["cyberpunk","retro","minimal","epic","nature"].map(N=>r.jsx("button",{onClick:()=>p(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.soundTheme===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${N==="cyberpunk"?"bg-pink-500":N==="retro"?"bg-amber-500":N==="minimal"?"bg-gray-500":N==="epic"?"bg-purple-500":"bg-green-500"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sound Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"Enable Sounds"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"UI interaction sounds"})]}),r.jsx("button",{onClick:()=>g(!e.soundEnabled),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.soundEnabled?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.soundEnabled?"translate-x-6":"translate-x-0.5"}`})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Volume"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.volume,onChange:N=>y(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.volume,"%"]})]})]})]})]})]})]}),n==="presets"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Gaming Presets"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("button",{onClick:()=>{t({accentColor:"#ec4899",backgroundMode:"gradient",animationLevel:"high",lightingMode:"mood",animationStyle:"glow",hoverEffects:!0,soundTheme:"cyberpunk"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Cyberpunk"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Neon pink & purple"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#f59e0b",backgroundMode:"solid",animationLevel:"low",lightingMode:"none",animationStyle:"bounce",hoverEffects:!1,soundTheme:"retro"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Retro"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Classic amber tones"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#6b7280",backgroundMode:"solid",animationLevel:"low",lightingMode:"none",animationStyle:"smooth",hoverEffects:!1,soundTheme:"minimal"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Minimal"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Clean & simple"})]})}),r.jsx("button",{onClick:()=>{t({accentColor:"#10b981",backgroundMode:"gradient",animationLevel:"medium",lightingMode:"mood",animationStyle:"fade",hoverEffects:!0,soundTheme:"nature"})},className:"p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full"}),r.jsx("span",{className:"text-white font-medium",children:"Nature"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Calming greens"})]})})]})]}),n==="pages"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Page-Specific Overrides"})]}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:""}),r.jsx("p",{className:"text-xl text-white mb-2",children:"Page-Specific Customisation"}),r.jsx("p",{className:"text-gray-400",children:"Override global settings for specific pages"}),r.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"This feature allows you to customize individual pages differently from your global settings."})]})]}),n==="themes"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Theme"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["dark","light","system"].map(N=>r.jsx("button",{onClick:()=>x(N),className:`p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.theme===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-300 ${N==="dark"?"bg-gray-900":N==="light"?"bg-gray-100":"bg-gradient-to-r from-gray-900 to-gray-100"}`}),r.jsx("span",{className:"text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Background"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Mode"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["solid","gradient","image"].map(N=>r.jsx("button",{onClick:()=>v(N),className:`p-4 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.backgroundMode===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-300 ${N==="solid"?"bg-gray-700":N==="gradient"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-600"}`}),r.jsx("span",{className:"text-white capitalize",children:N})]})},N))})]}),e.backgroundMode==="image"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Background Image"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"file",ref:o,accept:"image/*",onChange:H,className:"hidden"}),r.jsx("button",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},className:"px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:" Choose File"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),placeholder:"Or enter image URL...",className:"flex-1 px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300"}),r.jsx("button",{onClick:te,className:"px-6 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 hover:scale-[1.02] shadow-lg shadow-gaming-primary/30",children:"Set URL"})]})]}),e.backgroundImageUrl&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-white/5",children:[r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Current background:"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-cover bg-center border border-white/20",style:{backgroundImage:`url(${e.backgroundImageUrl})`}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gaming-primary text-sm truncate",children:e.backgroundImageUrl}),r.jsx("button",{onClick:()=>t({backgroundImageUrl:void 0}),className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Remove"})]})]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Accent Color"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899","#06b6d4","#84cc16"].map(N=>r.jsx("button",{onClick:()=>b(N),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.accentColor===N?"border-white scale-105":"border-gray-600 hover:border-gray-500"}`,style:{backgroundColor:N},title:`Select ${N} as accent color`,"aria-label":`Select ${N} as accent color`,children:e.accentColor===N&&r.jsx("div",{className:"w-6 h-6 bg-white rounded-full mx-auto"})},N))}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("input",{type:"color",value:e.accentColor,onChange:N=>b(N.target.value),className:"w-16 h-10 bg-gray-800/50 border border-gray-600 rounded cursor-pointer",title:"Choose custom accent color","aria-label":"Choose custom accent color"}),r.jsx("input",{type:"text",value:e.accentColor,onChange:N=>b(N.target.value),placeholder:"#3b82f6",className:"flex-1 px-4 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-gaming-primary focus:outline-none","aria-label":"Enter custom hex color code"})]})]})]}),n==="advanced"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Advanced Shapes & Styles"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Default Box Shape"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["rounded","square","hexagon","octagon","diamond","pill","circle"].map(N=>r.jsx("button",{onClick:()=>j(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.defaultBoxShape===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-6 h-6 ${N==="square"?"":N==="rounded"?"rounded-lg":N==="circle"?"rounded-full":N==="hexagon"||N==="diamond"?"rotate-45":N==="pill"?"rounded-full":""} bg-gaming-primary/20`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Component Style"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["glass-morphism","solid","outline","neon","minimal"].map(N=>r.jsx("button",{onClick:()=>S(N),className:`p-3 rounded-lg border-2 transition-all duration-300 hover:scale-[1.02] ${e.defaultComponentStyle===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("div",{className:`w-6 h-6 ${N==="glass-morphism"?"bg-white/10 backdrop-blur-sm":N==="solid"?"bg-gray-700":N==="outline"?"border-2 border-gaming-primary":N==="neon"?"bg-transparent border-2 border-gaming-primary shadow-lg shadow-gaming-primary/50":"bg-transparent border border-gray-600"}`}),r.jsx("span",{className:"text-xs text-white capitalize",children:N.replace("-"," ")})]})},N))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Border Radius"}),r.jsx("input",{type:"range",min:"0",max:"50",value:e.borderRadius,onChange:N=>T(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.borderRadius,"px"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Border Width"}),r.jsx("input",{type:"range",min:"0",max:"10",value:e.borderWidth,onChange:N=>E(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.borderWidth,"px"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Shadow Intensity"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.shadowIntensity,onChange:N=>k(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.shadowIntensity,"%"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-white text-sm font-medium mb-2 block",children:"Glass Opacity"}),r.jsx("input",{type:"range",min:"0",max:"100",value:e.glassOpacity,onChange:N=>C(Number(N.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-center text-gray-400 text-xs mt-1",children:[e.glassOpacity,"%"]})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 mb-8 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Motion & Density"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Animation Level"}),r.jsx("div",{className:"space-y-2",children:["low","medium","high"].map(N=>r.jsx("button",{onClick:()=>M(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.animationLevel===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="low"?"Minimal animations":N==="medium"?"Balanced animations":"Full animations"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Layout Density"}),r.jsx("div",{className:"space-y-2",children:["compact","comfortable"].map(N=>r.jsx("button",{onClick:()=>L(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.density===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="compact"?"Tight spacing":"Comfortable spacing"})]})},N))})]})]})]}),r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lighting & RGB"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Lighting Mode"}),r.jsx("div",{className:"space-y-2",children:["none","ambient","mood"].map(N=>r.jsx("button",{onClick:()=>$(N),className:`w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${e.lightingMode===N?"border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white capitalize",children:N}),r.jsx("span",{className:"text-gray-400 text-xs",children:N==="none"?"No lighting effects":N==="ambient"?"Subtle ambient light":N==="mood"?"Dynamic mood lighting":"Unknown mode"})]})},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"RGB Sync"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:"RGB Sync"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Sync with RGB devices"})]}),r.jsx("button",{onClick:()=>Q(!e.rgbSyncEnabled),className:`w-12 h-6 rounded-full transition-colors duration-200 ${e.rgbSyncEnabled?"bg-gaming-primary":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform duration-200 ${e.rgbSyncEnabled?"translate-x-6":"translate-x-0.5"}`})})]})})]})]})]})]}),n==="pages"&&r.jsxs("div",{className:"glass-morphism rounded-xl p-6 border border-white/10 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-gaming-primary to-gaming-secondary rounded-full"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Page-Specific Overrides"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"home",name:"Home",icon:"",description:"Dashboard and quick actions"},{id:"library",name:"Library",icon:"",description:"Game collection management"},{id:"identity",name:"Identity",icon:"",description:"Gaming profile and stats"},{id:"recommendations",name:"Recommendations",icon:"",description:"Personalized game suggestions"},{id:"integrations",name:"Integrations",icon:"",description:"Connected platforms"},{id:"settings",name:"Settings",icon:"",description:"App configuration"}].map(N=>r.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-600 hover:border-gaming-primary/50 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:N.icon}),r.jsx("h3",{className:"text-white font-medium",children:N.name})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:N.description}),r.jsxs("button",{onClick:()=>alert(`Page-specific customisation for ${N.name} coming soon!`),className:"w-full px-3 py-2 bg-gaming-primary/20 border border-gaming-primary/50 text-gaming-primary rounded-lg hover:bg-gaming-primary/30 transition-colors text-sm",children:["Customize ",N.name]})]},N.id))}),r.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-lg border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsx("h3",{className:"text-white font-medium",children:"Page-Specific Customisation"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Override global settings for specific pages to create unique experiences throughout your GamePilot interface."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Different themes per page"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Unique layouts and components"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Page-specific animations"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-300",children:"Custom color schemes"})]})]})]})]})]})]})})},XI=({onComplete:e})=>{w.useEffect(()=>{const s=setTimeout(()=>{e()},1800);return()=>clearTimeout(s)},[e]);const t={initial:{x:"-100vw",opacity:0,scale:.8},slide:{x:0,opacity:1,scale:1,transition:{x:{type:"spring",stiffness:100,damping:20,duration:.8},opacity:{duration:.6},scale:{type:"spring",stiffness:200,damping:15,duration:.4}}},settle:{scale:1.1,transition:{scale:{type:"spring",stiffness:300,damping:10,duration:.3}}},fadeOut:{opacity:0,scale:.9,transition:{duration:.5,ease:"easeInOut"}}},n={initial:{opacity:0},visible:{opacity:1,transition:{duration:.3}},fadeOut:{opacity:0,transition:{duration:.4,ease:"easeInOut"}}};return r.jsxs(V.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",variants:n,initial:"initial",animate:"visible",exit:"fadeOut",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx(V.div,{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gaming-primary rounded-full blur-3xl opacity-20",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),r.jsx(V.div,{className:"absolute bottom-1/4 right-1/4 w-40 h-40 bg-gaming-secondary rounded-full blur-3xl opacity-20",animate:{scale:[1.2,1,1.2],opacity:[.2,.3,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1.5}})]}),r.jsxs(V.div,{className:"relative z-10 flex flex-col items-center space-y-6",variants:t,initial:"initial",animate:"slide",exit:"fadeOut",children:[r.jsxs(V.div,{className:"relative",variants:t,animate:["slide","settle"],children:[r.jsx(V.div,{className:"absolute inset-0 w-32 h-32 md:w-40 md:h-40 bg-gaming-primary rounded-full blur-2xl opacity-30",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),r.jsx(V.img,{src:"/logo/a 3_4 angled disc lo.png",alt:"GamePilot",className:"relative w-32 h-32 md:w-40 md:h-40 object-contain filter drop-shadow-2xl",animate:{rotate:[0,2,-2,0],y:[0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),r.jsxs(V.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[r.jsx(V.h1,{className:"text-4xl md:text-6xl font-gaming font-bold bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",initial:{width:0},animate:{width:"auto"},transition:{delay:.8,duration:.6,ease:"easeOut"},children:"GamePilot"}),r.jsx(V.p,{className:"text-lg md:text-xl text-gray-300 mt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},children:"Your Gaming Journey Starts Here"})]}),r.jsx(V.div,{className:"flex space-x-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.3},children:[0,1,2].map(s=>r.jsx(V.div,{className:"w-2 h-2 bg-gaming-primary rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:s*.2,ease:"easeInOut"}},s))})]}),r.jsx(V.button,{className:"absolute bottom-8 right-8 px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.3},onClick:e,children:"Skip "})]})},jn=e=>{try{const t=new Audio;switch(e){case"click":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"success":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"transition":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break;case"complete":t.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSw";break}t.volume=.3,t.play().catch(()=>{})}catch{}},JI=({onComplete:e,skipOnboarding:t})=>{const[n,s]=w.useState(0),[i,a]=w.useState([]),o=ln();w.useEffect(()=>{n>0&&jn("transition")},[n]);const l=[{id:"welcome",title:"Welcome to GamePilot Beta! ",description:"Thank you for joining our beta program! You're among the first to experience the future of game discovery.",content:r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6",children:[r.jsx(V.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"text-8xl mb-6",children:""}),r.jsx(V.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-3xl font-bold text-white mb-4",children:"Welcome to GamePilot Beta!"}),r.jsx(V.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-lg text-gray-300 mb-6",children:"Thank you for joining our beta program! You're among the first to experience the future of game discovery."}),r.jsx(V.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-gray-400",children:"GamePilot uses AI to understand your gaming mood and recommend the perfect games from your library."}),r.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-gradient-to-r from-blue-900/40 to-purple-900/40 border border-blue-500/30 rounded-xl p-6 backdrop-blur-sm",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-4 text-lg",children:" Beta Features:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[r.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Steam library integration"})]}),r.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Mood-based recommendations"})]}),r.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Gaming analytics dashboard"})]}),r.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("span",{className:"text-gray-300",children:"Multi-platform support"})]})]})]})]})},{id:"steam-integration",title:"Connect Your Steam Library ",description:"Import your Steam games to get personalized recommendations based on your gaming mood.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Connect your Steam account to import your game library and unlock personalized recommendations."})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Why connect Steam?"}),r.jsxs("ul",{className:"text-sm space-y-2 text-gray-300",children:[r.jsx("li",{children:" Import your entire game library automatically"}),r.jsx("li",{children:" Get mood-based game recommendations"}),r.jsx("li",{children:" Track your gaming habits and patterns"}),r.jsx("li",{children:" Discover hidden gems in your collection"})]})]}),r.jsx("button",{onClick:()=>{jn("click"),o("/library"),Pt.info('Click "Import Steam" in your library to connect!')},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Connect Steam Library"})]})},{id:"mood-recommendations",title:"Discover Games by Mood ",description:"Tell us how you feel and we'll recommend the perfect games for your current mood.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Our AI analyzes your gaming preferences and current mood to suggest the perfect games."})]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{mood:"Chill",emoji:"",color:"bg-green-600"},{mood:"Competitive",emoji:"",color:"bg-red-600"},{mood:"Story",emoji:"",color:"bg-purple-600"},{mood:"Creative",emoji:"",color:"bg-yellow-600"}].map(({mood:f,emoji:p,color:g})=>r.jsxs("div",{className:`${g} rounded-lg p-3 text-center`,children:[r.jsx("div",{className:"text-2xl mb-1",children:p}),r.jsx("div",{className:"text-sm font-semibold",children:f})]},f))}),r.jsx("button",{onClick:()=>{jn("click"),o("/recommendations")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Try Mood Recommendations"})]})},{id:"feedback",title:"Help Us Improve! ",description:"Your feedback is crucial for shaping the future of GamePilot.",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"As a beta tester, your feedback helps us build the best game discovery platform."})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Ways to provide feedback:"}),r.jsxs("ul",{className:"text-sm space-y-2 text-gray-300",children:[r.jsx("li",{children:" Use the in-app feedback button"}),r.jsx("li",{children:" Report bugs and issues"}),r.jsx("li",{children:" Suggest new features"}),r.jsx("li",{children:" Share your experience on social media"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{Pt.info("Feedback button will be available in the app!")},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Give Feedback"}),r.jsx("button",{onClick:()=>window.open("https://github.com/gamepilot/gamepilot/issues","_blank"),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"Report Bug"})]})]})},{id:"support",title:"Support & Follow Us ",description:"Help us grow GamePilot and stay connected with our community!",content:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:""}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Support our development and follow our journey as we build the ultimate game discovery platform!"})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support Our Development"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[r.jsxs("button",{onClick:()=>{jn("click"),window.open("https://patreon.com/GamePilot?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink","_blank")},className:"bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Support on Patreon"})]}),r.jsxs("button",{onClick:()=>{jn("click"),window.open("https://www.crowdfunder.co.uk/p/qr/VlDoA4dy?utm_campaign=sharemodal&utm_medium=referral&utm_source=shortlink","_blank")},className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Back on Crowdfundr"})]})]}),r.jsx("h4",{className:"text-white font-semibold mb-3",children:"Follow Our Journey"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("button",{onClick:()=>{jn("click"),window.open("https://youtube.com/@gamepilot-dev?si=lhi91Ro2rz0eDbV5","_blank")},className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{children:"Subscribe on YouTube"})]})})]}),r.jsx("div",{className:"text-center text-sm text-gray-400 mt-4",children:r.jsx("p",{children:"Every support helps us build better features and reach more gamers! "})})]})},{id:"complete",title:"You're All Set! ",description:"Welcome to the GamePilot beta. Let's discover some amazing games!",content:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Beta Setup Complete!"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"You're now ready to explore GamePilot. Here are some quick actions to get you started:"}),r.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx("button",{onClick:()=>o("/library"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" View My Library"}),r.jsx("button",{onClick:()=>o("/recommendations"),className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" Get Recommendations"}),r.jsx("button",{onClick:()=>o("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:" View Analytics"})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-900/30 border border-yellow-500/30 rounded-lg",children:r.jsxs("p",{className:"text-yellow-400 text-sm",children:[r.jsx("strong",{children:"Beta Tip:"})," Check back regularly for new features and improvements!"]})})]})}];w.useEffect(()=>{if(t){e();return}},[t,e]);const c=()=>{const f=l[n].id;i.includes(f)||a([...i,f]),n<l.length-1?s(n+1):(jn("complete"),e(),Pt.success("Welcome to GamePilot Beta! "))},d=()=>{jn("click"),n>0&&s(n-1)},m=()=>{jn("click"),e(),Pt.info("Onboarding skipped. You can always access it later!")};if(t)return null;const u=l[n],h=(n+1)/l.length*100;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-black flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-4xl w-full",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"GamePilot Setup"}),r.jsxs("span",{className:"text-gray-400",children:["Step ",n+1," of ",l.length]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx(V.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5,ease:"easeInOut"}})}),r.jsx("div",{className:"flex justify-between mt-4",children:l.map((f,p)=>r.jsxs(V.div,{className:"flex flex-col items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:[r.jsx("div",{className:`w-3 h-3 rounded-full mb-2 transition-colors ${p<=n?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gray-600"}`}),r.jsx("span",{className:`text-xs ${p===n?"text-white font-semibold":"text-gray-500"}`,children:f.title.split(" ")[0]})]},f.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",n+1," of ",l.length]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(h),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})})]}),r.jsx(zE,{mode:"wait",children:r.jsxs(V.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-gray-700/50 shadow-2xl",children:[r.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:u.title}),r.jsx("p",{className:"text-gray-400",children:u.description})]}),r.jsx("div",{className:"mb-8",children:u.content}),r.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-3",children:[n>0&&r.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:" Previous"}),r.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-3 px-6 rounded-lg transition-colors",children:"Skip Setup"})]}),r.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-8 rounded-lg transition-all shadow-lg",children:n===l.length-1?" Get Started":"Next Step "})]})]},n)}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-900/30 border border-yellow-500/30 rounded-full",children:[r.jsx("span",{className:"text-yellow-400 text-sm font-semibold",children:"BETA"}),r.jsx("span",{className:"text-yellow-400 text-sm",children:"v1.0"})]})})]})})},ZI=({isOpen:e,onClose:t,userId:n})=>{const[s,i]=w.useState("general"),[a,o]=w.useState(""),[l,c]=w.useState(""),[d,m]=w.useState(""),[u,h]=w.useState(!1),[f,p]=w.useState(!1),g=[{value:"bug",label:"Bug Report",icon:"",color:"bg-red-600"},{value:"feature",label:"Feature Request",icon:"",color:"bg-blue-600"},{value:"improvement",label:"Improvement",icon:"",color:"bg-green-600"},{value:"general",label:"General Feedback",icon:"",color:"bg-purple-600"}],y=async x=>{if(x.preventDefault(),!a.trim()||!l.trim()){Pt.error("Please fill in all required fields");return}h(!0);try{const v={type:s,title:a.trim(),description:l.trim(),email:d.trim(),userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString(),userId:n};if((await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)p(!0),Pt.success("Thank you for your feedback! "),setTimeout(()=>{p(!1),o(""),c(""),m(""),t()},2e3);else throw new Error("Failed to submit feedback")}catch(v){console.error("Feedback submission error:",v),Pt.error("Failed to submit feedback. Please try again.")}finally{h(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Beta Feedback"}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Help us improve GamePilot with your feedback"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",title:"Close feedback form","aria-label":"Close feedback form",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"p-6",children:f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Feedback Submitted!"}),r.jsx("p",{className:"text-gray-300",children:"Thank you for helping us improve GamePilot. We'll review your feedback carefully."})]}):r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Feedback Type"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(({value:x,label:v,icon:b,color:j})=>r.jsx("button",{type:"button",onClick:()=>i(x),className:`p-3 rounded-lg border-2 transition-all ${s===x?`${j} border-transparent`:"bg-gray-700 border-gray-600 hover:border-gray-500"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:b}),r.jsx("span",{className:"text-sm font-medium",children:v})]})},x))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),r.jsx("input",{type:"text",id:"title",value:a,onChange:x=>o(x.target.value),placeholder:"Brief description of your feedback",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-2",children:"Description *"}),r.jsx("textarea",{id:"description",value:l,onChange:x=>c(x.target.value),placeholder:"Please provide detailed information about your feedback...",rows:6,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400 resize-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email (optional)"}),r.jsx("input",{type:"email",id:"email",value:d,onChange:x=>m(x.target.value),placeholder:"your@email.com",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-400"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"We'll only contact you if we need more information about your feedback"})]}),r.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Beta Program Info"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Your feedback helps us shape the future of GamePilot. We review all feedback carefully and use it to prioritize improvements and new features."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:opacity-50 text-white font-semibold rounded-lg transition-colors",children:u?"Submitting...":"Submit Feedback"})]})]})})]})}):null},e_=({onClick:e})=>{const[t,n]=w.useState(!1);return r.jsx("button",{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 hover:scale-110 z-40",title:"Send Feedback",children:r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-black text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:""}),t&&r.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg whitespace-nowrap",children:["Send Beta Feedback",r.jsx("div",{className:"absolute top-full right-2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})})};function t_(){const{games:e}=ye.getState();if(console.log(" Game Data Debug Analysis"),console.log("=".repeat(50)),!e||e.length===0){console.log(" No games found in library");return}console.log(` Total Games: ${e.length}`),console.log(`
 Sample Game Data Structure:`),e.slice(0,3).forEach((o,l)=>{var c;console.log(`
Game ${l+1}: ${o.title}`),console.log(`  ID: ${o.id}`),console.log("  Genres:",o.genres),console.log("  Genres type:",typeof o.genres),console.log(`  Play Status: ${o.playStatus}`),console.log(`  Hours Played: ${o.hoursPlayed}`),console.log("  Tags:",o.tags),console.log("  Platforms:",(c=o.platforms)==null?void 0:c.map(d=>d.name))}),console.log(`
 Genre Analysis:`);const t={};e.forEach(o=>{const l=typeof o.genres;t[l]=(t[l]||0)+1,Array.isArray(o.genres)&&o.genres.forEach((c,d)=>{d<3&&console.log(`  "${o.title}" genre ${d}:`,typeof c,c)})}),console.log(`
 Genre Data Types:`,t),console.log(`
 Play Status Distribution:`);const n={};e.forEach(o=>{n[o.playStatus]=(n[o.playStatus]||0)+1}),console.log(n);const s=e.reduce((o,l)=>o+(l.hoursPlayed||0),0),i=s/e.length;console.log(`
  Playtime Analysis:`),console.log(`  Total: ${s} hours`),console.log(`  Average: ${i.toFixed(1)} hours per game`);const a=e.filter(o=>o.playStatus==="completed").length;console.log(`  Completion Rate: ${(a/e.length*100).toFixed(1)}%`),console.log(`
`+"=".repeat(50)),console.log(" Debug Complete!")}typeof window<"u"&&(window.debugGameData=t_,console.log(" Game data debug command available: debugGameData()"));function n_(){const{games:e,setGames:t}=ye.getState();if(console.log(" Quick Genre Fix for Steam Games"),console.log("=".repeat(50)),!e||e.length===0){console.log(" No games found in library");return}console.log(` Processing ${e.length} games...`);let n=0;const s=e.map(i=>{if(i.genres.length===1&&(typeof i.genres[0]=="string"&&i.genres[0]==="unknown"||typeof i.genres[0]=="object"&&i.genres[0].name==="unknown")){n++;const o=i.title.toLowerCase(),l=[];if(o.includes("rpg")||o.includes("final fantasy")||o.includes("witcher")||o.includes("elder scrolls")||o.includes("dragon age")||o.includes("mass effect")){const c=Ot.find(d=>d.name.toLowerCase()==="rpg");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("shooter")||o.includes("fps")||o.includes("call of duty")||o.includes("counter strike")||o.includes("overwatch")||o.includes("apex")||o.includes("valorant")||o.includes("halo")||o.includes("doom")){const c=Ot.find(d=>d.name.toLowerCase()==="shooter");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("strategy")||o.includes("rts")||o.includes("civilization")||o.includes("starcraft")||o.includes("age of empires")){const c=Ot.find(d=>d.name.toLowerCase()==="strategy");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("action")||o.includes("devil may cry")||o.includes("bayonetta")||o.includes("god of war")){const c=Ot.find(d=>d.name.toLowerCase()==="action");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("adventure")||o.includes("zelda")||o.includes("tomb raider")||o.includes("uncharted")||o.includes("resident evil")){const c=Ot.find(d=>d.name.toLowerCase()==="adventure");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("racing")||o.includes("need for speed")||o.includes("gran turismo")||o.includes("forza")||o.includes("mario kart")){const c=Ot.find(d=>d.name.toLowerCase()==="racing");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(o.includes("sports")||o.includes("fifa")||o.includes("nba")||o.includes("nfl")||o.includes("football")||o.includes("basketball")){const c=Ot.find(d=>d.name.toLowerCase()==="sports");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}if(l.length===0){const c=Ot.find(d=>d.name.toLowerCase()==="action");c&&l.push({id:c.id,name:c.name,description:c.description,color:c.color,icon:void 0,subgenres:[]})}return console.log(` Updated: ${i.title}`),console.log(`   New genres: [${l.map(c=>c.name).join(", ")}]`),{...i,genres:l.slice(0,3)}}return i});t(s),console.log(`
`+"=".repeat(50)),console.log(" Genre fix complete!"),console.log(` Updated ${n} games`),console.log(` Total games: ${s.length}`),console.log(`
 Now run: testPersona() to see the improvements!`)}typeof window<"u"&&(window.quickGenreFix=n_,console.log(" Quick genre fix command available: quickGenreFix()"));const s_=w.lazy(()=>qx(()=>import("./Settings-f77b8ec7.js"),["assets/Settings-f77b8ec7.js","assets/emulatorLauncher-803a0f26.js"]).then(e=>({default:e.Settings}))),Xw=new p2({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function r_(){const{isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}=Ss(),[i,a]=w.useState(!0),[o,l]=w.useState(!1),[c,d]=w.useState(!1);w.useEffect(()=>{s();const h=localStorage.getItem("beta_onboarding_completed");l(!0)},[]);const m=()=>{a(!1)},u=()=>{l(!1),localStorage.setItem("beta_onboarding_completed","true")};return r.jsx(Bl,{onError:(h,f)=>{console.error("Global App Error:",h,f)},children:r.jsx(uv,{client:Xw,children:r.jsx(KI,{children:r.jsx(mw,{children:r.jsx(DS,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i?r.jsx(XI,{onComplete:m}):o?r.jsx(JI,{onComplete:u,skipOnboarding:!1}):r.jsxs(r.Fragment,{children:[r.jsx(i_,{isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}),r.jsx(BI,{}),r.jsx(qI,{}),r.jsx(e_,{onClick:()=>d(!0)}),r.jsx(ZI,{isOpen:c,onClose:()=>d(!1),userId:t==null?void 0:t.id})]})})})})})})}function i_({isAuthenticated:e,user:t,isLoading:n,initializeAuth:s}){const[i,a]=w.useState(!1),{actions:o}=ye();return w.useEffect(()=>{!n&&!t&&!i&&(a(!0),s())},[n,t,i,s]),w.useEffect(()=>{console.log(" Loading library..."),o.loadGames()},[o]),r.jsx(Bl,{children:r.jsx(mw,{children:r.jsx(uv,{client:Xw,children:r.jsxs("div",{className:"min-h-screen",children:[r.jsx(qw,{isAuthenticated:e,user:t}),r.jsxs(TS,{children:[r.jsx(it,{path:"/login",element:r.jsx(Qe,{children:r.jsx(FI,{})})}),r.jsx(it,{path:"/register",element:r.jsx(Qe,{children:r.jsx(zI,{})})}),r.jsx(it,{path:"/auth/callback/steam",element:r.jsx(Qe,{children:r.jsx(DI,{})})}),r.jsx(it,{path:"/",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(VM,{})})})})})}),r.jsx(it,{path:"/library",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(b0,{})})})})})}),r.jsx(it,{path:"/library/add",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(b0,{})})})})})}),r.jsx(it,{path:"/library/game/:gameId",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(yA,{})})})})})}),r.jsx(it,{path:"/identity",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(jI,{})})})})})}),r.jsx(it,{path:"/analytics",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(II,{})})})})})}),r.jsx(it,{path:"/insights",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(OI,{})})})})})}),r.jsx(it,{path:"/integrations",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(CI,{})})})})})}),r.jsx(it,{path:"/settings",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(w.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(s_,{})})})})})})}),r.jsx(it,{path:"/customisation",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(QI,{})})})})})}),r.jsx(it,{path:"/help",element:r.jsx(Yt,{children:r.jsx(Qe,{children:r.jsx(Kt,{showNavigation:!1,children:r.jsx(qt,{children:r.jsx(VI,{})})})})})}),r.jsx(it,{path:"*",element:r.jsx(rv,{to:"/",replace:!0})})]}),r.jsx(HI,{})]})})})})}od.createRoot(document.getElementById("root")).render(r.jsx(re.StrictMode,{children:r.jsx(r_,{})}));export{ke as M,Io as a,ln as b,Dl as c,xv as d,Ow as e,ye as f,vv as g,Jl as h,Zs as i,r as j,Pa as k,zw as l,V as m,Hm as p,w as r,ec as u};
