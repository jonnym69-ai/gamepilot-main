"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EditModePanel = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const customisationStore_1 = require("./customisationStore");
const EditModePanel = ({ pageId, isOpen, onClose }) => {
    const currentPageSettings = (0, customisationStore_1.useCustomisation)(pageId);
    const { setPageSettings } = (0, customisationStore_1.useCustomisationActions)();
    // Local state for form inputs
    const [tempImageUrl, setTempImageUrl] = (0, react_1.useState)('');
    const [customColor, setCustomColor] = (0, react_1.useState)(currentPageSettings.accentColor || '#3b82f6');
    const handleBackgroundModeChange = (mode) => {
        setPageSettings(pageId, { backgroundMode: mode });
    };
    const handleBackgroundImageSubmit = () => {
        if (tempImageUrl.trim()) {
            setPageSettings(pageId, { backgroundImageUrl: tempImageUrl.trim() });
            setTempImageUrl('');
        }
    };
    const handleAccentColorChange = (color) => {
        setCustomColor(color);
        setPageSettings(pageId, { accentColor: color });
    };
    const handleAnimationLevelChange = (level) => {
        setPageSettings(pageId, { animationLevel: level });
    };
    const handleDensityChange = (density) => {
        setPageSettings(pageId, { density });
    };
    const handleLightingModeChange = (mode) => {
        setPageSettings(pageId, { lightingMode: mode });
    };
    const handleReset = () => {
        // Reset to global settings by clearing page overrides
        const { resetPageSettings } = (0, customisationStore_1.useCustomisationActions)();
        resetPageSettings(pageId);
    };
    if (!isOpen)
        return null;
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("div", { className: "fixed inset-0 bg-black/50 backdrop-blur-sm z-40", onClick: onClose }), (0, jsx_runtime_1.jsx)("div", { className: "fixed right-0 top-0 h-full w-96 bg-gray-900/95 backdrop-blur-md border-l border-white/10 z-50 overflow-y-auto shadow-2xl", children: (0, jsx_runtime_1.jsxs)("div", { className: "p-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gaming-primary to-gaming-secondary rounded-lg flex items-center justify-center", children: (0, jsx_runtime_1.jsx)("span", { className: "text-white text-sm", children: "\u2728" }) }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white", children: "Customise Page" }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-400", children: pageId })] })] }), (0, jsx_runtime_1.jsx)("button", { onClick: onClose, className: "w-8 h-8 flex items-center justify-center rounded-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-400 hover:text-white transition-all duration-200", title: "Close customisation panel", "aria-label": "Close customisation panel", children: (0, jsx_runtime_1.jsx)("span", { className: "text-lg", children: "\u00D7" }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-3 gap-2 mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center p-2 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: "Theme" }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-white capitalize", children: currentPageSettings.backgroundMode || 'gradient' })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-2 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: "Density" }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-white capitalize", children: currentPageSettings.density || 'comfortable' })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center p-2 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: "Effects" }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-white capitalize", children: currentPageSettings.lightingMode || 'none' })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-4 h-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded" }), (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white", children: "Background Theme" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400", children: ["Current: ", (0, jsx_runtime_1.jsx)("span", { className: "text-gaming-accent capitalize font-medium", children: currentPageSettings.backgroundMode || 'gradient' })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 mt-2", children: currentPageSettings.backgroundMode === 'solid' ? 'ðŸŽ¨ Clean solid color background for minimal distraction' :
                                                currentPageSettings.backgroundMode === 'gradient' ? 'ðŸŒ… Beautiful static gradient background' :
                                                    'ðŸ–¼ï¸ Custom image background for personalization' })] }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: ['solid', 'gradient', 'image'].map((mode) => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleBackgroundModeChange(mode), className: `w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${currentPageSettings.backgroundMode === mode
                                            ? 'border-gaming-primary bg-gaming-primary/20 shadow-lg'
                                            : 'border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50'}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-4 h-4 rounded-full ${mode === 'solid' ? 'bg-gray-600' :
                                                                mode === 'gradient' ? 'bg-gradient-to-r from-blue-500 to-purple-500' :
                                                                    'bg-gray-600'}` }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-white text-sm capitalize font-medium", children: mode }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: mode === 'solid' ? 'Minimal & clean' :
                                                                        mode === 'gradient' ? 'Elegant & modern' :
                                                                            'Personal & unique' })] })] }), currentPageSettings.backgroundMode === mode && ((0, jsx_runtime_1.jsx)("div", { className: "w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)("span", { className: "text-white text-xs", children: "\u2713" }) }))] }) }, mode))) })] }), currentPageSettings.backgroundMode === 'image' && ((0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white mb-3", children: "Background Image" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsx)("input", { type: "text", value: tempImageUrl, onChange: (e) => setTempImageUrl(e.target.value), placeholder: "Enter image URL...", className: "w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 text-sm focus:border-gaming-primary focus:outline-none focus:ring-2 focus:ring-gaming-primary/20 transition-all duration-300", "aria-label": "Enter background image URL" }), (0, jsx_runtime_1.jsx)("button", { onClick: handleBackgroundImageSubmit, className: "w-full px-4 py-3 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm hover:scale-[1.02] shadow-lg shadow-gaming-primary/30", children: "Set Image" }), currentPageSettings.backgroundImageUrl && ((0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-gray-800/50 rounded-lg border border-white/5", children: (0, jsx_runtime_1.jsx)("p", { className: "text-gray-400 text-xs truncate", children: currentPageSettings.backgroundImageUrl }) }))] })] })), (0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-4 h-4 rounded", style: { backgroundColor: currentPageSettings.accentColor || '#3b82f6' } }), (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white", children: "Accent Color" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400", children: ["Current: ", (0, jsx_runtime_1.jsx)("span", { className: "text-gaming-accent font-medium", children: currentPageSettings.accentColor || '#3b82f6' })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 mt-2", children: "\uD83C\uDFA8 Choose the primary accent color for buttons, links, and highlights" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-400 mb-2", children: "Quick Presets" }), (0, jsx_runtime_1.jsx)("div", { className: "grid grid-cols-8 gap-2", children: [
                                                '#3b82f6', '#8b5cf6', '#10b981', '#f59e0b',
                                                '#ef4444', '#ec4899', '#06b6d4', '#84cc16',
                                                '#f97316', '#a855f7', '#14b8a6', '#eab308',
                                                '#dc2626', '#db2777', '#0891b2', '#65a30d'
                                            ].map((color) => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleAccentColorChange(color), className: `w-full aspect-square rounded-lg border-2 transition-all duration-300 ${currentPageSettings.accentColor === color
                                                    ? 'border-white scale-110 shadow-lg'
                                                    : 'border-gray-600 hover:border-gray-500 hover:scale-105'}`, style: { backgroundColor: color }, title: `Select ${color} as accent color`, "aria-label": `Select ${color} as accent color` }, color))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-400", children: "Custom Color" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)("input", { type: "color", value: customColor, onChange: (e) => handleAccentColorChange(e.target.value), className: "w-16 h-10 bg-gray-800/50 border border-gray-600 rounded-lg cursor-pointer transition-all duration-300 hover:border-gaming-primary", title: "Choose custom accent color", "aria-label": "Choose custom accent color" }), (0, jsx_runtime_1.jsx)("input", { type: "text", value: customColor, onChange: (e) => handleAccentColorChange(e.target.value), placeholder: "#3b82f6", className: "flex-1 px-3 py-2 bg-gray-800/50 border border-gray-600 rounded-lg text-white text-sm focus:border-gaming-primary focus:outline-none transition-all duration-300", title: "Enter hex color code", "aria-label": "Enter hex color code" }), (0, jsx_runtime_1.jsx)("button", { onClick: () => handleAccentColorChange(customColor), className: "px-4 py-2 bg-gaming-primary text-white rounded-lg hover:bg-gaming-primary/80 transition-all duration-300 text-sm", children: "Apply" })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white mb-3", children: "Animation Level" }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400", children: ["Current: ", (0, jsx_runtime_1.jsx)("span", { className: "text-gaming-accent capitalize", children: currentPageSettings.animationLevel || 'medium' })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: currentPageSettings.animationLevel === 'low' ? 'â€¢ Minimal UI animations, no background effects' :
                                                currentPageSettings.animationLevel === 'medium' ? 'â€¢ Balanced UI animations, no background effects' :
                                                    'â€¢ Enhanced UI animations, no background effects' })] }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: ['low', 'medium', 'high'].map((level) => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleAnimationLevelChange(level), className: `w-full p-3 rounded-lg border-2 transition-all duration-300 text-left hover:scale-[1.02] ${currentPageSettings.animationLevel === level
                                            ? 'border-gaming-primary bg-gaming-primary/20 shadow-lg shadow-gaming-primary/30'
                                            : 'border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50'}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-white text-sm capitalize", children: level }), (0, jsx_runtime_1.jsx)("span", { className: "text-gray-400 text-xs", children: level === 'low' ? 'Minimal' : level === 'medium' ? 'Balanced' : 'Full' })] }) }, level))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-4 h-4 bg-gray-600 rounded" }), (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white", children: "Layout Density" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400", children: ["Current: ", (0, jsx_runtime_1.jsx)("span", { className: "text-gaming-accent capitalize font-medium", children: currentPageSettings.density || 'comfortable' })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 mt-2", children: currentPageSettings.density === 'compact' ? 'ðŸ“± Tighter spacing, more content visible' :
                                                'â˜ï¸ Comfortable spacing for better readability' })] }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: ['compact', 'comfortable'].map((density) => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleDensityChange(density), className: `w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${currentPageSettings.density === density
                                            ? 'border-gaming-primary bg-gaming-primary/20 shadow-lg'
                                            : 'border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50'}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-4 h-4 rounded ${density === 'compact' ? 'bg-gray-700' : 'bg-gray-600'}` }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-white text-sm capitalize font-medium", children: density }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: density === 'compact' ? 'More content, less space' : 'Balanced layout' })] })] }), currentPageSettings.density === density && ((0, jsx_runtime_1.jsx)("div", { className: "w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)("span", { className: "text-white text-xs", children: "\u2713" }) }))] }) }, density))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-4 h-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded" }), (0, jsx_runtime_1.jsx)("h4", { className: "text-sm font-medium text-white", children: "Lighting Effects" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mb-3 p-3 bg-gray-800/50 rounded-lg border border-white/5", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400", children: ["Current: ", (0, jsx_runtime_1.jsx)("span", { className: "text-gaming-accent capitalize font-medium", children: currentPageSettings.lightingMode || 'none' })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-xs text-gray-500 mt-2", children: currentPageSettings.lightingMode === 'none' ? 'ðŸš« No lighting effects - eye-friendly' :
                                                currentPageSettings.lightingMode === 'mood' ? 'ðŸŽ­ Mood-based lighting effects' :
                                                    'ðŸŒˆ RGB synchronized lighting' })] }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-2", children: ['none', 'mood', 'rgb-sync'].map((mode) => ((0, jsx_runtime_1.jsx)("button", { onClick: () => handleLightingModeChange(mode), className: `w-full p-3 rounded-lg border-2 transition-all duration-300 text-left ${currentPageSettings.lightingMode === mode
                                            ? 'border-gaming-primary bg-gaming-primary/20 shadow-lg'
                                            : 'border-gray-600 bg-gray-800/50 hover:border-gray-500 hover:bg-gray-700/50'}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-4 h-4 rounded-full ${mode === 'none' ? 'bg-gray-600' :
                                                                mode === 'mood' ? 'bg-purple-500' :
                                                                    'bg-gradient-to-r from-red-500 to-green-500'}` }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-white text-sm capitalize font-medium", children: mode.replace('-', ' ') }), (0, jsx_runtime_1.jsx)("div", { className: "text-xs text-gray-400", children: mode === 'none' ? 'Safe & comfortable' :
                                                                        mode === 'mood' ? 'Dynamic mood lighting' :
                                                                            'RGB effects' })] })] }), currentPageSettings.lightingMode === mode && ((0, jsx_runtime_1.jsx)("div", { className: "w-5 h-5 bg-gaming-primary rounded-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)("span", { className: "text-white text-xs", children: "\u2713" }) }))] }) }, mode))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3 pt-4 border-t border-gray-700", children: [(0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 gap-2", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: handleReset, className: "px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u21BA" }), "Reset"] }), (0, jsx_runtime_1.jsxs)("button", { onClick: () => {
                                                // Save current settings as global defaults
                                                const { setGlobalSettings } = (0, customisationStore_1.useCustomisationActions)();
                                                setGlobalSettings(currentPageSettings);
                                            }, className: "px-4 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-300 text-sm flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u2605" }), "Save as Default"] })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: onClose, className: "w-full px-4 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-all duration-300 text-sm font-medium shadow-lg flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u2713" }), "Done - Apply Changes"] })] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-4 p-3 bg-gray-800/30 rounded-lg border border-gray-700", children: (0, jsx_runtime_1.jsxs)("p", { className: "text-xs text-gray-400 mb-2", children: ["\uD83D\uDCA1 ", (0, jsx_runtime_1.jsx)("strong", { children: "Tip:" }), " Changes are applied instantly. Use \"Save as Default\" to make these settings apply to all pages."] }) })] }) })] }));
};
exports.EditModePanel = EditModePanel;
