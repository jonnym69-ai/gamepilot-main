"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GameDetailsModal = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const GameDetailsModal = ({ game, onClose, onLaunchGame }) => {
    if (!game)
        return null;
    const handlePlayNow = () => {
        if (game.appId) {
            onLaunchGame(game.appId);
            onClose();
        }
        else {
            console.warn('No appId found for game:', game.title);
        }
    };
    const formatPlaytime = (hours) => {
        if (!hours)
            return '0h';
        const wholeHours = Math.floor(hours);
        const minutes = Math.round((hours - wholeHours) * 60);
        return minutes > 0 ? `${wholeHours}h ${minutes}m` : `${wholeHours}h`;
    };
    return ((0, jsx_runtime_1.jsx)("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4", onClick: onClose, children: (0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto", onClick: (e) => e.stopPropagation(), children: [(0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)("div", { className: "aspect-video w-full bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/20", children: game.coverImage ? ((0, jsx_runtime_1.jsx)("img", { src: game.coverImage, alt: game.title, className: "w-full h-full object-cover" })) : ((0, jsx_runtime_1.jsx)("div", { className: "w-full h-full flex items-center justify-center", children: (0, jsx_runtime_1.jsx)("div", { className: "text-6xl text-gray-500", children: "\uD83C\uDFAE" }) })) }), (0, jsx_runtime_1.jsx)("button", { onClick: onClose, className: "absolute top-4 right-4 w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors", children: "\u2715" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "p-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-3xl font-bold text-white mb-2", children: game.title }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-wrap items-center gap-4 text-sm text-gray-300", children: [game.developer && ((0, jsx_runtime_1.jsxs)("span", { children: ["Developer: ", game.developer] })), game.releaseDate && ((0, jsx_runtime_1.jsxs)("span", { children: ["Released: ", new Date(game.releaseDate).getFullYear()] })), game.hoursPlayed && ((0, jsx_runtime_1.jsxs)("span", { children: ["Playtime: ", formatPlaytime(game.hoursPlayed)] }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4 mb-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("div", { className: `w-3 h-3 rounded-full ${game.playStatus === 'playing' ? 'bg-green-500' :
                                                game.playStatus === 'completed' ? 'bg-blue-500' :
                                                    game.playStatus === 'backlog' ? 'bg-yellow-500' :
                                                        'bg-gray-500'}` }), (0, jsx_runtime_1.jsx)("span", { className: "text-white capitalize", children: game.playStatus || 'Unknown' })] }), (0, jsx_runtime_1.jsx)("button", { onClick: handlePlayNow, className: "px-6 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold hover:opacity-90 transition-all", children: "\u25B6\uFE0F Play Now" })] }), game.genres && game.genres.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white mb-3", children: "Genres" }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: game.genres.map((genre) => ((0, jsx_runtime_1.jsx)("span", { className: "px-3 py-1 bg-gaming-accent/20 rounded-full text-gaming-accent text-sm", children: genre.name || genre.description }, genre.id))) })] })), game.tags && game.tags.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white mb-3", children: "Tags" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-wrap gap-2", children: [game.tags.slice(0, 10).map((tag) => ((0, jsx_runtime_1.jsx)("span", { className: "px-3 py-1 bg-gray-700 rounded text-gray-300 text-sm", children: tag }, tag))), game.tags.length > 10 && ((0, jsx_runtime_1.jsxs)("span", { className: "px-3 py-1 bg-gray-700 rounded text-gray-400 text-sm", children: ["+", game.tags.length - 10, " more"] }))] })] })), game.description && ((0, jsx_runtime_1.jsxs)("div", { className: "mb-6", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white mb-3", children: "Description" }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-300 leading-relaxed", children: game.description })] })), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [game.hoursPlayed && ((0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-800 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-white", children: formatPlaytime(game.hoursPlayed) }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-400", children: "Total Playtime" })] })), game.localSessionCount && ((0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-800 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-2xl font-bold text-white", children: game.localSessionCount }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-400", children: "Sessions" })] })), game.localSessionMinutes && ((0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-800 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold text-white", children: [Math.floor(game.localSessionMinutes / 60), "h"] }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-400", children: "Local Time" })] })), game.userRating && ((0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-800 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-2xl font-bold text-white", children: ["\u2B50 ", game.userRating] }), (0, jsx_runtime_1.jsx)("div", { className: "text-sm text-gray-400", children: "Your Rating" })] }))] })] })] }) }));
};
exports.GameDetailsModal = GameDetailsModal;
