"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GameDetailModal = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_router_dom_1 = require("react-router-dom");
const framer_motion_1 = require("framer-motion");
const useLibraryStore_1 = require("../stores/useLibraryStore");
const launchGame_1 = require("../utils/launchGame");
const steamStore_1 = require("../services/steamStore");
const priceStore_1 = require("../stores/priceStore");
const gameDetail_1 = require("../components/gameDetail");
const GameDetailModal = () => {
    const { id } = (0, react_router_dom_1.useParams)();
    const games = (0, useLibraryStore_1.useLibraryStore)(state => state.games);
    const game = games.find(g => g.id === id);
    // Extract hero image from enriched Steam data
    const heroImage = game ? (game.capsuleImage || game.headerImage || game.smallHeaderImage || game.coverImage) : null;
    // Scroll-based motion values for parallax effect
    const { scrollY } = (0, framer_motion_1.useScroll)();
    const y = (0, framer_motion_1.useTransform)(scrollY, [0, 300], [0, -80]);
    // State for Steam store data
    const [storeData, setStoreData] = (0, react_1.useState)(null);
    const [isLoading, setIsLoading] = (0, react_1.useState)(false);
    const [error, setError] = (0, react_1.useState)(null);
    // Price store for caching
    const { actions } = (0, priceStore_1.usePriceStore)();
    // Get mood tags for game (using tags directly)
    const gameMoods = game?.tags || [];
    // Fetch Steam store data on component mount
    (0, react_1.useEffect)(() => {
        const fetchStoreData = async () => {
            if (!game)
                return;
            // Extract appId from game.id (Steam games use format "steam-{appId}")
            const appIdMatch = game.id?.toString().match(/^steam-(\d+)$/);
            const appId = appIdMatch ? parseInt(appIdMatch[1], 10) : null;
            if (!appId) {
                setError('No valid Steam app ID found');
                return;
            }
            setIsLoading(true);
            setError(null);
            try {
                const data = await (0, steamStore_1.fetchSteamStoreData)(appId);
                if (data) {
                    setStoreData(data);
                    // Cache price information
                    const priceInfo = (0, steamStore_1.parsePriceInfo)(data);
                    if (priceInfo) {
                        actions.setPrice(appId, priceInfo);
                    }
                }
                else {
                    setError('Failed to fetch Steam store data');
                }
            }
            catch (err) {
                setError('Error fetching Steam store data');
            }
            finally {
                setIsLoading(false);
            }
        };
        fetchStoreData();
    }, [game]);
    const handleLaunch = () => {
        // Extract appId from game.id (Steam games use format "steam-{appId}")
        const appIdMatch = game?.id?.toString().match(/^steam-(\d+)$/);
        const appId = appIdMatch ? parseInt(appIdMatch[1], 10) : null;
        if (appId) {
            (0, launchGame_1.launchGame)(appId);
        }
        else {
            console.warn('No valid appId found for game:', game?.title);
        }
    };
    if (!game) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-6xl mb-4", children: "\uD83C\uDFAE" }), (0, jsx_runtime_1.jsx)("div", { className: "text-white text-xl mb-2", children: "Game Not Found" }), (0, jsx_runtime_1.jsx)("div", { className: "text-gray-300", children: "The requested game could not be found in your library." }), (0, jsx_runtime_1.jsx)("button", { onClick: () => window.history.back(), className: "mt-4 px-6 py-2 bg-gaming-accent text-white rounded-lg hover:bg-gaming-accent/80 transition-colors", children: "Go Back" })] }) }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { className: "min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker", children: [(0, jsx_runtime_1.jsxs)("div", { className: "relative w-full h-[400px] mb-8 overflow-hidden", children: [(0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { style: { y }, className: "absolute inset-0", children: [(0, jsx_runtime_1.jsx)("img", { src: heroImage || 'https://via.placeholder.com/1920x400/1e3a8a/ffffff?text=Game+Background', alt: game?.title || 'Game', className: "w-full h-full object-cover scale-105" }), (0, jsx_runtime_1.jsx)("div", { className: "absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-black/90" }), (0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { className: "absolute inset-0 bg-gradient-to-r from-purple-900/10 via-transparent to-blue-900/10", animate: { opacity: [0.3, 0.6, 0.3] }, transition: { duration: 4, repeat: Infinity } })] }), (0, jsx_runtime_1.jsx)("div", { className: "absolute bottom-0 left-0 right-0 p-8", children: (0, jsx_runtime_1.jsx)("div", { className: "container mx-auto", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-end justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)("div", { className: "mb-3", children: (0, jsx_runtime_1.jsxs)("span", { className: "px-3 py-1 bg-amber-500/20 border border-amber-500/30 rounded-full text-amber-300 text-xs font-medium backdrop-blur-sm", children: ["\uD83D\uDD70\uFE0F From this era: ", game?.releaseYear || 'Classic'] }) }), (0, jsx_runtime_1.jsx)("h1", { className: "text-5xl font-bold text-white drop-shadow-2xl mb-2", children: game?.title }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4 text-white/80 text-lg", children: [(0, jsx_runtime_1.jsx)("span", { children: game?.platforms?.map(platform => platform.name).join(' â€¢ ') || 'Unknown Platform' }), game?.hoursPlayed && ((0, jsx_runtime_1.jsxs)("span", { className: "flex items-center gap-1", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u23F1\uFE0F" }), Math.floor(game.hoursPlayed), "h played"] }))] })] }), (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.button, { onClick: handleLaunch, className: "px-8 py-4 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-xl font-bold text-lg transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-gaming-accent/50 flex items-center gap-3 backdrop-blur-sm border border-white/20", whileHover: { scale: 1.05 }, whileTap: { scale: 0.95 }, children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\u25B6\uFE0F" }), (0, jsx_runtime_1.jsx)("span", { children: "Launch Game" })] })] }) }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "container mx-auto px-4 py-8", children: (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-4 gap-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "lg:col-span-3 space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "glass-morphism rounded-xl p-8", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-3xl font-bold text-white mb-6 flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\uD83C\uDFAD" }), "Identity & Mood"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "Current Mood Tags" }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-3", children: gameMoods.length > 0 ? (gameMoods.map((mood) => ((0, jsx_runtime_1.jsxs)("span", { className: "px-4 py-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-500/30 rounded-full text-sm text-purple-200 backdrop-blur-sm", children: [mood === 'Chill' && 'ðŸ˜Œ Chill', mood === 'Competitive' && 'ðŸ† Competitive', mood === 'Story' && 'ðŸ“– Story', mood === 'Creative' && 'ðŸŽ¨ Creative', mood === 'Social' && 'ðŸ‘¥ Social', mood === 'Dark' && 'ðŸŒ™ Dark', mood === 'Fast-Paced' && 'âš¡ Fast-Paced', mood] }, mood)))) : ((0, jsx_runtime_1.jsx)("span", { className: "text-gray-400", children: "No mood tags assigned" })) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "What this game says about you" }), (0, jsx_runtime_1.jsx)("div", { className: "bg-gray-800/50 rounded-lg p-4 border border-gray-700/50", children: (0, jsx_runtime_1.jsxs)("p", { className: "text-gray-300 leading-relaxed", children: [gameMoods.includes('Competitive') && "You're driven by achievement and enjoy testing your skills against others. ", gameMoods.includes('Story') && "You appreciate deep narratives and emotional storytelling experiences. ", gameMoods.includes('Creative') && "You love self-expression and building unique experiences. ", gameMoods.includes('Social') && "You value connection and shared experiences with others. ", gameMoods.includes('Chill') && "You prefer relaxed, stress-free gaming sessions. ", gameMoods.includes('Dark') && "You're drawn to mysterious and atmospheric experiences. ", gameMoods.includes('Fast-Paced') && "You thrive on adrenaline and quick decision-making. ", !gameMoods.length && "This game's personality is waiting to be discovered through your playstyle."] }) })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "When you usually play this" }), (0, jsx_runtime_1.jsx)("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3", children: game?.hoursPlayed && game.hoursPlayed > 20 ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-blue-300 text-sm font-medium", children: "Weekend" }), (0, jsx_runtime_1.jsx)("div", { className: "text-blue-100 text-xs mt-1", children: "Deep Sessions" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-purple-500/20 border border-purple-500/30 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-purple-300 text-sm font-medium", children: "Evening" }), (0, jsx_runtime_1.jsx)("div", { className: "text-purple-100 text-xs mt-1", children: "Wind Down" })] })] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-green-500/20 border border-green-500/30 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-green-300 text-sm font-medium", children: "Quick Breaks" }), (0, jsx_runtime_1.jsx)("div", { className: "text-green-100 text-xs mt-1", children: "Short Sessions" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-3 text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-yellow-300 text-sm font-medium", children: "Exploring" }), (0, jsx_runtime_1.jsx)("div", { className: "text-yellow-100 text-xs mt-1", children: "First Time" })] })] })) })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "glass-morphism rounded-xl p-8", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-3xl font-bold text-white mb-6 flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\uD83C\uDFAE" }), "Game Details"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex justify-center mb-8", children: (0, jsx_runtime_1.jsxs)("div", { className: "relative w-64 h-96 rounded-xl overflow-hidden cinematic-shadow", children: [(0, jsx_runtime_1.jsx)("img", { src: game.coverImage || 'https://via.placeholder.com/300x400/8b5cf6/ffffff?text=Game+Cover', alt: game.title, className: "w-full h-full object-cover" }), (0, jsx_runtime_1.jsx)("div", { className: "absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent" })] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-2xl font-bold text-white", children: game.title }), (0, jsx_runtime_1.jsx)("div", { className: "flex items-center gap-2", children: (0, jsx_runtime_1.jsxs)("span", { className: `px-3 py-1 rounded-full text-xs font-medium ${game.playStatus === 'playing' ? 'bg-green-500 text-white' :
                                                                            game.playStatus === 'completed' ? 'bg-blue-500 text-white' :
                                                                                game.playStatus === 'backlog' ? 'bg-yellow-500 text-white' :
                                                                                    'bg-gray-500 text-white'}`, children: [game.playStatus === 'playing' && 'â–¶ï¸ Playing', game.playStatus === 'completed' && 'âœ… Completed', game.playStatus === 'backlog' && 'ðŸ“‹ Backlog', game.playStatus === 'paused' && 'â¸ï¸ Paused', game.playStatus === 'abandoned' && 'ðŸš« Abandoned'] }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "text-gray-300", children: [(0, jsx_runtime_1.jsx)("p", { className: "mb-2", children: game.platforms?.map(platform => platform.name).join(' â€¢ ') || 'Unknown Platform' }), game.hoursPlayed && ((0, jsx_runtime_1.jsxs)("p", { className: "mb-2", children: ["Playtime: ", Math.floor(game.hoursPlayed), "h"] })), game.tags && game.tags.length > 0 && ((0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-2", children: game.tags?.map((tag, index) => {
                                                                        return ((0, jsx_runtime_1.jsx)("span", { className: "px-3 py-1 bg-gaming-accent/20 rounded-full text-xs text-gaming-accent", children: tag }, `${tag}-${index}`));
                                                                    }) }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-4 mt-6 mb-8", children: [(0, jsx_runtime_1.jsxs)("button", { onClick: handleLaunch, className: "px-6 py-3 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u25B6\uFE0F" }), "Play"] }), (0, jsx_runtime_1.jsx)("button", { className: "px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold transition-colors", children: "\uD83D\uDCCA View Stats" }), (0, jsx_runtime_1.jsx)("button", { className: "px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-semibold transition-colors", children: "\u2699\uFE0F Settings" })] }), storeData && ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white", children: "Store Information" }), (0, jsx_runtime_1.jsx)(gameDetail_1.PriceBadge, { priceInfo: storeData ? (0, steamStore_1.parsePriceInfo)(storeData) : undefined })] }), storeData.data.screenshots && storeData.data.screenshots.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "Screenshots" }), (0, jsx_runtime_1.jsx)(gameDetail_1.ScreenshotCarousel, { screenshots: storeData.data.screenshots })] })), storeData.data.movies && storeData.data.movies.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "Trailer" }), (0, jsx_runtime_1.jsx)(gameDetail_1.TrailerPlayer, { movies: storeData.data.movies })] })), (0, jsx_runtime_1.jsx)(gameDetail_1.InfoSection, { releaseDate: storeData.data.release_date.date, developers: storeData.data.developers, publishers: storeData.data.publishers, genres: storeData.data.genres, platforms: storeData.data.platforms, achievements: storeData.data.achievements }), storeData.data.categories && storeData.data.categories.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "Tags" }), (0, jsx_runtime_1.jsx)(gameDetail_1.TagsList, { tags: storeData.data.categories })] })), storeData.data.detailed_description && ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-4", children: "About" }), (0, jsx_runtime_1.jsx)("div", { className: "text-gray-300 prose prose-invert max-w-none", dangerouslySetInnerHTML: { __html: storeData.data.detailed_description } })] }))] })), isLoading && ((0, jsx_runtime_1.jsxs)("div", { className: "text-center py-8", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-8 h-8 border-2 border-gaming-accent border-t-transparent animate-spin rounded-full mx-auto mb-4" }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-300", children: "Loading Steam store data..." })] })), error && ((0, jsx_runtime_1.jsxs)("div", { className: "text-center py-8", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-red-400 mb-4", children: "\u26A0\uFE0F" }), (0, jsx_runtime_1.jsx)("p", { className: "text-gray-300", children: error })] }))] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "lg:col-span-1 space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "glass-morphism rounded-xl p-6", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-2xl font-bold text-white mb-6 flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\uD83D\uDCCA" }), "Stats & History"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-gray-800/50 rounded-lg p-4 border border-gray-700/50", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center mb-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-300 text-sm", children: "Total Playtime" }), (0, jsx_runtime_1.jsx)("span", { className: "text-white font-bold", children: game?.hoursPlayed ? `${Math.floor(game.hoursPlayed)}h ${Math.floor((game.hoursPlayed % 1) * 60)}m` : '0h' })] }), game?.lastPlayed && ((0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-300 text-sm", children: "Last Played" }), (0, jsx_runtime_1.jsx)("span", { className: "text-gray-400 text-sm", children: new Date(game.lastPlayed).toLocaleDateString() })] }))] }), storeData?.data.achievements && ((0, jsx_runtime_1.jsx)("div", { className: "bg-gray-800/50 rounded-lg p-4 border border-gray-700/50", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-300 text-sm", children: "Achievements" }), (0, jsx_runtime_1.jsx)("span", { className: "text-white font-bold", children: storeData.data.achievements.total || 0 })] }) })), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white mb-3", children: "Recent Sessions" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [game?.lastPlayed && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 text-sm", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-2 h-2 bg-green-500 rounded-full" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-gray-300", children: [new Date(game.lastPlayed).toLocaleDateString(), " - ", game?.hoursPlayed ? `${Math.floor(game.hoursPlayed)}h` : 'Quick session'] })] })), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 text-sm", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-2 h-2 bg-gray-500 rounded-full" }), (0, jsx_runtime_1.jsx)("span", { className: "text-gray-400", children: "First played - Added to library" })] })] })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "glass-morphism rounded-xl p-6", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-2xl font-bold text-white mb-6 flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\u2699\uFE0F" }), "Actions"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("button", { className: "w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\uD83C\uDFF7\uFE0F" }), "Add Tags"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\uD83D\uDCDA" }), "Add to Shelf"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u2705" }), "Mark as Completed"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u2B50" }), "Rate Mood"] }), (0, jsx_runtime_1.jsxs)("button", { className: "w-full px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\u270F\uFE0F" }), "Edit Metadata"] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "glass-morphism rounded-xl p-8", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-3xl font-bold text-white mb-6 flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-2xl", children: "\uD83D\uDCDA" }), "Shelves"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h3", { className: "text-xl font-semibold text-white mb-4 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\uD83D\uDD70\uFE0F" }), "From This Era"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [games
                                                                    .filter(g => g.id !== game?.id && g.releaseYear === game?.releaseYear)
                                                                    .slice(0, 3)
                                                                    .map((eraGame) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("img", { src: eraGame.coverImage || 'https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game', alt: eraGame.title, className: "w-12 h-16 rounded object-cover" }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-lg font-semibold text-white", children: eraGame.title }), (0, jsx_runtime_1.jsxs)("p", { className: "text-sm text-gray-400", children: [eraGame.releaseYear, " \u2022 ", eraGame.platforms?.[0]?.name] })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-right", children: (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-gaming-accent", children: "Same Era" }) })] }, eraGame.id))), games.filter(g => g.id !== game?.id && g.releaseYear === game?.releaseYear).length === 0 && ((0, jsx_runtime_1.jsx)("p", { className: "text-gray-400 text-center py-4", children: "No other games from this era" }))] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("h3", { className: "text-xl font-semibold text-white mb-4 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { children: "\uD83C\uDFAD" }), "Similar Vibes"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [games
                                                                    .filter(g => g.id !== game?.id && g.tags && game?.tags && g.tags.some(tag => game.tags.includes(tag)))
                                                                    .slice(0, 3)
                                                                    .map((vibeGame) => ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700/50 hover:border-gaming-accent/50 transition-colors cursor-pointer", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("img", { src: vibeGame.coverImage || 'https://via.placeholder.com/60x80/8b5cf6/ffffff?text=Game', alt: vibeGame.title, className: "w-12 h-16 rounded object-cover" }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-lg font-semibold text-white", children: vibeGame.title }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-gray-400", children: vibeGame.tags?.filter(tag => game?.tags?.includes(tag)).slice(0, 2).join(', ') })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "text-right", children: (0, jsx_runtime_1.jsx)("span", { className: "text-xs text-gaming-accent", children: "Similar Mood" }) })] }, vibeGame.id))), games.filter(g => g.id !== game?.id && g.tags && game?.tags && g.tags.some(tag => game.tags.includes(tag))).length === 0 && ((0, jsx_runtime_1.jsx)("p", { className: "text-gray-400 text-center py-4", children: "No games with similar vibes found" }))] })] })] })] })] })] }) })] }));
};
exports.GameDetailModal = GameDetailModal;
